// @ts-ignore
window.h||(window.h=!0,function(){var Oa;function Ka(a,b,c,d){a.addEventListener?a.addEventListener(b,c,d):a.attachEvent("on"+b,c)}function vc(a,b,c,d){this.dataType=a;this.name=c;this.elements=b;this.size=b*ra.ll(a);this.Ko=1;this.offset=d}function fb(){this.i=[];this.m=this.u=this.j=this.s=0;this.Aj=128;this.v=0}function nb(a,b,c,d,f){this.C=f;this.G=a;this.H=b;this.$=c;this.message="";this.A=a;this.D=b;this.Y=c;this.i="";this.v=this.u=!1;this.h=d;this.P=!1;this.F=this.startTime=0;this.m="rgb(32,255,255)";
this.B="white";this.j=0;this.I=!1;this.ca=this.Z="black";this.S=!1;this.s=1}function wc(a,b,c,d){this.name=a;this.width=b;this.height=c;this.Ko=d}function vb(a,b){this.i=b;this.B=a;this.height=this.width=0;this.G=this.u=this.F=this.m=this.j=null;this.A=[];this.s=!0;this.H=this.O=4294967295;this.I=this.P=0;this.ye=!1;this.v=1}function Ya(a,b,c,d,f,e,g,k,l,p,n,q,m,r,u,t,v,B,w){this.id=a;this.qa=w;this.W=null;this.G=-1;this.M=this.ea=!1;this.v=b;this.caller=c;this.h=B;this.x=f;this.y=e;this.Z=f;this.D=
e;this.position=d;this.width=g;this.height=k;this.I=g;this.ia=k;this.type=q;this.orientation=m;m===da.Mt&&(this.orientation=g>=k?da.re:da.vertical);this.Jm=this.orientation;this.lower=l;this.u=p;q===da.Bm?this.current=[n,n]:this.current=n;this.sa=r;this.Kb=u;this.ra=t;this.ba=v;this.fa=!1;this.ma=this.la=-1;this.i=da.jA;this.B=!0;this.H=this.locked=!1;this.m=[];if(this.type===da.list)for(a=0;a<l.length;a+=1)this.m[a]=!1;this.$=[];this.ga=0;this.dc=w.dc;this.s=w.Y;if(q===da.list)for(this.O=[],a=0;a<
l.length;a+=1)this.O[a]=this.dc;this.A=w.ea;this.V=w.P;this.Y=w.fa;this.ca=w.qa;this.ja=w.ia;this.oa=w.sa;this.F=w.ga;this.P=w.ra;this.S=w.ca;this.aa=w.oa;this.border=w.border;this.fontSize=parseInt(w.Z.substring(0,w.Z.indexOf("px")),10);this.na=w.Z.substring(w.Z.indexOf("px")+3);this.ka=null}function Xa(a,b,c,d,f,e){this.X=a;this.h=f;this.B=this.s=1;this.Z=e;this.locked=this.M=!1;this.F=this.A=-1;this.da=this.D=!1;this.va=this.ua=-1;this.ya=6;this.pa=b;this.v=[];this.u=0;this.dc="";this.Y=0;this.ea=
"";this.P=0;this.fa="";this.qa=0;this.ia="";this.sa=0;this.ga="";this.ra=0;this.ca="";this.border=this.oa=0;this.V=da.Mt;this.I=this.H=-1;this.O=this.na=null;this.aa=c;this.caller=d;this.$=null;this.ka=this.ja=this.ta="auto"}function pb(a){this.m=[];this.s=[];this.i=this.h=0;this.X=a;this.rv=this.qv=0}function qb(){this.h={};this.i=0}function Ja(a,b,c,d,f,e){var g=this,k=0;this.Ya=!1;this.Sa=1;this.tc=W.tc;this.$a=this.kb=!0;this.fb=this.jb=40;this.D=0;this.ua=this.va=this.Ea=-1;this.ba=!1;this.caller=
f;this.ya=this.$=this.Na=this.ea=!1;this.qb=4;this.Db=e;this.A=this.ma=!1;this.la=!0;this.Fa=!1;this.P=1;this.Ca=8;this.Za="rgb(32,255,255)";this.dc="black";this.Ha=.7;this.Wa="#000000";this.F="white";this.Lb=1;this.xb=this.Bb=this.Cb=0;this.pb="rgb(0,240,32)";this.Mb=.7;this.Pa="blue";this.Ub=.7;this.da="grey";this.Rb=1;this.Ia="rgb(32,255,255)";this.border=this.nb=1;this.rb=function(l){return function(){l.oc(l)}}(this);this.Nb=d;this.V=a;this.v=b;this.ja=!1;this.Z=this.Y=-1;this.B=!1;this.S=this.H=
this.ca=this.O=this.u=this.s=-1;this.i=this.qa=null;this.wa=c;this.j=this.G=!1;this.Bg=performance.now();this.sa=0;this.ab=[];this.eb=[];this.ir=[];for(k=0;5>k;k+=1)this.ab[k]=0,this.eb[k]=0,this.ir[k]=0;this.oa=null;this.m=!1;this.notification=new nb(25,100,25,b,this);this.notification.m=this.F;this.notification.B=this.F;this.cb=performance.now();this.Ka=this.mb=!1;this.ra=[];this.ga=this.pa=0;this.ta=new qb;Ka(a,"mousedown",function(l){g.Yb(g,l)},!1);Ka(a,"mousemove",function(l){g.Zb(g,l)},!1);
Ka(a,"mouseup",function(l){g.bc(g,l)},!1);Ka(a,"mouseover",function(l){g.ac(g,l)},!1);Ka(a,"mouseout",function(l){g.$b(g,l)},!1);Ka(a,"touchstart",function(l){g.za(g,l)},!1);Ka(a,"touchmove",function(l){g.za(g,l)},!1);Ka(a,"touchend",function(l){g.za(g,l)},!1);Ka(a,"touchcancel",function(l){g.za(g,l)},!1);this.Jb()}function lc(a,b,c,d,f,e){this.Yo=a;this.Zo=b;this.width=c;this.height=d;this.MJ=f;this.wG=e}function wa(a){this.time=0;this.T=a;this.fa=this.ra=this.na=!1;this.oc="none";this.Ya=22;this.Za=
6;this.za=8;this.U="";this.Rb="0123456789xyz";this.Nb="0123";this.Ub="0123456789";this.Kc=this.Jc="0123456";this.Ec="0123456789";this.Mc="0123";this.ge=1038;this.ke=7157;this.he=5454;this.ie=2741;this.fe=3775;this.je=4420;this.le="0123";this.Dc="0123456omp-";this.Oc="01234";this.Gc=["ce","ceaikn","ceaiknjqry","ceaiknjqrytwz"];this.Td=[[[6,36,160,192,72,10],[132,96,136,66,12,34],[68,40,130]],[[38,164,224,200,74,14],[44,162,196,104,138,70,100,168,194,76,42,134],[140,98]],[[166,228,232,202,78,46],[172,
226,204,106,142,102],[108,170,198]]];this.qb=" ce ceaikn ceaiknjqry ceaiknjqrytwz ceaiknjqry ceaikn ce ".split(" ");this.pb="  omp omp omp  ".split(" ");this.Jd=[0,2,6,10,13,10,6,2,0];this.Qd=[[0],[0,1],[2,0,1,3,4,5],[2,0,1,3,6,4,5,7,8,9],[2,0,1,3,6,4,5,7,8,10,11,9,12],[2,0,1,3,6,4,5,7,8,9],[2,0,1,3,4,5],[0,1],[0]];this.Ud=[[1,2],[5,10,3,40,33,68],[69,42,11,7,98,13,14,70,41,97],[325,170,15,45,99,71,106,102,43,101,105,78,108]];this.aa=new Uint32Array(256);this.Mb=new Uint8Array(8192);this.Lb=new Uint8Array(8192);
this.j=a.h(ra.bb,512,"PatterManager.ruleArray",W.R);this.ba=a.h(ra.bb,512,"PatterManager.ruleArray",W.R);this.ae=new Uint16Array(512);this.Rj=this.ob=!1;this.Ha="l";this.Fa="le";this.Ia="lv";this.lb="li";this.mb="lo";this.kb="lb";this.nb="lr";this.Wa="h";this.Ib="ht";this.rb="v";this.Na=!1;this.Hb=0;this.tb=!1;this.eb=this.cb=0;this.Ka=!1;this.i=this.$a=this.ab=this.h=0;this.m=1;this.Z=2;this.P=3;this.V=4;this.Y=5;this.$=6;this.G=7;this.O=8;this.S=9;this.D=11;this.A=12;this.H=13;this.v=14;this.u=
16;this.I=17;this.da=this.ea=Da.hr;this.ia=0;this.la=1;this.ma=2;this.ua=3;this.va=4;this.ta=5;this.wa=6;this.pa=0;this.qa=1;this.ca=!1;this.ja=[];this.ja[Da.uj]="vonneumann";this.ja[Da.Wg]="moore";this.ja[Da.Vg]="hexagonal";this.ja[Da.Xj]="onedimensional";this.Ba=[];this.Ba[Da.uj]=5;this.Ba[Da.Wg]=9;this.Ba[Da.Vg]=7;this.Ba[Da.Xj]=3;this.ka=[];this.ka[Da.uj]=["none","rotate4","rotate4reflect","reflect_horizontal","permute"];this.ka[Da.Wg]="none rotate4 rotate8 rotate4reflect rotate8reflect reflect_horizontal permute".split(" ");
this.ka[Da.Vg]="none rotate2 rotate3 rotate6 rotate6reflect permute".split(" ");this.ka[Da.Xj]=["none","reflect","permute"];this.Ca=[];this.Ca[Da.uj]=[[[0,1,2,3,4,5],[0,2,3,4,1,5],[0,3,4,1,2,5],[0,4,1,2,3,5]],[[0,1,2,3,4,5],[0,2,3,4,1,5],[0,3,4,1,2,5],[0,4,1,2,3,5],[0,4,3,2,1,5],[0,3,2,1,4,5],[0,2,1,4,3,5],[0,1,4,3,2,5]],[[0,1,2,3,4,5],[0,1,4,3,2,5]]];this.Ca[Da.Wg]=[[[0,1,2,3,4,5,6,7,8,9],[0,3,4,5,6,7,8,1,2,9],[0,5,6,7,8,1,2,3,4,9],[0,7,8,1,2,3,4,5,6,9]],[[0,1,2,3,4,5,6,7,8,9],[0,2,3,4,5,6,7,8,1,
9],[0,3,4,5,6,7,8,1,2,9],[0,4,5,6,7,8,1,2,3,9],[0,5,6,7,8,1,2,3,4,9],[0,6,7,8,1,2,3,4,5,9],[0,7,8,1,2,3,4,5,6,9],[0,8,1,2,3,4,5,6,7,9]],[[0,1,2,3,4,5,6,7,8,9],[0,3,4,5,6,7,8,1,2,9],[0,5,6,7,8,1,2,3,4,9],[0,7,8,1,2,3,4,5,6,9],[0,1,8,7,6,5,4,3,2,9],[0,7,6,5,4,3,2,1,8,9],[0,5,4,3,2,1,8,7,6,9],[0,3,2,1,8,7,6,5,4,9]],[[0,1,2,3,4,5,6,7,8,9],[0,2,3,4,5,6,7,8,1,9],[0,3,4,5,6,7,8,1,2,9],[0,4,5,6,7,8,1,2,3,9],[0,5,6,7,8,1,2,3,4,9],[0,6,7,8,1,2,3,4,5,9],[0,7,8,1,2,3,4,5,6,9],[0,8,1,2,3,4,5,6,7,9],[0,8,7,6,5,
4,3,2,1,9],[0,7,6,5,4,3,2,1,8,9],[0,6,5,4,3,2,1,8,7,9],[0,5,4,3,2,1,8,7,6,9],[0,4,3,2,1,8,7,6,5,9],[0,3,2,1,8,7,6,5,4,9],[0,2,1,8,7,6,5,4,3,9],[0,1,8,7,6,5,4,3,2,9]],[[0,1,2,3,4,5,6,7,8,9],[0,1,8,7,6,5,4,3,2,9]]];this.Ca[Da.Xj]=[[[0,1,2,3],[0,2,1,3]]];this.Ca[Da.Vg]=[[[0,1,2,3,4,5,6,7],[0,4,5,6,1,2,3,7]],[[0,1,2,3,4,5,6,7],[0,3,4,5,6,1,2,7],[0,5,6,1,2,3,4,7]],[[0,1,2,3,4,5,6,7],[0,2,3,4,5,6,1,7],[0,3,4,5,6,1,2,7],[0,4,5,6,1,2,3,7],[0,5,6,1,2,3,4,7],[0,6,1,2,3,4,5,7]],[[0,1,2,3,4,5,6,7],[0,2,3,4,5,
6,1,7],[0,3,4,5,6,1,2,7],[0,4,5,6,1,2,3,7],[0,5,6,1,2,3,4,7],[0,6,1,2,3,4,5,7],[0,6,5,4,3,2,1,7],[0,5,4,3,2,1,6,7],[0,4,3,2,1,6,5,7],[0,3,2,1,6,5,4,7],[0,2,1,6,5,4,3,7],[0,1,6,5,4,3,2,7]]];this.F=!1;this.fb=""}function mb(a,b){this.T=b.T;this.X=b;this.ua="";this.vb=!1;this.fb=this.jb=this.Ya=-1;b=a.lastIndexOf(".");-1!==b&&(a=a.substring(0,b));this.name=a;this.Sa=this.Ca=0;this.da=this.P=this.j=-1;this.Fa=this.Ea=0;this.Mb=this.Jb=!1;this.Lb=!0;this.eb=this.V=this.h=this.Pa="";this.ha=this.Na=this.S=
this.D=this.H=this.ga=this.ka=this.fa=!1;this.va=this.X.pa;this.s=!1;this.Z=this.X.ia;this.qa=-1;this.$=this.la=!1;this.A=-1;this.ya=1;this.oa=this.Ub=this.Tb=this.Vb=this.Xb=this.ea=this.Y=this.aa=this.O=-1;this.uD=this.Da=!1;this.v=-1;this.Ka=this.Ia=this.B=this.G=null;this.nb=this.i=this.m=-1;this.Ba=this.za=1;this.ja="";this.pa=-1;this.ba="";this.Hb=this.Db=null;this.height=this.width=0;this.ca=this.I=null;this.sa=this.u=this.title="";this.Rb=[];this.tb=[];this.rb=[];this.Za="";this.F=2;this.Wa=
0;this.ra=this.wa=!1;this.xb=this.Cb="";this.ma=-1;this.Nb=!1;this.ta=this.$a=this.lb=this.qb=this.mb=-1;this.ia=this.Bb=this.Va=null;this.Ua=this.pb=0;this.Ha=this.ab=this.cb=null;this.kb=[];this.na=null}function Ua(a,b,c,d){this.J=a;this.K=b;this.L=c;this.N=d}function wb(a,b,c){this.u=b;this.j=a.u[b];this.m=a.m[b];this.s=a.s[b];this.O=a.D[b];this.H=a.B[b];this.v=null;c&&(this.v=a.v[b]);this.i=new Ua(0,0,0,0);this.h=new Ua(0,0,0,0);this.F=this.B=this.I=this.counter=this.D=this.A=this.G=0;this.X=
a}function gb(a,b){this.T=a;this.h=[];this.j=[];this.u=[];this.m=[];this.s=[];this.D=[];this.B=[];this.v=[];this.F=0;this.i=-1;this.I=b;this.A=null}function za(a,b,c){this.T=a;this.g=b;this.X=c;this.i=b.fa;this.s=this.v=1;this.ca=2;this.P=a.h(ra.bb,0,"HROT.births",W.R);this.G=a.h(ra.bb,0,"HROT.survivals",W.R);this.$=a.h(ra.bb,0,"HROT.comboList",W.R);this.Z=a.h(ra.bb,0,"HROT.altComboList",W.R);this.ja=a.h(ra.bb,0,"HROT.altBirths",W.R);this.ka=a.h(ra.bb,0,"HROT.altSurvivals",W.R);this.type=c.i;this.um=
Array.matrix(ra.bb,1,1,0,a,"HROT.neighbourhood",!1);this.O=a.h(ra.Ap,0,"HROT.neighbourList",W.R);this.h=Array.matrix(ra.Pd,1,1,0,a,"HROT.counts",W.R);this.H=a.h(ra.lc,0,"HROT.widths",W.R);this.pa=a.h(ra.bb,0,"HROT.colUsed",W.R);this.m=a.h(ra.Gq,0,"HROT.weightedNeighbourhood",W.R);this.D=null;this.S=this.Y=-1;this.ga=6;this.I=this.A=this.u=this.F=0;this.na=!1;this.V="";this.oa=-1;this.B=!1;this.ba=new xb;this.ba.ye(Date.now().toString());this.fa=a.h(ra.ld,0,"HROT.birthChances",!1);this.da=a.h(ra.ld,
0,"HROT.suvivalChances",!1);this.aa=a.h(ra.ld,0,"HROT.immunityChances",!1);this.ea=!1;this.ia=this.ma=this.la=-1}function mc(a,b){this.i=a;this.h=b}function Na(a,b,c,d,f,e,g,k,l){this.name=a;this.Tk=!1;this.B=10;this.u=this.s=0;this.v=d;this.i=c;this.h=b;this.A=f;this.m=e;this.j=g;this.F=k;this.G=!1;this.D=l;-1===this.m.i.h&&(this.G=!0);128<=(this.v.h+this.v.j+this.v.i)/3?(this.s=G.iH,this.u=G.hH):(this.s=G.Fu,this.u=G.Eu)}function T(a,b,c){this.h=a;this.j=b;this.i=c}function xa(a,b){this.h=a;this.i=
b}function pa(a,b,c,d,f,e,g){this.X=e;this.view=g;this.fj=!1;this.nh=this.qg=this.mh=this.Of=this.Me=this.pg=this.zf=this.yf=this.Ud=null;this.Wd=!1;this.Hc=document.createElement("canvas");this.Hc.width=1;this.Hc.height=1;this.Pf=this.Hc.getContext("2d",{willReadFrequently:!0});this.Pc=[];this.dk=0;this.Ne=8;this.Jb=0;this.Oc=document.createElement("canvas");this.Oc.width=1;this.Oc.height=1;this.Nf=this.Oc.getContext("2d",{willReadFrequently:!0});this.rj=0;this.dd=[];this.ck=null;this.Ek=0;this.xh=
this.yh="";this.Xe=W.R?1E7:4194304;this.Xd=[];this.Ve=-1;this.Bk=!1;this.Bc=this.Na=0;this.Ec=10;this.qj="";this.vh=this.Dg=this.Vf=0;this.Nd=null;this.sc=this.Sa=this.sg=0;this.ab=null;this.Ri=this.Mg=0;this.ff=this.Kf=null;this.Ck=this.Dk=this.Mi=this.ki=0;this.Oi=!0;this.T=va.T;this.$e=[];this.$a=y.ig;this.tg=!0;this.Vc=!1;this.nk=this.gj=this.mj=this.hj=this.wh=this.uf=this.Yb=this.Lh=this.eh=this.bh=this.Jd=null;this.di=new xb;this.di.ye(Date.now().toString());this.D=!1;this.Rd=8;this.gi=2;this.Yj=
0;this.fe=-1;this.Mc=this.Jc=this.od=this.nd=null;this.Qd=[];this.vb=this.cd=null;this.ih=this.md=this.Fc=0;this.vf=!1;this.Ye=this.nc=this.Xf=this.Zi=this.ve=null;this.oc=this.cg=0;this.We=this.Gh=null;this.kg=this.gd=-1;this.Wf=this.Jg=this.De=null;this.xd=!0;this.qd=this.Nb=this.eb=this.Tb=this.tb=!1;this.Gg=0;this.zi=[];this.Ai=[];this.Bi=[];this.Ci=[];this.vi=[];this.wi=[];this.xi=[];this.yi=[];this.Hi=[];this.Ii=[];this.Ji=[];this.Ki=[];this.Di=[];this.Ei=[];this.Fi=[];this.Gi=[];this.Le=[];
this.bi=this.ci="";this.hc=255;this.qc=null;this.ec=this.T.h(ra.bb,65536,"Life.bitCounts16",!1);this.Io();this.Sf=this.Mf=this.Uc=null;this.za=this.Ka=this.Gd=this.Cg=this.Ah=this.Eg=this.Lg=0;this.cb=1;this.$=this.ba=this.S=-1;this.ie=this.he=0;this.lh=this.ng=!1;this.og=!0;this.bf=G.NA;this.Zb=[];this.$b=[];this.Zb[0]=this.T.h(ra.Pd,y.Cm,"Life.boundaryX0",!1);this.$b[0]=this.T.h(ra.Pd,y.Cm,"Life.boundaryY0",!1);this.Td=0;this.pd=4294967295;this.lg="rgb(255,255,255)";this.Je=4286611584;this.cj="rgb(0,255,0)";
this.pi="rgb(255,0,0)";this.dj="rgb(255,128,0)";this.s=this.ja=this.la=!1;this.Sd=-1;this.Z=!1;this.jh=this.X.ia;this.ha=!1;this.hh=this.X.pa;this.ud=this.Ch=this.Fa=!1;this.i=-1;this.G=this.u=this.O=!1;this.gh=this.v=0;this.Dc=this.Da=!1;this.Xc=new gb(this.T,this.ec);this.Bf=y.lq;this.jb=this.Ya=!1;this.oj=this.xb=this.ya=this.A=null;this.He=new Ua(0,0,0,0);this.Li=new Ua(0,0,0,0);this.mb=null;this.tl=new Ua(0,0,0,0);this.ul=new Ua(0,0,0,0);this.width=d;this.height=f;this.F=this.width>>4;this.I=
this.height>>4;this.Wj=null;this.displayWidth=b;this.displayHeight=c;this.ga=this.na=this.B=0;this.xa=y.xa;this.Ke=y.Ke;this.be=y.be;this.Hh=y.Hh;this.Bg=0;this.Aa=1;this.qb=-1;this.Od=1;this.Pe=30;this.Gb=this.angle=this.counter=this.Ie=this.Xb=0;this.zoom=6;this.ka=this.ma=0;this.mc=.1;this.Ea=0;this.da=1;this.Ib=this.Hb=0;this.Ca=.1;this.jc=La.jc;this.pa=[];this.Id=this.Df=this.le=this.Vd=this.xf=this.ae=this.wd=this.ed=this.Ze=this.eg=this.Ue=this.me=this.Lf=this.Ge=this.ge=this.kd=null;this.Mb=
-1;this.Fg=this.Kc=this.sj=this.Qg=this.Nc=this.Zn=null;this.oa=a;this.Ha=this.Ia=0;this.ta=this.Va=this.va=this.Hd=this.grid=this.H=this.j=null;this.yd=this.T.h(ra.Xa,(this.width-1>>4)+1,"Life.blankRow16",W.R);this.aa=this.T.h(ra.Xa,this.F>>4,"Life.blankTileRow",W.R);this.ia=this.T.h(ra.bb,this.width,"Life.blankColourRow",W.R);this.td=this.Fe=this.$d=this.ad=this.m=this.wa=this.vc=this.Kg=this.Db=this.Wa=this.Ua=this.ke=this.Ba=this.Pa=this.Af=this.P=this.h=null;this.sa=this.T.h(ra.bb,256,"Life.redChannel",
!1);this.ra=this.T.h(ra.bb,256,"Life.greenChannel",!1);this.qa=this.T.h(ra.bb,256,"Life.blueChannel",!1);this.Za=this.T.h(ra.lc,256,"Life.pixelColours",W.R);this.Qi=[0,1,2,3,4,5,7,6,8,9,11,10,13,12,14,15,16,17,18,20,19];this.Bh=this.T.h(ra.bb,this.Qi.length,"Life.nextStateExtended",W.R);this.Bh.set(this.Qi);this.Yd=this.ua=null;this.Wc=0;this.Cb=!1;this.Cf=0;this.pb=-1;this.xe=this.Bb=this.mf=this.we=this.zh=this.wg=this.lf=this.Uf=null;this.Re=this.T.h(ra.Xa,2*(this.Ke+1)<<8,"Life.colourLookup16",
W.R);this.lk=this.T.h(ra.Xa,2*(this.Ke+1)<<9,"Life.colourLookup17",!1);this.oh=this.T.h(ra.bb,2048,"Life.colourReset",!1);this.Lb=G.Fu;this.fd=-1;this.xc=G.Eu;this.sd=-1;this.lb=10;this.yc=!0;this.Bl=10;this.ef=this.Se=this.Y=this.V=null;this.ea=8192;this.so=[0,0,48];this.po=[255,255,255];this.no=[255,255,255];this.uo=[0,255,0];this.wo=[255,0,0];this.Dd=[0,0,48];this.Cd=[255,255,255];this.Bd=[255,255,255];this.Ed=[0,255,0];this.Fd=[255,0,0];this.fa=this.T.h(ra.lc,64,"Life.sharedBuffer",W.R);this.ca=
new za(this.T,this,e);this.coords=this.T.h(ra.ld,1,"Life.coords",!1);this.ic=this.T.h(ra.lc,1,"Life.cellColours",!1);this.Ub=0}function Pa(a,b){for(var c=0,d=0,f=a.length,e,g=!1,k=!1,l=!1,p=0,n=new Uint32Array(f),q=new Uint16Array(f),m=new Uint32Array(f),r=0,u=0;c<f;){e=a.charCodeAt(c);switch(e){case 32:case 13:case 9:case 123:case 125:!k&&g&&(n[p]=d,q[p]=c-d,m[p]=(r<<1)+1&u,p+=1,g=!1);break;case 44:b?!k&&g&&(n[p]=d,q[p]=c-d,m[p]=(r<<1)+1&u,p+=1,g=!1):g||(g=!0,u=0,k=!1,d=c);break;case 10:g&&(n[p]=
d,q[p]=c-d,m[p]=(r<<1)+1&u,p+=1,g=!1);k=!1;b&&(0<p&&"\n"!==a[n[p-1]]&&(n[p]=c,q[p]=1,m[p]=0,p+=1),l=!1);break;case 58:case 61:b?k||(g&&(n[p]=d,q[p]=c-d,m[p]=(r<<1)+1&u,p+=1,g=!1),n[p]=c,q[p]=1,m[p]=0,p+=1):g||(g=!0,u=0,k=!1,d=c);break;case 34:b?k||(l=!l,g||(g=!0,d=c)):g||(g=!0,u=0,d=c);break;case 35:b?l||k||(g&&(n[p]=d,q[p]=c-d,m[p]=(r<<1)+1&u,p+=1,g=!1),k=!0):g||(g=!0,u=0,k=!1,d=c);break;default:k||(g?48<=e&&57>=e?(r=10*r+e-48,1073741824<=r&&(u=0)):u=0:(g=!0,d=c,48<=e&&57>=e?(u=-1,r=e-48):u=0))}c+=
1}g&&(n[p]=d,q[p]=c-d,m[p]=(r<<1)+1&u,p+=1);this.s=n.slice(0,p);this.B=q.slice(0,p);this.F=m.slice(0,p);this.current=0;this.source=a}function jb(a){this.X=a;this.j=this.Sg=this.ro=!1;this.h=Va.ww;this.i=Va.cq;this.Sb=this.uc=-1;this.Gb=this.angle=this.y=this.x=0;this.depth=this.Aa=this.zoom=1;this.Lc=0;this.bd=G.Yc;this.step=1;this.vd=this.Ac=0;this.te="";this.m=this.Tk=this.Vr=this.kk=this.ik=this.gk=this.Xr=this.dD=this.pq=this.ei=this.ni=this.Be=this.qf=this.ue=this.Ih=this.Th=this.pe=this.Yg=
this.Rg=this.hf=this.wf=this.grid=this.nl=this.dh=this.ah=this.Zg=this.Qe=!1}function xc(a,b,c,d,f,e,g,k,l,p,n,q,m,r,u,t,v,B){this.F=B;this.coords=a;this.u=b;this.zoom=c;this.Ab=d;this.Pb=f;this.s=e;this.alpha=g;this.size=k;this.h=l;this.m=p;this.i=n;this.angle=q;this.v=m;this.D=r;this.j=u;this.A=t;this.B=v;-1E3===this.Pb&&-1E3===this.Ab&&(this.Ab=this.zoom/4,this.Pb=4*this.zoom)}function yc(a,b,c,d,f,e,g,k,l,p,n,q,m,r,u,t,v,B,w,z,E){this.O=E;this.D=a;this.G=b;this.F=c;this.H=d;this.zoom=f;this.Ab=
e;this.Pb=g;this.u=k;this.alpha=l;this.size=p;this.I=n;this.h=q;this.m=m;this.i=r;this.angle=u;this.s=t;this.B=v;this.j=B;this.v=w;this.A=z;-1E3===this.Pb&&-1E3===this.Ab&&(this.Ab=this.zoom/4,this.Pb=4*this.zoom)}function zc(a,b,c,d,f,e,g,k,l,p,n,q,m,r,u,t,v,B,w,z){this.B=w;this.message="";this.h=this.j=this.m=this.F=this.u=-1;this.x=a;this.y=b;this.zoom=c;this.Ab=d;this.Pb=f;this.v=e;this.alpha=g;this.size=k;this.S=l;this.i=p;this.D=n;this.s=q;this.angle=m;this.G=r;this.O=u;this.A=t;this.H=v;this.I=
B;-1E3===this.Pb&&-1E3===this.Ab&&(this.Ab=this.zoom/4,this.Pb=4*this.zoom);this.P=z}function Ca(){this.h=[];this.i=[];this.m=[];this.s=[];this.u=[];this.current=new jb(this);this.ba=new jb(this);this.G=new jb(this);this.I=!1;this.v=0;this.H=this.P=!1}function cb(a,b){var c=this,d=a.getElementsByTagName("div")[0];this.v=!1;this.i=-1;this.s=1;this.j=a;this.view=b;this.C=b.C;this.top=this.left=0;""!==a.style.left&&(this.left=parseInt(a.style.left,10));""!==a.style.top&&(this.top=parseInt(a.style.top,
10));this.h=this.m=!1;this.B=this.A=-1;this.G=0;this.F=!1;Ka(d,"mousedown",function(f){c.Y(c,f)},!1);Ka(document,"mousemove",function(f){c.Z(c,f)},!1);Ka(document,"mouseup",function(f){c.$(c,f)},!1);Ka(d,"touchstart",function(f){c.D(c,f)},!1);Ka(d,"touchmove",function(f){c.D(c,f)},!1);Ka(d,"touchend",function(f){c.D(c,f)},!1);Ka(window,"resize",function(){c.u(c)},!1)}function xb(){this.key=new Uint8Array(256);this.i=this.h=0}function Tb(a,b){this.Br=a;this.x=b.h(ra.ld,0,"Stars.x",!1);this.y=b.h(ra.ld,
0,"Stars.y",!1);this.z=b.h(ra.ld,0,"Stars.z",!1);this.h=new T(255,255,255);this.i=new xb;this.i.ye(Date.now().toString());this.sin=b.h(ra.ld,0,"Stars.sin",!1);this.cos=b.h(ra.ld,0,"Stars.cos",!1);this.j=Math.PI/180;this.u=180/Math.PI;this.T=b;this.m=!1}function Ub(a){this.buffer=a;this.i=0;this.m=8*this.buffer.length}function Ac(a,b,c,d,f,e,g){this.name=a;this.pattern=b;this.pJ=c;this.width=d;this.height=f;this.map=g}function fa(a){var b;this.i=!0;this.Sy=0;this.wB="";this.Ff=W.R?G.nK:G.Ff;this.$u=
"";this.Ql=this.Pl=this.Ve=null;this.bA="";this.af=this.xe=!1;this.Yl=this.Wl=this.Xl=this.Vl=this.Gs=this.Es=this.Fs=this.Cs=0;this.A=La.Vt?G.cG:G.mG;this.D=La.Vt?G.CI:G.QF;this.Wy=this.Rn=this.Zs=this.El=this.hn=this.Bx=this.Dg=!1;this.lh=this.kh=this.mh=!0;this.fh=0;this.Bz=this.zz=!0;this.tc=W.tc;this.Rb=G.Sh;this.Uc=G.Tj;this.Yy="";this.jk=this.Vu=this.op=this.wg=this.Ya=-1;this.df=[];this.yr=this.zi=this.zn=this.qt=this.Rp=this.ao=!1;this.X=new wa(W.T);this.tb=!1;this.qp=this.Wm=this.pp=this.Ri=
this.Bh=this.Ch=this.Il=this.Qi=this.Vm=this.Fl=this.Vi=this.Si=this.Gl=this.zb=this.pi=this.sv="";this.qb=!1;this.il=this.$k=this.Mi=this.fl=this.hl=this.Oo=this.Lo=this.Io=this.wo=this.Ki=this.nu=this.nt=this.Li=this.uu=this.vt=this.ku=this.Tt=this.Nt=this.As=this.pt=this.el=this.Hd=null;this.De=1;this.em=this.im=G.Kr;this.oj=50;this.rn=this.pn=this.hm=!1;this.pg=this.$e=this.Ze=-1;this.Xc=[];this.Rd=[];this.Rx=!1;this.Ip=this.Ju=this.Rt=this.Uu=this.zt=null;this.Vk=18;this.oh="18px "+G.ZA;this.Uf=
"18px "+G.Py;this.rj=window.devicePixelRatio?window.devicePixelRatio:1;this.Af=!0;this.bo=this.Yb=this.td=this.ff=this.je=this.ef=this.uf=this.xf=this.vf=this.ke=!1;this.cb=[];for(b=0;b<=G.nj;b+=1)this.cb[b]=null;this.Dc=this.Ec=this.Bb=0;this.oc=G.Er;this.zd=this.bn=!1;this.ea=null;this.na=!1;this.fa=new Ua(0,0,0,0);this.Ub=new Ua(0,0,0,0);this.G=new xb;this.G.ye(Date.now().toString());this.Ib=50;this.hz=this.fz=0;this.Hc=this.P=!1;this.Kf=2;this.Hb=[];this.Dh=this.ma=0;this.Qg=[];this.Pa=0;this.Hj=
[];this.Fj=0;this.ve=[];this.ve[G.xq]=[1,0,0,1];this.ve[G.sy]=[-1,0,0,-1];this.ve[G.ty]=[-1,0,0,1];this.ve[G.uy]=[1,0,0,-1];this.ve[G.xy]=[0,1,1,0];this.ve[G.yy]=[0,-1,-1,0];this.ve[G.wy]=[0,-1,1,0];this.ve[G.vy]=[0,1,-1,0];this.fe=[];this.Wj=[];this.Sd=[];this.Vc=[];this.Wa=G.Mo;this.We=0;this.Rl=-1;this.dj=[];this.Ky=this.qy=this.Zd=0;this.Cl=!1;this.Yd=-1;this.np=!1;this.Va=this.lg=this.bg=this.kg=this.cg=0;this.m=null;this.qo=0;this.vu=!0;this.Vb=0;this.pf=1;this.ug=this.Ou=this.$d=this.Jh=!1;
this.ac=7;this.Rh=!0;this.Fc=this.Bc=0;this.Ce=this.lA=this.qa=this.Xi=63;this.yh=this.Wf=this.vl=this.nk=this.Oe=this.wl=this.ul=this.pk=this.tl=this.zh=this.rk=this.qk=this.Cx=!1;this.ja=0;this.Je=null;this.F=this.H=0;this.To=!1;this.wd=this.xd=-999999;this.gh=-1;this.qj=Date.now().toString();this.sj=this.lm=this.om=this.Is=!1;this.Fd=G.Ng;this.ie=!0;this.Ca=!1;this.qd=!0;this.eb=G.OA;this.$b=!1;this.element=a;this.Ia=!1;this.ji=this.Jg=this.Kg=this.gi=this.In=this.Cn=this.Gn=this.En=0;this.Mb=
this.ki=this.nb=this.di=!1;this.Tc=!0;this.Ed=this.Le=!1;this.Ha=0;this.sk=!1;this.qc=this.bc=0;this.mc=!1;this.U="";this.ba=this.aa=0;this.Ws=this.Us=this.Ai=this.Nk=this.Ci=this.Bi=this.Rf=this.dt=this.bt=this.yg=this.vg=this.bi=this.Cg=this.Bg=this.Gc=-1;this.Xm=this.Un=!1;this.Rm=this.Kc=-1;this.Pg=!1;this.Dq=0;this.Cq=!0;this.$m=this.ia=this.Xd=!1;this.bh=0;this.rd=this.nd=!1;this.Rc=this.Sc=null;this.$h=G.$h;this.Ge=null;this.ai=G.ai;this.Dd=[96,96,96];this.Df=[128,128,128];this.Nf=[0,255,0];
this.Mf=[255,0,0];this.Of=[255,128,0];this.py=null;this.ud="";this.Kd=!0;this.Jc=this.ob=this.rb=!1;this.Td=null;this.Ad=!1;this.u=1;this.hj=0;this.ab=this.Su=!1;this.s=new Ca;this.Re="";this.nw=-1;this.hc=this.za=!1;this.O=1;this.Qx=this.Eh=0;this.Cc=G.RH;this.kd=this.cc=this.mb=this.Ua=this.Db=-1;this.og=this.Xe="";this.en=this.fj=this.V=this.S=0;this.ej=null;this.ng=this.Ka=this.$=this.tk="";this.Lf=this.ua=!1;this.ta=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,
-1,-1,-1,-1,-1,-1,-1,-1];this.On=this.Mn=-1;this.vp=G.vB;this.up=G.Iq;this.wp=G.JC;this.qn="";this.jF=0;this.nf=[];this.uq=!1;this.Y=null;this.Kn=[];this.Tb=[];this.v=this.da=0;this.dk=!1;this.Yi=100;this.Ba=10;this.j=[64,200,290,530,700];this.ic=!1;this.B=[];this.so=[];this.uo=[];this.uc=-1;this.Lb=!1;this.Sb=-1;this.po=this.Ee=this.nc=this.$a=this.Sa=this.$g=this.Zm=this.Na=this.ad=this.md=this.I=this.pb=this.wa=!1;this.g=null;this.elapsedTime=0;this.displayWidth=640;this.displayHeight=512;this.Ue=
640;this.Te=512;this.xl=!1;this.Bv=640;this.gj=!0;this.Eg=this.Xs=this.pd=this.Ob=this.mj=!1;this.tg=this.Gg=this.sd=this.ga=this.Vf=this.mk=this.Lh=this.Nd=this.Gj=null;this.ci=[];this.Lz=0;this.pa=this.Za=this.lk=this.fk=this.Tl=this.Wc=this.Xf=this.yk=this.Ll=this.Ol=this.Nl=this.Ml=this.wj=this.vj=this.tm=this.vm=this.Qk=this.Ok=this.cj=this.Gk=this.Jk=this.Fh=this.ae=this.Kh=this.rc=this.Jd=this.ra=this.fc=this.Gf=this.He=this.Ie=this.cd=this.Oc=this.Qd=this.Ye=this.bf=this.vb=this.Qf=this.Jj=
this.dd=this.Tf=this.mn=this.Hl=this.xn=this.Dn=this.Kj=this.Di=this.Gm=this.ho=this.vn=this.Vn=this.Tn=this.Kl=this.$l=this.hk=this.Ii=this.od=this.Mk=this.on=this.Sl=this.Ej=this.Cd=this.un=this.Fk=this.yn=this.rp=this.tp=this.sp=this.cn=this.An=this.$x=this.no=this.Ns=this.Ps=this.Ji=this.pm=this.mm=this.zw=this.xm=this.mx=this.Ks=this.rl=this.Pj=this.Dl=this.Zj=this.Mm=this.ih=this.Pi=this.Ni=this.Oi=this.qh=this.Id=this.Co=this.Zb=this.lt=this.Me=this.Dj=this.fn=this.kp=this.Gd=this.qg=this.Vd=
this.Bj=this.Cj=this.Jl=this.Zl=this.Pe=this.Yf=this.Aq=this.hh=this.yf=this.Sf=this.Km=this.yi=this.vk=this.eh=this.Bf=this.Cf=this.Bk=this.Ck=this.Am=this.Dk=this.Se=this.ed=this.Wd=this.fd=this.Gi=this.nh=this.ph=this.Fi=this.Hi=this.Zk=this.Wk=this.Yk=this.Xk=this.Nn=this.Nm=this.Pm=this.oo=this.gd=this.Ss=this.Fg=this.$f=this.Mc=this.Og=this.th=this.vh=this.uh=this.sh=this.Wo=this.jp=this.ip=this.Vo=this.zu=this.rh=this.kl=this.xh=this.ql=this.wh=this.ol=this.Wi=this.$i=this.sc=this.am=this.Ms=
this.wi=this.Yj=this.kb=this.lb=this.Fa=this.kc=this.fb=this.sa=this.io=this.Fz=this.Jz=this.Dz=this.Hz=null;this.Ic=this.Ah=-1;this.tj=0;this.la=this.Ea=this.ge=null;this.ca=G.Yc;this.h=this.C=null;this.Cb=this.va=this.xi=this.ui=0;this.Sn=this.yz=1;this.Tm=G.Yc;this.vi=this.Qn=1;this.yp=.1;this.Pf=y.ig;this.Sm=-1;this.Jb=this.ya=this.az=this.Rs=0;this.ck=1;this.le=this.ka=this.Bp=this.zp=this.Cp=!1;this.Xb=G.QA;this.mt=this.ot=this.kt=this.Ij=0;this.ko=this.yd=!1;this.he=this.st=0;this.jb=this.vc=
!1;this.Ul=-1}async function Bc(a,b,c){try{const d=await navigator.clipboard.readText();a.EF(d,b,c)}catch(d){a.AF(b,c)}}async function Cc(){return W.kA}function Vb(a,b,c,d,f){var e,g=b.parentNode,k=null;for(e=0;e<W.$c.length&&!k;)W.$c[e][0].tabIndex===b.tabIndex?k=W.$c[e][1]:e+=1;k||(k=new fa(f),k.Ad=d,Ea.Up&&!d&&(k.Cc=c&-8,k.Cc<G.jd&&(k.Cc=G.jd)),b.tabIndex=W.$c.length+1,"none"===g.style.display&&(W.hg=new cb(g,k)),k.YD(b),W.$c[W.$c.length]=[b,k,W.hg]);W.R&&(k.Sy=k.g.T.Aj);d||k.Yh(a,!1)}function Dc(){var a=
document.getElementsByTagName("meta"),b,c;for(b=0;b<a.length;b+=1){var d=a[b];if(d.name===Ea.tagName&&(Ea.Ku=!1,Ea.Up=!1,d=d.content,(c=d.match(/\S+/g))&&2<=c.length&&7>=c.length))for(Ea.Yq=c[0],Ea.No=c[1],d=2;d<c.length;d+=1)switch(c[d]){case Ea.lH:Ea.Ku=!0;break;case Ea.KH:Ea.Up=!0;break;case Ea.cI:Ea.ub=!0;break;case Ea.GG:Ea.fullScreen=!0;break;default:if("/"===c[d][0])Ea.Ox=c[d];else if("."===c[d][0]||"?"===c[d][0])Ea.TC=c[d];else{var f=c[d];!isNaN(parseFloat(f))&&isFinite(Number(f))&&(Ea.zm=
parseFloat(f)|0)}}}}function nc(a){a=a.parentNode;for(var b=!1;!b;)"div"!==a.localName||a.className!==Ea.Yq&&a.className!==Ea.Zq||(b=!0),b||(a=a.parentNode);return a}function Wb(){var a=W.Ur(),b=a[1],c=a[2];a[0].parentNode.style.display="none";c.m=!1;b.Ob&&(b.fc.current=b.Md(G.se,!0,b))}function oc(a){Wb();a.stopPropagation&&a.stopPropagation();a.preventDefault();return!1}function Fb(a){for(a=a.innerHTML;-1!==a.indexOf("&amp;")||-1!==a.indexOf("&lt;")||-1!==a.indexOf("&gt;")||-1!==a.indexOf("&nbsp;");)a=
a.replace(/&lt;/gi,"<").replace(/&gt;/gi,">").replace(/&amp;/gi,"&").replace(/&nbsp;/gi," ");a=a.replace(/<br *\/>/gi,"\n").replace(/<br>/gi,"\n").replace(/&nbsp;/gi," ").replace(/<span class="posthilit">/gi,"").replace(/<\/span>/gi,"").replace(/<font><\/font>/gi,"").trim();a=a.replace(/\n[ \t]+/g,"\n");""===a&&(a="!");return a}function yb(a){var b=nc(a);a=b.getElementsByTagName(Ea.No)[0];if(b=b.getElementsByTagName("canvas")[0])if(b=W.CG(b.tabIndex))a.innerHTML=a.value,a=Fb(a),b.zb="",b.g.Gh=null,
b.g.T.reset(b.Sy),b.$r(b),b.C.notification.clear(!0,!0),b.C.notification.clear(!1,!0),b.Yh(a,!1)}function pc(a){var b=28,c=18,d=W.Ur()[2];a.Ip.style.transform="scale("+a.De+","+a.De+")";a.Ip.style.transformOrigin="top left";a.resize();d.m=!0;d.u(d);1!==a.h.B&&(b=b*a.h.B|0,c=c*a.h.B|0,a.zt.style.height=b+"px",a.zt.style.fontSize=c+"px",a.Ju.style.height=b+"px",a.Ju.style.fontSize=c+"px",a.Rt.style.height=b+"px",a.Rt.style.fontSize=c+"px",a.Uu.style.height=b+"px",a.Uu.style.lineHeight=b+"px");a.la.canvas.focus();
a.la.canvas.blur();return a.yr=!1}function Gb(a){var b=nc(a);b=b.getElementsByTagName(Ea.No)[0];a=Fb(b);var c=W.Ur(),d;if(c)(d=c[2])&&d.reset(),d=c[1],d.element=b,d.$r(d);else{c=document.createElement("canvas");c.width=G.jd;c.height=G.al+80;c.style.display="block";c.contentEditable="false";var f=document.createElement("a");f.setAttribute("href","#");f.innerHTML="&nbsp;X&nbsp;";f.style.textDecoration="none";f.style.fontFamily="Lucida Grande,Verdana,Helvetica,Arial,sans-serif";f.style.color="#FFFFFF";
f.style.backgroundColor="#C75050";f.style.cssFloat="right";f.style.height="28px";f.style.fontSize="18px";f.className="notranslate";var e=document.createElement("a");e.innerHTML="&nbsp;X&nbsp;";e.style.textDecoration="none";e.style.fontFamily="Lucida Grande,Verdana,Helvetica,Arial,sans-serif";e.style.visibility="hidden";e.style.cssFloat="left";e.style.height="28px";e.style.fontSize="18px";var g=document.createElement("div");g.style.textAlign="center";g.style.color="rgb(83,100,130)";g.style.fontFamily=
"Arial, Verdana, Helvetica, sans-serif";g.style.fontSize="18px";g.style.height="28px";var k=document.createTextNode(G.fo);g.style.cursor="default";g.appendChild(k);Ka(f,"click",oc,!1);Ka(f,"touchend",oc,!1);var l=document.createElement("div");l.style.display="none";l.style.position="fixed";l.style.border="1px solid rgb(128,128,128)";l.style.zIndex="101";l.style.left="2048px";l.style.top="0px";l.style.textAlign="right";l.style.boxShadow="0px 0px 3px 3px rgba(0,0,0,.3), 12px 12px 8px rgba(0,0,0,.5)";
l.style.margin="1px";var p=document.createElement("div");p.className=Ea.Zq;p.style.backgroundColor="#FFFFFF";p.style.height="28px";p.style.lineHeight="28px";p.style.margin="0px";p.style.border="0px";p.appendChild(e);p.appendChild(f);p.appendChild(g);l.appendChild(p);l.appendChild(c);document.body.appendChild(l);Vb(a,c,G.jd,!0,b);W.ay=W.$c.length-1;c=W.Ur();d=c[1];d.py=k;d.zt=f;d.Ju=e;d.Rt=g;d.Uu=p;d.Ip=l}b=c[0].parentNode;""!==b.style.display&&(b.style.display="");d.zb="";d.g.Gh=null;d.displayWidth=
G.jd;d.displayHeight=G.al+80;d.resize();d.C.notification.clear(!0,!0);d.C.notification.clear(!1,!0);d.yr=!0;d.Yh(a,!0);d.yr||pc(d)}function Ec(a,b,c){a=a.getElementsByTagName("a")[0];var d=document.createElement("a"),f=null;d.setAttribute("href","#");d.innerHTML="Show Pattern Error";Ka(d,"click",function(e){e.stopPropagation&&e.stopPropagation();e.preventDefault();alert(c)},!1);a?(f=document.createTextNode(" / "),a.parentNode.appendChild(f),a.parentNode.appendChild(d)):b.parentNode.appendChild(d)}
function qc(a,b){var c=b[0],d=b[1],f=b[2];b=b[3];if(a&&a.I&&!a.wa)if(Ea.ub){var e=W.ze,g=W.ze.length,k=a.name,l=a.h+a.eb,p=a.width,n=a.height,q=a.Cb;a=a.ca;var m,r=Array.matrix(ra.bb,a.length,a[0].length,0,W.T,"OverviewMap",!1);for(m=0;m<a.o.length;m+=1)r.o[m]=a.o[m];e[g]=new Ac(k,c,l,p,n,q,r);1===W.ze.length?(f.style.display="none",b&&(b.contentEditable="false",Vb(c,b,f.offsetWidth,!1,f))):d.style.display="none"}else null!==d&&(d=d.getElementsByTagName("a")[0],b=document.createElement("a"),b.setAttribute("href",
"#"),b.innerHTML="Show in Viewer",Ka(b,"click",Fc,!1),d?(e=document.createTextNode(" / "),d.parentNode.appendChild(e),d.parentNode.appendChild(b)):f.parentNode.appendChild(b)),-1<Ea.zm&&-1===c.indexOf("@RULE")&&f.clientHeight>Ea.zm+26&&(f.style.height=Ea.zm+26+"px")}function rc(a,b){var c=b[0],d=b[1];b=b[2];a&&null!==d&&("#"!==c[0]||-1===c.indexOf("import "))&&Ec(d,b,a.h+" - "+a.ua)}function sc(a,b,c,d,f,e){b=c.create("",a,b,qc,rc,[a,d,f,e],!0,null);!c.ra&&b&&(b.ra?(b.ua=c.U,rc(b,[a,d,f,e])):qc(b,
[a,d,f,e]))}function Fc(a){Gb(this);a.stopPropagation&&a.stopPropagation();a.preventDefault();return!1}function Gc(a){var b=null;b=a.dataTransfer;var c=null,d=null;b&&0<b.files.length&&(b=b.files[0],c=new FileReader,c.onload=function(){var f=c.result,e=document.getElementById("rle");e&&(e.innerHTML=f,(d=document.getElementById("viewbutton"))&&yb(d))},c.readAsText(b));a.preventDefault();a.stopPropagation()}function Hc(){var a=document.getElementsByTagName("div"),b=0,c=null,d=c=null,f=null;f=null;d=
"";var e=null,g=b=null,k=null,l=null;b=b=null;var p=0,n=0,q=0,m=performance.now(),r=W.jr(G.Sx),u=va.T,t=new wa(u);console.time("page scan");Dc();db.ye();for(b=0;b<a.length;b+=1)(e=a[b],e.className===Ea.Yq)?(c=e.getElementsByTagName(Ea.No)[0],f=e.getElementsByTagName("canvas")[0],(d=c.getElementsByTagName(Ea.No)[0])&&(c=d),La.Yr&&c&&(console.time("read embedded"),d=Fb(c),Ea.ub?sc(d,u,t,e,c,f):f&&f.getContext?(-1<Ea.zm&&c.clientHeight>Ea.zm&&(c.style.height=Ea.zm+"px"),f.contentEditable="false",Vb(d,
f,c.offsetWidth,!1,c)):Ea.Ku&&f&&(f.style.display="none"),console.timeEnd("read embedded"),p+=1)):La.Yr&&e.className===Ea.Zq&&e.parentNode.className!==Ea.Yq&&(c=e.getElementsByTagName(Ea.No)[0])&&(console.time("read popup"),r&&-1!==c.innerHTML.indexOf(" "+D.kr+" 14")?q+=1:(d=Fb(c),f=null,sc(d,u,t,e,c,null)),console.timeEnd("read popup"),n+=1);c=document.getElementsByTagName("a");for(b=0;b<c.length;b+=1)f=c[b],""!==f.accessKey&&-1!==G.PF.indexOf(f.accessKey)&&(f.accessKey="");if(g=document.getElementById("viewbutton"))if(Ka(g,
"click",function(){yb(g)},!1),b=g.style,b.fontSize="24px",b.width="100px",b.height="66px",g.parentElement&&(b=g.parentElement.style,b.verticalAlign="middle",b.padding="8px"),b=document.getElementById("ViewerCanvas"))Ka(b,"drop",function(v){Gc(v)},!1),Ka(b,"dragover",function(v){v.preventDefault()},!1);(k=document.getElementById("viewerview"))&&Ka(k,"click",function(){yb(k)},!1);(l=document.getElementById("viewerpopup"))&&Ka(l,"click",function(){Gb(l)},!1);if(b=document.getElementById("lvbuild"))b.innerHTML=
String(G.Zr);console.timeEnd("page scan");console.log(p+" embedded and "+n+" popup ("+q+" unsafe)");Ea.ub&&(W.ym=!0,Za.St());console.groupEnd();window.location.hash&&(console.log(window.location.hash),(a=document.getElementById(window.location.hash.substring(1)))&&a.scrollIntoView());W.tC=performance.now()-m}var La={Yr:!1,Bt:!1,Ct:!1,jc:!1,copyWithin:!1,Vt:!1,Zn:null,Nc:null};window.performance||(window.performance={});window.performance.now||(window.performance.now=function(){return performance.now||
performance.KK||performance.LK||performance.OK||performance.webkitNow||function(){return(new Date).getTime()}}());window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame);window.Uint8Array?La.Yr=!0:(La.Yr=!1,window.Uint8Array=Array);window.Uint8ClampedArray||(window.Uint8ClampedArray=window.Uint8Array);window.Uint16Array||(window.Uint16Array=Array);window.Uint32Array||
(window.Uint32Array=Array);window.Int32Array||(window.Int32Array=Array);window.Int16Array||(window.Int16Array=Array);window.Int8Array||(window.Int8Array=Array);window.Uint8ClampedArray||(window.Uint8ClampedArray=Array);window.Float32Array||(window.Float32Array=Array);window.Float64Array||(window.Float64Array=Array);window.Uint32Array.prototype.fill?La.Bt=!0:(La.Bt=!1,window.Uint32Array.prototype.fill=function(a,b,c){void 0===c&&(c=this.length);for(b=0;b<c;b+=1)this[b]=a});window.Uint16Array.prototype.fill||
(window.Uint16Array.prototype.fill=function(a,b,c){void 0===c&&(c=this.length);for(b=0;b<c;b+=1)this[b]=a});window.Uint8Array.prototype.fill||(window.Uint8Array.prototype.fill=function(a,b,c){void 0===c&&(c=this.length);for(b=0;b<c;b+=1)this[b]=a});window.Uint8ClampedArray.prototype.fill||(window.Uint8ClampedArray.prototype.fill=function(a,b,c){void 0===c&&(c=this.length);for(b=0;b<c;b+=1)this[b]=a});window.Int32Array.prototype.fill||(window.Int32Array.prototype.fill=function(a,b,c){void 0===c&&(c=
this.length);for(b=0;b<c;b+=1)this[b]=a});window.Int16Array.prototype.fill||(window.Int16Array.prototype.fill=function(a,b,c){void 0===c&&(c=this.length);for(b=0;b<c;b+=1)this[b]=a});window.Int8Array.prototype.fill||(window.Int8Array.prototype.fill=function(a,b,c){void 0===c&&(c=this.length);for(b=0;b<c;b+=1)this[b]=a});window.Float32Array.prototype.fill||(window.Float32Array.prototype.fill=function(a,b,c){void 0===c&&(c=this.length);for(b=0;b<c;b+=1)this[b]=a});window.Float64Array.prototype.fill||
(window.Float64Array.prototype.fill=function(a,b,c){void 0===c&&(c=this.length);for(b=0;b<c;b+=1)this[b]=a});window.Int32Array.prototype.slice?La.Ct=!0:(La.Ct=!1,window.Int32Array.prototype.slice=function(a,b){void 0===b&&(b=this.length);var c=b-a;var d=new Int32Array(c);for(b=0;b<c;b+=1)d[b]=this[a+b];return d});window.Int16Array.prototype.slice||(window.Int16Array.prototype.slice=function(a,b){void 0===b&&(b=this.length);var c=b-a;var d=new Int16Array(c);for(b=0;b<c;b+=1)d[b]=this[a+b];return d});
window.Int8Array.prototype.slice||(window.Int8Array.prototype.slice=function(a,b){void 0===b&&(b=this.length);var c=b-a;var d=new Int8Array(c);for(b=0;b<c;b+=1)d[b]=this[a+b];return d});window.Uint32Array.prototype.slice||(window.Uint32Array.prototype.slice=function(a,b){void 0===b&&(b=this.length);var c=b-a;var d=new Uint32Array(c);for(b=0;b<c;b+=1)d[b]=this[a+b];return d});window.Uint16Array.prototype.slice||(window.Uint16Array.prototype.slice=function(a,b){void 0===b&&(b=this.length);var c=b-a;
var d=new Uint16Array(c);for(b=0;b<c;b+=1)d[b]=this[a+b];return d});window.Uint8Array.prototype.slice||(window.Uint8Array.prototype.slice=function(a,b){void 0===b&&(b=this.length);var c=b-a;var d=new Uint8Array(c);for(b=0;b<c;b+=1)d[b]=this[a+b];return d});window.Uint8ClampedArray.prototype.slice||(window.Uint8ClampedArray.prototype.slice=function(a,b){void 0===b&&(b=this.length);var c=b-a;var d=new Uint8ClampedArray(c);for(b=0;b<c;b+=1)d[b]=this[a+b];return d});window.Float32Array.prototype.slice||
(window.Float32Array.prototype.slice=function(a,b){void 0===b&&(b=this.length);var c=b-a;var d=new Float32Array(c);for(b=0;b<c;b+=1)d[b]=this[a+b];return d});window.Float64Array.prototype.slice||(window.Float64Array.prototype.slice=function(a,b){void 0===b&&(b=this.length);var c=b-a;var d=new Float64Array(c);for(b=0;b<c;b+=1)d[b]=this[a+b];return d});La.Nc=new Uint32Array(1);La.Nc[0]=4660;La.Zn=new Uint8Array(La.Nc.buffer);La.jc=52===La.Zn[0]?!0:!1;La.Nc.copyWithin?La.copyWithin=!0:(window.Uint32Array.prototype.copyWithin=
function(a,b,c){var d=!1;void 0===c&&(c=this.length);var f=c-b;if(b!==a)if((a>=b&&a<=c||a+f>=b&&a+f<=c)&&a>b&&(d=!0),d)for(c=f-1;0<=c;--c)this[a+c]=this[b+c];else for(c=0;c<f;c+=1)this[a+c]=this[b+c];return this},La.copyWithin=!1);var Xb=navigator.userAgent;-1!==Xb.indexOf("Safari/")&&-1===Xb.indexOf("Chrome/")&&-1===Xb.indexOf("Chromium/")&&(La.Vt=!0);var ra={bb:8,gt:40,Xa:9,lc:10,Gq:0,Ap:1,Pd:2,ld:18,kz:19,ll:function(a){return 1<<(a&7)},hD:function(a){var b=(0!==(a&16)?"Float":0!==(a&8)?"Uint":
"Int")+8*(1<<(a&7));0!==(a&32)&&(b+="Cl");return b}};fb.prototype.reset=function(a){this.Aj=a;this.i=[];this.m=this.j=this.u=this.s=0};fb.prototype.I=function(){this.v=va.memory.buffer.byteLength};fb.prototype.G=function(a){var b="";0<=a&&a<this.i.length&&(a=this.i[a],b=ra.hD(a.dataType)+"\t"+a.elements+"\t"+a.name+"\t"+a.Ko);return b};fb.prototype.B=function(a,b,c,d){for(var f=0,e=!1,g;f<this.i.length&&!e;)g=this.i[f],c===g.name?(e=!0,this.u+=1,this.m+=g.elements*ra.ll(g.dataType)):f+=1;e?(this.i[f].dataType=
a,this.i[f].elements=b,this.i[f].Ko+=1,this.i[f].size=b*ra.ll(a),this.i[f].offset=d):(f=this.i.length,this.i[f]=new vc(a,b,c,d));this.s+=1;this.j+=b*ra.ll(a)};fb.prototype.F=function(a,b,c,d,f){var e=a.buffer;a=d*ra.ll(b)+a.byteOffset;switch(b){case ra.bb:c=new Uint8Array(e,a,c);break;case ra.gt:c=new Uint8Array(e,a,c);break;case ra.Xa:c=new Uint16Array(e,a,c);break;case ra.lc:c=new Uint32Array(e,a,c);break;case ra.Gq:c=new Int8Array(e,a,c);break;case ra.Ap:c=new Int16Array(e,a,c);break;case ra.Pd:c=
new Int32Array(e,a,c);break;case ra.ld:c=new Float32Array(e,a,c);break;case ra.kz:c=new Float64Array(e,a,c);break;default:c=null,alert("Illegal type specified to allocator.typedView for "+f+": "+b)}return c};fb.prototype.D=function(a,b,c,d,f){var e=null,g=b*ra.ll(a),k=this.Aj>>>0;f&&(this.v=k=(this.v-g&-16)>>>0);try{switch(a){case ra.bb:e=d?new Uint8Array(va.memory.buffer,k,b):new Uint8Array(b);break;case ra.gt:e=d?new Uint8ClampedArray(va.memory.buffer,k,b):new Uint8ClampedArray(b);break;case ra.Xa:e=
d?new Uint16Array(va.memory.buffer,k,b):new Uint16Array(b);break;case ra.lc:e=d?new Uint32Array(va.memory.buffer,k,b):new Uint32Array(b);break;case ra.Gq:e=d?new Int8Array(va.memory.buffer,k,b):new Int8Array(b);break;case ra.Ap:e=d?new Int16Array(va.memory.buffer,k,b):new Int16Array(b);break;case ra.Pd:e=d?new Int32Array(va.memory.buffer,k,b):new Int32Array(b);break;case ra.ld:e=d?new Float32Array(va.memory.buffer,k,b):new Float32Array(b);break;case ra.kz:e=d?new Float64Array(va.memory.buffer,k,b):
new Float64Array(b);break;default:e=null,alert("Illegal type specified to allocator.typedMemory for "+c+": "+a)}}catch(l){alert(G.fo+" is out of memory\n\nFailed to allocate "+b+" element "+ra.hD(a)+" array for "+c+"\n\n"+l)}null!==e&&d&&!f&&(0!==(g&15)&&(g=(g&4294967280)+16),this.Aj+=g);return e};fb.prototype.h=function(a,b,c,d){var f;if(f=this.D(a,b,c,d,!1))d&&(f.fill(0),c="* "+c),this.B(a,b,c,f.byteOffset);return f};fb.prototype.A=function(a,b,c,d){var f;if(f=this.D(a,b,c,d,!0))d&&(f.fill(0),c=
"^ "+c),this.B(a,b,c,f.byteOffset);return f};fb.prototype.H=function(){return this.v-this.Aj};fb.prototype.OF=function(a,b,c,d){var f=null;0<b&&(f=this.D(a,b,c,!1,!1));(f||0===b)&&this.B(a,b*d,c,f.byteOffset);return f};fb.prototype.O=function(a){this.Aj=a};Array.matrix=function(a,b,c,d,f,e,g){var k=0,l=[];l.T=f;l.dataType=a;l.o=null;g=f.h(a,b*c,e,g);if((l.o=g)&&0<c){for(;k<b;)l[k]=f.F(g,a,c,k*c,e),k+=1;0!==d&&g.fill(d)}return l};Array.Dp=function(a,b){b=a.T.OF(a.dataType,a[0].length,b,a.length+1);
a[a.length]=b};Array.Ef=function(a,b){b.o.set(a.o)};Array.ne=function(a,b,c){var d,f=b.length,e=[],g=b.T,k=b[0].length/ra.ll(a);for(d=0;d<f;d+=1)e[d]=g.F(b.o,a,k,d*k,c);e.o=g.F(b.o,a,b.o.length/ra.ll(a),0,"");return e};var db={hd:[],Vx:[],ye:function(){var a,b;this.hd=[];this.Vx=[];var c=this.hd;var d=this.Vx;d.push("1D");c.push(["Wolfram 1D",""]);c.push(["Brownian motion","W54"]);c.push(["Fishing-net","W110"]);c.push(["Heavy triangles","W22"]);c.push(["Linear A","W90"]);c.push(["Linear B","W150"]);
c.push(["Pascal's Triangle","W18"]);c.push(["Randomizer 1","W30"]);c.push(["Randomizer 2","W45"]);c.push(["Wolfram 22","W22"]);c.push(["Wolfram 30","W30"]);c.push(["Wolfram 110","W110"]);d.push("Margolus");c.push(["Margolus",""]);c.push(["BBM","M0,8,4,3,2,5,9,7,1,6,10,11,12,13,14,15"]);c.push(["BounceGas","M0,8,4,3,2,5,9,14,1,6,10,13,12,11,7,15"]);c.push(["BounceGasII","M0,8,4,12,2,10,9,7,1,6,5,11,3,13,14,15"]);c.push(["Critters","M15,14,13,3,11,5,6,1,7,9,10,2,12,4,8,0"]);c.push(["HPP_Gas","M0,8,4,12,2,10,9,14,1,6,5,13,3,11,7,15"]);
c.push(["MargSingRot","M0,2,8,3,1,5,6,7,4,9,10,11,12,13,14,15"]);c.push(["Rotations","M0,2,8,12,1,10,9,11,4,6,5,14,3,7,13,15"]);c.push(["RotationsII","M0,2,8,12,1,10,9,13,4,6,5,7,3,14,11,15"]);c.push(["RotationsIII","M0,4,1,10,8,3,9,11,2,6,12,14,5,7,13,15"]);c.push(["RotationsIV","M0,4,1,12,8,10,6,14,2,9,5,13,3,11,7,15"]);c.push(["Sand","M0,4,8,12,4,12,12,13,8,12,12,14,12,13,14,15"]);c.push(["StringThing","M0,1,2,12,4,10,9,7,8,6,5,11,3,13,14,15"]);c.push(["StringThingII","M0,1,2,12,4,10,6,7,8,9,5,11,3,13,14,15"]);
c.push(["SwapOnDiag","M0,8,4,12,2,10,6,14,1,9,5,13,3,11,7,15"]);c.push(["Tron","M15,1,2,3,4,5,6,7,8,9,10,11,12,13,14,0"]);d.push("PCA");c.push(["PCA",""]);c.push(["Model_1","2PCA4,0,4,8,3,1,10,6,7,2,9,5,11,12,13,14,15"]);c.push(["Model_2","2PCA4,0,4,8,3,1,10,6,11,2,9,5,13,12,14,7,15"]);c.push(["PCA_1","2PCA4,0,4,8,3,1,10,6,7,2,9,5,11,12,13,14,15"]);c.push(["PCA_2","2PCA4,0,2,4,3,8,10,6,7,1,9,5,11,12,13,14,15"]);c.push(["PCA_3","2PCA4,0,8,1,3,2,5,6,7,4,9,10,11,12,13,14,15"]);c.push(["PCA_4","2PCA4,0,2,4,12,8,5,9,7,1,6,10,11,3,13,14,15"]);
c.push(["PCA_5","2PCA4,0,4,8,3,1,10,6,11,2,9,5,13,12,14,7,15"]);c.push(["PCA_6","2PCA4,0,2,4,3,8,10,6,14,1,9,5,7,12,11,13,15"]);c.push(["PCA_7","2PCA4,0,2,4,12,8,5,9,14,1,6,10,7,3,11,13,15"]);c.push(["PCA_8","2PCA4,0,2,4,12,8,10,9,14,1,6,5,7,3,11,13,15"]);c.push(["PCA_9","2PCA4,0,2,4,12,8,10,9,13,1,6,5,14,3,7,11,15"]);c.push(["PCA_10","2PCA4,0,1,2,3,4,5,6,13,8,9,10,14,12,7,11,15"]);c.push(["PCA_11","2PCA4,0,4,8,3,1,10,6,11,2,9,5,11,13,12,14,15"]);c.push(["PCA_12","2PCA4,0,4,2,3,14,6,11,5,8,7,9,13,10,12,1,15"]);
d.push("OT vN");c.push(["Outer-Totalistic von Neumann",""]);c.push(["Fredkin2","B13/S024V"]);c.push(["LifeV","B3/S23V"]);c.push(["Parity","B13/S13V"]);d.push("OT Hex");c.push(["Outer-Totalistic Hex",""]);c.push(["HexParity","B135/S0246H"]);c.push(["Hexagonal Life","B2/S34H"]);c.push(["HighHexLife","B25/S34H"]);c.push(["LifeH","B3/S23H"]);c.push(["Replicator Hex","B135/S135H"]);d.push("OT M");c.push(["Outer-Totalistic Moore",""]);c.push(["","B3/S23"]);c.push(["2x2","B36/S125"]);c.push(["2x2 2","B3678/S1258"]);
c.push(["34 Life","B34/S34"]);c.push(["3-4 Life","B34/S34"]);c.push(["Amoeba","B357/S1358"]);c.push(["Anneal","B4678/S35678"]);c.push(["AntiLife","B0123478/S01234678"]);c.push(["Assimilation","B345/S4567"]);c.push(["Bacteria","B34/S456"]);c.push(["Blinkers","B345/S2"]);c.push(["Bugs","B3567/S15678"]);c.push(["Castles","B3678/S135678"]);c.push(["Cheerios","B35678/S34567"]);c.push(["Christmas Life","B1/S012345678"]);c.push(["Coagulations","B378/S235678"]);c.push(["Conway","B3/S23"]);c.push(["Conway's Game of Life",
"B3/S23"]);c.push(["Conway's Life","B3/S23"]);c.push(["Coral","B3/S45678"]);c.push(["Corrosion of Conformity","B3/S124"]);c.push(["Dance","B34/S35"]);c.push(["Day & Night","B3678/S34678"]);c.push(["Day and Night","B3678/S34678"]);c.push(["Diamoeba","B35678/S5678"]);c.push(["DotLife","B3/S023"]);c.push(["DrighLife","B367/S23"]);c.push(["DryFlock","B37/S12"]);c.push(["DryLife","B37/S23"]);c.push(["DryLife without Death","B37/S012345678"]);c.push(["EightFlock","B3/S128"]);c.push(["EightLife","B3/S238"]);
c.push(["Electrified Maze","B45/S12345"]);c.push(["Eppstein","B35/S236"]);c.push(["Feux","B1358/S0247"]);c.push(["Flakes","B3/S012345678"]);c.push(["Flock","B3/S12"]);c.push(["Forest of Ls","B168/S236"]);c.push(["Fredkin","B1357/S02468"]);c.push(["Fuzz","B1/S014567"]);c.push(["Gems Minor","B34578/S456"]);c.push(["Gems","B3457/S4568"]);c.push(["Geology","B3578/S24678"]);c.push(["Gnarl","B1/S1"]);c.push(["Grounded Life","B35/S23"]);c.push(["H-Trees","B1/S012345678"]);c.push(["HighFlock","B36/S12"]);
c.push(["HighLife","B36/S23"]);c.push(["HighLife without Death","B36/S012345678"]);c.push(["Holstein","B35678/S4678"]);c.push(["HoneyFlock","B38/S128"]);c.push(["HoneyLife","B38/S238"]);c.push(["Iceballs","B25678/S5678"]);c.push(["InverseLife","B012345678/S34678"]);c.push(["Invertamaze","B028/S0124"]);c.push(["IronFlock","B36/S128"]);c.push(["IronLife","B36/S238"]);c.push(["Land Rush","B36/S234578"]);c.push(["Life SkyHigh","B368/S236"]);c.push(["Life without Death","B3/S012345678"]);c.push(["Life",
"B3/S23"]);c.push(["Live Free or Die","B2/S0"]);c.push(["Logarithmic replicator rule","B36/S245"]);c.push(["LongLife","B345/S5"]);c.push(["Long Life","B345/S5"]);c.push(["LowDeath without death","B368/S012345678"]);c.push(["LowDeath","B368/S238"]);c.push(["LowFlockDeath","B368/S128"]);c.push(["LowLife","B3/S13"]);c.push(["Majority","B45678/S5678"]);c.push(["Maze","B3/S12345"]);c.push(["Maze with Mice","B37/S12345"]);c.push(["Mazectric","B3/S1234"]);c.push(["Mazectric with Mice","B37/S1234"]);c.push(["Morley",
"B368/S245"]);c.push(["Move","B368/S245"]);c.push(["Neon Blobs","B08/S4"]);c.push(["Never happy","B345/S0456"]);c.push(["Oscillators Rule","B45/S1235"]);c.push(["Pedestrian Flock","B38/S12"]);c.push(["Pedestrian Life","B38/S23"]);c.push(["Pedestrian Life without Death","B38/S012345678"]);c.push(["Persian Rug","B234/S"]);c.push(["Plow World","B378/S012345678"]);c.push(["Pseudo Life","B357/S238"]);c.push(["Pulsar Life","B3/S238"]);c.push(["Replicator","B1357/S1357"]);c.push(["Replicator 2","B1357/S02468"]);
c.push(["Rings 'n' Slugs","B56/S14568"]);c.push(["Seeds","B2/S"]);c.push(["Serviettes","B234/S"]);c.push(["Shoots and Roots","B3/S245678"]);c.push(["Slow Blob","B367/S125678"]);c.push(["Snakeskin","B1/S134567"]);c.push(["Solid islands grow amongst static","B12678/S15678"]);c.push(["SnowLife","B3/S1237"]);c.push(["Stains","B3678/S235678"]);c.push(["Star Trek","B3/S0248"]);c.push(["Virus","B36/S235"]);c.push(["Vote","B5678/S45678"]);c.push(["Vote 4/5","B4678/S35678"]);c.push(["Walled Cities","B45678/S2345"]);
d.push("OT Tri");c.push(["Outer-Totalistic Triangular",""]);c.push(["Life 2333","B3/S23L"]);c.push(["Life 2345","B45/S23L"]);c.push(["Life 2346","B456/S23L"]);c.push(["Life 3445","B45/S34L"]);c.push(["Life 3446","B456/S34L"]);c.push(["Life 4546","B456/S45L"]);c.push(["Life 4644","B4/S456L"]);c.push(["Rule 1246","B456/S12L"]);c.push(["Rule 3544","B4/S345L"]);d.push("OT M G");c.push(["Outer-Totalistic Generations Moore",""]);c.push(["9:43 at Knight","237/34578/4"]);c.push(["Banners","2367/3457/5"]);
c.push(["BelZhab","23/23/8"]);c.push(["BelZhab Sediment","145678/23/8"]);c.push(["Bloomerang","234/34678/24"]);c.push(["Bombers","345/24/25"]);c.push(["Brain 5","/2/5"]);c.push(["Brain 6","6/246/3"]);c.push(["Brian's Brain","/2/3"]);c.push(["Burst","0235678/3468/9"]);c.push(["BurstII","235678/3468/9"]);c.push(["Caterpillars","124567/378/4"]);c.push(["Chenille","05678/24567/6"]);c.push(["Circuit Genesis","2345/1234/8"]);c.push(["Constellations","/23/3"]);c.push(["Cooties","23/2/8"]);c.push(["Diamonds and Spaceships",
"34578/257/16"]);c.push(["Ebb&Flow","012478/36/18"]);c.push(["Ebb&Flow II","012468/37/18"]);c.push(["Faders","2/2/25"]);c.push(["Fireballs","346/2/4"]);c.push(["Fireworks","2/13/21"]);c.push(["Flaming Starbows","347/23/8"]);c.push(["Free Star","0345/2/10"]);c.push(["Frogs","12/34/3"]);c.push(["Frozen spirals","356/23/6"]);c.push(["GeneroLife","2356/3567/4"]);c.push(["Glisserati","035678/245678/7"]);c.push(["Glissergy","035678/245678/5"]);c.push(["Lava","12345/45678/8"]);c.push(["Lines","012345/458/3"]);
c.push(["LivingOn TheEdge","345/3/6"]);c.push(["Meteor Guns","01245678/3/8"]);c.push(["Nova","45678/2478/25"]);c.push(["OrthoGo","3/2/4"]);c.push(["Prairie on fire","345/34/6"]);c.push(["RainZha","2/23/8"]);c.push(["Rake","3467/2678/6"]);c.push(["SediMental","45678/25678/4"]);c.push(["Snake","03467/25/6"]);c.push(["SoftFreeze","13458/38/6"]);c.push(["Spirals","2/234/5"]);c.push(["Star Wars","345/2/4"]);c.push(["Sticks","3456/2/6"]);c.push(["Swirl","23/34/8"]);c.push(["Tadpoles","0125678/345678/64"]);
c.push(["ThrillGrill","1234/34/48"]);c.push(["Transers","345/26/5"]);c.push(["TransersII","0345/26/6"]);c.push(["Transers 2","0345/26/6"]);c.push(["Transers 3","0345/26/7"]);c.push(["Wallplicators","345/25678/7"]);c.push(["Wanderers","345/34678/5"]);c.push(["Worms","3467/25/6"]);c.push(["Xtasy","1456/2356/16"]);d.push("INT Hex");c.push(["Isotropic Non-Totalistic Hex",""]);c.push(["Hex Life","B2o3m56/S2-p4oH"]);c.push(["Hex Inverse Fire","B2-m4-m56/S2m34m56H"]);c.push(["HexLife","B3o/S234-o6H"]);c.push(["22da",
"B2/S2-mH"]);c.push(["Hexrule b2o","B2o/S2m34H"]);d.push("INT M");c.push(["Isotropic Non-Totalistic Moore",""]);c.push(["15Life","B34r/S23-q4et"]);c.push(["104life","B34ky5cy/S23-a4ity6c7"]);c.push(["22k","B2-k/S2-k"]);c.push(["2diagonal","B2n3/S23"]);c.push(["2xpand2","B3/S123eik4ce"]);c.push(["3x3","B35cky68/S0245-c6n"]);c.push(["38life","B35y/S2-n35k6ci"]);c.push(["4diagonal","B34c/S23"]);c.push(["4life","B34jy/S23"]);c.push(["4life2","B34j/S23"]);c.push(["57life","B34tyz5cy/S23-a4it5ej"]);c.push(["acnelife",
"B34/S2eik3"]);c.push(["aLife","B3/S234iw"]);c.push(["Arcane Circuitry","B2ci3aikr/S1e2-a3i"]);c.push(["Arrow","B3-jkn4a/S1e2-a3ijnry4n"]);c.push(["Artillery","B3-y7/S2-i3-c4kqt"]);c.push(["Atomic","B2ei3i/S1c2-n3jr4an5i6c"]);c.push(["ATPP","B3-ckq4z/S2-c3-a4iq5k6k"]);c.push(["B - ibis","B2n34cyz6n8/S2-n3-a4cq68"]);c.push(["Banks-I","B3e4ejr5cinqy6-ei78/S012-e3-ajk4-akqw5-ajk6-e78"]);c.push(["Banks-III","B2ce3e4jr5cin6-en7c8/S012-ac3-cn4-eikny5-kr67c8"]);c.push(["Beaecsizae","B34ce/S12-a3"]);c.push(["Ben's rule",
"B2-ak3einqy4e/S1c2ak3inqy4e"]);c.push(["Best Friends","B2ce3aiy/S12aei3r"]);c.push(["Bigship","B2ei3einqy4ny5ajkr/S23ajkr4jnry5inqy"]);c.push(["Bgunlife","B34eny5e/S23-a4iy5e6c"]);c.push(["Billiard","B36-e/S12345"]);c.push(["Blasts","B2e3airy4kt5jr6c8/S02ace3eiknr4-aj5-cei6-a78"]);c.push(["BlinkBlink","B35ky/S234y"]);c.push(["Blocks for Days","B2-ae3-cij4a5aj6e7e8/S01e2ai3ar4ar5air6ae7c8"]);c.push(["blockandglider","B3/S234cw7c"]);c.push(["Blockship","B3-cer4ceqwz5acek6in78/S2-in3-eq4eqwyz5eikn678"]);
c.push(["BoatLife","B3-knqy/S2-n3-ey4akwy5aik6kn"]);c.push(["boatLife","B3ainqy4aeq5ejn8/S2-in3-aek4aciq5ae6-c7c8"]);c.push(["bpuff","B3/S23-cky4k7e8"]);c.push(["Breps","B34cqy5c/S23-y4y"]);c.push(["Breps-2","B3aeijn4n8/S234iqz"]);c.push(["Bricks","B2ak5c/S2cn3inqy4aikqtwz5inqy"]);c.push(["Bubbles","B3ai4-a/S23"]);c.push(["Butterfly","B2i34e6i7c/S2-i36n"]);c.push(["butterflyb7","B2i34e6i7/S2-i36n"]);c.push(["Buzz","B2i35-n/S2-ci36k8"]);c.push(["CapLife","B36c/S23"]);c.push(["CarrierLife","B2e3aceik/S23"]);
c.push(["Cataverters","B3-cen/S234eijkrw5cry6ik"]);c.push(["cb2","B2ae4i/S1e2in"]);c.push(["cetlife","B34cet/S234jkwyz"]);c.push(["Clouds","B2e3aceij/S23-a4"]);c.push(["Cloudsdale","B2kn3-ekqr4i5eq6n8/S23-aeny4cikqr5ek6ace7c"]);c.push(["CommonRepl","B3/S23-ac4eiy6"]);c.push(["Conquerors and Colonizers","B2ace3acei4ace5acei6ace/S"]);c.push(["Conway++","B3/S234c"]);c.push(["Conway+-1","B3/S23-inqy4aikqtwz"]);c.push(["Conway+-2","B3/S2-ak34aikqtwz5inqy"]);c.push(["Conway--","B3/S2-ei3"]);c.push(["crawl",
"B37e/S2-i34y8"]);c.push(["Creperie","B2ikn3aijn/S23-ckqy"]);c.push(["CrossLife","B3/S234et"]);c.push(["Crylife","B2n3-cry4kn6i7c/S23-a4i6c"]);c.push(["DenseLife","B3-q4y/S234z"]);c.push(["Diamoeral","B2n3ai4a78/S35678"]);c.push(["Diamonds","B2en3ij4a5e7e8/S1c2cek3-a4aiqw5aky"]);c.push(["DirtyLife","B3-cky5aq6ci7c/S23-ck4n6k7e"]);c.push(["DLife","B3-n/S23"]);c.push(["dolife","B2-ak3acei4ceqz5y/S234ce5ceky78"]);c.push(["dolife2","B2-a3acei4ceqz5y/S234ce5ceky78"]);c.push(["Dominoplex","B2cen3ek4ejkwz5-ein6an7e8/S12an3-eijq4enrty5e6k"]);
c.push(["Dry15Life","B34r7/S23-q4et"]);c.push(["DryGoats","B2in37/S123a"]);c.push(["Dustclouds01","B2ce3-ai/S01"]);c.push(["Dustclouds03","B2ce3-ai/S03"]);c.push(["EasyHighLife","B36-i/S23"]);c.push(["Eatsplosion","B2n3-ekqy4c5e/S2-cn3-eky4aij5e"]);c.push(["Eatsplosion IV","B2n3-q4aqz6n8/S2-in3-q4iz7c8"]);c.push(["EightGoats","B2in3/S123a8"]);c.push(["Einstein","B2ein3cijn4cnrwy5cnq6e/S1c2-ai3acny4anqy5c6ek8"]);c.push(["ElectrumLife","B367c/S2-i34q"]);c.push(["Emitters","B2i3ai4cei5c6c7/S2-ae3acein4-t5-aq6cei7c8"]);
c.push(["Extension","B2cei3-ijnr4-a6i/S12-cn"]);c.push(["fakePiShipLife","B3-ck4e5k6i/S2-in35i6c8"]);c.push(["FalseB5","B35ce/S234jqtyz6k8"]);c.push(["Farespa","B34ck5/S23aceik4aci"]);c.push(["FattyLife","B3-n4nt5qr6i/S23"]);c.push(["FishLife","B3-ekqr4nt5r6i/S02-c3"]);c.push(["FlashLife","B2kn3-n4e/S23"]);c.push(["Flowflakes","B2-ac3acei4ey6n8/S02-n3-nqy4cekyz5ei6k7e"]);c.push(["Flutter","B2-a3j4-acekn56/S15y"]);c.push(["Flying Life","B3-k5r/S236n7e"]);c.push(["FogLife","B35eq7/S2-i34q"]);c.push(["Forestfire",
"B3ai4ekq5cy6n/S2-ci3-ace4inr5eqry"]);c.push(["FrogLife","B36i/S1c23-acek5k6i8"]);c.push(["Fruitflies","B2-an4jn7e8/S12-k4r"]);c.push(["Fuzey","B2-ae3aej4ez/S03ac4aikqryz78"]);c.push(["GemLife","B34c6/S23-q"]);c.push(["Gentle relative","B2cen3ek4jkw5-aein6a7e/S12an3-eijq4enrty5e6k"]);c.push(["GlideLife","B34ek5ak/S2-c34z"]);c.push(["GlideLife2","B34ek5ak/S2-c34iz5y"]);c.push(["GliderGlut","B2k3aijn4ak5y6k/S2ae3ajnr4aiw"]);c.push(["GliderRROLife","B2e3einy4ak5ijq7c/S1c2-ai3-ceky4ejny5ceqr6ak"]);c.push(["glife",
"B3/S237c"]);c.push(["Glimmering Garden","B3-jknr4ity5ijk6i8/S23-a4city6c7c"]);c.push(["GMO snowflakes","B34c6n/S2-n3-ck4cijqtwy5y6n"]);c.push(["Goat Flock","B2in3/S123a"]);c.push(["Goats","B2in3/S123a"]);c.push(["Goldilocks I","B2ek3cei4acjr5c8/S02ack3kn4aen"]);c.push(["gp","B2ei3-a4ce5y6i/S234i7e"]);c.push(["Growflakes","B2-ac3acei4ey6n8/S02-n3-nqy4cekyz5ei6k"]);c.push(["guntlife","B35j6a/S2-i34q"]);c.push(["Half as Interesting","B2ce3i/S23"]);c.push(["hassl8life","B34k5e7c/S23-a4iyz"]);c.push(["hatlife",
"B35y/S23"]);c.push(["Hats and Shuttles","B34iqwy/S23-cq"]);c.push(["hedgehog","B3/S1c2-a35r6i"]);c.push(["HeptaFish","B3-e4i5i/S234e"]);c.push(["High15Life","B34r6/S23-q4et"]);c.push(["HighGoats","B2in36/S123a"]);c.push(["Hive","B3-ry4ckn/S2-in3-cjn4it5aiky6-a7e8"]);c.push(["hlife","B3/S234ce6k"]);c.push(["hlife2","B3/S2-in34nr"]);c.push(["hlife3","B3/S2-in34iw"]);c.push(["HoneyGoats","B2in38/S123a8"]);c.push(["HouseLife","B2i3/S23-r"]);c.push(["Hype","B2-ac3aei4ae6i8/S23-ejq8"]);c.push(["IceNine",
"B3aeiy4ae5i68/S2-in3-kqr4artz5aeny6-e78"]);c.push(["ilife","B3/S235i"]);c.push(["Immortalife","B3-cqy4j/S2-n34i"]);c.push(["IneticLife","B2-an3-k/S2ac"]);c.push(["IronGoats","B2in36/S123a8"]);c.push(["Ising","B3e4ejr5cinqy6-ei78/S2ei3aejkr4-cny5-e678"]);c.push(["Just Friends","B2-a/S12"]);c.push(["Kgdm","B3/S2-c3-en4ceitz"]);c.push(["KineticLife","B2-an3/S2ac"]);c.push(["klife","B34n/S23"]);c.push(["Knyght","B2e3/S23-jq"]);c.push(["ktlife","B3/S2-i34nq"]);c.push(["LambdaLife","B3-k/S2-i3-k4cen"]);
c.push(["LeapLife","B2n3/S23-q"]);c.push(["Leaplized D&N","B2n3678/S3-q4678"]);c.push(["LifeWithoutGliders","B35n/S23"]);c.push(["Linea","B2-a3-i/S23-a"]);c.push(["LispLife","B2n3/S23-q4e8"]);c.push(["LoafLife","B2n3-q/S23"]);c.push(["longlast","B3/S234ce8"]);c.push(["lotsofdots","B2ikn34e/S023-a4ce"]);c.push(["MaritimeLife","B2i34c6cen7c8/S2-i3-q4c5a6e8"]);c.push(["maze2","B3/S234-acew"]);c.push(["Migrating Bookends","B2ein3inry/S12-n3ce"]);c.push(["MilkyLife","B3-c4c5y8/S234qy5y8"]);c.push(["Mooselife",
"B34kz5e7c/S23-a4ityz5k"]);c.push(["move_rep","B3-r4e5e6-n/S23cr457e"]);c.push(["Movero VIII","B2-a5k6n7c/S12-i3ij4k5j8"]);c.push(["MoveIt","B368/S23cy45-j6n"]);c.push(["movetub","B34e68/S245"]);c.push(["movev","B35y68/S245"]);c.push(["Movostill","B2i3acijk6i/S23-a4"]);c.push(["Movostill 2","B3acijk/S23-a4"]);c.push(["Movostill 3","B2e3aceij5-ijr/S23-a4"]);c.push(["MuddyLife","B3/S234k"]);c.push(["Nah","B345-a6/S2-a3-a4-a"]);c.push(["nonlife","B3-n/S234iz"]);c.push(["notlife","B3-q7c/S2-i3-q4q"]);
c.push(["notlife (Wright)","B2k3-k/S23-a"]);c.push(["Notlife / Ace","B2-a3/S2ce"]);c.push(["Niemiec's Rule 0","B3/S2ae3aeijr4-cknqy"]);c.push(["olife","B2in3/S2-in3"]);c.push(["Omosso","B2k3acijr4ijqy6i7c/S2aek3ijnqr4it5n"]);c.push(["Orthogonable","B2e3aiknr4q/S1c2-in3aijry4a"]);c.push(["Particles (testitemqlstudop)","B2ce3i/S1c2cek"]);c.push(["Patchworks","B2-an3aiy/S2-in3cijky4-nqrz5k"]);c.push(["Pedestrian Goats","B2in38/S123a"]);c.push(["Pentadecathlife","B34e5y6cn8/S234c5e"]);c.push(["Photics I",
"B2ae4c678/S01e4aeqrtw5678"]);c.push(["Photics II","B2ae4cw5y6i/S01e2i4q"]);c.push(["Pi replicator life","B3-r4z5y/S238"]);c.push(["Pi-plicator","B3-ckq/S2-c34ci"]);c.push(["PiLife","B37e/S23"]);c.push(["Pilife2","B34c/S234y8"]);c.push(["plasma1","B012-in3-cky4ar5cjnr6ae/S05aijnr6n"]);c.push(["plife","B35j/S2-i3"]);c.push(["plife2","B35j6i/S2-i3"]);c.push(["PondLife","B36i/S2-i35i"]);c.push(["PortLife","B34cz5y/S234y8"]);c.push(["pre-x-rule","B2cei3ci4jnr5ikn/S12-ck4einqy5er6aei8"]);c.push(["Prismatika Crystallios",
"B2ae3r/S1e"]);c.push(["PlasmaLife","B34-air/S234-air"]);c.push(["Puffers","B3-nqr6/S235-nqr"]);c.push(["PuffLife","B34-i5-a6-a/S2-an34-akrw"]);c.push(["qlife","B3-q/S23"]);c.push(["quadraticlife","B34j/S23"]);c.push(["Quasilinear Collisions","B2-ak3-jnqr/S15678"]);c.push(["Rakelife","B3aij/S2-i3ajnr4arz56-a7e"]);c.push(["Rainflakes","B2-ac3aei4ey5n6n8/S02-n3aceir4ceyz5e6k"]);c.push(["RBeeLife","B34cijkq5k6i8/S2-n3-ik4cjqt5y6cin8"]);c.push(["replife","B34jy6n/S2-i3"]);c.push(["reptlife","B36-k/S2-i34q"]);
c.push(["ResistantLife","B34eknqyz/S23"]);c.push(["Ribbons","B3-nqr/S23"]);c.push(["RotoBlocks","B34cyz5y8/S234y5y6n8"]);c.push(["RotoDotPuffers","B2ikn3-ejnr/S01c2cei3ay4c"]);c.push(["RotoHooks","B34ckyz/S234cz"]);c.push(["rgun","B34t/S2-i35a7e"]);c.push(["Rule X3VI","B2c3aei4ajnr5acn/S2-ci3-ck4in5jkq6c7c"]);c.push(["RustyLife","B34-ai/S24-air5-a"]);c.push(["Salad","B2i34c/S2-i3"]);c.push(["Sanctuary","B2ei3ci/S1c23"]);c.push(["sansdomino","B2-a/S014"]);c.push(["Savanna","B2e3aeiy4ce5i6c7e/S2-n3-a4artz5aeny6cn"]);
c.push(["Scenery","B3-cnry4-acery5i/S23-a4-jknqr5y8"]);c.push(["SharkLife","B34aeiz/S2-ak34ant6cek"]);c.push(["signalife","B3aeijy5e6i/S2-c3-a4iq5k6ck"]);c.push(["SilverLife","B367/S2-i34q"]);c.push(["SimpleInverseFire","B2-ak4568/S156ak78"]);c.push(["Simple Life","B2k34c/S2-c34z8"]);c.push(["SLHassleLife","B3-y5cr/S234w6n"]);c.push(["SlugWorld","B2e3ai4arw5678/S3-an4ar5i678"]);c.push(["SolarWorld","B2ce3ci4iyz5ce6c/S12ce3ae"]);c.push(["SmokingLife","B2i34cj6a7c8/S2-i3-a4ceit6in"]);c.push(["Smorgasbord",
"B2e3aijr4q/S1c23-a5"]);c.push(["snotlife","B2k3-kn/S23"]);c.push(["Snowflakes","B2ci3ai4c8/S02ae3eijkq4iz5ar6i7e"]);c.push(["Snowflakes 2","B2ci3ai4c8/S02ae3eijkq4aiz5ar6i7e"]);c.push(["SparkLife","B36i/S234j"]);c.push(["SparklingLife","B34cqy/S234q"]);c.push(["SparseMethuseLife","B35y/S1e2-ci3-a5i"]);c.push(["StairWorld","B2-a3i4aijk/S2a3-i4"]);c.push(["Stars","B2e3-ceny4einqwz5-cikr6cei/S1c2e3aijky4aceijrz5-cejk6-ak7c8"]);c.push(["Suns","B2ei3aeij4cjt5ky6ei/S1c2ace3jkn4aeijktw5ekry6in7e"]);c.push(["Switches",
"B2ei3ij4ajnr6ci/S12ce3ajn4qtz5ijnqy6c"]);c.push(["Symmetristic","B2-ak3-jnqr4ceiqtwz5-jnqr6-ak/S2-ak3-jnqr4ceiqtwz5-jnqr6-ak"]);c.push(["t4life","B34jy/S2-i3"]);c.push(["TableLife","B3/S23-ai4anq6n"]);c.push(["TauLife","B3-nr/S2-i34-aij"]);c.push(["tceclife","B36ce7c/S2-i34q"]);c.push(["tDryFlock","B37/S12-i4q"]);c.push(["tDryLife","B37/S2-i34q"]);c.push(["TearfulLife","B34e5c6n/S23-q"]);c.push(["tEightLife","B3/S2-i34q8"]);c.push(["testlife","B36a/S23"]);c.push(["tflock","B3/S12-i4q"]);c.push(["tHighFlock",
"B36/S12-i4q"]);c.push(["tHighLife","B36/S2-i34q"]);c.push(["ThisLife","B36i/S23-ce5q"]);c.push(["tlife","B3/S2-i34q"]);c.push(["tosc","B3/S234wz"]);c.push(["tosc2","B36in/S234cw"]);c.push(["tPedestrianFlock","B38/S12-i4q"]);c.push(["tPedestrianLife","B38/S2-i34q"]);c.push(["tq6","B2i34e/S023-a4ce"]);c.push(["Traffic Flow","B2e3aciy4jnw68/S23678"]);c.push(["Train","B34t6k8/S2-i35a7e"]);c.push(["Trilobites","B3aijn4w5nq/S2ae3aijr4irz5y"]);c.push(["triship","B2a3e/S012-ai3-i45-i678"]);c.push(["Trycogene",
"B2ce3aijn/S2ak3-aijn4jkqty5cekr6ce8"]);c.push(["Turro","B2-a3c/S12-i"]);c.push(["Two-dots rule 1","B2ei3ci4aerw5acky6i8/S012-an3eiknq4qrty5aeik6ik8"]);c.push(["Two-dots rule 2","B2-ak3aen4cenrtw5iq6e/S02ac3aenqy4ejqtwy5ak6acn7"]);c.push(["Twinkles","B2in34-a/S1e2ekn34ent"]);c.push(["Virus_v2","B3-nqr6/S235"]);c.push(["Wartlife","B3aijnq6n/S2-cn3-ceky4i"]);c.push(["WetLife","B34r/S23"]);c.push(["Whichlife","B2in3aeijn/S234e"]);c.push(["Wild Seas","B2c3-cekq4ikt5i8/S2-in3-acky4aijry5eiky6i"]);c.push(["wlife",
"B34w/S23"]);c.push(["Worms 0","B01c2n5a/S3a5i"]);c.push(["Writers","B2-a3-inqr4c6/S23"]);c.push(["WSScentral","B3-n45qr6i/S2eik3"]);c.push(["x-rule-pre","B2cei3ci4jnr5ikn/S12aen3c4einqy5er6aei8"]);c.push(["xtdbee","B3-k/S23"]);c.push(["xvaLifeg","B2e3/S23"]);c.push(["Ylife","B2e3ai4ar/S23-a4a"]);c.push(["ylife (BokaBB)","B34y5y/S234y5y"]);c.push(["zigzag","B3/S2-k34q"]);c.push(["ZombieLife","B3-nqy4aqz5cn6n8/S2-i3-a4inqz7c8"]);d.push("INT M G");c.push(["Isotropic Non-Totalistic Generations Moore",
""]);c.push(["HTech","234e/2e3/3"]);c.push(["Jellyfish","2ak34-a5-i/2c36k7/4"]);c.push(["KST","1234-i5anq6kn/3r4kr5eiq6ack7e/3"]);c.push(["Simple Brain","234e/e3/3"]);c.push(["Sliders","012-e3-ae4acnqyz5acer6acn78/3j4-eikq5c/3"]);c.push(["tGeneC1WC0","2-i34q/2c34w5c/4"]);d.push("NINT vN");c.push(["Non-Isotropic von Neumann",""]);c.push(["1d110","MAPLy0PDw"]);c.push(["AllShips","MAPAAD//w"]);c.push(["HybridViewW110","MAPPzz//A"]);c.push(["Sierpinski","MAPT48PDw"]);d.push("NINT Hex");c.push(["Non-Isotropic hexagonal",
""]);c.push(["pentagonhood","MAPBARISEhIgIBISICAgIAAAA"]);d.push("NINT M");c.push(["Non-Isotropic Moore",""]);c.push(["2CellSlug","MAPBTDe/yAA9/8AAP//AAD//yAA/78AAP//AID//wAA//8AAP//AAD/2wAA//8AgP//AAD//4AA//+AAH//AAD//w"]);c.push(["BLAHTWOCELLGUN","MAPAMB/vwAA//8AAP//AAD//wAA//8AAP//AAD//wAA//8AAP//AAD//wAA//8AAP//AAD//wAA//8AAP//AAD//w"]);c.push(["cloverleafsim","MAPAAD//zAwPz8AAP//MDA/PwAA//8AAP//AAD//wAA//8AAD8/AAD//wAAPz8AAP//wMD//wAA///AwP//AAD//w"]);c.push(["FoxLife","MAPARYXfhZofugWaH7oaIFoxBZofuhogOiAaIFoxIAAgAAWaH7oaIFoxGiA6ICAAIAAaIFoxIAAgACAAIAAAAAAAA"]);
c.push(["loopy","MAPACD/JSDI//8AAL+/AAB//wAA/f+AgP//AAB//xCA//8IAP//AAD//wAA//8AAH//AAL//wCA//8AAvv7AAL//w"]);c.push(["MaxPeriod_2x2k2","MAPADC9vyIA/f8AAH//AAD//wCA//+AAP//AID/fwAA//8AAH//AAB//wAA//8AAP//AAD//4AA//8AAP//AAD//w"]);c.push(["movingdiagonal","MAPAAAAAAAAAAD//wAA//8AAAAAAAAAAAAA//8AAP//AAAAAAAAAAAAAP//AAD//wAAAAAAAAAAAAD//wAA//8AAA"]);c.push(["MovingStrings","MAPARH+/wMT//8BEf7/AxP//wER/v8DE///AREAAAMTAAABEf7/AxP//wER/v8DE///AREAAAMTAAABEQAAAxMAAA"]);c.push(["MuzikThing","MAPACD//wAA3/8AgH//AAD//wCAf/8AAP//AAD//wAA//8AAH//AAD//wAA//8AAP//gAD//wAA//8AAP//AAD//w"]);
c.push(["MyEntry","MAPIAD/7wgA/f8AAP//AAD//wAA//8AAP//AAD/fwAA//8AAP//AAD//wAA//8AAP//AAD//4AA//8AAP//AAD//w"]);c.push(["randomnn","MAPA1Az8wMAqgAAUADAAAAAAAAAgMAAAIAAgICAwAAAgAAAAAAAiACqAAAAAAAAAAAAAACAAIgAgACAgIAAAACAAA"]);c.push(["OLife","MAPABD/vgIB//8AAP//AAD//wAA/78AAN3/AJB/vwAAf/8AAP//AABd/wAA//8AAP//AAD//4IA//8AAP//AIB//w"]);c.push(["Rhufo","MAPARH//wMA//8AAP9/AAD//wAA//8AAP9/AAD//wAA//8AAP//AAB//wAA//8AAP//AAD//wAA//8AAH9/AAB//w"]);c.push(["Rhufo2","MAPARH//wMA//8AAH9/AAD//wAAX/8AAP9/AAB/7wAA//8AAH//AAB//wAA//8AAP//AAB//wAA/f8AAH8/AAB3/w"]);
c.push(["rules0","MAPCkA/3wAI939CUM/bABH//4Agft4JAPX+IgH/3QAQ9u8AAP//AID/fwAA//8AAP//BQD9/wAA/98AAP//AAD//w"]);c.push(["rules6","MAPAgl/+0Ug/fVAIv/9AADdPwDi9/uAQft5qIDtlQgA/b8gAP//AAD//wAQv/8AAP7+AhD/+gAA/f8EAv//AID//w"]);c.push(["SemiFelineLife","MAPARYXfhZofugWaH7oaIDogBZofuhogOiAaIDogIAAgAAWaH7oaICatGiA6ICAAIAAaICatIAAgACAAIAAAAAAAA"]);c.push(["Simple_Weird_Ships","MAPABHs/wMA//8AAP//AAD//wAA/38AAP//AAD//wAA//8AAP//gAD//wAA//8AAP//AAD//wAA//8AAP//AAD//w"]);c.push(["Snowflakes (MCell)","MAPBTBogCKlgABMQ4AUYkgAACWogADgtwAAEpgAABwzAABMOIAAGUgGAO0FAAAVpQAAEkYAAMIzAAClRQCADbeASA"]);
c.push(["Socrates","MAPARYXfhZofugWaH7oaIDogBZofuhogOiAaIDogIAAgAAWaH7oaIDogGiA6ICAAIAAaIDogIAAg00IAmSocrateg"]);c.push(["x-rule","MAPBSB64CCTqARFBImEADAGBSCTgICTSIAAADCFCSTAAAANAMEUBCKEBchCE00YAE3IACSFACCIQQDIIF4UIIAGSA"]);c.push(["water","MAPABAbrwAA//8AQltdAAD+/8Aa/f8AAP//YgD//wAA//8AAP//QAD//wBA//8AAP/fAgD3+wKA//8AIPZ/AAD//w"]);d.push("LtL M");c.push(["Larger than Life Moore",""]);c.push(["Balloons","R2,C2,M1,S7..10,B7..11,NM"]);c.push(["Bosco's Rule","R5,C2,M1,S34..58,B34..45,NM"]);c.push(["Bosco Analogue",
"R5,C2,M1,S34..53,B31..42,NM"]);c.push(["Bugs R3","R3,C2,M1,S14..23,B14..18,NM"]);c.push(["Bugs R4","R4,C2,M1,S23..39,B23..30,NM"]);c.push(["Bugs R6","R6,C2,M1,S47..81,B47..63,NM"]);c.push(["Bugs R6 variant","R6,C2,M1,S47..81,B47..71,NM"]);c.push(["Bugs R7","R7,C2,M1,S63..108,B63..84,NM"]);c.push(["Bugs R9","R9,C2,M1,S101..173,B101..134,NM"]);c.push(["Bugs R10","R10,C2,M1,S124..211,B124..164,NM"]);c.push(["Bugs R10 variant","R10,C2,M1,S124..211,B124..166,NM"]);c.push(["Bugs R12","R12,C2,M1,S175..300,B175..232,NM"]);
c.push(["Bugs R13","R13,C2,M1,S205..349,B205..271,NM"]);c.push(["Bugs R14","R14,C2,M1,S236..403,B236..313,NM"]);c.push(["Bugs R15","R15,C2,M1,S269..461,B270..357,NM"]);c.push(["Bugs R100 variant","R100,C2,M1,S11303..19361,B11100..14996,NM"]);c.push(["Bugsmovie","R10,C2,M1,S123..212,B123..170,NM"]);c.push(["Globe","R8,C2,M1,S164..224,B74..252,NM"]);c.push(["Majorly","R7,C2,M1,S113..225,B113..224,NM"]);c.push(["Mini Bugs","R2,C2,M1,S7..10,B7..8,NM"]);c.push(["Miniature Bugs","R3,C2,M1,S15..22,B14..25,NM"]);
c.push(["Pigs","R2,C2,M1,S10..19,B4..4,NM"]);c.push(["Quadratic Bugs","R6,C2,M1,S47..81,B47..61,NM"]);c.push(["Rasta Bugs","R5,C2,M1,S41..59,B32..50,NM"]);c.push(["Smudge","R2,C2,M1,S7..11,B8..8,NM"]);c.push(["Stones","R5,C2,M1,S29..58,B38..61,NM"]);c.push(["Soldier Bugs","R7,C2,M1,S65..114,B65..95,NM"]);c.push(["Suicidal Bugs","R5,C2,M1,S37..59,B33..49,NM"]);c.push(["Waffle","R7,C2,M1,S100..200,B75..170,NM"]);c.push(["Waving human intestines","R20,C2,M1,S1..21,B1..5,NM"]);d.push("LtL M G");c.push(["Generations Larger than Life Moore",
""]);c.push(["Fire rule","R5,C6,M1,S31..43,B15..25,NM"]);c.push(["Fire whirl","R8,C6,M1,S46..91,B65..100,NM"]);c.push(["ModernArt","R10,C255,M1,S2..3,B3..3,NM"]);d.push("HROT cross");c.push(["Higher-Range Outer-Totalistic cross",""]);c.push(["Factorio","R3,C2,S2,B3,N+"]);d.push("HROT hash");c.push(["Higher-Range Outer-Totalistic hash",""]);c.push(["Hash","R2,C2,S4-6,B5-6,N#"]);d.push("HROT vN");c.push(["Higher-Range Outer-Totalistic von Neumann",""]);c.push(["Fredkin2 R2","R2,C2,S0,2,4,6,8,10,12,B1,3,5,7,9,11,NN"]);
c.push(["Parity R2","R2,C2,S1,3,5,7,9,11,B1,3,5,7,9,11,NN"]);d.push("HROT M");c.push(["Higher-Range Outer-Totalistic Moore",""]);c.push(["Fredkin R2","R2,C2,S0,2,4,6,8,10,12,14,16,18,20,22,24,B1,3,5,7,9,11,13,15,17,19,21,23"]);c.push(["Fredkin R3","R3,C2,S0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,B1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47"]);c.push(["Fredkin R4","R4,C2,S0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,B1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,63,65,67,69,71,73,75,77,79"]);
c.push(["Replicator R2","R2,C2,S1,3,5,7,9,11,13,15,17,19,21,23,B1,3,5,7,9,11,13,15,17,19,21,23"]);c.push(["Replicator R3","R3,C2,S1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,B1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47"]);c.push(["Replicator R4","R4,C2,S1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,63,65,67,69,71,73,75,77,79,B1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,63,65,67,69,71,73,75,77,79"]);
d.push("HROT custom");c.push(["Higher-Range Outer-Totalistic custom",""]);c.push(["Marine","R2,C2,S4,6-9,B6-8,N@03ddef"]);d.push("Weighted");c.push(["Weighted",""]);c.push(["Border","R1,C2,S10-16,B1-8,NW010101010901010101"]);c.push(["Bustle","R1,C4,S2,4-5,7,B3,NW212101212"]);c.push(["Career","R1,C2,S2-3,B3,NW121101111"]);c.push(["Cloud54","R1,C2,S2-3,9-10,19,27,B3,10,27,NW010109010009010909"]);c.push(["Cloud75","R1,C2,S2-4,10-11,13,18,21-22,27,29-31,36-40,B3,10,27,NW010109010009010909"]);c.push(["Coexistence",
"R4,C0,S9,14,16-17,21,23-24,30-31,37-38,44-45,51-52,58-59,B3,10,17,21,24,31,38,45,52,59,NW100010001000000000000000000000777000100707001000777000000000000000000000100010001"]);c.push(["CrossPorpoises","R1,C2,S2-3,6-10,12-13,B5,NW141404140"]);c.push(["Cyclish","R1,C7,S2,B1-3,NW010101010"]);c.push(["Cyclones","R1,C5,S2,4-5,B2-5,NW110101011"]);c.push(["Dragon","R1,C2,S1-2,7-8,12,15,18,20,B7,11-13,20,NW515101515"]);c.push(["Emergence","R1,C2,S2-4,10-11,16-17,24-25,B3-4,9,24,NW010801010001080801"]);c.push(["Fire-flies",
"R1,C9,S1,10,B6,11-12,21,NW010501050a05010501"]);c.push(["Fleas","R1,C2,S2-3,6-7,10-11,15,20,B2,11,NW515101515"]);c.push(["Fleas2","R1,C2,S1-2,5,7,10-11,B2,4,8,11,NW515101515"]);c.push(["NoFleas2","R1,C2,S2-3,5-7,10-11,B2,4,8,11,NW515101515"]);c.push(["FroggyHex","R1,C2,S1,6,8,B5-6,NW410104041H"]);c.push(["Frost M","R1,C25,S,B1,NW111101111"]);c.push(["Frost N","R1,C25,S,B1,NW010101010"]);c.push(["Gnats","R1,C2,S0-2,11,19,B11,19,NW090109010001090109"]);c.push(["Hextenders","R1,C10,S1,3-5,B2-3,NW110101011H"]);
c.push(["HGlass","R1,C2,S1-3,11,21,25,29-31,B1-3,11,21,25,29-31,NW000200080110000400"]);c.push(["Hogs","R1,C2,S2-4,6,B5-6,NW023302230H"]);c.push(["Jitters","R1,C2,S4,14,B1,4,9,NW995505599"]);c.push(["Lemmings","R1,C2,S3-6,B4,NW121202131"]);c.push(["Linguini","R1,C2,S2-4,9-11,19-20,B11,18,NW090109010001090109"]);c.push(["Madness","R1,C2,S8,10,12,14,B5,8,13,NW232303232"]);c.push(["MazeMakers","R1,C2,S2-3,6-10,12-13,B5,NW441404141"]);c.push(["MidgeDN","R1,C9,S0,2-3,B4-6,NW222101212"]);c.push(["Midges",
"R1,C4,S3,5-6,B4-6,NW121232121"]);c.push(["MikesAnts","R1,C2,S4-5,B2,5-6,NW011100111"]);c.push(["Mosquito","R1,C2,S3-4,8-9,B2-3,9,NW995505599"]);c.push(["Mosquito2","R1,C2,S3-4,8-9,B3,6,9,18,NW995505599"]);c.push(["Navaho1","R1,C12,S8-9,11,B2,5,NW414575414"]);c.push(["Nocturne","R1,C4,S1,6,B2-4,NW110101011H"]);c.push(["Pictures","R1,C2,S1-3,B2-4,NW010101010"]);c.push(["PicturesH","R1,C9,S1-3,B2-4,NW010101010"]);c.push(["Pinwheels","R1,C7,S2,B2-3,NW110101011"]);c.push(["PipeFleas","R1,C3,S3-4,7,11-15,17-18,20,22-23,B6,10,NW515101515"]);
c.push(["PreHogs","R1,C2,S3-4,6,B5-6,NW230302023"]);c.push(["PuttPutt","R1,C2,S1-4,9,18,27,36,40,B2,4,11,18-19,36,40,NW090109010001090109"]);c.push(["SEmigration","R1,C2,S2-3,6-7,10-12,B7,11-12,16,NW515100505"]);c.push(["Simple","R1,C2,S1,5,B2,10,NW515101515"]);c.push(["Simple Inverse","R1,C2,S1,4-5,8-9,12-13,16-24,B2,9-10,13-14,17-18,21-22,24,NW515101515"]);c.push(["Simple Inverse Fire","R1,C2,S1,5,9,13,17-19,21,23-24,B2,4,8-10,12-14,16-18,20-22,24,NW515101515"]);c.push(["Stampede","R1,C8,S4,6,9-10,B4,7,NW130303130"]);
c.push(["Starburst","R1,C2,S2,4,6,B4,NW121202121"]);c.push(["Starbursts2","R1,C2,S2,4-6,B4,NW121202121"]);c.push(["Stream","R1,C2,S1,3-4,7-11,B5,7-8,10-11,NW010104041"]);c.push(["UpDown1","R1,C2,S2,4-6,9,12,16,20,B3,6,9,12,NW111404444"]);c.push(["UpDown2","R1,C2,S2-3,7,10-12,15,B3,7,11,15,NW151101555"]);c.push(["Upstream","R1,C10,S4,6,9-10,B4,7,NW130404130"]);c.push(["Vineyard","R1,C2,S2,6,8-10,12-13,B5,NW141404040"]);c.push(["Vineyard2","R1,C2,S2,8-10,12-13,B5,NW141404040"]);c.push(["Weevils","R1,C2,S1-4,B5-6,14,NW331101133"]);
c.push(["Weighted Brain","R1,C3,S3-4,7,B4-5,8,NW3323d3232"]);c.push(["Y_Chromosome","R1,C3,S2,B2,NW110101011"]);d.push("Weighted G");c.push(["Weighted Generations",""]);c.push(["WG Rule004","R1,C4,S6-11,B4,NW111101111,0201"]);c.push(["WG Rule012","R1,C6,S4-5,B5,NW111101111,021111"]);c.push(["WG Rule020","R1,C6,S5-8,B5,NW111101111,020301"]);c.push(["WG Rule031","R1,C4,S5-7,B4,NW111101111,0210"]);c.push(["WG Rule038","R1,C5,S8,B6,9,NW111101111,03210"]);c.push(["WG Rule050","R1,C8,S4-8,B6,NW111101111,02120300"]);
c.push(["WG Rule063","R1,C5,S6-7,9-11,B7,10,NW212101212,03101"]);c.push(["WG Rule071","R1,C6,S8-16,B6,NW111101111,031012"]);c.push(["WG Rule072","R1,C6,S8-16,B6,NW111101111,030112"]);c.push(["WG Rule074","R1,C5,S4-8,B3,NW111101111,02001"]);c.push(["WG Rule084","R1,C7,S5-6,B5,NW212101212,0121001"]);d.push("Alt OT M");c.push(["Alternating Outer-Totalistic Moore",""]);c.push(["alternlife","B13/S012345678|B/S15"]);c.push(["comb395","B3/S1237|B2/S"]);c.push(["comb625","B3/S348|B2/S356"]);c.push(["Dotlesslife",
"B3/S23|B/S12345678"]);c.push(["Fizzler","B13/S3|B/S345678"]);c.push(["Jelly","B3/S135|B2/S5"]);c.push(["Phoenix","B24/S|B35/S"]);d.push("Alt INT M");c.push(["Alternating Non-Totalistic Moore",""]);c.push(["SparklessLife","B3/S23|B/S1c2345678"]);c.push(["Unidim1","B134578/S02345678|B6i7/S268"]);c.push(["Unidim2","B12ci34578/S02345678|B7/S268"]);c.push(["Unidim3","B12ci34578/S02345678|B6i7/S268"]);this.hd[0][2]=!1;this.hd[0][3]=!1;for(a=1;a<this.hd.length;a+=1)for(c=this.hd[a][1],d=this.hd[a][0],this.hd[a][2]=
!1,this.hd[a][3]=!1,b=0;b<a;b+=1)this.hd[b][0]===d&&(this.hd[b][3]=!0,this.hd[a][3]=!0),this.hd[b][1]===c&&(this.hd[b][2]=!0,this.hd[a][2]=!0)},Np:function(a){var b=null,c=0;for(a=a.replace(/&amp;/g,"&");c<this.hd.length&&null===b;)""!==this.hd[c][1]&&this.hd[c][0]===a&&(b=this.hd[c][1]),c+=1;if(!b)for(a=a.toLowerCase(),c=0;c<this.hd.length&&null===b;)""!==this.hd[c][1]&&this.hd[c][0].toLowerCase()===a&&(b=this.hd[c][1]),c+=1;return b},Mp:function(a){for(var b=null,c=0;c<this.hd.length&&null===b;)""!==
this.hd[c][1]&&this.hd[c][1]===a&&(b=this.hd[c][0]),c+=1;"Conway's Life"===b&&(b="Life");return b}};nb.prototype.V=function(){var a=!1;if(""!==this.message||""!==this.i)a=!0;return a};nb.prototype.clear=function(a,b){a?""!==this.i&&(b||this.v?(this.i="",this.v=!1):(a=performance.now()-this.F,a<this.A+this.D&&(this.F=performance.now()-(this.A+this.D)),this.v=!0)):""!==this.message&&(b||this.u?(this.u=!1,this.message=""):(a=performance.now()-this.startTime,a<this.G+this.H&&(this.startTime=performance.now()-
(this.G+this.H)),this.u=!0))};nb.prototype.notify=function(a,b,c,d,f){this.S&&(f?this.i!==a&&(this.i=a,this.A=16*b,this.D=16*c,this.Y=16*d,this.F=performance.now(),this.v=!1,this.j=0,this.I=!1):(this.message=a,this.G=16*b,this.H=16*c,this.$=16*d,this.startTime=performance.now(),this.u=!1))};nb.prototype.da=function(){var a=128>this.j?this.j/128:(255-this.j)/128;this.h.fillStyle="rgb("+(this.C.Cb*a+this.C.sc*(1-a))+","+(this.C.Bb*a+this.C.rc*(1-a))+","+(this.C.xb*a+this.C.qc*(1-a))+")"};nb.prototype.O=
function(a,b,c){var d=this.h.measureText(a).width>>1;if(this.P){this.h.fillStyle=this.ca;var f=this.h.globalAlpha;this.h.globalAlpha=.5*f;this.h.fillRect(-d-20,-c,2*d+40,2*c);this.h.globalAlpha=f}this.h.fillStyle=this.Z;this.h.fillText(a,-d+2,2);b?this.I?(this.da(),this.j=this.j+4&255):this.h.fillStyle=this.B:this.h.fillStyle=this.m;this.h.fillText(a,-d,0)};nb.prototype.aa=function(a,b,c,d,f,e,g){var k=30*this.s,l=32*this.s,p=this.C.qb,n=60*this.s,q=!0;this.C.ea?(n=0,e=this.h.canvas.height/2,this.P=
!0):this.P=!1;""!==a&&(q=!1,f=performance.now()-f,this.h.save(),this.C.$&&(g?(n=0,e=this.h.canvas.height/2):(k/=p,l=l/p|0,e=e/p|0,n=n/p|0)),this.h.font=(k|0)+"px Arial",this.h.translate(this.h.canvas.width/2-1,n+e),f<=b?(e=f/b,e*=e,this.h.globalAlpha=e,this.h.scale(e,e)):f>b+c&&f<=b+c+d&&(e=(d-(f-(b+c)))/d,e*=e,this.h.globalAlpha=e,this.h.scale(e,e)),f>b+c+d?q=!0:(b=a.indexOf("\\n"),-1===b?this.O(a,g,l):(this.O(a.substring(0,b),g,l),this.h.translate(0,l),this.O(a.substring(b+2),g,l))),this.h.restore());
return q};nb.prototype.ba=function(){var a=this.C.i.B;this.aa(this.message,this.G,this.H,this.$,this.startTime,81*a,!1)&&(this.message="");this.C.$&&"Expand"!==this.i&&"Launch"!==this.i&&"Copy"!==this.i||!this.aa(this.i,this.A,this.D,this.Y,this.F,45*a,!0)||(this.i="")};vb.prototype.S=function(a){this.v=a};vb.prototype.D=function(a,b,c,d){var f=null,e,g=this.A.length,k,l,p=this.P;if(0<this.B.canvas.width){if(!this.ye){this.width=this.B.canvas.width;this.height=this.B.canvas.height;this.j=document.createElement("canvas");
this.j.width=this.width;this.j.height=this.height;this.m=this.j.getContext("2d");var n=document.createElement("canvas");n.width=this.width;n.height=this.height;this.F=n.getContext("2d");n=document.createElement("canvas");n.width=this.width;n.height=this.height;this.u=n.getContext("2d");this.m.clearRect(0,0,this.j.width,this.j.height);this.m.drawImage(this.B.canvas,0,0);f=this.m.getImageData(0,0,this.j.width,this.j.height);this.G=new Uint32Array(f.data.buffer)}if(this.s){n=new Uint32Array(this.G);
-1===p&&(p=4294901503);for(f=e=0;f<g;f+=1){for(l=38;1<l;--l){var q=e+l*this.width;var m=q-2-this.width-this.width;for(k=38;1<k;--k)0===n[q+k]&&4294967295===n[m+k]&&(n[q+k]=p)}e+=40}for(f=0;f<n.length;f+=1)if(4294967295===n[f]||4285558896===n[f])n[f]=this.I;f=this.u.createImageData(this.u.canvas.width,this.u.canvas.height);e=new Uint32Array(f.data.buffer);e.set(n);this.u.putImageData(f,0,0);n=new Uint32Array(this.G);for(f=e=0;f<g;f+=1){for(l=38;1<l;--l)for(q=e+l*this.width,m=q-2-this.width-this.width,
k=38;1<k;--k)0===n[q+k]&&4294967295===n[m+k]&&(n[q+k]=p);e+=40}for(f=0;f<n.length;f+=1)4294967295===n[f]?n[f]=this.O:4285558896===n[f]&&(n[f]=this.H);f=this.m.createImageData(this.m.canvas.width,this.m.canvas.height);e=new Uint32Array(f.data.buffer);e.set(n);this.m.putImageData(f,0,0);this.ye=this.s=!1}this.ye||(this.F.putImageData(f,0,0),this.ye=!0);1!==this.v&&(this.i.save(),this.i.translate(b,c),this.i.scale(this.v,this.v),this.i.imageSmoothingEnabled=!0,c=b=0);d?this.i.drawImage(this.u.canvas,
a.Ko*a.width,0,a.width,a.height,b,c,a.width,a.height):this.i.drawImage(this.F.canvas,a.Ko*a.width,0,a.width,a.height,b,c,a.width,a.height);1!==this.v&&(this.i.restore(),this.i.imageSmoothingEnabled=!1)}};vb.prototype.length=function(){return this.A.length};vb.prototype.h=function(a){var b,c=this.A,d=this.length(),f=null;for(b=0;b<d&&!f;)c[b].name===a?f=c[b]:b+=1;return f};vb.prototype.add=function(a,b,c){var d=this.A.length;a=new wc(a,b,c,d);this.A[d]=a};var da={Mt:0,re:1,vertical:2,Bm:0,button:1,
Gf:2,list:3,label:4,mi:0,ub:1,left:0,jA:1,right:2,ib:0,pc:1,$q:2,Fb:3,ml:4,Xg:5,Ty:6,Zc:7,hb:8};Ya.prototype.wa=function(a){this.ka=a};Ya.prototype.j=function(a){!this.M&&a&&(this.M=!0)};Ya.prototype.Qb=function(a){this.fontSize=parseInt(a.substring(0,a.indexOf("px")),10);this.na=a.substring(a.indexOf("px")+3)};Ya.prototype.ta=function(a,b,c,d,f,e){this.A=a;this.dc=b;this.Y=c;this.ja=d;this.F=f;this.S=e;if(this.type===da.list)for(this.O=[],a=0;a<this.lower.length;a+=1)this.O[a]=this.dc};Ya.prototype.Hf=
function(a){this.I=a};Ya.prototype.ya=function(a){this.ia=a};Ya.prototype.cf=function(a){this.D=a};Ya.prototype.setPosition=function(a,b,c){this.position=a;this.Z=b;this.D=c};Ya.prototype.ua=function(a,b){var c=this.qa.s,d=this.qa.B,f=this.Z*c,e=this.D*d;c*=this.I;d*=this.ia;this.x=f;this.y=e;this.width=c;this.height=d;switch(this.position){case da.ib:this.x=(a-c>>1)+f;break;case da.pc:this.x=a+f;break;case da.$q:this.y=(b-d>>1)+e;this.x=a+f;break;case da.Fb:this.x=a+f;this.y=b+e;break;case da.ml:this.x=
(a-c>>1)+f;this.y=b+e;break;case da.Xg:this.y=b+e;break;case da.Ty:this.y=(b-d>>1)+e;break;case da.hb:this.x=(a-c>>1)+f,this.y=(b-d>>1)+e}};Ya.prototype.pa=function(a,b){var c=this.ga;this.$[c]=[a,b];this.ga=c+1};Ya.prototype.da=function(a){var b=[],c;var d=a.length;for(c=0;c<d;c+=1)a[c].pa(this,!0);d=b.length;for(c=0;c<d;c+=1)b[c].pa(this,!1)};Ya.prototype.va=function(a,b){var c=!1;this.B&&a>=this.x&&a<this.x+this.width&&b>=this.y&&b<this.y+this.height&&(c=!0);return c};Xa.prototype.Sa=function(a){this.B=
this.s=a;this.X.notification.s=a};Xa.prototype.Ca=function(a,b,c,d,f,e){var g;this.ea=a;this.dc=b;this.fa=c;this.ia=d;this.ga=f;this.ca=e;for(g=0;g<this.v.length;g+=1)this.v[g].ta(a,b,c,d,f,e)};Xa.prototype.wa=function(a,b){var c=!1,d=a.ga;a.type===da.list&&a.u===da.ub?c=a.current[0]:c=a.current===a.u;if(c&&b)for(b=0;b<d;b+=1)c=c&&this.wa(a.$[b][0],a.$[b][1]);return c};Xa.prototype.za=function(a){var b,c=a.ga;var d=!0;for(b=0;b<c;b+=1)d=d&&this.wa(a.$[b][0],a.$[b][1]);a.B=d};Xa.prototype.ye=function(){var a;
for(a=0;a<this.u;a+=1){var b=this.v[a];b.B=!0;switch(b.type){case da.Bm:b.v&&(b.current=b.v(b.current,!1,this.caller,b.id));break;case da.list:b.v&&(b.current=b.v(b.current,!1,this.caller,b.id))}this.za(b)}};Xa.prototype.m=function(a,b,c,d,f,e,g,k,l){this.v[this.u]=new Ya(this.u,a,this.caller,b,c,d,f,e,g,l,k,da.list,this.V,!0,"","",-1,[],this);this.u+=1;return this.v[this.u-1]};Xa.prototype.G=function(a,b,c,d,f,e,g,k,l,p,n,q){this.v[this.u]=new Ya(this.u,a,this.caller,b,c,d,f,e,g,k,l,da.Bm,this.V,
!0,p,n,q,null,this);this.u+=1;return this.v[this.u-1]};Xa.prototype.j=function(a,b,c,d,f,e){this.v[this.u]=new Ya(this.u,null,null,a,b,c,d,f,0,0,0,da.label,this.V,!0,e,"",-1,null,this);this.u+=1;return this.v[this.u-1]};Xa.prototype.i=function(a,b,c,d,f,e,g){this.v[this.u]=new Ya(this.u,a,this.caller,b,c,d,f,e,0,0,0,da.button,this.V,!0,g,"",-1,null,this);this.u+=1;return this.v[this.u-1]};Xa.prototype.Ea=function(a){this.v[this.u]=new Ya(this.u,null,null,a,0,-40,100,40,0,100,0,da.Gf,this.V,!1,"",
"",0,null,this);this.u+=1;return this.v[this.u-1]};Xa.prototype.S=function(a,b){var c="";a+=String();if(""!==a){this.h.save();this.h.translate(b.x+b.width/2,b.y+b.height/2);this.h.font=(b.fontSize*this.s|0)+"px "+b.na;b.Jm===da.vertical&&this.h.rotate(.5*Math.PI);var d=this.h.measureText(a).width;var f=b.Jm===da.vertical?b.height:b.width;if(d>=f-6){var e=a.length;var g=0;if(e){do c=a.substring(0,g)+"\u2026",d=this.h.measureText(c).width,g+=1;while(g<e&&d<=f-10);c=a.substring(0,g-1)+"\u2026"}a=c}switch(b.i){case da.left:var k=
b.width/2-2;break;case da.jA:k=d/2;break;case da.right:k=d/2-(b.width-d)/2+4}this.h.fillStyle=b.dc;this.h.fillText(a,2-k+.5,2.5);this.h.fillStyle=!b.locked&&!this.locked||b.H?b.A:b.F;this.h.fillText(a,-k+.5,.5);this.h.restore()}};Xa.prototype.Ia=function(a){this.h.globalAlpha=this.P;this.S(a.Kb,a)};Xa.prototype.Fa=function(a){this.h.globalAlpha=this.P;this.S(a.Kb,a)};Xa.prototype.Na=function(a){var b=(a.current-a.lower)/(a.u-a.lower);this.h.globalAlpha=a.s;this.h.fillStyle=a.A;a.orientation===da.re?
(b*=a.width-3,this.h.fillRect(a.x+(b+1|0),a.y,1,a.height)):(b*=a.height-3,this.h.fillRect(a.x,a.y+(b+1|0),a.width,1));b=a.Kb;a.sa&&(b=-1!==a.ba?b+a.current.toFixed(a.ba):b+a.current,b+=a.ra);""!==b&&(this.h.globalAlpha=a.V,this.S(b,a))};Xa.prototype.Pa=function(a,b){var c=(a.current[0]-a.lower)/(a.u-a.lower);var d=this.ya;a.orientation===da.re?(c*=a.width-3,c=c+1|0,b&&(this.h.fillStyle=a.Y,this.h.globalAlpha=a.ca,this.h.fillRect(a.x+c-d,a.y,d,a.height),this.h.fillRect(a.x+c+1,a.y,d,a.height)),!a.locked&&
!this.locked||a.H?(this.h.fillStyle=a.A,this.h.globalAlpha=a.V):(this.h.fillStyle=a.F,this.h.globalAlpha=a.P),this.h.fillRect(a.x+c,a.y,1,a.height)):(c*=a.height-3,c=c+1|0,b&&(this.h.fillStyle=a.Y,this.h.globalAlpha=a.ca,this.h.fillRect(a.x,a.y+c-d,a.width,d),this.h.fillRect(a.x,a.y+c+1,a.width,d)),!a.locked&&!this.locked||a.H?(this.h.fillStyle=a.A,this.h.globalAlpha=a.V):(this.h.fillStyle=a.F,this.h.globalAlpha=a.P),this.h.fillRect(a.x,a.y+c,a.width,1));b=a.Kb;a.sa&&(b=0<=a.ba?b+a.current[1].toFixed(a.ba):
b+a.current[1]);b+=a.ra;""!==b&&(this.h.globalAlpha=this.P,this.S(b,a))};Xa.prototype.Ka=function(a,b){var c=a.x;var d=a.y,f=a.width,e=a.height,g=a.orientation,k=a.current;var l=a.lower;var p=l.length;var n=a.orientation===da.re?f/p:e/p;this.h.globalAlpha=a.oa;this.h.fillStyle=a.ja;if(a.u===da.mi){var q=a.current;0<=q&&q<p&&(a.orientation===da.re?this.h.fillRect(c+q*n+1,d+1,n-2,e-2):this.h.fillRect(c+1,d+1+q*n,f-2,n-2))}else if(a.orientation===da.re){for(q=0;q<p;q+=1)k[q]&&this.h.fillRect(c+q*n+1,
d+1,n-2,e-2);1===p&&(!a.locked&&!this.locked||a.H?(this.h.strokeStyle=a.S,this.h.globalAlpha=a.aa):(this.h.strokeStyle=a.F,this.h.globalAlpha=a.P),this.h.beginPath(),k[0]?(this.h.moveTo(c+n-6+.5,d+5.5),this.h.lineTo(c+n-2+.5,d+1.5),this.h.moveTo(c+n-2+.5,d+5.5),this.h.lineTo(c+n-6+.5,d+1.5)):(this.h.moveTo(c+n-4+.5,d+5.5),this.h.lineTo(c+n-4+.5,d+1.5),this.h.moveTo(c+n-6+.5,d+3.5),this.h.lineTo(c+n-2+.5,d+3.5)),this.h.stroke())}else for(q=0;q<p;q+=1)k[q]&&this.h.fillRect(c+1,d+1+q*n,f-2,n-2);a.ea=
!1;b?(this.h.globalAlpha=a.ca,this.h.fillStyle=a.Y,a.orientation===da.re?(q=(this.A-c)/f*p|0,0<=q&&q<p&&(a.m[q]?a.ea=!0:this.h.fillRect(c+q*n+.5,d+.5,n-1,e-1))):(q=(this.F-d)/e*p|0,0<=q&&q<p&&(a.m[q]?a.ea=!0:this.h.fillRect(c+.5,d+.5+q*n,f-1,n-1))),a.G=q):a.G=-1;this.h.globalAlpha=this.P;if(a.orientation===da.re)for(q=0;q<p;q+=1)a.h[q]&&this.$.D(a.h[q],a.x+n*q,a.y,this.locked||a.locked||a.m[q]);else for(q=0;q<p;q+=1)a.h[q]&&this.$.D(a.h[q],a.x,a.y+n*q,this.locked||a.locked||a.m[q]);this.h.globalAlpha=
a.V;this.h.fillStyle=a.A;if(g===da.re)for(q=0;q<p;q+=1)c=l[q],""!==c&&(this.h.save(),this.h.translate((.5+(q-p/2))*n,0),this.S(c,a),this.h.restore());else for(q=0;q<p;q+=1)c=l[q],""!==c&&(this.h.save(),this.h.translate(0,(.5+(q-p/2))*n),this.S(c,a),this.h.restore())};Xa.prototype.Ha=function(a,b,c,d,f){var e=!0;b&&!this.D&&f&&(e=!1);e&&(c===d||-1===d&&b)&&a.type===da.button?(this.h.fillStyle=a.Y,this.h.globalAlpha=a.ca):(this.h.fillStyle=a.dc,this.h.globalAlpha=a.s);switch(a.type){case da.Gf:f=(a.current-
a.lower)/(a.u-a.lower);this.h.fillStyle=a.ja;this.h.globalAlpha=a.oa;a.orientation===da.re?(f*=a.width-3,f=f+1|0,this.h.fillRect(a.x,a.y,f,a.height),this.h.fillStyle=a.dc,this.h.globalAlpha=a.s,this.h.fillRect(a.x+f,a.y,a.width-f,a.height)):(f*=a.height-3,f=f+1|0,this.h.fillRect(a.x,a.y,a.width,f),this.h.fillStyle=a.dc,this.h.fillRect(a.x,a.y+f,a.width,a.height-f));break;case da.Bm:f=(a.current[0]-a.lower)/(a.u-a.lower);if(e&&(c===d||-1===d&&b)){var g=this.ya;if(a.orientation===da.re){f*=a.width-
3;f=f+1|0;var k=f-g;0<k&&this.h.fillRect(a.x,a.y,k,a.height);k=1+f+g;k<a.width&&this.h.fillRect(a.x+k,a.y,a.width-k,a.height)}else f*=a.height-3,f=f+1|0,k=f-g,0<k&&this.h.fillRect(a.x,a.y,a.width,k),k=1+f+g,k<a.height&&this.h.fillRect(a.x,a.y+k,a.width,a.height-k)}else this.h.fillRect(a.x,a.y,a.width,a.height);break;case da.list:g=a.lower.length;if(a.orientation===da.re)for(k=a.width/g,f=0;f<g;f+=1)this.h.fillStyle=a.O[f],this.h.fillRect(a.x+f*k+1,a.y+1,k-2,a.height-2);else for(k=a.height/g,f=0;f<
g;f+=1)this.h.fillStyle=a.O[f],this.h.fillRect(a.x+1,a.y+1+f*k,a.width-2,k-2);break;default:this.h.fillRect(a.x,a.y,a.width,a.height)}a.type!==da.list&&a.h&&(this.h.globalAlpha=a.V,this.$.D(a.h,a.x,a.y,this.locked||a.locked));null!==a.ka&&a.ka(this.caller);if(0<a.border)switch(!a.locked&&!this.locked||a.H?(this.h.strokeStyle=a.S,this.h.globalAlpha=a.aa):(this.h.strokeStyle=a.F,this.h.globalAlpha=a.P),this.h.lineWidth=a.border,a.type){case da.label:break;case da.list:g=a.lower.length;if(a.orientation===
da.re)for(k=a.width/g,f=0;f<g;f+=1)this.locked||a.locked||a.m[f]?(this.h.strokeStyle=a.F,this.h.globalAlpha=a.P):(this.h.strokeStyle=a.S,this.h.globalAlpha=a.aa),this.h.strokeRect(a.x+.5+f*k,a.y+.5,k-1,a.height-1);else for(k=a.height/g,f=0;f<g;f+=1)this.locked||a.locked||a.m[f]?(this.h.strokeStyle=a.F,this.h.globalAlpha=a.P):(this.h.strokeStyle=a.S,this.h.globalAlpha=a.aa),this.h.strokeRect(a.x+.5,a.y+.5+f*k,a.width-1,k-1);break;default:this.h.strokeRect(a.x+.5,a.y+.5,a.width-1,a.height-1)}switch(a.type){case da.button:this.Fa(a);
break;case da.label:this.Ia(a);break;case da.Bm:this.Pa(a,e&&(c===d||-1===d&&b));break;case da.Gf:this.Na(a);break;case da.list:this.Ka(a,e&&(c===d||-1===d&&b))}if(c===d)switch(a.type){case da.Bm:e=this.F,a.orientation===da.vertical?(e<a.y?e=a.y:e>a.y+a.height-1&&(e=a.y+a.height-1),f=(e-a.y)/(a.height-1)*(a.u-a.lower)+a.lower):(e=this.A,e<a.x?e=a.x:e>a.x+a.width-1&&(e=a.x+a.width-1),f=(e-a.x)/(a.width-1)*(a.u-a.lower)+a.lower),a.lower<a.u?(f<a.lower&&(f=a.lower),f>a.u&&(f=a.u)):(f<a.u&&(f=a.u),f>
a.lower&&(f=a.lower)),a.current[0]=f,a.v&&(a.current=a.v(a.current,!0,a.caller,a.id))}if(b&&!this.D&&a.fa)switch(a.type){case da.button:a.v&&a.v(a.caller,a.id);break;case da.list:g=a.lower.length,k=a.orientation===da.re?(this.A-a.x)/a.width*g|0:(this.F-a.y)/a.height*g|0,a.u===da.mi?a.m[k]||(a.v?a.current=a.v(k,!0,a.caller,a.id):a.current=k):a.m[k]||(a.current[k]=!a.current[k],a.v&&a.v(a.current,!0,a.caller,a.id))}b&&c===d?(a.fa=this.D,a.la=this.A,a.ma=this.F):(a.fa=!1,a.la=-1,a.ma=-1)};Xa.prototype.ba=
function(a){this.ta=a};Xa.prototype.Ba=function(){var a,b=!1,c=this.h.canvas.width,d=this.h.canvas.height,f=-1;var e=!1;this.I=-1;if(this.M)this.D?-2!==this.H?(this.ua=this.A,this.va=this.F,this.la=this.A,this.ma=this.F,this.H=-2):this.O&&!this.locked&&this.O(this.A,this.F,this.D,this.caller):(-2===this.H&&(this.O&&!this.locked&&this.O(this.A,this.F,this.D,this.caller),this.A===this.ua&&this.F===this.va&&this.na&&(this.X.ma?this.X.ma=!1:this.na(this.A,this.F,this.D,this.caller))),this.D||(this.H=
-1));else{var g=this.H;this.h.textAlign="left";for(a=0;a<this.u;a+=1){var k=this.v[a];if(!k.M){k.ua(c,d);var l=!1;k.va(this.A,this.F)&&(f=a,!k.locked&&!this.locked||k.H?l=!0:b=!0);l&&!this.D&&(this.I=a);(this.D&&-1===g&&l||l&&this.da)&&k.type!==da.label&&(g=a,this.da&&(k.fa=!0));a!==g||!k.locked&&!this.locked||k.H||(g=-1,l=!1);k.B&&this.Ha(k,l,a,g,this.X.B)}}0<=g&&!this.D&&(e=!0);this.D&&-1===g&&!b&&(g=-2);-2===g&&this.O&&!this.locked&&this.O(this.A,this.F,this.D,this.caller);this.D||(g=-1);this.H=
g;this.h.globalAlpha=1}this.ja=0<=f&&!this.v[f].locked?this.v[f].type===da.Bm?this.v[f].orientation===da.Mt||this.v[f].orientation===da.re?"ew-resize":"ns-resize":"auto":this.ta;return e};pb.prototype.tt=function(a,b){this.m[this.h]=a;this.qv=b;this.h+=1;10<=this.h&&(this.h=0)};pb.prototype.ut=function(a,b){this.s[this.i]=a;this.rv=b;this.i+=1;10<=this.i&&(this.i=0)};pb.prototype.j=function(a){var b=0,c=a.length,d;if(0<c){for(d=0;d<c;d+=1)b+=a[d];b/=c}return b};pb.prototype.xu=function(){return this.j(this.m)};
pb.prototype.yu=function(){return this.j(this.s)};qb.prototype.tt=function(a,b){void 0===this.h[a]&&(this.h[a]=new pb(this));this.h[a].tt(b,this.i);this.i+=1};qb.prototype.ut=function(a,b){void 0===this.h[a]&&(this.h[a]=new pb(this));this.h[a].ut(b,this.i);this.i+=1};qb.prototype.xu=function(a){var b=0;this.h[a]&&(b=this.h[a].xu());return b};qb.prototype.yu=function(a){var b=0;this.h[a]&&(b=this.h[a].yu());return b};qb.prototype.j=function(){var a=[],b;for(b in this.h)a[a.length]=b;return a.sort()};
qb.prototype.reset=function(){this.h={};this.i=this.Bg=0};Ja.prototype.h=function(a,b,c){c?this.ta.ut(a,b):this.ta.tt(a,b)};Ja.prototype.Jb=function(){this.v.fillStyle=this.F;var a=this.v.fillStyle;this.Cb=Number("0x"+a.substring(1,3));this.Bb=Number("0x"+a.substring(3,5));this.xb=Number("0x"+a.substring(5,7));this.v.fillStyle=this.Pa;a=this.v.fillStyle;this.sc=Number("0x"+a.substring(1,3));this.rc=Number("0x"+a.substring(3,5));this.qc=Number("0x"+a.substring(5,7))};Ja.prototype.Ib=function(){this.ra=
[];this.ga=this.pa=0};Ja.prototype.Xb=function(){var a=0;0<this.ga&&(a=this.pa/this.ga);this.ra[this.ra.length]=a;this.ga=this.pa=0};Ja.prototype.ic=function(a){var b=-1;0<=a&&a<this.ra.length&&(b=this.ra[a]);return b};Ja.prototype.Vb=function(a,b,c,d,f,e,g){this.F=a;this.dc=b;this.pb=c;this.Pa=d;this.da=f;this.Ia=e;this.Za=g;this.i&&this.i.Ca(a,b,c,d,f,e);this.notification.m=a;this.notification.B=a;this.Jb();this.notification.Z=b;this.v.fillStyle=b;this.Wa=this.v.fillStyle};Ja.prototype.vb=function(a,
b,c){a=new Xa(this,a,b,c,this.v,this.wa);a.ea=this.F;a.P=this.Lb;a.dc=this.dc;a.Y=this.Ha;a.fa=this.pb;a.qa=this.Mb;a.ia=this.Pa;a.sa=this.Ub;a.ga=this.da;a.ra=this.Rb;a.ca=this.Ia;a.oa=this.nb;a.border=this.border;return a};Ja.prototype.ec=function(){var a=this.i,b=a.s,c=this.v,d="";var f=1;if(-1!==a.H||-1===a.H&&-1===a.I)this.ua=a.H;if(-1===a.I||-1!==this.ua&&this.ua===a.I){if(-1!==a.I){var e=a.v[a.I];e.id===this.Ea&&e.G!==this.va&&(this.ua=-1)}50>this.D&&(this.D+=1)}else{e=a.v[a.I];e.id!==this.Ea||
e.id===this.Ea&&e.G!==this.va?(this.Ea=e.id,this.va=e.G,50>this.D&&(this.D+=1)):0<=this.D&&--this.D;-1!==this.va?a=e.W[this.va]:Array.isArray(e.W)?a="":(a=e.W,null===a&&(a=""));var g=a.indexOf("\n");if(""!==a&&-1===this.D&&!e.ea){this.ua=-1;var k=e.x;var l=e.y;var p=e.width;var n=e.height;-1!==e.G&&(e.orientation===da.re?(k+=p/e.lower.length*e.G,p/=e.lower.length):(l+=n/e.lower.length*e.G,n/=e.lower.length));var q=18*b;c.font=(q|0)+"px Arial";var m=4*b;var r=c.measureText(a).width;b=Math.round(k+
p/2);l=Math.round(l+n/2);b-=r/2;b<m+1?b=m+1:b+r+m>c.canvas.width&&(b=c.canvas.width-r-m-1);n>p?(-1!==this.fb&&p<this.fb&&(p=this.fb),b=b>c.canvas.width/2?k-r-p/2:k+e.width+p/2):(-1!==this.jb&&n<this.jb&&(n=this.jb),l=l>c.canvas.height/2?l-n:l+n);if(r>c.canvas.width){d=(r>>1)+q+m;d>c.canvas.width&&(d=c.canvas.width);for(f=1;c.measureText(a.substring(0,f)).width<d;)f+=1;for(g=f-1;g>f-5;)d=a[g]," "===d||","===d||"/"===d||"|"===d?(f=g+2,g=f-5):--g;d=a.substring(f-1);a=a.substring(0,f-1);r=c.measureText(a).width;
f=c.measureText(d).width;f>r&&(r=f);f=2}else-1!==g&&(d=a.substring(g+1),f=c.measureText(d).width,a=a.substring(0,g),r=c.measureText(a).width,f>r&&(r=f),f=2);g=q*f+2*m;2===f&&l>c.canvas.height/2&&(l-=q+m,g+=m);c.globalAlpha=this.Ha;c.fillStyle=this.dc;c.fillRect((b-m|0)-.5,(l-q/2-m|0)-.5,r+2+2*m,g);c.globalAlpha=this.nb;c.strokeStyle=this.Ia;c.strokeRect((b-m|0)-.5,(l-q/2-m|0)-.5,r+2+2*m,g);c.globalAlpha=this.Ha;c.strokeStyle=this.dc;c.beginPath();c.moveTo((b-m|0)+.5,(l-q/2-m|0)+.5+g);c.lineTo((b-
m|0)+.5+r+2+2*m,(l-q/2-m|0)+.5+g);c.lineTo((b-m|0)+.5+r+2+2*m,(l-q/2-m|0)+.5);c.stroke();c.globalAlpha=1;c.fillStyle=this.dc;c.fillText(a,b+2,l+2);""!==d&&c.fillText(d,b+2,l+q+m+2);c.fillStyle=this.F;f=a.indexOf("[");g=a.lastIndexOf("]");-1!==f&&-1!==g?(e=a.substring(0,f+1),r=c.measureText(e).width,c.fillText(e,b,l),c.fillStyle=this.Za,e=a.substring(f+1,g),c.fillText(e,b+r,l),c.fillStyle=this.F,e=a.substring(g),r=c.measureText(a.substring(0,g)).width,c.fillText(e,b+r,l)):c.fillText(a,b,l);""!==d&&
(f=d.indexOf("["),g=d.lastIndexOf("]"),-1!==f&&-1!==g?(e=d.substring(0,f+1),r=c.measureText(e).width,c.fillText(e,b,l+q+m),c.fillStyle=this.Za,e=d.substring(f+1,g),c.fillText(e,b+r,l+q+m),c.fillStyle=this.F,e=d.substring(g),r=c.measureText(d.substring(0,g)).width,c.fillText(e,b+r,l+q+m)):c.fillText(d,b,l+q+m))}}};Ja.prototype.I=function(a,b){var c=a[0],d=a[1];a=a[2];1<b&&(96<b?b=96:2<b&&this.ia(this),c-=b,0>c&&(c=0),d-=b,0>d&&(d=0),a-=b,0>a&&(a=0));return"#"+("00"+c.toString(16)).slice(-2)+("00"+
d.toString(16)).slice(-2)+("00"+a.toString(16)).slice(-2)};Ja.prototype.cc=function(){var a,b,c=this.v,d=1,f=1,e=this.ta.j(),g=this.ta,k=g.i,l=0,p=[0,0,0],n=[0,0,0],q=c.canvas.width-264*d;this.i&&(d=this.i.s,f=this.i.B);c.globalAlpha=.7;c.fillStyle=this.dc;c.fillRect(q,193*f|0,264*d|0,(16*e.length+6)*f|0);c.globalAlpha=1;c.fillStyle="black";for(b=0;3>b;b+=2){for(a=0;a<e.length;a+=1){var m=e[a];var r=g.h[m].qv;var u=g.h[m].rv;l=r>u?r:u;0<b&&(c.fillStyle=this.I(n,k-l));c.fillText(m,(q+6-b)*d|0,(205-
b+16*a)*f|0);var t=g.yu(m);var v=t.toFixed(2);var B=c.measureText(v).width;0<b&&u>r&&(c.fillStyle=this.I(p,k-l));c.fillText(v,(q+160-b-B)*d|0,(205-b+16*a)*f|0);var w=g.xu(m);v=w.toFixed(2);B=c.measureText(v).width;0<b&&(c.fillStyle=r>u?this.I(p,k-l):this.I(n,k-l));c.fillText(v,(210-b-B+q)*d|0,(205-b+16*a)*f|0);0<g.h[m].rv&&0<g.h[m].qv&&0<w&&0<t&&(m=w/t,c.fillStyle=0===b?this.I(n,k-l):1<m?this.I([32,255,32],k-l):this.I([255,0,0],k-l),v=m.toFixed(1)+"x",B=c.measureText(v).width,c.fillText(v,(260-b-
B+q)*d|0,(205-b+16*a)*f|0));c.fillStyle=this.I(n,k-l)}p=[32,255,255];n=[255,255,255];c.fillStyle=this.I(n,k-l)}};Ja.prototype.oc=function(a){var b,c,d,f=a.v,e=90,g=1,k=1;a.$&&(e=0);a.Fa=!1;a.mb=!0;a.oa&&(a.i=a.oa,a.oa=null,f.font=a.wa,a.i.ye(),a.i.aa&&a.i.aa(a.i.caller));a.i&&(g=a.i.s,k=a.i.B);var l=f.canvas.width-86*g;e*=k;var p=performance.now();a.$a&&(a.Bg=p-1E3/a.tc);a.la||a.notification.V()||a.P||50!==a.D&&-1!==a.D?(a.ia(a),a.P&&--a.P,a.$a=!1):a.$a=!0;var n=p-a.Bg;a.Bg=p;a.i.pa&&a.i.pa(n,a.i.caller);
p=performance.now()-p;var q=performance.now();a.Tb();a.Ka=!1;a.ec();a.notification.ba();q=performance.now()-q;a.ab[a.sa]=q;for(d=b=0;5>d;d+=1)b+=a.ab[d];b/=5;a.eb[a.sa]=p;for(d=c=0;5>d;d+=1)c+=a.eb[d];c/=5;a.ir[a.sa]=n;for(d=n=0;5>d;d+=1)n+=a.ir[d];a.sa=(a.sa+1)%5;d=1E3/(n/5);d>a.tc&&(d=a.tc);0<p+q&&(this.pa+=1E3/(p+q));this.ga+=1;if(a.G){f.font=(12*g|0)+"px Arial";f.globalAlpha=.7;f.fillStyle=a.dc;a.j?W.R?f.fillRect(l,e,88*g|0,103*k|0):f.fillRect(l,e,88*g|0,83*k|0):f.fillRect(l,e,88*g|0,20*k|0);
q=(c+b)/16.666666;1<q&&(q=1);f.fillStyle=.5>q?"rgb("+(510*q|0)+",255,0)":"rgb(255,"+(255*(1-2*(q-.5))|0)+",0)";f.fillRect(l,e,88*q*g|0,20*k|0);if(W.R&&a.j){var m=(W.T.Aj+(va.memory.buffer.byteLength-W.T.v))/va.memory.buffer.byteLength;f.fillStyle=.5>m?"rgb("+(510*m|0)+",255,0)":"rgb(255,"+(255*(1-2*(m-.5))|0)+",0)";f.fillRect(l,e+83*k,88*m*g|0,20*k|0)}b=b.toFixed(1);c=c.toFixed(1);p=4>d.toFixed(1).length?d.toFixed(1):String(d|0);f.globalAlpha=1;f.fillStyle=a.dc;f.fillText(p+"fps",l+6*g,e+12*k);W.R&&
a.j&&(f.fillText("memory",l+6*g,e+92*k),d=(100*m|0)+"%",n=f.measureText(d).width,f.fillText(d,l+84*g-n,e+92*k));d=(100*q|0)+"%";n=f.measureText(d).width;f.fillText(d,l+84*g-n,e+12*k);a.j&&W.R&&a.cc();if(a.j&&a.B){f.save();f.fillStyle="black";f.font="18px Arial";for(d=0;3>d;)f.fillText(String(a.s),4-d,50-d),f.fillText(a.caller.Vl+", "+a.caller.Xl,4-d,80-d),f.fillText(String(a.u),4-d,110-d),f.fillText(a.caller.Wl+", "+a.caller.Yl,4-d,140-d),d+=2,f.fillStyle="white";f.restore()}a.j&&(f.fillStyle="black",
f.fillText("menu",l+6*g,e+28*k),f.fillText("work",l+6*g,e+44*k),f.fillText("update",l+6*g,e+60*k),f.fillText("focus",l+6*g,e+76*k),d=b+"ms",n=f.measureText(d).width,f.fillText(d,l+84*g-n,e+28*k),d=c+"ms",n=f.measureText(d).width,f.fillText(d,l+84*g-n,e+44*k),d=a.la?"on":"off",n=f.measureText(d).width,f.fillText(d,l+84*g-n,e+60*k),d=a.A?"on":"off",n=f.measureText(d).width,f.fillText(d,l+84*g-n,e+76*k));f.fillStyle=a.F;f.fillText(p+"fps",l+4*g,e+10*k);d=(100*q|0)+"%";n=f.measureText(d).width;f.fillText(d,
l+82*g-n,e+10*k);W.R&&a.j&&(f.fillText("memory",l+4*g,e+90*k),d=(100*m|0)+"%",n=f.measureText(d).width,f.fillText(d,l+82*g-n,e+90*k));a.j&&(f.fillText("menu",l+4*g,e+26*k),f.fillText("work",l+4*g,e+42*k),f.fillText("update",l+4*g,e+58*k),f.fillText("focus",l+4*g,e+74*k),d=b+"ms",n=f.measureText(d).width,f.fillText(d,l+82*g-n,e+26*k),d=c+"ms",n=f.measureText(d).width,f.fillText(d,l+82*g-n,e+42*k),d=a.la?"on":"off",n=f.measureText(d).width,f.fillText(d,l+82*g-n,e+58*k),d=a.A?"on":"off",n=f.measureText(d).width,
f.fillText(d,l+82*g-n,e+74*k));f.globalAlpha=1}a.i.ja!==a.i.ka&&(a.i.ka=a.i.ja,a.V.style.cursor=a.i.ka);W.R?(m=W.tC.toFixed(1)+"ms",f.font=(16*g|0)+"px Arial",f.fillStyle="black",f.fillText("LifeViewer Pro",3*g,121*k),f.fillText("Alpha release",3*g,141*k),f.fillStyle="white",f.fillText("LifeViewer Pro",2*g,120*k),f.fillText("Alpha release",2*g,140*k),f.font=(12*g|0)+"px Arial",f.fillStyle="black",f.fillText(m,3*g,161*k),f.fillStyle="white",f.fillText(m,2*g,160*k)):""!==W.Ry&&(f.font=(16*g|0)+"px Arial",
f.fillStyle="black",f.fillText(W.Ry,3*g,121*k),f.fillStyle="white",f.fillText(W.Ry,2*g,120*k));a.kb=!0};Ja.prototype.ka=function(a){a.$=this.Nb;this.i?this.oa=a:(this.oa=null,this.i=a,this.v.font=this.wa,this.i.ye(),this.i.aa&&this.i.aa(this.i.caller),this.ia(this))};Ja.prototype.Tb=function(){var a;if(this.i){var b=this.i;this.v.font=this.wa;b.A=this.Y;b.F=this.Z;b.D=this.ja;b.da=this.Ka;if(b.Ba()||this.m){for(a=0;a<b.u;a+=1){var c=b.v[a];b.za(c)}this.m=!1}}};Ja.prototype.ia=function(a){a.Fa||(requestAnimationFrame?
requestAnimationFrame(a.rb):setTimeout(a.rb,16),a.Fa=!0)};Ja.prototype.lb=function(){var a=this.na(this,this.O,this.ca),b=this.na(this,this.H,this.S);this.qa&&this.qa(a[0],a[1],b[0],b[1],0,this.caller)};Ja.prototype.Hb=function(a){a.identifier===this.s?(a=this.na(this,this.O,this.ca),this.qa(a[0],a[1],0,0,1,this.caller)):(a=this.na(this,this.H,this.S),this.qa(a[0],a[1],0,0,2,this.caller))};Ja.prototype.Ba=function(){this.Ae(!0)};Ja.prototype.za=function(a,b){var c=b.changedTouches,d=c.length,f;switch(b.type){case "touchstart":if(-1===
a.s&&-1===a.u)switch(d){case 1:var e=c[0];a.s=e.identifier;a.O=e.pageX;a.ca=e.pageY;a.fa(a,e.pageX,e.pageY);break;case 2:e=c[0],a.s=e.identifier,a.O=e.pageX,a.ca=e.pageY,e=c[1],a.u=e.identifier,a.H=e.pageX,a.S=e.pageY,a.lb()}else-1===a.s?(a.aa(a,a.H,this.S),e=c[0],a.s=e.identifier,a.O=e.pageX,a.ca=e.pageY,a.lb()):-1===a.u&&(a.aa(a,this.O,this.ca),e=c[0],a.u=e.identifier,a.H=e.pageX,a.S=e.pageY,a.lb());break;case "touchend":for(f=0;f<d;f+=1)e=c[f],e.identifier===a.s?-1===a.u?(a.aa(a,e.pageX,e.pageY),
a.s=-1):(a.s=-1,a.Ba(),a.fa(a,a.H,a.S)):e.identifier===a.u&&(-1===a.s?(a.aa(a,e.pageX,e.pageY),a.u=-1):(a.u=-1,a.Ba(),a.fa(a,a.O,a.H)));break;case "touchmove":for(f=0;f<d;f+=1)e=c[f],e.identifier===a.s?-1===a.u?a.Ua(a,e.pageX,e.pageY):(a.O=e.pageX,a.ca=e.pageY,a.Hb(e)):e.identifier===a.u&&(-1===a.s?a.Ua(a,e.pageX,e.pageY):(a.H=e.pageX,a.S=e.pageY,a.Hb(e)));break;case "touchcancel":for(f=0;f<d;f+=1)e=c[f],e.identifier===a.s?-1===a.u?(a.aa(a,e.pageX,e.pageY),a.s=-1):(a.s=-1,a.Ba(),a.fa(a,a.H,a.S)):
e.identifier===a.u&&(-1===a.s?(a.aa(a,e.pageX,e.pageY),a.u=-1):(a.u=-1,a.Ba(),a.fa(a,a.O,a.H)))}a.B=!0;b.stopPropagation&&b.stopPropagation();b.cancelable&&b.preventDefault()};Ja.prototype.fa=function(a,b,c){a.Va(a,b,c);a.ja=!0;a.mb=!1};Ja.prototype.aa=function(a,b,c){a.cb=performance.now();a.Va(a,b,c);a.ja=!1;a.mb||(a.Ka=!0);0<=a.Y&&a.Y<a.V.width&&0<=a.Z&&a.Z<a.V.height?a.A||(a.B||a.V.focus(),a.A=!0,a.notification.clear(!0,!1),a.Db&&a.Db(a.caller)):a.B&&a.notification.clear(!0,!1)};Ja.prototype.Ua=
function(a,b,c){a.tb(a);a.Va(a,b,c)};Ja.prototype.nc=function(a){a.tb(a)};Ja.prototype.mc=function(a){1<performance.now()-a.cb&&(a.A||a.notification.clear(!0,!1),a.V.blur(),a.A=!1,a.ja=!1,a.Y=-1,a.Z=-1,a.ma=!1,a.Fa||(a.ia(a),a.P<a.Ca&&(a.P=a.Ca)))};Ja.prototype.Yb=function(a,b){if(!a.ba){if(b.pageX||b.pageY){var c=b.pageX;var d=b.pageY}else c=b.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,d=b.clientY+document.body.scrollTop+document.documentElement.scrollTop;a.fa(a,c,d);b.stopPropagation&&
b.stopPropagation();b.preventDefault();a.B=!1}};Ja.prototype.bc=function(a,b){a.cb=performance.now();if(!a.ba){if(b.pageX||b.pageY){var c=b.pageX;var d=b.pageY}else c=b.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,d=b.clientY+document.body.scrollTop+document.documentElement.scrollTop;a.aa(a,c,d);b.stopPropagation&&b.stopPropagation();b.preventDefault();a.B=!1}};Ja.prototype.tb=function(a){a.A||a.ma&&""!==a.notification.i||(a.ea?a.Na||a.notification.notify("Copy",15,3600,15,
!0):a.$?a.ya?a.Ya?a.Na||a.notification.notify("Copy",15,3600,15,!0):a.notification.notify("Launch",15,3600,15,!0):a.notification.notify("Expand",15,3600,15,!0):a.notification.notify("Click to control",15,3600,15,!0),a.notification.I=!0,a.ma=!0)};Ja.prototype.Zb=function(a,b){if(!a.ba){if(b.pageX||b.pageY){var c=b.pageX;var d=b.pageY}else c=b.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,d=b.clientY+document.body.scrollTop+document.documentElement.scrollTop;a.Ua(a,c,d);b.stopPropagation&&
b.stopPropagation();b.preventDefault();a.B=!1}};Ja.prototype.ac=function(a,b){a.ba||(a.nc(a),b.stopPropagation&&b.stopPropagation(),b.preventDefault(),a.B=!1)};Ja.prototype.$b=function(a,b){a.ba||(a.mc(a),b.stopPropagation&&b.stopPropagation(),b.preventDefault(),a.B=!1)};Ja.prototype.hc=function(a){for(var b=[1,1],c;null!==a;)c=window.getComputedStyle(a),c=c.getPropertyValue("transform"),"none"!==c&&(c=c.split(", "),c[0]=c[0].substring(7),c[5]=c[5].substring(0,c[5].length-1),b[0]*=parseFloat(c[0]),
b[1]*=parseFloat(c[3])),a=a.parentElement;return b};Ja.prototype.na=function(a,b,c){var d=this.V.getBoundingClientRect(),f=a.hc(a.V);window.scrollX?(b-=d.left+window.scrollX,c-=d.top+window.scrollY):(b-=d.left+window.pageXOffset,c-=d.top+window.pageYOffset);b/=f[0];c/=f[1];1===f[0]&&1===f[1]&&(b/=a.Sa,c/=a.Sa);return[b-1|0,c-1|0]};Ja.prototype.Va=function(a,b,c){b=a.na(a,b,c);a.Y=b[0];a.Z=b[1];a.ia(a);a.P<a.Ca&&(a.P=a.Ca)};Ja.prototype.Ae=function(a){!a&&!this.notification.V()||this.la||this.ia(this);
this.la=a};var Za={rules:[],sr:[],Vj:[],Xq:[],NF:function(a,b,c,d,f){var e,g=this.Vj.length,k=!1,l=a.h;l=l.replace(/ /g,"_");for(e=0;e<g&&!k;){var p=this.Vj[e];p.name===l?(k=!0,p.pattern[p.pattern.length]=a,p.nq[p.nq.length]=b,p.Kp[p.Kp.length]=c,p.Hq[p.Hq.length]=d,p.view[p.view.length]=f):e+=1}k||(this.Vj[g]={name:l,pattern:[a],nq:[b],Kp:[c],Hq:[d],view:[f]});return k},HG:function(a){var b=0,c=this.Xq.length,d=!1,f="";for(a=a.replace(/ /g,"_");b<c&&!d;)this.Xq[b].name===a?(d=!0,f=this.Xq[b].definition):
b+=1;return f},St:function(){var a,b=!0;for(a=0;a<this.Vj.length;a+=1)""!==this.Vj[a].name&&(b=!1);b&&W.ym&&0<W.$c.length&&W.$c[0][1]&&W.$c[0][1].uH()},SI:function(a){var b,c=this.Vj.length,d=!1,f=a.h;f=f.replace(/ /g,"_");for(a=0;a<c&&!d;){var e=this.Vj[a];if(e.name===f)for(d=!0,e.name="",b=0;b<e.nq.length;b+=1)null!==e.nq[b]&&(this.yB(e.pattern[b]),e.pattern[b].X.U="",e.pattern[b].X.ob=!0,e.pattern[b].X.Rj=!1,e.nq[b](e.pattern[b],e.Hq[b],e.view[b]));else a+=1}this.St()},Nr:function(a){var b,c=this.Vj.length,
d=!1,f=a.h;f=f.replace(/ /g,"_");for(a=0;a<c&&!d;){var e=this.Vj[a];if(e.name===f)for(d=!0,e.name="",b=0;b<e.Kp.length;b+=1)null!==e.Kp[b]&&(e.pattern[b].Da=e.pattern[b].uD,e.Kp[b](e.pattern[b],e.Hq[b],e.view[b]));else a+=1}this.St()},add:function(a,b,c,d,f,e){var g,k=this.rules.length,l=!1,p=a.h;p=p.replace(/ /g,"_");for(g=0;g<k&&!l;)this.rules[g].name===p?l=!0:g+=1;l||(this.rules[k]=null===a.ia?{name:p,pB:!0,ey:a.ma,dI:a.mb,uI:a.qb,YF:a.lb,qJ:a.ab,rJ:a.cb,Wn:a.Ha,fr:a.na,names:a.kb,ha:a.Nb,eA:e}:
{name:p,pB:!1,ey:a.ta,um:a.$a,dG:a.Ua,output:a.ia,HE:a.Va,Wn:a.Ha,vG:a.pb,fr:a.na,names:a.kb,eA:e},this.sr[k]={fetch:b|0,decode:c|0,size:d},this.Xq[k]={name:p,definition:f},this.SI(a))},yB:function(a){var b,c=this.rules.length,d=null,f=!1,e=a.h;e=e.replace(/ /g,"_");for(b=0;b<c&&!f;)this.rules[b].name===e?(f=!0,d=this.rules[b]):b+=1;f&&(a.ia=null,d.pB?(a.ma=d.ey,a.mb=d.dI,a.qb=d.uI,a.lb=d.YF,a.ab=d.qJ,a.cb=d.rJ,a.ha=d.ha):(a.ta=d.ey,a.$a=d.um,a.Ua=d.dG,a.ia=d.output,a.Va=d.HE,a.pb=d.vG,a.ha=a.$a===
Da.Vg?!0:!1),a.Ha=d.Wn,a.na=d.fr,a.kb=d.names,a.ga=!1,a.X.F=d.eA);return f}},Da={uj:0,Wg:1,Vg:2,Xj:3,Or:-1,sJ:0,tJ:1,uJ:2,wJ:3,vJ:["circles","diamonds","hexagons","triangles"],hr:-999999};mb.prototype.Yb=function(){var a=!1;this.Da&&0!==this.G[0]&&(a=!0);return a};mb.prototype.Ib=function(a){var b="";if(this.za!==a||this.Ba!==a)this.za!==a&&(b+="C"+this.za),this.Ba!==a&&(b+="E"+this.Ba);return b};mb.prototype.$b=function(a){this.Pa=a.Pa;this.h=a.h;this.fa=a.fa;this.ka=a.ka;this.ga=a.ga;this.V=a.V;
this.ha=a.ha;this.va=a.va;this.s=a.s;this.Ca=a.Ca;this.Sa=a.Sa;this.Z=a.Z;this.qa=a.qa;this.la=a.la;this.$=a.$;this.A=a.A;this.oa=a.oa;this.ya=a.ya;this.O=a.O;this.aa=a.aa;this.Y=a.Y;this.ea=a.ea;this.Da=a.Da;this.v=a.v;this.m=a.m;this.i=a.i;this.F=a.F;this.ba=a.ba;this.pa=a.pa;this.ja=a.ja;a.B&&(this.B=new Uint8Array(a.B.length),this.B.set(a.B));a.G&&(this.G=new Uint8Array(a.G.length),this.G.set(a.G))};mb.prototype.Zb=function(a,b){a.B&&(this.Ka=b.h(ra.bb,a.B.length,"HROT.altSurvivals",!1),this.Ka.set(a.B));
a.G&&(this.Ia=b.h(ra.bb,a.G.length,"HROT.altBirths",!1),this.Ia.set(a.G));this.Xb=a.O;this.Vb=a.aa;this.Tb=a.Y;this.Ub=a.ea};mb.prototype.bc=function(){this.V=this.h=this.Pa="";this.ha=this.ga=this.ka=this.fa=!1;this.va=this.X.pa;this.s=!1;this.Sa=this.Ca=0;this.Z=this.X.ia;this.qa=-1;this.$=this.la=!1;this.oa=this.A=-1;this.Da=!1;this.i=this.m=this.v=-1;this.F=2};mb.prototype.ac=function(a){return this.$!==a.$||this.Da!==a.Da?"Alternate is different rule family":this.X.na?"Alternate can not use Wolfram emulation":
(-1===this.i?this.F:this.i)!==(-1===a.i?a.F:a.i)?"Alternate has different number of states":this.ka!==a.ka||this.fa!==a.fa||this.ha!==a.ha||this.va!==a.va||this.s!==a.s||this.Z!==a.Z||this.la!==a.la||-1===this.qa&&-1!==a.qa||-1!==this.qa&&-1===a.qa||this.oa!==a.oa||this.m!==a.m?"Alternate has different neighborhood":this.A!==a.A||this.v!==a.v?"Alternate has different range":this.ga||a.ga?"Alternate can not use none":this.ba!==a.ba||this.pa!==a.pa||this.ja!==a.ja?"Alternate has different neighbourhood":
""};wa.prototype.ed=function(a,b,c){var d,f,e=0,g=0,k=0,l=!1;var p=b.length;for(d=f=0;d<p;){var n=b[d];d+=1;switch(f){case 0:switch(n){case "!":f=1;a.u+="#C ";var q=!0;break;case "O":case "o":case "*":case ".":f=2;g=e=k=0;var m=--d}break;case 1:"\r"!==n&&"\n"!==n&&(" "===n?q||(a.title+=n,a.u+=n):(q=!1,a.title+=n,a.u+=n));"\n"===n&&(f=0,a.u+=n,a.title+=" ");break;case 2:switch(n){case "O":case "o":case "*":case ".":g+=1;break;case "\n":k+=1;g>e&&(e=g);g=0;break;case " ":case "\t":break;default:d=p,
l=!0}}}if(!l){2===f&&"\n"!==n&&(k+=1,g>e&&(e=g));a.height=k;a.width=e;a.Za="Cells";a.I=Array.matrix(ra.Xa,a.height,(a.width-1>>4)+1,0,c,"Pattern.lifeMap",!1);d=m;for(f=e=0;d<p;)switch(n=b[d],d+=1,n){case "\n":e+=1;f=0;break;case "O":case "o":case "*":a.I[e][f>>4]|=1<<(~f&15);f+=1;break;case ".":f+=1}this.ob=!0;"#C "===a.u&&(a.u="");this.ya(a,"",c,!1)}};wa.prototype.dd=function(a,b,c){var d,f;var e=b.length;var g=[];var k=0;var l=!1;var p=f=0;var n=!1;for(d=10;d<e;){var q=b[d];d+=1;switch(q){case "\n":n&&
(n=!1,2===m&&l&&(p=-p,l=!1),g[k]=[f,p],k+=1);var m=p=f=0;break;case "-":l=!0;0===m?m=1:1===m&&(m=2);break;case " ":1===m&&(l&&(f=-f,l=!1),m=2);break;case "0":case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":0===m&&(m=1),1===m?f=10*f+parseInt(q,10):(p=10*p+parseInt(q,10),n=!0)}}n&&(2===m&&l&&(p=-p),g[k]=[f,p],k+=1);if(k){e=b=g[0][0];m=q=g[0][1];for(d=1;d<k;d+=1)f=g[d][0],p=g[d][1],f<b&&(b=f),f>e&&(e=f),p<q&&(q=p),p>m&&(m=p);a.height=m-q+1;a.width=e-b+1;a.I=Array.matrix(ra.Xa,
a.height,(a.width-1>>4)+1,0,c,"Pattern.lifeMap",!1);a.Za="Life 1.06";this.ya(a,"",c,!1);for(d=0;d<k;d+=1)f=g[d][0]-b,p=g[d][1]-q,a.I[p][f>>4]|=1<<(~f&15)}};wa.prototype.ac=function(a,b,c,d){var f,e,g=[],k=0,l=b.length;var p="";var n=!1;var q=0,m=0,r=!1,u=!1,t=0,v=0;c=c?10:0;for(this.ob=!0;c<l&&!u;){var B=b[c];c+=1;switch(q){case 0:switch(B){case "#":q=2;break;case "*":case ".":q=3;var w=e=f=0;var z=--c}break;case 2:switch(B){case "C":case "D":q=1;a.u+="#C ";var E=!0;break;case "N":q=0;break;case "R":q=
4;break;case "P":q=5;m=0;r=!1;v=t=0;break;case "\n":q=0;break;default:q=1,E=!0}break;case 1:"\r"!==B&&"\n"!==B&&(" "===B?E||(a.title+=B,a.u+=B):(E=!1,a.title+=B,a.u+=B));"\n"===B&&(q=0,a.title+=" ",a.u+=B);break;case 4:"\n"===B?q=0:(p+=B,n=!0);break;case 5:switch(B){case "\n":q=0;2===m&&r&&(v=-v,r=!1);break;case "-":r=!0;0===m?m=1:1===m&&(m=2);break;case " ":1===m&&(r&&(t=-t,r=!1),m=2);break;case "0":case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":0===m&&(m=1),1===
m?t=10*t+parseInt(B,10):v=10*v+parseInt(B,10)}break;case 3:switch(B){case "\n":f>e&&(e=f);f=0;w+=1;break;case "#":g[k]=new lc(t,v,e,w,z,c-1);k+=1;q=2;break;case "*":case ".":f+=1;break;case " ":case "\t":break;default:u=!0}}}"\n"!==B&&(w+=1);3===q&&(g[k]=new lc(t,v,e,w,z,c-1),k+=1);if(k&&!u){t=g[0].Yo;v=g[0].Zo;B=t+g[0].width-1;f=v+g[0].height-1;for(c=1;c<k;c+=1)g[c].Yo<t&&(t=g[c].Yo),g[c].Zo<v&&(v=g[c].Zo),g[c].Yo+g[c].width-1>B&&(B=g[c].Yo+g[c].width-1),g[c].Zo+g[c].height-1>f&&(f=g[c].Zo+g[c].height-
1);a.height=f-v+1;a.width=B-t+1;a.I=Array.matrix(ra.Xa,a.height,(a.width-1>>4)+1,0,d,"Pattern.lifeMap",!1);a.Za="Life 1.05";a.ca=Array.matrix(ra.bb,a.height,a.width,0,d,"Pattern.multiStateMap",!1);n?(this.Cb(a,p,!1,d),this.ob?0<=a.i||a.H||(a.ca=null):(a.i=-1,a.H=!1,a.D=!1,a.S=!1)):this.ya(a,"",d,!1);for(c=0;c<k;c+=1)for(d=g[c].MJ,p=g[c].wG,f=g[c].Yo-t,B=g[c].Zo-v,n=f,e=B;d<=p;)switch(B=b[d],d+=1,B){case "\n":e+=1;n=f;break;case "*":a.I[e][n>>4]|=1<<(~n&15);a.ca&&(a.ca[e][n]=1);n+=1;break;default:n+=
1}}};wa.prototype.ga=function(a,b,c,d){var f=0,e,g,k;c&&(f=4);for(g=0;8192>g;g+=8)for(k=0;4>k;k+=1){c=0;for(e=g+k&d;0<e;)c+=e&1,e>>=1;b===c&&(a[g+k+f]=1)}};wa.prototype.Ea=function(a,b,c,d){var f=0,e,g,k;c&&(f=16);for(g=0;512>g;g+=32)for(k=0;16>k;k+=1){c=0;for(e=g+k&d;0<e;)c+=e&1,e>>=1;b===c&&(a[g+k+f]=1)}};wa.prototype.Ed=function(a){return(a&7)<<6|(a&448)>>6|a&56};wa.prototype.Fc=function(a){return(a&4)<<6|(a&32)<<2|(a&256)>>2|(a&2)<<4|a&16|(a&128)>>4|(a&1)<<2|(a&8)>>2|(a&64)>>6};wa.prototype.Yd=
function(a,b,c){var d;for(d=0;4>d;d+=1)a[b]=c,b=this.Fc(b);b=this.Ed(b);for(d=0;4>d;d+=1)a[b]=c,b=this.Fc(b)};wa.prototype.Od=function(a,b,c,d,f,e){var g=c?16:0;if(2>b||4<b)this.Ea(a,b,c,e);else if(c="omp".indexOf(d),-1!==c)for(b=this.Td[b-2][c],c=0;c<b.length;c+=1)d=b[c]+g,a[d]=f,a[d+256]=f,a[d+1]=f,a[d+257]=f};wa.prototype.Xd=function(a,b,c,d,f){var e=0,g=b-1;0===b||8===b?this.Ea(a,b,c,511):(3<g&&(g=6-g,e=495),b=this.Gc[g].indexOf(d),-1!==b&&(e^=this.Ud[g][b],c&&(e|=16),this.Yd(a,e,f)))};wa.prototype.Cc=
function(a,b,c,d){var f=b.length,e=0,g="",k;for(k=0;k<f;k+=1){var l=b.charCodeAt(k)-48;e|=1<<l;this.Ea(a,l,c,d)}for(k=0;9>k;k+=1)0!==(e&1<<k)&&(g+=String(k));return g};wa.prototype.vb=function(a){for(var b=0;a;)b+=1,a&=a-1;return b};wa.prototype.Rc=function(a,b){var c="",d=0;if(b[a]){b=b[a];0!==(b&8192)&&(d=1,b&=-8193);var f=this.vb(b);var e=2>a||4<a?0:3;2<=f&&(b=~b&(1<<e)-1)&&(d=1-d);if(!d||b)for(c+=String(a),d&&(c+="-"),a=0;a<e;a+=1)0!==(b&1<<a)&&(c+="omp"[a])}else c+=String(a);return c};wa.prototype.Sc=
function(a,b){var c="",d=0;if(b[a]){b=b[a];0!==(b&8192)&&(d=1,b&=-8193);var f=this.vb(b);var e=this.Jd[a];(d||7!==f||13!==e)&&f+d>e>>1&&(b=~b&(1<<e)-1)&&(d=1-d);if(!d||b)for(c+=String(a),d&&(c+="-"),f=0;f<e;f+=1)d=this.Qd[a][f],0!==(b&1<<d)&&(c+=this.Gc[3][d])}else c+=String(a);return c};wa.prototype.Hc=function(a,b,c,d){var f=b.length,e=0,g=[],k="",l;b+=" ";for(l=0;7>l;l+=1)g[l]=0;for(l=0;l<f;l+=1){var p=b.charCodeAt(l)-48;if(0<=p&&8>=p){var n=0!==(e&1<<p);e|=1<<p;var q=b[l+1];var m=this.pb[p].indexOf(q);
-1!==m||n||this.Ea(a,p,c,d);var r=1;"-"===q&&(r=0,l+=1,q=b[l+1],m=this.pb[p].indexOf(q));-1!==m||"0"<=q&&"9">=q||" "===q||(this.U=(c?"S":"B")+p+q+" not valid",l=f);n&&(n=0,0===(g[p]&8192)&&(n=1),n!==r&&(this.U=(c?"S":"B")+p+" can not have minus and non-minus",m=-1,l=f));for(;-1!==m;)0!==(g[p]&1<<m)?(this.U="Duplicate "+p+this.pb[p][m],m=-1,l=f):(this.Od(a,p,c,q,r,d),g[p]|=1<<m,r||(g[p]|=8192),l+=1,q=b[l+1],m=this.pb[p].indexOf(q))}else this.U="Missing digit prefix"}for(l=0;7>l;l+=1)0!==(e&1<<l)&&
(k+=this.Rc(l,g));return k};wa.prototype.Ic=function(a,b,c){var d=b.length,f=0,e=[],g="",k;b+=" ";for(k=0;9>k;k+=1)e[k]=0;for(k=0;k<d;k+=1){var l=b.charCodeAt(k)-48;if(0<=l&&8>=l){var p=0!==(f&1<<l);f|=1<<l;var n=b[k+1];var q=this.qb[l].indexOf(n);-1!==q||p||this.Ea(a,l,c,511);var m=1;"-"===n&&(m=0,k+=1,n=b[k+1],q=this.qb[l].indexOf(n));-1!==q||"0"<=n&&"9">=n||" "===n||(this.U=(c?"S":"B")+l+n+" not valid",k=d);p&&(p=0,0===(e[l]&8192)&&(p=1),p!==m&&(this.U=(c?"S":"B")+l+" can not have minus and non-minus",
q=-1,k=d));for(;-1!==q;)0!==(e[l]&1<<q)?(this.U="Duplicate "+l+this.qb[l][q],q=-1,k=d):(this.Xd(a,l,c,n,m),e[l]|=1<<q,m||(e[l]|=8192),k+=1,n=b[k+1],q=this.qb[l].indexOf(n))}else this.U="Missing digit prefix"}for(k=0;9>k;k+=1)0!==(f&1<<k)&&(g+=this.Sc(k,e));return g};wa.prototype.$b=function(a,b){var c;for(c=0;512>c;c+=1)a[c]=0!==(b&1<<(c&7))?1:0!==(c&16)?1:0};wa.prototype.xb=function(a,b,c){var d=12,f=8191,e=a.Ca,g=a.Sa;switch(a.Z){case this.la:d=3;f=this.ge;break;case this.ma:d=9;f=this.ke;break;
case this.ua:d=6;f=this.he;break;case this.va:d=6;f=this.ie;break;case this.ta:d=9;f=this.fe;break;case this.wa:d=3,f=this.je}b.fill(0);c&&c.fill(0);if(0!==(e&1))if(0!==(g&1<<d)){e=~e;g=~g;for(a=0;a<=d;a+=1)g&1<<d-a&&this.ga(b,a,!1,f);for(a=0;a<=d;a+=1)e&1<<d-a&&this.ga(b,a,!0,f);c.set(b)}else{for(a=0;a<=d;a+=1)~e&1<<a&&this.ga(c,a,!1,f);for(a=0;a<=d;a+=1)~g&1<<a&&this.ga(c,a,!0,f);for(a=0;a<=d;a+=1)g&1<<d-a&&this.ga(b,a,!1,f);for(a=0;a<=d;a+=1)e&1<<d-a&&this.ga(b,a,!0,f);this.ca=!0}else{for(a=0;a<=
d;a+=1)0!==(e&1<<a)&&this.ga(b,a,!1,f);for(a=0;a<=d;a+=1)0!==(g&1<<a)&&this.ga(b,a,!0,f);c&&c.set(b)}};wa.prototype.cd=function(a,b,c,d,f){var e=this.Rb,g="",k="";switch(f){case this.la:e=this.Nb;break;case this.ma:e=this.Ub;break;case this.ua:e=this.Jc;break;case this.va:e=this.Kc;break;case this.ta:e=this.Ec;break;case this.wa:e=this.Mc}for(f=a.Ca=0;f<b.length;f+=1){var l=e.indexOf(b[f]);a.Ca|=1<<l}for(f=a.Sa=0;f<c.length;f+=1)l=e.indexOf(c[f]),a.Sa|=1<<l;for(f=0;f<e.length;f+=1)0!==(a.Ca&1<<f)&&
(g+=e[f]);for(f=0;f<e.length;f+=1)0!==(a.Sa&1<<f)&&(k+=e[f]);return-1!==d?k+"/"+g+"/"+d:"B"+g+"/S"+k};wa.prototype.ad=function(a,b,c,d,f){var e=0,g=this.ae;var k=(1<<this.za+1)/6|0;var l=new Uint8Array(512),p=a.fa,n=a.ka,q=a.ha;var m=a.va;var r=a.s,u=a.Z,t=a.la,v=a.i;if(a.ga)c=this.oc;else if(p||n)for(c=p?"M":"2PCA4,",m=0;16>m;m+=1)c+=f[m],15>m&&(c+=",");else if(r)c=this.cd(a,b,c,v,u);else{a=511;q?a=m===this.qa?114:254:t&&(a=186);l.fill(0);f.fill(0);for(m=0;m<l.length;m+=1)g[m]=q?m:(m&448)>>6|m&56|
(m&7)<<6;if(""!==d){c="MAP";for(m=0;m<k;m+=1)c+=d[m],b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(d[m]),l[e]=b>>5,e+=1,l[e]=b>>4&1,e+=1,l[e]=b>>3&1,e+=1,l[e]=b>>2&1,e+=1,l[e]=b>>1&1,e+=1,l[e]=b&1,e+=1;b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(d[m]);l[e]=b>>5;l[e+1]=b>>4&1;c+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[b&48];for(m=0;512>m;m+=1){d=0;k=this.za;for(e=8;0<=e;--e)0!==(a&1<<e)&&(0!==(m&1<<e)&&(d|=1<<
k),--k);f[g[m]]=l[d]}-1!==v&&(c+="/"+v)}else t?(e=this.Cc(f,b,!1,a),f=this.Cc(f,c,!0,a)):q?(e=this.Hc(f,b,!1,a),f=this.Hc(f,c,!0,a)):(e=this.Ic(f,b,!1),f=this.Ic(f,c,!0)),c=-1!==v?f+"/"+e+"/"+v:"B"+e+"/S"+f}return c};wa.prototype.Bc=function(a){var b=a,c=0;if(-1!==a.indexOf(" "))for(b="";c<a.length;)" "!==a[c]&&(b+=a[c]),c+=1;return b};wa.prototype.Pc=function(a,b,c){return"0"+((a&2)>>1)*b+(a&1)*b+"00000"+((a&4)>>2)*b+c+"\n"};wa.prototype.Fd=function(a,b){var c="n_states:3\nneighborhood:Moore\nsymmetries:none\n",
d;for(d=0;8>d;d+=1)0===(b&1<<d)&&(c+=this.Pc(d,1,2));for(d=7;0<=d;--d)0!==(b&1<<7-d)&&(c+=this.Pc(d,2,1));b=new Pa(c,!0);this.nc(a,b);b=new Pa(G.pK,!0);this.cc(a,b);this.na=!0};wa.prototype.Cd=function(a,b,c){for(var d=!0,f=0,e,g=1;g<b.length&&d;)e="0123456789".indexOf(b[g]),-1!==e?f=10*f+e:(this.U="Illegal character in Wolfram rule",d=!1),g+=1;if(d)if(0>f||255<f)this.U="Wolfram rule number must be from 0-255",d=!1;else{if(0!==(f&1))if(0!==(f&128)){e=f;for(g=b=0;8>g;g+=1)f&1<<g&&(b|=1<<7-g);for(g=
f=0;8>g;g+=1)0===(b&1<<g)&&(f|=1<<g);this.$b(c,f);f=e;a.qa=f}else this.Fd(a,f);else this.$b(c,f),a.qa=f;a.h="W"+f}return d};wa.prototype.Tc=function(a,b,c){var d=null;if(""===b)if(a.ha)a.h+="H",a.va===this.qa&&(a.h+="T");else if(a.la)a.h+="V";else if(a.s)switch(a.Z){case this.ia:a.h+=this.Ha.toUpperCase();break;case this.la:a.h+=this.Fa.toUpperCase();break;case this.ma:a.h+=this.Ia.toUpperCase();break;case this.ua:a.h+=this.lb.toUpperCase();break;case this.va:a.h+=this.mb.toUpperCase();break;case this.ta:a.h+=
this.kb.toUpperCase();break;case this.wa:a.h+=this.nb.toUpperCase()}c||(d=db.Mp(a.h));if(null===d&&a.$&&0===a.ya){b="R"+a.A+",C"+a.i+",M1,S"+a.O+".."+a.aa+",B"+a.Y+".."+a.ea+",N";switch(a.oa){case this.i:b+="M";break;case this.m:b+="N";break;case this.Z:b+="C";break;case this.P:b+="+";break;case this.V:b+="X";break;case this.Y:b+="*";break;case this.$:b+="2";break;case this.G:b+="H";break;case this.O:b+="B";break;case this.I:b+="D";break;case this.S:b+="#";break;case 10:b+="@"+a.ja+a.ba;break;case this.D:b+=
"3";break;case this.A:b+="A";break;case this.H:b+="L";break;case this.v:b+="G";break;case 15:b+="W"+a.ja+a.ba;break;case this.u:b+="F"+a.Ib(a.A)}d=db.Mp(b)}a.H&&(a.h+="History");a.D&&(a.h+="Super");a.S&&(a.h+="Investigator");-1!==a.j&&(a.h+=":"+"ptkcs"[a.j].toUpperCase(),a.h+=a.P,a.Lb||(a.h+="*"),a.Jb&&(a.h+="*"),a.Ea&&(a.h=0>a.Ea?a.h+a.Ea:a.h+("+"+a.Ea)),4!==a.j&&(a.h+=","+a.da,a.Mb&&(a.h+="*"),a.Fa&&(a.h=0>a.Fa?a.h+a.Fa:a.h+("+"+a.Fa))));null!==d&&(""===d&&(d="Life"),a.H&&(d+="History"),a.D&&(d+=
"Super"),a.S&&(d+="Investigator"),a.V=d)};wa.prototype.me=function(a,b){var c=86,d=a.length;d>=c?this.za=8:(c=this.Ya,d>=c?(this.za=6,b.ha=!0):(c=this.Za,d>=c?(this.za=4,b.la=!0):c=-1));if(0<=c)for(b=0;b<c;b+=1)-1==="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(a[b])&&(c=-1);return c};wa.prototype.s=function(a,b,c,d,f,e){var g=0,k=b.length,l=a.substring(this.h,this.h+k),p=e.A;if(l!==b)","===b[0]&&(","===l[0]&&(l=l.substring(1)),b=b.substring(1)),this.U="LtL expected '"+
b.toUpperCase()+"' got '"+l.toUpperCase()+"'",this.h=-1;else if(","===b[0]&&(b=b.substring(1)),this.h+=k,this.h<a.length?(k=a[this.h],l=k.charCodeAt(0)):(k="",l=-1),"n"===b)switch(k){case "m":this.h+=1;g=this.i;break;case "n":this.h+=1;g=this.m;break;case "c":this.h+=1;g=this.Z;break;case "+":this.h+=1;g=this.P;break;case "x":this.h+=1;g=this.V;break;case "*":this.h+=1;g=this.Y;break;case "2":this.h+=1;g=this.$;break;case "h":this.h+=1;g=this.G;break;case "b":this.h+=1;g=this.O;break;case "d":this.h+=
1;g=this.I;break;case "#":this.h+=1;g=this.S;break;case "@":this.h+=1;g=this.rc(a,p,"LtL",e);-1===g&&(this.h=-1);break;case "3":this.h+=1;g=this.D;break;case "a":this.h+=1;g=this.A;break;case "l":this.h+=1;g=this.H;break;case "g":this.h+=1;g=this.v;break;case "w":this.h+=1;g=this.yc(a,p,"LtL",e);-1===g&&(this.h=-1);break;case "f":this.h+=1;g=this.qc(a,p,"LtL",e);-1===g&&(this.h=-1);break;default:this.U="LtL 'N' [ABCDFGHLMNWX23*+#@] got 'N"+k.toUpperCase()+"'",this.h=-1}else if(48>l||57<l)this.U="LtL '"+
f+b.toUpperCase()+"' needs a number",this.h=-1;else{for(;48<=l&&57>=l;)g=10*g+(l-48),this.h+=1,this.h<a.length?l=a[this.h].charCodeAt(0):l=-1;-1!==c&&g<c&&(this.U="LtL '"+f+b.toUpperCase()+g+"' < "+c,this.h=-1);-1!==d&&g>d&&(this.U="LtL '"+f+b.toUpperCase()+g+"' > "+d,this.h=-1)}return g};wa.prototype.sa=function(a,b,c){var d=0;switch(b){case this.i:d=(2*a+1)*(2*a+1)-1;break;case this.m:d=2*a*(a+1);break;case this.Z:c=0;var f=a*a+a;for(b=-a;b<=a;b+=1){for(d=0;(d+1)*(d+1)+b*b<=f;)d+=1;c+=2*d+1}d=c-
1;break;case this.P:d=4*a;break;case this.V:d=4*a;break;case this.Y:d=8*a;break;case this.$:c=0;f=a*a;for(b=-a;b<=a;b+=1){for(d=0;(d+1)*(d+1)+b*b<=f;)d+=1;c+=2*d+1}d=c-1;break;case this.G:d=(2*a+1)*(2*a+1)-a*(a+1)-1;break;case this.O:d=((2*a+1)*(2*a+1)-1)/2;break;case this.I:d=((2*a+1)*(2*a+1)-1)/2;break;case this.S:d=8*a;break;case 10:d=c;break;case this.D:d=3*a;break;case this.A:d=6*a;break;case this.H:d=(4*a+1)*(2*a+1)-2*a*a-1;break;case this.v:d=(a+1)*(a+1)*(a+1)*(a+1);break;case 15:d=c;break;
case this.u:d=8}return d};wa.prototype.qd=function(a,b){var c=!1;this.h=0;var d=this.s(b,"r",1,500,"",a);-1!==this.h&&(a.A=d,d=this.s(b,",c",0,256,"",a),-1!==this.h&&(2>d&&(d=2),a.i=d,d=this.s(b,",m",0,1,"",a),-1!==this.h&&(a.ya=d,d=this.s(b,",s",0,-1,"",a),-1!==this.h&&(a.O=d,d=this.s(b,"..",a.O,-1,"S",a),-1!==this.h&&(a.aa=d,d=this.s(b,",b",0,-1,"",a),-1!==this.h&&(a.Y=d,d=this.s(b,"..",a.Y,-1,"B",a),-1!==this.h&&(a.ea=d,d=this.s(b,",n",-1,-1,"",a),-1!==this.h&&(a.oa=d,c=!0))))))));c&&(this.h!==
b.length?(c=!1,this.U="LtL invalid characters after rule"):(b=this.sa(a.A,a.oa,a.pa),b+=a.ya,a.Y>b&&(c=!1,this.U="LtL 'B"+a.Y+"..' > "+b),a.ea>b&&(c=!1,this.U="LtL 'B.."+a.ea+"' > "+b),a.O>b&&(c=!1,this.U="LtL 'S"+a.O+"..' > "+b),a.aa>b&&(c=!1,this.U="LtL 'S.."+a.aa+"' > "+b)));return c};wa.prototype.rd=function(a,b){var c=!1;this.h=0;a.i=2;a.ya=1;a.oa=this.i;var d=this.s(b,"",1,500,"",a);-1!==this.h&&(a.A=d,d=this.s(b,",",0,-1,"",a),-1!==this.h&&(a.Y=d,d=this.s(b,",",a.Y,-1,"B",a),-1!==this.h&&(a.ea=
d,d=this.s(b,",",0,-1,"",a),-1!==this.h&&(a.O=d,d=this.s(b,",",a.O,-1,"S",a),-1!==this.h&&(a.aa=d,c=!0)))));c&&(this.h!==b.length?(c=!1,this.U="LtL invalid characters after rule"):(b=(2*a.A+1)*(2*a.A+1),a.Y>b&&(c=!1,this.U="LtL 'B"+a.Y+"..' > "+b),a.ea>b&&(c=!1,this.U="LtL 'B.."+a.ea+"' > "+b),a.O>b&&(c=!1,this.U="LtL 'S"+a.O+"..' > "+b),a.aa>b&&(c=!1,this.U="LtL 'S.."+a.aa+"' > "+b)));return c};wa.prototype.kd=function(a,b){var c=!1;this.h=0;-1===a.i&&(a.i=2);a.ya=1;a.oa=this.i;var d=this.s(b,"r",
1,500,"",a);-1!==this.h&&(a.A=d,d=this.s(b,"b",0,-1,"",a),-1!==this.h&&(a.Y=d,d=this.s(b,"t",a.Y,-1,"B",a),-1!==this.h&&(a.ea=d,d=this.s(b,"s",0,-1,"",a),-1!==this.h&&(a.O=d,d=this.s(b,"t",a.O,-1,"S",a),-1!==this.h&&(a.aa=d,c=!0)))));c&&(this.h!==b.length?(c=!1,this.U="LtL invalid characters after rule"):(b=(2*a.A+1)*(2*a.A+1),a.Y>b&&(c=!1,this.U="LtL 'B"+a.Y+"' > "+b),a.ea>b&&(c=!1,this.U="LtL 'B..T"+a.ea+"' > "+b),a.O>b&&(c=!1,this.U="LtL 'S"+a.O+"..' > "+b),a.aa>b&&(c=!1,this.U="LtL 'S..T"+a.aa+
"' > "+b)));return c};wa.prototype.sc=function(a,b,c,d,f){var e=!1,g,k="HROT.",l,p=0;if(this.h+c>a.length)this.U="HROT '"+b+"' needs "+c+" hex digits";else{for(g=l=0;l<c&&-1!==g;)g="0123456789abcdef".indexOf(a[this.h]),-1!==g&&(this.h+=1,l+=1);if(-1===g)this.U="HROT '"+b+"' expected hex got '"+a[this.h]+"'";else{"B"===b?k+="births":(k+="survivals",p=1);f=f.h(ra.bb,(c<<2)+1+p,k,W.R);e=0;f[e]=0;e+=1;--l;"S"===b&&(f[e]=0,e+=1);for(;0<=l;)g="0123456789abcdef".indexOf(a[this.h-c+l]),--l,f[e]=255*(g&1),
e+=1,f[e]=255*(g>>1&1),e+=1,f[e]=255*(g>>2&1),e+=1,f[e]=255*(g>>3&1),e+=1;"B"===b?d.G=f:d.B=f;e=!0}}return e};wa.prototype.oa=function(a,b){var c=-1;this.h+=1;if(this.h<a.length){var d=a[this.h].charCodeAt(0);if(48>d||57<d)this.U="HROT '"+b+"' needs a number";else for(c=d-48,this.h+=1,d=-1,this.h<a.length&&(d=a[this.h].charCodeAt(0));48<=d&&57>=d;)c=10*c+(d-48),this.h+=1,this.h<a.length?d=a[this.h].charCodeAt(0):d=-1}else this.U="HROT '"+b+"' needs a number";return c};wa.prototype.Bb=function(a){var b=
-1;this.h<a.length&&("#"===a[this.h+1]?(this.h+=2,b=-2):b=this.oa(a,"P"));return b};wa.prototype.ec=function(a,b,c,d,f){var e=!0;f&&"S"===c&&(d+=1);var g=this.oa(a,c);-1===g&&(this.U="");for(;e&&-1!==g;){var k=-1;this.h<a.length&&"-"===a[this.h]&&(k=this.oa(a,c),-1===k&&(this.U="HROT '"+c+g+"-' needs a number",e=!1));if(e&&(-1===k&&(k=g),g>k&&(this.U="HROT '"+c+g+"-"+k+"' wrong order",e=!1),e)){"S"===c?(this.ab=k,f&&(g+=1,k+=1)):this.$a=k;g>d&&(g=d);for(k>d&&(k=d);g<=k;g+=1)b[g]=255;g=-1;this.h<a.length&&
","===a[this.h]&&(g=this.oa(a,c),-1===g&&(--this.h,this.U=""))}}return e};wa.prototype.yc=function(a,b,c,d){var f=this.h,e=a.length,g=(2*b+1)*(2*b+1),k=g+g,l=0,p=0,n=[],q=[],m=0,r=15;for(d.ba="";f<e&&-1!=="0123456789abcdef".indexOf(a[f]);)f+=1;b=f-this.h;if(b===g)for(;this.h<f;)g="0123456789abcdef".indexOf(a[this.h]),0!==(g&8)&&(g=-(g&7)),n[n.length]=g,this.h+=1;else if(b===k)for(;this.h<f;)g="0123456789abcdef".indexOf(a[this.h])<<4,this.h+=1,g|="0123456789abcdef".indexOf(a[this.h]),this.h+=1,0!==
(g&128)&&(g=-(g&127)),n[n.length]=g;else this.U=c+" 'NW' needs "+String(g)+" or "+String(k)+" hex digits",r=-1;if(-1!==r)if(","===a[this.h]){for(f=this.h+=1;f<e&&-1!=="0123456789abcdef".indexOf(a[f]);)f+=1;l=f-this.h;if(l!==d.i)this.U=c+" 'NW' needs "+String(d.i)+" state weights",r=-1;else for(f=0;f<d.i;f+=1)g="0123456789abcdef".indexOf(a[this.h]),this.h+=1,q[q.length]=g,g>m&&(m=g)}else m=1;-1!==r&&this.h<e&&("h"===a[this.h]?(d.ba="H",this.h+=1,p=1):"l"===a[this.h]&&(d.ba="L",this.h+=1,p=1));if(-1!==
r){for(c=g=0;c<n.length;c+=1)0<n[c]&&(g+=n[c]*m);d.ja=0<q.length?a.substring(this.h-(b+l+1)-p,this.h-p).toLowerCase():a.substring(this.h-b-p,this.h-p).toLowerCase();d.pa=g;d.Db=n;d.Hb=q}-1===r&&(d.ja="",d.pa=-1,d.Db=null,d.Hb=null);return r};wa.prototype.vc=function(a,b){for(var c=0,d,f=!1,e=!1;!e&&this.h<b;)d=a.charCodeAt(this.h),48<=d&&57>=d?(f=!0,c=10*c+(d-48),this.h+=1):e=!0;f||(c=-1);return c};wa.prototype.qc=function(a,b,c,d){var f=a.length,e=-1,g=-1,k=-1;if(this.h>=f)return d.za=b,d.Ba=b,k=
this.u;var l=a[this.h].toUpperCase();for(this.h+=1;"C"===l||"E"===l;){if("C"===l)if(-1===e){if(e=this.vc(a,f),-1===e&&(e=b),1>e||500<e)return this.U=c+" 'NF' invalid corner range",k}else return this.U=c+" 'NF' duplicate 'C'",k;else if(-1===g){if(g=this.vc(a,f),-1===g&&(g=b),1>g||500<g)return this.U=c+" 'NF' invalid edge range",k}else return this.U=c+" 'NF' duplicate 'E'",k;this.h<f?(l=a[this.h].toUpperCase(),this.h+=1):l=""}""!==l&&--this.h;d.za=-1===e?b:e;d.Ba=-1===g?b:g;return k=this.u};wa.prototype.rc=
function(a,b,c,d){var f=this.h,e=a.length,g=0;b=((2*b+1)*(2*b+1)-1)/4;var k=0,l=10;for(d.ba="";f<e&&g<b&&-1!==l;){var p="0123456789abcdef".indexOf(a[f]);0<=p?(f+=1,g+=1,k+=this.vb(p)):l=-1}g!==b&&(l=-1);-1===l?(this.U=c+" 'N@' needs "+String(b)+" hex digits",d.ja="",d.pa=-1):(d.ja=a.substring(this.h,this.h+g).toLowerCase(),d.pa=k,this.h+=g,f<e&&("h"===a[f]?(d.ba="H",this.h+=1):"l"===a[f]&&(d.ba="L",this.h+=1)));return l};wa.prototype.$d=function(a,b){var c=a.A,d;a.v=c;a.m=a.oa;c=this.sa(c,a.oa,a.pa);
c+=a.ya;a.B=b.h(ra.bb,c+2,"HROT.survivals",W.R);a.G=b.h(ra.bb,c+1,"HROT.births",W.R);for(d=a.O;d<=a.aa;d+=1)a.B[d]=255;for(d=a.Y;d<=a.ea;d+=1)a.G[d]=255;if(this.ca){a.Ka=b.h(ra.bb,c+2,"HROT.altSurvivals",W.R);a.Ia=b.h(ra.bb,c+1,"HROT.altBirths",W.R);for(d=a.Xb;d<=a.Vb;d+=1)a.Ka[d]=255;for(d=a.Tb;d<=a.Ub;d+=1)a.Ia[d]=255}a.Da=!0};wa.prototype.nd=function(a,b,c){var d=!1,f=0,e=!0,g=b.indexOf(",n"),k=b.indexOf(",p");this.ab=this.$a=this.h=0;if("r"!==b[this.h])this.U="HROT expected 'R' got '"+b[this.h].toUpperCase()+
"'";else{var l=this.oa(b,"R");-1!==l&&(1>l?this.U="HROT 'R' < 1":500<l?this.U="HROT 'R' > 500":(a.v=l,d=!0))}d&&(d=!1,this.h<b.length?","!==b[this.h]?this.U="HROT expected ',' got "+b[this.h].toUpperCase():(this.h+=1,this.h<b.length?"c"!==b[this.h]?this.U="HROT expected 'C' got "+b[this.h].toUpperCase():(l=this.oa(b,"C"),-1!==l&&(0>l?this.U="HROT 'C"+l+"' < 0":256<l?this.U="HROT 'C"+l+"' > 256":(2>l&&(l=2),a.i=l,d=!0))):this.U="HROT expected 'C'"):this.U="HROT expected ','");if(d){l=this.h;this.h=
g;e=!0;a.m=this.i;if(-1!==this.h&&this.h<b.length&&","===b[this.h]){d=!1;this.h+=1;if(this.h<b.length)if("n"===b[this.h])if(this.h+=1,this.h<b.length)switch(b[this.h]){case "m":a.m=this.i;this.h+=1;d=!0;break;case "n":a.m=this.m;this.h+=1;d=!0;break;case "c":a.m=this.Z;this.h+=1;d=!0;break;case "+":a.m=this.P;this.h+=1;d=!0;break;case "x":a.m=this.V;this.h+=1;d=!0;break;case "*":a.m=this.Y;this.h+=1;d=!0;break;case "2":a.m=this.$;this.h+=1;d=!0;break;case "h":a.m=this.G;this.h+=1;d=!0;break;case "b":a.m=
this.O;this.h+=1;d=!0;break;case "d":a.m=this.I;this.h+=1;d=!0;break;case "#":a.m=this.S;this.h+=1;d=!0;break;case "@":this.h+=1;a.m=this.rc(b,a.v,"HROT",a);-1!==a.m&&(d=!0);break;case "3":a.m=this.D;this.h+=1;d=!0;break;case "a":a.m=this.A;this.h+=1;d=!0;break;case "l":a.m=this.H;this.h+=1;d=!0;break;case "g":a.m=this.v;e=!1;this.h+=1;d=!0;break;case "w":this.h+=1;a.m=this.yc(b,a.v,"HROT",a);-1!==a.m&&(e=!1,d=!0);break;case "f":this.h+=1;a.m=this.qc(b,a.v,"HROT",a);-1!==a.m&&(d=!0);break;default:this.U=
"HROT 'N' [ABCDFGHLMNWX23*+#@] got '"+b[this.h].toUpperCase()+"'"}else this.U="HROT 'N' needs a neighborhood";else this.U="HROT expected 'N' got '"+b[this.h].toUpperCase()+"'";else this.U="HROT expected 'N'";g=this.h}f=this.sa(a.v,a.m,a.pa);this.h=l}d&&(d=!1,this.h<b.length?","!==b[this.h]?this.U="HROT expected ',' got "+b[this.h].toUpperCase():(this.h+=1,this.h<b.length?"s"!==b[this.h]?this.U="HROT expected 'S' got "+b[this.h].toUpperCase():(a.B=c.h(ra.bb,f+2,"HROT.survivals",W.R),d=this.ec(b,a.B,
"S",f,e)):this.U="HROT expected 'S'"):this.U="HROT expected ','");d&&(d=!1,this.h<b.length?","!==b[this.h]?this.U="HROT expected ',' got "+b[this.h].toUpperCase():(this.h+=1,this.h<b.length?"b"!==b[this.h]?this.U="HROT expected 'B' got "+b[this.h].toUpperCase():(a.G=c.h(ra.bb,f+1,"HROT.births",W.R),d=this.ec(b,a.G,"B",f,e)):this.U="HROT expected 'B'"):this.U="HROT expected ','");d&&(-1!==g&&(this.h=g),a.vb=!1,a.Ya=-1,a.jb=-1,a.fb=-1,-1!==k&&k===this.h&&(a.vb=!0,this.h+=2,this.h<b.length&&(--this.h,
l=this.Bb(b),-1!==l&&((0>l||100<l)&&-2!==l?this.U="HROT P values need to be from 0 to 100 or #":(a.Ya=l,a.jb=l,this.h<b.length&&","===b[this.h]&&(l=this.Bb(b),-1!==l&&((0>l||100<l)&&-2!==l?this.U="HROT P values need to be from 0 to 100 or #":(a.Ya=l,this.h<b.length&&","===b[this.h]&&(l=this.Bb(b),-1!==l&&((0>l||100<l)&&-2!==l?this.U="HROT P values need to be from 0 to 100 or #":a.fb=l))))))))),this.h!==b.length&&(d=!1,this.U="HROT invalid characters after rule"),this.ab>f&&(d=!1,this.U="HROT 'S"+
this.ab+"' > "+f),d&&this.$a>f&&(d=!1,this.U="HROT 'B"+this.$a+"' > "+f));d&&(a.Da=!0);return d};wa.prototype.md=function(a,b,c){var d=!1,f=0;this.h=0;-1===a.i&&(a.i=2);if("r"!==b[this.h])this.U="HROT expected 'R' got '"+b[this.h].toUpperCase()+"'";else{var e=-1;this.h+=1;this.h<b.length&&(e=b[this.h].charCodeAt(0));if(48>e||57<e)this.U="HROT 'R' needs a number";else{var g=e-48;this.h+=1;e=-1;for(this.h<b.length&&(e=b[this.h].charCodeAt(0));48<=e&&57>=e;)g=10*g+(e-48),this.h+=1,this.h<b.length?e=
b[this.h].charCodeAt(0):e=-1;1>g?this.U="HROT 'R' < 1":500<g?this.U="HROT 'R' > 500":(a.v=g,d=!0,f=g*(g+1))}}d&&(d=!1,this.h<b.length?"b"!==b[this.h]?this.U="HROT expected 'B' got "+b[this.h].toUpperCase()+"'":(this.h+=1,d=this.sc(b,"B",f,a,c)):this.U="HROT expected 'B'");d&&(d=!1,this.h<b.length?"s"!==b[this.h]?this.U="HROT expected 'S' got "+b[this.h].toUpperCase()+"'":(this.h+=1,d=this.sc(b,"S",f,a,c)):this.U="HROT expected 'S'");d&&this.h<b.length&&"z"===b[this.h]&&(a.B[1]=1,this.h+=1);d&&(this.h!==
b.length?(d=!1,this.U="HROT invalid characters after rule"):(a.m=this.i,a.Da=!0));return d};wa.prototype.Vb=function(a,b){for(var c=a.length,d=-1,f="",e=0;e<c;)255===a[e]?-1===d&&(d=e):-1!==d&&(""!==f&&(f+=","),f+=d+b,e-1!==d&&(f+="-"+(e-1+b)),d=-1),e+=1;-1!==d&&(""!==f&&(f+=","),f+=d+b,e-1!==d&&(f+="-"+(e-1+b)));return f};wa.prototype.ya=function(a,b,c,d){var f="",e=!1;this.na=!1;if(!d){var g=db.Np(b);null!==g&&(f=db.Mp(g),b=g)}g=b.indexOf("|");if(-1===g)(e=this.Db(a,b,c,this.j,d))&&a.s&&this.xb(a,
this.Mb,this.Lb);else{var k=!1;var l=db.Np(b.substring(0,g));null!==l&&-1!==l.indexOf("|")&&(k=!0);l=db.Np(b.substring(g+1));null!==l&&-1!==l.indexOf("|")&&(k=!0);if(-1!==b.substring(g+1).indexOf("|")||k)this.U="Only one alternate allowed";else if(e=this.Db(a,b.substring(0,g),c,this.ba,d))if(k=new mb(a.name,this),k.$b(a),a.bc(),e=this.Db(a,b.substring(g+1),c,this.j,d))if(this.U=a.ac(k),""===this.U)if(a.Da&&(0!==a.G[0]||0!==k.G[0])||!a.s&&(this.j[0]||this.ba[0])||a.s&&0!==(a.Ca&1)||0!==(k.Ca&1))this.U=
"Alternate not supported with B0",a.Da&&(a.h=k.Pa),e=!1;else{a.s&&(this.xb(k,this.Lb,null),this.xb(a,this.Mb,null));if(""!==f)a.V=f;else if(""!==a.V||""!==k.V)""===a.V&&(a.V=a.h),""===k.V&&(k.V=k.h),a.V=k.V+"|"+a.V;a.h=k.h+"|"+a.h;f=db.Mp(a.h);null!==f&&(a.V=f);(a.Da||a.$)&&a.Zb(k,c);this.ca=!0}else a.Pa=k.Pa,e=!1}return e};wa.prototype.ud=function(a,b){var c=!0,d=a.length,f=0;if("2pca4"!==a.substring(0,5))this.U="PCA rule must start with 2PCA4",c=!1;else{var e=5;var g=-1;if(","!==a[e])c=!0;else for(e+=
1;c&&16>f&&e<d;)if(e<d){var k=a[e];e+=1;"0"<=k&&"9">=k?(-1===g&&(g=0),g=10*g+k.charCodeAt(0)-48):","===k?15<g?(this.U="Value must be from 0 to 15",c=!1):(b[f]=g,f+=1,g=-1):(this.U="Illegal character found in rule",c=!1)}c&&(-1===g?(this.U=16===f?"Extra characters found after rule":"Need 16 values",c=!1):15<g?(this.U="Value must be from 0 to 15",c=!1):(b[f]=g,16!==f+1&&(this.U="Need 16 values",c=!1)))}return c};wa.prototype.sd=function(a,b){var c=!0,d=0,f=a.length,e,g=0;if("m"!==a[d])this.U="Margolus rule must start with M",
c=!1;else{d+=1;"s,d"===a.substring(d,d+3)&&(d+=3);for(e=-1;c&&16>g&&d<f;)if(d<f){var k=a[d];d+=1;"0"<=k&&"9">=k?(-1===e&&(e=0),e=10*e+k.charCodeAt(0)-48):","===k||";"===k?15<e?(this.U="Value must be from 0 to 15",c=!1):(b[g]=e,g+=1,e=-1):(this.U="Illegal character found in rule",c=!1)}c&&(-1===e?(this.U=16===g?"Extra characters found after rule":"Need 16 values",c=!1):15<e?(this.U="Value must be from 0 to 15",c=!1):(b[g]=e,16!==g+1&&(this.U="Need 16 values",c=!1)))}return c};wa.prototype.Db=function(a,
b,c,d,f){var e=!1,g=null,k=null,l=null,p="012345678ceaiknjqrytwz-";var n=this.Ib.length;var q=this.Wa.length;var m=this.Ha.length;var r=this.Fa.length,u=this.Ia.length;var t=this.lb.length;var v=this.mb.length,B=this.kb.length,w=this.nb.length,z=this.rb.length,E="";d[0]=0;if(!f){var H=db.Np(b);null!==H&&(""===b&&(a.h="Life"),b=H)}if("map"===b.substring(0,3).toLowerCase()){E=b.substring(3);var L=E.indexOf("/");-1===L?"=="===E.substring(E.length-2)&&(E=E.substring(0,E.length-2)):"=="===E.substring(L-
2,L)&&(E=E.substring(0,L-2)+E.substring(L));b=this.me(E,a);if(0<=b)if(e=!0,l=E.substring(b),E=E.substring(0,b),"/"===l[0]){H=1;a.i=0;H<l.length&&("g"===l[H].toLowerCase()||"c"===l[H].toLowerCase())&&(H+=1);for(L=0;H<l.length&&-1!==L;)L="0123456789".indexOf(l[H]),-1!==L?a.i=10*a.i+L:(this.U="Illegal character in generations number",a.i=-1,e=!1),H+=1;-1!==a.i&&(2>a.i||256<a.i)&&(this.U="Generations number must be 2-256",a.i=-1,e=!1)}else""!==l&&(H=l.length,this.U="MAP length must be "+this.Za+", "+
this.Ya+" or 86 not "+(H+b),e=!1);else this.U=86===E.length||E.length===this.Ya||E.length===this.Za?"MAP contains illegal base64 character":"MAP length must be "+this.Za+", "+this.Ya+" or 86 not "+E.length}else if(b=b.toLowerCase(),b=this.Bc(b),"2pca4"===b.substring(0,5)){if(e=this.ud(b,d))a.ka=!0,a.i=16}else if("m"===b[0]){if(e=this.sd(b,d))a.fa=!0}else{e=!0;if("g"===b[0]){H=1;for(L=a.i=0;H<b.length&&-1!==L;)L="0123456789".indexOf(b[H]),-1!==L&&(a.i=10*a.i+L,H+=1);1<H&&(2>a.i||256<a.i?(this.U="Generations number must be 2-256",
a.i=-1,e=!1):(H<b.length&&"/"===b[H]&&(H+=1),b=b.substring(H),e=!0))}if(e&&(L=b.lastIndexOf("g"),-1!==L&&L!==b.length-1&&!(0<L&&"/"===b[L-1]))){H=L+1;for(L=a.i=0;H<b.length&&-1!==L;)L="0123456789".indexOf(b[H]),-1!==L&&(a.i=10*a.i+L,H+=1);H===b.length?2>a.i||256<a.i?(this.U="Generations number must be 2-256",a.i=-1,e=!1):(b=b.substring(0,b.lastIndexOf("g")),e=!0):a.i=-1}if(e)if(e=!1,"r"===b[0]||"1"<=b[0]&&"9">=b[0]&&-1!==b.indexOf(",")){if(e="r"===b[0]?-1!==b.indexOf(".")?this.qd(a,b):-1!==b.indexOf("t")&&
-1===b.indexOf("n")?this.kd(a,b):-1!==b.indexOf(",")?this.nd(a,b,c):this.md(a,b,c):this.rd(a,b))if(a.Da){a.m===this.u&&(a.za>a.v&&(a.v=a.za),a.Ba>a.v&&(a.v=a.Ba));l=15===a.m||a.m===this.v?0:-1;a.h="R"+a.v+",";a.h+="C"+a.i+",";a.h+="S"+this.Vb(a.B,l)+",";a.h+="B"+this.Vb(a.G,0);if(a.m!==this.i)switch(a.h+=",N",a.m){case this.m:a.h+="N";break;case this.Z:a.h+="C";break;case this.P:a.h+="+";break;case this.V:a.h+="X";break;case this.Y:a.h+="*";break;case this.$:a.h+="2";break;case this.G:a.h+="H";break;
case this.O:a.h+="B";break;case this.I:a.h+="D";break;case this.S:a.h+="#";break;case 10:a.h+="@"+a.ja+a.ba;break;case this.D:a.h+="3";break;case this.A:a.h+="A";break;case this.H:a.h+="L";break;case this.v:a.h+="G";break;case 15:a.h+="W"+a.ja+a.ba;break;case this.u:a.h+="F"+a.Ib(a.v)}a.vb&&(a.h+=",P",-1!==a.jb&&(a.h+=-2===a.jb?"#":a.jb,-1!==a.Ya&&(a.h+=","+(-2===a.Ya?"#":a.Ya),-1!==a.fb&&(a.h+=","+(-2===a.fb?"#":a.fb)))))}else{a.oa===this.u&&(a.za>a.A&&(a.A=a.za),a.Ba>a.A&&(a.A=a.Ba));a.$=!0;a.h=
"R"+a.A+",C"+a.i+",M"+a.ya+",S"+a.O+".."+a.aa+",B"+a.Y+".."+a.ea+",N";switch(a.oa){case this.i:a.h+="M";break;case this.m:a.h+="N";break;case this.Z:a.h+="C";break;case this.P:a.h+="+";break;case this.V:a.h+="X";break;case this.Y:a.h+="*";break;case this.$:a.h+="2";break;case this.G:a.h+="H";break;case this.O:a.h+="B";break;case this.I:a.h+="D";break;case this.S:a.h+="#";break;case 10:a.h+="@"+a.ja+a.ba;break;case this.D:a.h+="3";break;case this.A:a.h+="A";break;case this.H:a.h+="L";break;case this.v:a.h+=
"G";break;case 15:a.h+="W"+a.ja+a.ba;break;case this.u:a.h+="F"+a.Ib(a.A)}0===a.ya&&(a.O+=1,a.aa+=1)}}else if("w"===b[0])e=this.Cd(a,b,d);else if(c=b.lastIndexOf(this.Ha),-1!==c&&c===b.length-m&&(a.s=!0,a.Z=this.ia,b=b.substring(0,b.length-m),p=this.Rb),c=b.lastIndexOf(this.Fa),-1!==c&&c===b.length-r&&(a.s=!0,a.Z=this.la,b=b.substring(0,b.length-r),p=this.Nb),c=b.lastIndexOf(this.Ia),-1!==c&&c===b.length-u&&(a.s=!0,a.Z=this.ma,b=b.substring(0,b.length-u),p=this.Ub),c=b.lastIndexOf(this.lb),-1!==c&&
c===b.length-t&&(a.s=!0,a.Z=this.ua,b=b.substring(0,b.length-t),p=this.Jc),c=b.lastIndexOf(this.mb),-1!==c&&c===b.length-v&&(a.s=!0,a.Z=this.va,b=b.substring(0,b.length-v),p=this.Kc),c=b.lastIndexOf(this.kb),-1!==c&&c===b.length-B&&(a.s=!0,a.Z=this.ta,b=b.substring(0,b.length-B),p=this.Ec),c=b.lastIndexOf(this.nb),-1!==c&&c===b.length-w&&(a.s=!0,a.Z=this.wa,b=b.substring(0,b.length-w),p=this.Mc),t=b.lastIndexOf(this.Ib),-1!==t&&t===b.length-n&&(a.ha=!0,a.va=this.qa,b=b.substring(0,b.length-n),p=this.le),
t=b.lastIndexOf(this.Wa),-1!==t&&t===b.length-q&&(a.ha=!0,a.va=this.pa,b=b.substring(0,b.length-q),p=this.Dc),t=b.lastIndexOf(this.rb),-1!==t&&t===b.length-z&&(a.la=!0,b=b.substring(0,b.length-z),p=this.Oc),n=b.indexOf("/"),-1===n&&(n=b.indexOf("_")),-1!==n&&(t=b.lastIndexOf("/"),-1===t&&(t=b.lastIndexOf("_")),t!==n&&(l=b.substring(t+1),b=b.substring(0,t),c=b.lastIndexOf(this.Ha),-1!==c&&c===b.length-m&&(a.s=!0,a.Z=this.ia,b=b.substring(0,b.length-m),p=this.Rb),c=b.lastIndexOf(this.Fa),-1!==c&&c===
b.length-r&&(a.s=!0,a.Z=this.la,b=b.substring(0,b.length-r),p=this.Nb),c=b.lastIndexOf(this.Ia),-1!==c&&c===b.length-u&&(a.s=!0,a.Z=this.ma,b=b.substring(0,b.length-u),p=this.Ub),t=b.lastIndexOf(this.Wa),-1!==t&&t===b.length-q&&(a.ha=!0,b=b.substring(0,b.length-q),p=this.Dc),t=b.lastIndexOf(this.rb),-1!==t&&t===b.length-z&&(a.la=!0,b=b.substring(0,b.length-z),p=this.Oc))),b===this.oc)a.ga=!0,a.i=256,e=!0;else{q=b.indexOf("b");m=b.indexOf("s");-1===n?0===q||0===m?-1===m?(g=b,k=""):-1===q?(k=b,g=""):
q<m&&-1!==m?(g=b.substring(q+1,m),k=b.substring(m+1)):(k=b.substring(m+1,q),g=b.substring(q+1)):this.U="Unsupported rule name":(-1===q&&-1!==m?q=n:-1!==q&&-1===m&&(m=n),q<m?(g=b.substring(0,n),k=b.substring(n+1)):(g=b.substring(n+1),k=b.substring(0,n)));-1!==q&&g&&"b"===g[0]&&(g=g.substring(1));-1!==m&&k&&"s"===k[0]&&(k=k.substring(1));if(null!==l)if(H=0,-1!==a.i)this.U="Generations defined twice",g=null;else{a.i=0;H<l.length&&("g"===l[H].toLowerCase()||"c"===l[H].toLowerCase())&&(H+=1);for(L=0;H<
l.length&&-1!==L;)L="0123456789".indexOf(l[H]),-1!==L?a.i=10*a.i+L:(this.U="Illegal character in generations number",a.i=-1,g=null),H+=1;-1!==a.i&&(2>a.i||256<a.i)&&(this.U="Generations number must be 2-256",a.i=-1,g=null)}if(null!==g&&null!==k){e=!0;for(H=0;H<g.length;)L=p.indexOf(g[H]),-1===L?(this.U="Illegal character in birth specification",e=!1,H=g.length):H+=1;if(e)for(H=0;H<k.length;)L=p.indexOf(k[H]),-1===L?(this.U="Illegal character in survival specification",e=!1,H=k.length):H+=1}}}e&&a.Yb()&&
(15===a.m||a.m===this.v)&&(this.U="B0 currently not supported",e=!1);e&&-1===a.qa&&!this.na&&!1===a.$&&!1===a.Da&&(d=this.ad(a,String(g),String(k),E,d),""===this.U?a.h=d:e=!1,2===a.i&&(a.i=-1));e?this.Tc(a,E,f):(a.$=!1,a.Da=!1,a.i=-1,a.ga=!0);return e};wa.prototype.Va=function(a,b,c){var d=0,f=0,e=b.length-1,g=!1,k=!0,l,p=0,n=0,q=0,m=0,r=this.aa;a.nb=-1;for(l=b[d];!g;){var u=l;l=b[d+1];var t=-1;switch(u){case "#":for(d+=1;"\n"!==l&&d<e;)d+=1,l=b[d];d<e?l=b[d+1]:d===e&&--d;break;case "0":case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":"0"===
u&&0===m&&(this.U="Leading zero in count",g=a.ra=!0);m=10*m+parseInt(u,10);break;case "b":t=0;break;case "o":t=1;break;case ".":t=0;break;case "z":t=19;a.D=!0;a.Na=!0;break;case "$":0===m&&(m=1);q+=m;c[f]=m;c[f+1]=-1;f+=2;m=0;n>p&&(p=n);n=0;break;case "!":0===m&&(m=1);q+=m;m=0;n>p&&(p=n);g=!0;break;default:k=!1,"A"<=u&&"X">=u?(k=!0,t=u.charCodeAt(0)-64):"p"<=u&&"y">u?"A"<=l&&"X">=l?(k=!0,t=24*(u.charCodeAt(0)-111)+(l.charCodeAt(0)-64),d+=1,l=b[d+1]):"x"===u&&(k=!0,a.D=!0,a.Na=!0,t=15):"y"===u&&("A"<=
l&&"O">=l?(k=!0,t=24*(u.charCodeAt(0)-111)+(l.charCodeAt(0)-64),d+=1,l=b[d+1]):(k=!0,a.D=!0,a.Na=!0,t=17))}0<=t&&(0===m&&(m=1),c[f]=m,c[f+1]=t,f+=2,0===r[t]&&(a.Wa+=1),r[t]+=m,t>=a.F&&(a.F=t+1),t>=a.nb&&(a.nb=t),n+=m,m=0);k||(" "===u||"\t"===u||"\r"===u||"\n"===u?0===m?k=!0:(this.U="Illegal whitespace in pattern",g=a.ra=!0):(this.U="Illegal character in pattern: "+u,this.fa=g=a.ra=!0));d+=1;d===e&&(g||(0===m&&(m=1),q+=m,m=0,n>p&&(p=n)),g=!0)}0===p&&(q=p=1);a.width=p;a.height=q;if(16384<p||16384<q)a.wa=
!0,a.Za="RLE";a.Za="RLE";a.ra?(d=-1,a.D=!1,a.Na=!1):a.I=[];return d};wa.prototype.hc=function(a,b,c){var d=0,f=a.height,e=a.width,g=0,k=0,l=!(a.H||a.S||a.D)&&-1===a.i,p;a.I=Array.matrix(ra.Xa,f,(e-1>>4)+1,0,c,"Pattern.lifeMap",!1);a.ca=Array.matrix(ra.bb,f,e,0,c,"Pattern.multiStateMap",!1);e=a.ca[k];for(p=a.I[k];d<b.length;)if(f=b[d],c=b[d+1],d+=2,-1===c)g=0,k+=f,e=a.ca[k],p=a.I[k];else if(0<c)for(;0<f;){e[g]=-1===a.i?c:2===a.i?1===c?y.xa:0:c<a.i?c:1;if(l&&1===c||(a.H||a.D)&&c&1||-1!==a.i&&1===c)p[g>>
4]|=1<<(~g&15);g+=1;--f}else g+=f};wa.prototype.Wd=function(a,b){var c=b.indexOf("\n");-1===c&&(c=b.length);a.Cb=b.substring(0,c).trim()};wa.prototype.jb=function(a,b,c){for(var d=!1;b<c&&!d;)" "===a[b]?b+=1:d=!0;return b};wa.prototype.Sd=function(a){var b=a.indexOf("\n"),c=0,d=!1,f=!1,e=0;-1===b&&(b=a.length);for(;e<b&&!d;)"="===a[e]?d=!0:" "!==a[e]?d=!0:e+=1;if(d&&"="===a[e]){e=this.jb(a,e+1,b);e<b&&"-"===a[e]&&(f=!0,e+=1);for(d=!1;e<b&&!d;){var g="0123456789".indexOf(a[e]);-1!==g?(c=10*c+g,e+=
1):d=!0}this.tb=!0;f&&(c=-c);this.Hb=c}};wa.prototype.xc=function(a,b){var c=a.indexOf("\n"),d=0,f=0,e=!1,g=!1,k=!1,l=0;-1===c&&(c=a.length);if(b){for(;l<c&&!k;)"="===a[l]?k=!0:" "!==a[l]?k=!0:l+=1;k&&"="===a[l]&&(l+=1)}else k=!0;if(k&&(l=this.jb(a,l,c),l<c)){"-"===a[l]&&(e=!0,l+=1);for(k=!1;l<c&&!k;)b="0123456789".indexOf(a[l]),-1!==b?(d=10*d+b,l+=1):k=!0;this.Ka=!0;this.cb=e?-d:d;l=this.jb(a,l,c);if(l<c&&","===a[l]&&(l=this.jb(a,l+1,c),l<c)){"-"===a[l]&&(g=!0,l+=1);for(k=!1;l<c&&!k;)b="0123456789".indexOf(a[l]),
-1!==b?(f=10*f+b,l+=1):k=!0;this.eb=g?-f:f}}};wa.prototype.Vc=function(a,b){var c=a.indexOf("XRLE",b);b=a.indexOf("\n",b);var d=c;-1!==c&&(c=a.indexOf("Pos",c),-1!==c&&c<b&&this.xc(a.substring(c+3),!0),c=a.indexOf("Gen",d),-1!==c&&c<b&&this.Sd(a.substring(c+3)))};wa.prototype.Vd=function(a,b){var c=b.indexOf("\n");-1===c&&(c=b.length);a.name=b.substring(0,c).trim()};wa.prototype.Pa=function(a,b,c,d,f){var e=c.indexOf("\n",d);-1===e&&(e=c.length);c=c.substring(d,e);a.Rb.push(c.trim());c=(b+c).replace(/[ \t]+$/g,
"");f?a.rb.push(c):a.tb.push(c);return e+1-d};wa.prototype.B=function(a){var b=0;a+=" ";var c="0123456789".indexOf(a[this.h]);if(-1!==c)for(b=0;-1!==c;)b=10*b+c,this.h+=1,c="0123456789".indexOf(a[this.h]);return b};wa.prototype.yd=function(a,b){var c=this.B(b),d=!0;b=b[this.h];a.P=c;a.da=c;"*"===b&&(d=!1,this.h+=1);a.Lb=d;0===c&&0===c&&(a.j=-1)};wa.prototype.zd=function(a,b){var c=this.B(b),d=-1,f=0,e=0;if(-1!==c){b+=" ";var g=b[this.h];if("-"===g||"+"===g)this.h+=1,f=this.B(b),-1===f?c=-1:"-"===
g&&(f=-f);if(","===b[this.h])if(this.h+=1,d=this.B(b),-1===d)c=-1;else{if(g=b[this.h],"-"===g||"+"===g)this.h+=1,e=this.B(b),-1===e?c=-1:"-"===g&&(e=-e)}else d=c}if(-1E6>f||1E6<f||-1E6>e||1E6<e)c=-1;0!==f&&0<c&&(f%=c);0!==e&&0<d&&(e%=d);0!==f&&0!==e&&(c=-1);0===c&&0===d&&(a.j=-1);0===f&&0===e||0!==c&&0!==d||(c=-1);a.P=c;a.da=d;a.Ea=f;a.Fa=e};wa.prototype.pd=function(a,b){var c=this.B(b),d=-1,f=0,e=0,g=!1,k=!1;if(-1!==c){b+=" ";var l=b[this.h];"*"===l&&(g=!0,this.h+=1,l=b[this.h]);if("-"===l||"+"===
l)this.h+=1,f=this.B(b),-1===f?c=-1:"-"===l&&(f=-f);if(","===b[this.h])if(this.h+=1,d=this.B(b),-1===d)c=-1;else{if(l=b[this.h],"*"===l&&(k=!0,this.h+=1,l=b[this.h]),"-"===l||"+"===l)this.h+=1,e=this.B(b),-1===e?c=-1:"-"===l&&(e=-e)}else d=c}g&&k&&(c=-1);0!==f&&0!==e&&(c=-1);if(g&&0!==e||k&&0!==f)c=-1;g||k||0===f||(c=-1);if(0!==f&&0!==(c&1)||0!==e&&0!==(d&1))c=-1;if(0===c&&0===d)a.j=-1;else if(0===c||0===d)c=-1;g||k||(k=!0);0!==f&&(f=1);0!==e&&(e=1);a.P=c;a.da=d;a.Ea=f;a.Fa=e;a.Jb=g;a.Mb=k};wa.prototype.fd=
function(a,b){var c=this.B(b),d=-1;-1!==c&&(b+=" ",","===b[this.h]?(this.h+=1,d=this.B(b),-1===d&&(c=-1)):d=c);if(0===c&&0===d)a.j=-1;else if(0===c||0===d)c=-1;a.P=c;a.da=d};wa.prototype.wd=function(a,b){var c=this.B(b),d=-1;-1!==c&&(b+=" ",","===b[this.h]?(this.h+=1,d=this.B(b),-1===d&&(c=-1)):d=c);0===c&&0===d&&(a.j=-1);a.P=c;a.da=d};wa.prototype.bc=function(a,b){var c=!0;b=this.Bc(b).toLowerCase();if(""!==b){c=!1;a.j="ptkcs".indexOf(b[0]);if(-1!==a.j)if(this.h=1,2!==a.j&&4!==a.j&&-1!==b.indexOf("*"))a.P=
-1;else switch(a.j){case 0:this.wd(a,b);break;case 1:this.zd(a,b);break;case 2:this.pd(a,b);break;case 3:this.fd(a,b);break;case 4:this.yd(a,b);break;default:a.P=-1}this.h!==b.length&&(a.P=-1);-1!==a.P?c=!0:(a.j=-1,this.U="Invalid bounded grid definition '"+b.toUpperCase()+"'")}return c};wa.prototype.Ua=function(a,b,c,d){var f,e=0,g=null;if(c[b]===a){for(b+=1;b<d&&" "===c[b];)b+=1;if(b<d&&"="===c[b])b+=1;else return[g,b];for(;b<d&&" "===c[b];)b+=1;a=0;var k=f=!1;b<d&&"-"===c[b]&&(b+=1,k=!0);for(b<
d&&(e=c[b].charCodeAt(0));b<d&&48<=e&&57>=e;)a=10*a+(e-48),b+=1,f=!0,b<d&&(e=c[b].charCodeAt(0));for(f&&(g=k?-a:a);b<d&&" "===c[b];)b+=1;for(b<d&&","===c[b]&&(b+=1);b<d&&" "===c[b];)b+=1}return[g,b]};wa.prototype.xd=function(a,b){this.da=this.ea=-999999;var c=this.Ua("x",0,a,b);var d=c[1];null!==c[0]&&(this.ea=c[0]);c=this.Ua("y",d,a,b);d=c[1];null!==c[0]&&(this.da=c[0]);c=this.Ua("h",d,a,b);d=c[1];null!==c[0]&&(this.cb=c[0],this.Ka=!0);c=this.Ua("v",d,a,b);null!==c[0]&&(this.eb=c[0])};wa.prototype.Cb=
function(a,b,c,d){var f=b.indexOf("\n"),e=b.indexOf("rule"),g=!1;-1===f&&(f=b.length);c?this.xd(b,f):e=-1;-1===e||e>f?e=c?"":b.substring(1,f).trim():(e=b.substring(e+4,f).trim(),"="===e[0]&&(e=e.substring(1).trim()));""!==e&&","===e[e.length-1]&&(e=e.substring(0,e.length-1));a.Pa=e;a.h=e;var k=e.indexOf(":");c=e.lastIndexOf(":");-1!==c&&k===c&&null!==db.Np(a.h)&&(c=-1);-1!==c&&(this.bc(a,e.substring(c+1))?e=e.substring(0,c).trim():c=-2);var l=e.toLowerCase().lastIndexOf("history");-1!==l&&l===e.length-
7&&(a.H=!0,e=e.substring(0,e.length-7).trim());l=e.indexOf("|");-1!==l&&"history"===e.toLowerCase().substring(0,l).trim().substring(l-7)&&(a.H=!0,k=e.substring(0,l).trim(),e=k.substring(0,k.length-7)+e.substring(l));a.H||(l=e.toLowerCase().lastIndexOf("super"),-1!==l&&l===e.length-5&&(a.D=!0,e=e.substring(0,e.length-5).trim()),l=e.indexOf("|"),-1!==l&&"super"===e.toLowerCase().substring(0,l).trim().substring(l-5)&&(a.D=!0,k=e.substring(0,l).trim(),e=k.substring(0,k.length-5)+e.substring(l)));a.H||
a.D||("stateinvestigator"===e.toLowerCase()?(e="B3/S23Investigator",g=!0):"leapinvestigator"===e.toLowerCase()?(e="B2n3/S23-qInvestigator",g=!0):"eightinvestigator"===e.toLowerCase()?(e="B3/S238Investigator",g=!0):"pedestrianinvestigator"===e.toLowerCase()?(e="B38/S23Investigator",g=!0):"merryinvestigator"===e.toLowerCase()&&(e="B3-eq4ciqt5ky/S2-c3-k4yz5i8Investigator",g=!0),l=e.toLowerCase().lastIndexOf("investigator"),-1!==l&&l===e.length-12&&(a.S=!0,e=e.substring(0,e.length-12).trim()),l=e.indexOf("|"),
-1!==l&&"investigator"===e.toLowerCase().substring(0,l).trim().substring(l-12)&&(a.S=!0,k=e.substring(0,l).trim(),e=k.substring(0,k.length-12)+e.substring(l)));-2!==c&&this.ya(a,e,d,g)?this.ob=!0:this.Rj=!0;""===e&&-1===b.indexOf("=")&&(f=-1);return f+1};wa.prototype.Xb=function(a){switch(a){case 0:a="Plane";break;case 1:a="Torus";break;case 2:a="Klein bottle";break;case 3:a="Cross-surface";break;case 4:a="Sphere";break;default:a="(unknown)"}return a};wa.prototype.Zd=function(a,b){var c=a.G,d=a.B,
f=this.sa(a.v,a.m,a.pa);var e=new Uint8Array(a.G.length);var g=new Uint8Array(a.B.length);if(d[f+1]){for(a=0;a<=f;a+=1)e[a]=255-d[f-a+1],g[a+1]=255-c[f-a];for(a=0;a<=f;a+=1)c[a]=e[a],d[a+1]=g[a+1];this.ca=!1}else{a.Ia=b.h(ra.bb,a.G.length,"HROT.altBirths",!1);a.Ka=b.h(ra.bb,a.B.length,"HROT.altSurvivals",!1);e=a.Ia;g=a.Ka;for(a=0;a<=f;a+=1)e[a]=d[f-a+1],g[a+1]=c[f-a];for(a=0;a<=f;a+=1)c[a]=255-c[a],d[a+1]=255-d[a+1];this.ca=!0}};wa.prototype.Xc=function(a,b){var c,d,f=a.I,e=a.ca;if(null!==f)if(a.Da&&
2===a.i)for(d=2;256>d;d+=1)this.aa[d]&&(this.aa[d]=0,--a.Wa);else for(c=0;c<e.length;c+=1){var g=f[c];var k=e[c];for(d=0;d<k.length;d+=1){var l=k[d];l>=b&&(k[d]=0,g[d>>2]&=~(1<<(~d&15)),0<this.aa[l]&&(this.aa[l]=0,--a.Wa))}}};wa.prototype.Tb=function(a){var b="[R]History",c=!0;a.D?b="[R]Super":a.S&&(b="[R]Investigator");-1===a.i||a.ka||(this.U=a.Da?b+" not valid with HROT":b+" not valid with Generations");a.ka&&(this.U=b+" not valid with PCA rule");a.ga&&(this.U=b+" not valid with none rule");a.s&&
(this.U=b+" not valid with triangular rule");a.va===this.qa&&(this.U=b+" not valid with Hex Tripod");a.$&&(this.U=b+" not valid with LtL");a.fa&&(this.U=b+" not valid with Margolus");this.na&&(this.U=b+" not valid with Wolfram emulation");""!==this.U&&(c=!1);return c};wa.prototype.ic=function(a,b,c,d){var f=0,e=b.length,g;var k=!0;var l=g=!1;var p=this.aa;var n=0,q=4,m=0;a.fa=!1;a.ga=!1;a.j=-1;a.width=0;a.height=0;a.wa=!1;a.I=null;a.ca=null;a.ra=!1;a.H=!1;a.D=!1;a.S=!1;a.Na=!1;a.ha=!1;a.qa=-1;a.la=
!1;a.i=-1;a.$=!1;a.A=-1;a.ya=1;a.O=-1;a.aa=-1;a.Y=-1;a.ea=-1;a.Da=!1;a.G=null;a.B=null;a.v=-1;a.title="";a.u="";a.sa="";a.F=2;a.Wa=0;p.fill(0);for(b+=" ";f<e&&!a.ra;)switch(p=b[f],p){case "#":f+=1;p=b[f];f+=1;switch(p){case "N":this.Vd(a,b.substring(f));break;case "O":this.Wd(a,b.substring(f));break;case "C":this.Vc(b,f);break;case "P":this.xc(b.substring(f),!1);break;case "R":l?(k=b.substring(f).indexOf("\n"),-1===k&&(k=b.substring(f).length),f+=k):(f+=this.Cb(a,b.substring(f),!1,c),l=!0);k=!1;break;
case "\n":--f}k?f="\n"===p?f+this.Pa(a,"#",b,f,g):f+this.Pa(a,"#"+p,b,f,g):k=!0;break;case "\n":f+=1;break;default:if("x"===p&&f<e&&(" "===b[f+1]||"="===b[f+1])&&!l){if(f+=this.Cb(a,b.substring(f),!0,c),l=!0,this.ea===Da.hr||this.da===Da.hr)this.U="RLE header needs: x = N, y = N",a.ra=!0,this.ob=!1}else if(g)f+=this.Pa(a,"",b,f,!0);else{g=!0;var r=[];p=this.Va(a,b.substring(f),r);-1!==p&&(f+=p,a.wa||d||this.hc(a,r,c))}}if(a.ra&&(g=b.substring(f).indexOf("!"),-1!==g))for(f+=g+1;f<e;)f+=this.Pa(a,"",
b,f,!0);l||(this.ya(a,"",c,!1)?this.ob=!0:this.Rj=!0);a.$&&this.$d(a,c);(b=a.Yb())&&this.Zd(a,c);!a.Da||a.m!==this.G&&a.m!==this.D&&a.m!==this.A&&(15!==a.m&&10!==a.m||"H"!==a.ba)||(a.ha=!0);!a.Da||a.m!==this.H&&(15!==a.m&&10!==a.m||"L"!==a.ba)||(a.s=!0);-1!==a.j&&(a.Da&&(q=6*a.v),a.$&&(q=6*a.A),a.P>=16384-q||a.da>=16384-q)&&(this.U="Bounded grid too big",this.ob=!1,a.j=-1);a.Da&&-1!==a.j&&(0!==a.P&&a.P<2*a.v||0!==a.da&&a.da<2*a.v)&&(this.U="Bounded grid too small (must be at least "+2*a.v+")",this.ob=
!1,a.j=-1);a.ha&&1<a.j&&""===this.U&&(this.U="Hexagonal rules only support Plane or Torus",this.ob=!1,a.j=-1);a.s&&1<a.j&&""===this.U&&(this.U="Triangular rules only support Plane or Torus",this.ob=!1,a.j=-1);a.s&&(1===a.j||2===a.j)&&(a.Ea&1||a.Fa&1)&&(this.U="Triangular rules only support even shifts",this.ob=!1,a.j=-1);a.fa&&(1===a.j||2===a.j)&&(a.Ea&1||a.Fa&1)&&(this.U="Margolus rules only support even shifts",this.ob=!1,a.j=-1);a.fa&&1<a.j&&""===this.U&&(this.U="Margolus rules only support Plane or Torus",
this.ob=!1,a.j=-1);a.ka&&1<a.j&&""===this.U&&(this.U="PCA rules only support Plane or Torus",this.ob=!1,a.j=-1);!a.$||""!==this.U||(1<a.j&&(this.U="LtL only supports Plane or Torus",this.ob=!1,a.j=-1),0!==a.j&&1!==a.j)||0!==a.P&&0!==a.da||(this.U="LtL bounded grid must be finite",this.ob=!1,a.j=-1);a.s&&-1!==a.j&&(0!==(a.P&1)?(this.U="Bounded grid width must be even",this.ob=!1,a.j=-1):0!==(a.da&1)&&(this.U="Bounded grid height must be even",this.ob=!1,a.j=-1));a.ka&&0!==this.j[0]&&(this.U="PCA first value must be 0",
this.j[0]=0,this.ob=!1);a.fa&&(15===this.j[0]&&0!==this.j[15]?(this.U="Margolus last value must be 0 when first is 15",this.ob=!1):0!==this.j[0]&&15!==this.j[0]&&(this.U="Margolus first value must be 0 or 15",this.ob=!1));!a.Da||-1===a.j||0===a.Fa&&0===a.Ea||(this.U="HROT does not support Bounded Grid shift",this.ob=!1,a.j=-1);b&&2<a.i&&(this.U="HROT Generations does not support B0",this.ob=!1);!a.Da||""!==this.U||(1<a.j&&(this.U="HROT only supports Plane or Torus",this.ob=!1,a.j=-1),0!==a.j&&1!==
a.j)||0!==a.P&&0!==a.da||(this.U="HROT bounded grid must be finite",this.ob=!1,a.j=-1);a.Na&&(a.H||a.S)&&(this.U=a.H?"[R]History not valid with Niemiec states":"[R]Investigator not valid with Niemiec states",this.ob=!1);a.H&&""===this.U&&(a.H=this.Tb(a));a.S&&""===this.U&&(a.S=this.Tb(a));a.D&&""===this.U&&(a.D=this.Tb(a));-1===a.i||!this.j[0]||a.$||a.Da||(this.U="Generations does not support B0",this.ob=!1);a.fa&&-1!==a.j&&(-1!==a.da&&0!==(a.da&1)&&(this.U="Bounded grid height must be even",a.j=
-1,this.ob=!1),-1!==a.P&&0!==(a.P&1)&&(this.U="Bounded grid width must be even",a.j=-1,this.ob=!1));a.ha&&(n+=1);a.s&&(n+=1);a.la&&(n+=1);1<n&&(this.U="Multiple neighbourhoods specified",this.ob=!1,a.ha=!1,a.s=!1,a.la=!1);a.D&&(a.i=26);a.S&&(a.i=21);this.ob&&(a.H?(m=7,a.F>m&&(this.U="Illegal state in pattern for [R]History",this.ob=!1,this.fa=!0)):a.D?(m=26,a.F>m&&(this.U="Illegal state in pattern for [R]Super",this.ob=!1,this.fa=!0)):a.S?(m=21,a.F>m&&(this.U="Illegal state in pattern for [R]Investigator",
this.ob=!1,this.fa=!0)):-1!==a.i&&(m=a.i,a.F>m&&(this.U=a.$?"Illegal state in pattern for LtL":a.Da?"Illegal state in pattern for HROT":a.ka?"Illegal state in pattern for PCA":"Illegal state in pattern for Generations",this.fa=!0,this.ob=!1)),this.fa&&!d&&(a.F=m,this.Xc(a,m)))};wa.prototype.od=function(a,b){var c=!0,d=!1,f=0,e=0,g=0,k=0,l=0,p=!0,n=Da.Or,q,m=null,r=[],u={},t=null;b.u();var v=b.j();for(""!==v&&"@"===v[0]&&(v="");c&&""!==v;){for(;c&&!d&&""!==v;){if("/"===v[0])b.u();else if("xpm"===v.toLowerCase())b.u();
else if('"'===v[0])v=v.substring(1),b.v(v)&&(f=b.H(v),b.i()&&(e=b.h(),b.i()&&(g=b.h(),v=b.j(),'"'===v[v.length-1]&&(v=v.substring(0,v.length-1),b.v(v)&&(k=b.H(v)))))),0<f&&0<e&&1<=k&&2>=k&&0===e%f?7!==f&&15!==f&&31!==f?d=!1:(d=!0,l=0,m=new Uint16Array(f*e),t=new Uint32Array(g)):c=!1;else switch(v){case "circles":n=Da.sJ;u={};m=new Uint16Array(0);t=[];break;case "diamonds":n=Da.tJ;u={};m=new Uint16Array(0);t=[];break;case "hexagons":n=Da.uJ;u={};m=new Uint16Array(0);t=[];break;case "triangles":n=Da.wJ,
u={},m=new Uint16Array(0),t=[]}for(;b.D();)b.j();v=b.j();""!==v&&"@"===v[0]&&(v="")}for(;c&&d&&""!==v;){if("/"===v[0])b.u();else{if('"'===v[0])if(c=!1,l<g){var B=v.substring(1);if(B.length===k&&void 0===u[B]&&(v=b.j(),"c"===v&&(v=b.j(),'"'===v[v.length-1]))){c=v.substring(0,v.length-1);c=parseInt(c,16);u[B]=l;t[l]=c;if(c>>16!==(c>>8&255)||c>>16!==(c&255))p=!1;c=!0;b.u()}}else{if(c=!1,'"'===v[v.length-1]&&v.length-2===f*k){v=v.substring(1,v.length-1);var w=0;for(c=!0;c&&w<f;){B=v[w*k];1<k&&(B+=v[w*
k+1]);if(void 0===u[B])c=!1;else{if(l>=e+g){console.log("LifeViewer: unexpected icon data found after icon",e/f);var z=m;e+=f;m=new Uint16Array(f*e);for(q=0;q<z.length;q+=1)m[q]=z[q]}m[(l-g)*f+w]=u[B]}w+=1}}}else l===e+g?(d=!1,r[r.length]={Mq:n,width:f,height:e,xw:g,Wn:t.slice(),Qu:m.slice(),cr:p},u={},m=null,p=!0,n=Da.Or):c=!1,b.P();l+=1}for(;b.D();)b.j();v=b.j();""!==v&&"@"===v[0]&&(v="")}}c?l===e+g?(r[r.length]={Mq:n,width:f,height:e,xw:g,Wn:t.slice(),Qu:m.slice(),cr:p},a.na=r):a.na=null:a.na=
null};wa.prototype.td=function(a,b){var c=a.F,d=[],f=0,e,g=!1;b.u();b.i()&&(f=b.h(),0<=f&&f<c&&(g=!0));for(;g;){g=!1;for(e="";!b.D()&&""!==b.m();)e=""===e?b.j():e+(" "+b.j());d[f]=e;b.u();b.i()&&(f=b.h(),0<=f&&f<c&&(g=!0))}a.kb=d};wa.prototype.cc=function(a,b){var c=a.F;a=a.Ha;var d=0,f=0,e=0,g=0,k=!1;b.u();b.i()&&(d=b.h(),k=!0);for(;k;){k=!1;b.i()&&(f=b.h(),b.i()&&(e=b.h(),b.i()&&(g=b.h(),k=!0)));if(k)if(b.i()&&b.I()){var l=b.h();var p=b.h();0<=d&&255>=d&&0<=f&&255>=f&&0<=e&&255>=e&&0<=g&&255>=g&&
0<=l&&255>=l&&0<=p&&255>=p?this.Yb(a,d,f,e,g,l,p):k=!1}else 0<=d&&d<c&&0<=f&&255>=f&&0<=e&&255>=e&&0<=g&&255>=g?a[d]=f<<16|e<<8|g:k=!1;k&&(b.u(),b.i()?d=b.h():k=!1)}};wa.prototype.Jb=function(a,b,c,d,f,e){var g=!1,k=a.length;var l=d.length;var p=l%32;var n=1<<p,q=(l-p)/32,m=0;if(null!==e)for(l=0;!g&&l<e.length;){var r=e[l];if(r.output===b)for(p=0,g=!0;g&&p<a.length;)0!==this.Sa(a[p],r.inputs[p])&&(g=!1),p+=1;l+=1}if(!g){null!==e&&(r={inputs:[],output:b},r.inputs=a.slice(),e[e.length]=r);d[d.length]=
b;if(q>=c.Ua){for(l=0;l<k;l+=1)for(p=0;p<c.ta;p+=1)f[l][p][f[l][p].length]=0;c.Ua+=1}for(l=0;l<k;l+=1){c=a[l];d=!1;for(p=0;p<c.length;p+=1)f[l][c[p]][q]|=n,0===c[p]&&(d=!0);d&&(m+=1)}0!==b&&m===k&&(this.F=!0)}return g};wa.prototype.Kd=function(a){var b=a.length,c=b-2,d=b-1,f=!1;if(1<b){for(;0<=c&&0<=this.Sa(a[c],a[c+1]);)--c;if(0<c){for(f=!0;d>=c&&0>=this.Sa(a[d],a[c]);)--d;var e=a[c];a[c]=a[d];a[d]=e;var g=(b-(c+1))/2|0;for(d=0;d<g;d+=1)e=a[b-d-1],a[b-d-1]=a[c+1+d],a[c+1+d]=e}}return f};wa.prototype.Sa=
function(a,b){var c=0,d=a.length;if(d===b.length){for(;c<d&&a[c]===b[c];)c+=1;return c===d?0:a[c]-b[c]}return d-b.length};wa.prototype.Rd=function(a,b,c,d,f){var e,g,k,l=[],p=[],n=[],q=0;for(e=0;e<c;e+=1)for(n[e]=[],g=0;g<f.ta;g+=1)n[e][g]=[];for(e=f.Ua=0;e<d.length;e+=1){var m=d[e].inputs;var r=d[e].output;if(0===a)this.Jb(m,r,f,p,n,null);else if(a===b-1){l=m.slice(1).sort(this.Sa);for(g=0;g<l.length;g+=1)m[g+1]=l[g];do this.Jb(m,r,f,p,n,null);while(this.Kd(m))}else{var u=this.Ca[f.$a][a-1];var t=
[];for(g=0;g<u.length;g+=1){for(k=0;k<m.length;k+=1)l[k]=m[u[g][k]];this.Jb(l,r,f,p,n,t)&&(q+=1)}}}k=0;f.Va=[];for(e=0;e<c;e+=1)for(f.Va[e]=[],g=0;g<f.ta;g+=1)f.Va[e][g]=new Uint32Array(n[e][g].length),f.Va[e][g].set(n[e][g]),k+=n[e][g].length;if(W.R)for(f.Bb=this.T.h(ra.lc,k,"Life.ruleTableLUT",W.R),e=a=0;e<c;e+=1)for(g=0;g<f.ta;g+=1)for(k=0;k<n[e][g].length;k+=1)f.Bb[a]=n[e][g][k],a+=1;f.ia=this.T.h(ra.bb,p.length,"Life.ruleTableOutput",W.R);f.ia.set(p);f.pb=q};wa.prototype.nc=function(a,b){var c=
-1,d=-1,f=-1,e=0,g,k="",l={},p=0,n=0,q=[],m=null,r;this.F=!1;var u=0;for(r=!0;r&&3>u;){var t=b.Y();switch(t.toLowerCase()){case "n_states":r=!1;":"===b.j()?b.i()?(c=b.h()|0,2<=c&&256>=c?r=!0:this.U="n_states must be from 2 to 256"):this.U="n_states must be numeric":this.U="n_states missing :";break;case "neighborhood":r=!1;if(":"===b.j()){t=b.j();var v=!1;for(g=0;!v&&g<this.ja.length;)t.toLowerCase()===this.ja[g]?(d=g,e=this.Ba[g],v=!0,m=new Int32Array(e+1)):g+=1;r=v;v||(this.U="neighborhood invalid")}else this.U=
"neighborhood missing :";break;case "symmetries":r=!1;if(-1!==d)if(":"===b.j()){t=b.j();v=!1;for(g=0;!v&&g<this.ka[d].length;)t.toLowerCase()===this.ka[d][g]?(f=g,v=!0):g+=1;r=v;v||(this.U="symmetries invalid")}else this.U="symmetries missing :";else this.U="symmetries must follow neighborhood";break;default:r=!1}u+=1}if(-1===c||-1===d||-1===f)""===this.U&&(this.U=-1===c?"missing n_states":-1===d?"missing neighborhood":"missing symmetries"),r=!1;b.G();t=b.j();for(""!==t&&"@"===t[0]&&(t="");r&&""!==
t;){if("var"===t.toLowerCase()){k=b.j();var B=[];"="===b.m()&&b.j();for(r=!0;r&&!b.D();)if(b.i())g=b.h(),0<=g&&g<=c?B[B.length]=g:(r=!1,this.U="out of range value: "+k+"="+g);else{var w=b.j();if(void 0!==l[w])for(u=0;u<l[w].length;u+=1)B[B.length]=l[w][u];else r=!1,this.U="var unknown assignment: "+k+"="+w}r&&(l[k]=B,p+=1)}else if(10>=c&&0===p&&b.D()){if(B=[],r=!1,t.length===e+1){u=0;for(r=!0;r&&u<e;)w=t.charCodeAt(u),48<=w&&w<48+c?(B[B.length]=[w-48],u+=1):(this.U="expected only digits: "+t,r=!1);
r&&(w=t.charCodeAt(u),48<=w&&w<48+c?(n=w-48,q[q.length]={inputs:B,output:n}):(this.U="expected only digits: "+t,r=!1))}}else{r=!1;w=[];w[0]=t;m[0]=b.v(t)?parseInt(t,10):-1;for(u=1;b.ba();)u<e+1?b.i()?(m[u]=b.h(),w[u]=""):(m[u]=-1,w[u]=b.j()):w[u]=b.j(),u+=1;if(w.length===e+1){t=[];for(k in l){for(u=r=0;u<w.length;u+=1)k===w[u]&&(r+=1);1<r&&(t[t.length]=k)}B=[];var z={};for(u=0;u<t.length;u+=1)z[t[u]]=0;for(r=!0;;){for(u=0;u<e;u+=1)if(v=!1,g=m[u],-1!==g)g>=c?(this.U="state out of range: "+g,r=!1):
B[u]=[g];else{var E=w[u];if(t.length)for(g=0;!v&&g<t.length;)t[g]===E?v=!0:g+=1;0<t.length&&v?B[u]=[l[E][z[E]]]:void 0!==l[E]?B[u]=l[E]:(this.U="unknown variable: "+E,r=!1)}v=!1;g=m[u];if(-1!==g)0>g||g>=c?(this.U="output state out of range: "+g,r=!1):n=g;else{E=w[u];if(0<t.length)for(g=0;!v&&g<t.length;)t[g]===E?v=!0:g+=1;0<t.length&&v?n=l[E][z[E]]:void 0!==l[E]?n=l[E]:(this.U="unknown output variable: "+E,r=!1)}q[q.length]={inputs:B.slice(),output:n};for(u=0;u<t.length;u+=1)if(z[t[u]]<l[t[u]].length-
1){z[t[u]]+=1;break}else z[t[u]]=0;if(u>=t.length)break}}}b.G();t=b.j();""!==t&&"@"===t[0]&&(b.P(),t="")}r&&(null===a.T&&(a.T=va.T),a.ta=c,a.$a=d,a.ha=d===Da.Vg?!0:!1,this.Rd(f,this.ka[d].length,e,q,a),a.F=a.ta,this.U="",this.ob=!0,this.Rj=!1,a.ga=!1,this.Zb(a,a.ta));return r};wa.prototype.Yb=function(a,b,c,d,f,e,g){var k=a.length,l;a[0]=0;for(l=1;l<k;l+=1){var p=2===k?0:(l-1)/(k-2);a[l]=(f*p+b*(1-p)|0)<<16|(e*p+c*(1-p)|0)<<8|g*p+d*(1-p)|0}};wa.prototype.Zb=function(a,b){a.Ha=new Uint32Array(b);this.Yb(a.Ha,
255,0,0,255,255,0)};wa.prototype.Nd=function(a){return(new RegExp("neighborhood *: *"+this.ja[Da.Vg])).test(a.source)};wa.prototype.Wc=function(a,b,c,d){4===c?0!==b[a[a[a[a[d]]]]]&&(this.F=!0):0!==b[a[a[a[a[a[a[a[a[d]]]]]]]]]&&(this.F=!0)};wa.prototype.Bd=function(a,b){var c,d=-1,f=-1,e=-1,g=null,k=0,l=null,p=0,n=null,q=0,m=null,r=0,u=0,t=0;this.F=!1;var v=0;for(c=!0;c&&3>v;){c=b.Y();switch(c.toLowerCase()){case "num_states":c=!1;"="===b.j()?b.i()?(d=b.h()|0,2<=d&&256>=d?c=!0:this.U="num_states must be from 2 to 256"):
this.U="num_states must be numeric":this.U="num_states missing =";break;case "num_neighbors":c=!1;"="===b.j()?b.i()?(f=b.h()|0,4===f||8===f?c=!0:this.U="num_neighbors must be 4 or 8"):this.U="num_neighbors must be numeric":this.U="num_neighbors missing =";break;case "num_nodes":c=!1;"="===b.j()?b.i()?(e=b.h()|0,e>=f&&1E8>=e?c=!0:this.U="num_nodes out of range"):this.U="num_nodes must be numeric":this.U="num_nodes missing =";break;default:c=!1}v+=1}if(-1===d||-1===f||-1===e)""===this.U&&(this.U=-1===
d?"missing num_states":-1===f?"missing num_neighbors":"missing num_nodes"),c=!1;c&&(g=new Uint32Array(e*d),l=new Uint8Array(e*d),n=new Uint32Array(e),m=new Uint32Array(e));for(b.G();c&&b.i();){q>e?c=!1:(u=b.h(),t=0,n[q]=1===u?p:k,q+=1,m[r]=u,r+=1);for(;c&&b.i();)v=b.h(),1===u?0>v||v>=d?(this.U="bad state value in tree data: "+v,c=!1):(l[p]=v,p+=1):0>v||v>n.length?(this.U="bad node value in tree data: "+v,c=!1):m[v]!==u-1?(this.U="bad node pointer in tree data: "+u,c=!1):(g[k]=n[v],k+=1),t+=1;c&&t!==
d&&(this.U="bad number of values on tree data line",c=!1);b.G()}c&&(k+p!==e*d?(this.U="bad count of values in tree data",c=!1):u!==f+1&&(this.U="bad last node (wrong level)",c=!1));if(c){null===a.T&&(a.T=va.T);a.mb=f;a.ma=d;a.qb=e;a.lb=n[n.length-1];a.ab=a.T.h(ra.lc,k,"Life.ruleTreeA",W.R);a.cb=a.T.h(ra.bb,p,"Life.ruleTreeB",W.R);for(v=0;v<k;v+=1)a.ab[v]=g[v];for(v=0;v<p;v+=1)a.cb[v]=l[v];a.Nb=this.Nd(b);a.ha=a.Nb;a.F=a.ma;this.U="";this.ob=!0;this.Rj=!1;a.ga=!1;this.Wc(a.ab,a.cb,a.mb,a.lb);this.Zb(a,
a.ma)}return c};wa.prototype.mc=function(a,b){var c=!1,d=new Pa(b,!0);a.X.fb="";a.X.U="";b=d.A("@RULE",-1);if(-1!==b&&!d.D()){a.xb=d.$();var f=d.A("@TREE",-1);-1!==f?(c=this.Bd(a,d))?a.h=a.xb:(""===a.X.U&&(a.X.U="not valid"),a.X.U="@TREE "+a.X.U):(f=d.A("@TABLE",0),-1!==f?(c=this.nc(a,d))?a.h=a.xb:(""===a.X.U&&(a.X.U="not valid"),a.X.U="@TABLE "+a.X.U):a.X.U="@TABLE and @TREE not found");f=d.current-1;c&&(c=d.A("@COLORS",0),-1!==c&&(this.cc(a,d),d.current-1>f&&(f=d.current-1)),c=d.A("@ICONS",0),-1!==
c&&(this.od(a,d),d.current-1>f&&(f=d.current-1)),c=d.A("@NAMES",0),-1!==c&&(this.td(a,d),d.current-1>f&&(f=d.current-1)));""===a.X.U&&(a.X.fb=d.aa(b,f))}};wa.prototype.Uc=function(a){var b=a.h.toLowerCase().lastIndexOf("super");-1===b&&(a.h+="Super");""!==a.V&&(b=a.V.toLowerCase().lastIndexOf("super"),-1===b&&(a.V+="Super"))};wa.prototype.gd=function(a){var b=!1,c=a.sa.indexOf("@RULE"),d=a.h;var f=d.indexOf(":");a.ua=this.U;-1!==f&&(this.bc(a,d.substring(f+1)),d=d.substring(0,f));for(;-1!==c&&!b;){f=
a.sa.indexOf("@RULE",c+1);var e=-1===f?a.sa.substring(c):a.sa.substring(c,f);this.mc(a,e);-1===a.ma&&null===a.ia||d!==a.xb?(c=f,a.ma=-1,a.ia=null):b=!0}return b};wa.prototype.create=function(a,b,c,d,f,e,g,k){a=new mb(a,this);this.ob=this.Rj=this.Na=this.fa=this.F=this.ra=!1;this.U="";this.h=0;this.tb=!1;this.Hb=0;this.Ka=!1;this.eb=this.cb=0;this.da=this.ea=-999999;this.ca=!1;if("!"===b.charAt(0)||"O"===b.charAt(0)||"."===b.charAt(0)||"*"===b.charAt(0)||"o"===b.charAt(0))this.ed(a,b,c),this.ob=!0;
null===a.I&&(this.ob=!1,"#Life 1.05"===b.substring(0,10)?this.ac(a,b,!0,c):"#Life 1.06"===b.substring(0,10)?(this.dd(a,b,c),this.ob=!0):"#"===b[0]||"x"===b[0]?(this.ic(a,b,c,g),null!==a.I||a.wa||a.ra||(this.ac(a,b,!1,c),this.Rj=!1,a.ca=null,a.H=!1,a.D=!1,a.S=!1,a.F=2,a.Wa=0)):(this.ic(a,b,c,g),a.ra&&(a=null)));a&&a.wa&&(this.U="Pattern too big",this.Na=a.ra=!0,this.ob=!1);a&&(-1!==a.j?(b=a.h.lastIndexOf(":"),a.eb=a.h.substring(b),a.h=a.h.substring(0,b)):a.eb="");a&&a.Da&&a.m===this.v&&50<a.v&&(this.U=
"HROT 'R' > 50",this.ob=!1);a&&null===a.I&&""===this.U&&(this.U="Invalid pattern",a=null,this.ob=!1);a&&a.ra&&!a.wa&&(this.ob=!1);a&&(!a.Na||a.H||a.S||this.Uc(a),""!==a.u&&"\n"!==a.u[a.u.length-1]&&(a.u+="\n"),""!==a.sa&&"\n"!==a.sa[a.sa.length-1]&&(a.sa+="\n"),""!==this.U&&(a.ha||a.s)&&null===a.h.match(/[0-9]/)&&(a.ha=!1,a.s=!1),""===a.title&&(a.title=a.Rb.join(" "),a.sa=0<a.rb.length?a.rb.join("\n")+"\n":"",a.u=0<a.tb.length?a.tb.join("\n")+"\n":"",a.Rb=[],a.rb=[],a.tb=[]),""===this.U||this.Na||
this.fa||""===a.h||(-1!==a.h.indexOf("|")&&"Only one alternate allowed"!==this.U?this.U=a.Da?"Alternating HROT rules with B0 are not supported":"Alternating RuleLoader rules are not supported":(a.ua=this.U,a.Pa=a.h,-1!==a.j?(b=a.h.lastIndexOf(":"),-1!==b&&(a.eb=a.h.substring(b),a.h=a.h.substring(0,b))):a.eb="",a.fa=!1,a.ka=!1,a.ga=!1,a.H=!1,a.D=!1,a.S=!1,a.Na=!1,a.ha=!1,a.s=!1,a.qa=-1,a.la=!1,a.$=!1,a.uD=a.Da,a.Da=!1,this.gd(a)||Za.yB(a),-1===a.ma&&null===a.ia||this.na?this.Id(a,d,f,e,k):(d=null===
a.ia?a.ma:a.ta,a.F=d,this.U="",this.ob=!0,this.Rj=!1,a.ga=!1))));return a};wa.prototype.Gd=function(a){var b=a.indexOf("@RULE");if(-1===b)a="";else{var c=a.indexOf("\x3c!--",b);a=-1===c?0===b?a:a.substring(b):a.substring(b,c);a=a.replace(/<li>/g,"# ");a=a.replace(/<[^<]*>/g,"")}return a};wa.prototype.Hd=function(a,b,c){if(4===b.readyState)if(200===b.status){b=a.Gd(b.responseText);var d=performance.now()-this.time;this.time=performance.now();if(""===b)c.X.U="@RULE not found",Za.Nr(c);else{a.mc(c,b);
var f=performance.now()-this.time;-1!==c.ma||null!==c.ia?Za.add(c,d,f,b.length,a.fb,a.F):Za.Nr(c)}}else c.ua+="\n\nRepository lookup failed with status "+b.status,Za.Nr(c)};wa.prototype.Dd=function(a){Za.Nr(a)};wa.prototype.Id=function(a,b,c,d,f){var e=this,g=null,k=a.h,l="";k=k.replace(/ /g,"_");l="/wiki/Rule:"+k;this.time=performance.now();this.ra=!0;f?a.T=f.g.T:a.T=null;Za.NF(a,b,c,d,f)||(g=new XMLHttpRequest,""!==Ea.Ox&&(l=Ea.Ox+k+Ea.TC),Ka(g,"load",function(){e.Hd(e,g,a)},!1),Ka(g,"error",function(){e.Dd(a)},
!1),g.open("GET",l,!0),g.send(null))};var hb={hu:[48,48,48,0,255,127,127,0,255,148,148,148,128,255,0,255,0,128,0,128,255,1,159,0,159,0,1,255,254,96,0,1,159,96,255,254,254,96,255,126,125,21,21,126,125,125,21,126,255,116,116,116,255,116,116,116,255,228,227,0,28,255,27,255,27,28,0,228,227,227,0,228,27,28,255,59,59,59,234,195,176,175,196,255,171,194,68,194,68,171,68,171,194,72,184,71,184,71,72,71,72,184,169,255,188,252,179,63,63,252,179,179,63,252,80,9,0,0,80,9,9,0,80,255,175,250,199,134,213,115,100,
95,188,163,0,0,188,163,163,0,188,203,73,0,0,203,73,73,0,203,94,189,0,189,0,94,0,94,189,187,243,119,55,125,32,125,32,55,32,55,125,255,102,185,102,185,255,120,209,168,208,166,119,135,96,192,182,255,41,83,153,130,247,88,55,89,247,55,88,55,247,87,75,0,0,87,75,75,0,87,200,135,59,51,213,127,255,255,162,255,37,182,37,182,255,228,57,117,142,163,210,57,117,228,193,255,246,188,107,123,123,194,107,145,59,5,5,145,59,59,5,145,119,39,198,40,197,23,197,23,40,23,40,197,178,199,158,255,201,121,134,223,223,39,253,
84,149,203,15,203,15,149,15,149,203,152,144,90,143,75,139,71,97,132,224,65,219,65,219,224,255,255,40,218,223,69,74,241,0,241,0,74,0,74,241,122,171,51,220,211,227,61,127,87,90,124,176,36,39,13,165,142,255,255,38,255,38,255,255,83,50,107,224,142,165,255,181,9,9,255,181,181,9,255,140,238,70,255,74,5,74,5,255,138,84,51,31,172,101,177,115,17,221,0,0,0,221,0,0,0,221,220,255,200,0,41,50,255,150,205,178,45,116,113,255,189,47,0,44,40,119,171,205,107,255,177,115,172,133,73,236,109,0,168,168,46,207,188,181,
203,212,188,35,90,97,52,39,209,184,41,164,152,227,46,70,46,70,227,211,156,255,98,146,222,136,56,95,102,54,152,86,142,0,142,0,86,0,86,142,86,223,96,246,135,46,4,208,120,212,233,158,177,92,214,104,147,88,149,240,147,227,93,148,72,255,133,209,27,194,147,255,255,44,93,0,160,36,158,182,233,0,96,94,217,218,103,88,163,154,38,118,114,139,94,0,43,113,164,174,168,188,114,0,23,119,42,86,93,255,226,202,80,191,155,255,158,136,0,247,62,234,146,88,0,183,229,110,212,36,0,143,161,105,191,210,133,164,0,41,30,89,164,
0,132,30,89,42,178,222,217,121,22,11,221,107,22,69,151,255,45,158,3,158,3,45,3,45,158,86,42,29,9,122,22,213,209,110,53,221,57,159,101,91,93,140,45,247,213,37,185,34,0,0,185,34,34,0,185,236,0,172,210,180,78,231,107,221,162,49,43,43,162,49,49,43,162,36,248,213,114,0,214,213,36,248,149,34,243,185,158,167,144,122,224,34,245,149,255,31,98,31,98,255,152,200,193,255,80,95,128,123,63,102,62,72,255,62,148,151,226,108,159,99,255,226,255,126,98,223,136,80,95,255,225,153,15,73,41,211,212,71,41,83,217,187,180,
235,79,0,166,127,251,135,243,229,41,0,41,0,229,82,255,216,141,174,249,249,215,255,167,31,79,31,79,167,213,102,185,255,215,83,4,2,40,224,171,220,41,0,4,6,50,90,221,15,113,15,113,221,33,0,115,108,23,90,182,215,36],gu:[],nf:{aliceblue:["AliceBlue",240,248,255],antiquewhite:["AntiqueWhite",250,235,215],aqua:["Aqua",0,255,255],aquamarine:["Aquamarine",127,255,212],azure:["Azure",240,255,255],beige:["Beige",245,245,220],bisque:["Bisque",255,228,196],black:["Black",0,0,0],blanchedalmond:["BlanchedAlmond",
255,235,205],blue:["Blue",0,0,255],blueviolet:["BlueViolet",138,43,226],brown:["Brown",165,42,42],burlywood:["BurlyWood",222,184,135],cadetblue:["CadetBlue",95,158,160],chartreuse:["Chartreuse",127,255,0],chocolate:["Chocolate",210,105,30],coral:["Coral",255,127,80],cornflowerblue:["CornflowerBlue",100,149,237],cornsilk:["Cornsilk",255,248,220],crimson:["Crimson",220,20,60],cyan:["Cyan",0,255,255],darkblue:["DarkBlue",0,0,139],darkcyan:["DarkCyan",0,139,139],darkgoldenrod:["DarkGoldenRod",184,134,
11],darkgray:["DarkGray",169,169,169],darkgreen:["DarkGreen",0,100,0],darkkhaki:["DarkKhaki",189,183,107],darkmagenta:["DarkMagenta",139,0,139],darkolivegreen:["DarkOliveGreen",85,107,47],darkorange:["DarkOrange",255,140,0],darkorchid:["DarkOrchid",153,50,204],darkred:["DarkRed",139,0,0],darksalmon:["DarkSalmon",233,150,122],darkseagreen:["DarkSeaGreen",143,188,143],darkslateblue:["DarkSlateBlue",72,61,139],darkslategray:["DarkSlateGray",47,79,79],darkturquoise:["DarkTurquoise",0,206,209],darkviolet:["DarkViolet",
148,0,211],deeppink:["DeepPink",255,20,147],deepskyblue:["DeepSkyBlue",0,191,255],dimgray:["DimGray",105,105,105],dodgerblue:["DodgerBlue",30,144,255],firebrick:["FireBrick",178,34,34],floralwhite:["FloralWhite",255,250,240],forestgreen:["ForestGreen",34,139,34],fuchsia:["Fuchsia",255,0,255],gainsboro:["Gainsboro",220,220,220],ghostwhite:["GhostWhite",248,248,255],gold:["Gold",255,215,0],goldenrod:["GoldenRod",218,165,32],gray:["Gray",128,128,128],green:["Green",0,128,0],greenyellow:["GreenYellow",
173,255,47],honeydew:["HoneyDew",240,255,240],hotpink:["HotPink",255,105,180],indianred:["IndianRed",205,92,92],indigo:["Indigo",75,0,130],ivory:["Ivory",255,255,240],khaki:["Khaki",240,230,140],lavender:["Lavender",230,230,250],lavenderblush:["LavenderBlush",255,240,245],lawngreen:["LawnGreen",124,252,0],lemonchiffon:["LemonChiffon",255,250,205],lightblue:["LightBlue",173,216,230],lightcoral:["LightCoral",240,128,128],lightcyan:["LightCyan",224,255,255],lightgoldenrodyellow:["LightGoldenRodYellow",
250,250,210],lightgray:["LightGray",211,211,211],lightgreen:["LightGreen",144,238,144],lightpink:["LightPink",255,182,193],lightsalmon:["LightSalmon",255,160,122],lightseagreen:["LightSeaGreen",32,178,170],lightskyblue:["LightSkyBlue",135,206,250],lightslategray:["LightSlateGray",119,136,153],lightsteelblue:["LightSteelBlue",176,196,222],lightyellow:["LightYellow",255,255,224],lime:["Lime",0,255,0],limegreen:["LimeGreen",50,205,50],linen:["Linen",250,240,230],magenta:["Magenta",255,0,255],maroon:["Maroon",
128,0,0],mediumaquamarine:["MediumAquaMarine",102,205,170],mediumblue:["MediumBlue",0,0,205],mediumorchid:["MediumOrchid",186,85,211],mediumpurple:["MediumPurple",147,112,219],mediumseagreen:["MediumSeaGreen",60,179,113],mediumslateblue:["MediumSlateBlue",123,104,238],mediumspringgreen:["MediumSpringGreen",0,250,154],mediumturquoise:["MediumTurquoise",72,209,204],mediumvioletred:["MediumVioletRed",199,21,133],midnightblue:["MidnightBlue",25,25,112],mintcream:["MintCream",245,255,250],mistyrose:["MistyRose",
255,228,225],moccasin:["Moccasin",255,228,181],navajowhite:["NavajoWhite",255,222,173],navy:["Navy",0,0,128],oldlace:["OldLace",253,245,230],olive:["Olive",128,128,0],olivedrab:["OliveDrab",107,142,35],orange:["Orange",255,165,0],orangered:["OrangeRed",255,69,0],orchid:["Orchid",218,112,214],palegoldenrod:["PaleGoldenRod",238,232,170],palegreen:["PaleGreen",152,251,152],paleturquoise:["PaleTurquoise",175,238,238],palevioletred:["PaleVioletRed",219,112,147],papayawhip:["PapayaWhip",255,239,213],peachpuff:["PeachPuff",
255,218,185],peru:["Peru",205,133,63],pink:["Pink",255,192,203],plum:["Plum",221,160,221],powderblue:["PowderBlue",176,224,230],purple:["Purple",128,0,128],rebeccapurple:["RebeccaPurple",102,51,153],red:["Red",255,0,0],rosybrown:["RosyBrown",188,143,143],royalblue:["RoyalBlue",65,105,225],saddlebrown:["SaddleBrown",139,69,19],salmon:["Salmon",250,128,114],sandybrown:["SandyBrown",244,164,96],seagreen:["SeaGreen",46,139,87],seashell:["SeaShell",255,245,238],sienna:["Sienna",160,82,45],silver:["Silver",
192,192,192],skyblue:["SkyBlue",135,206,235],slateblue:["SlateBlue",106,90,205],slategray:["SlateGray",112,128,144],snow:["Snow",255,250,250],springgreen:["SpringGreen",0,255,127],steelblue:["SteelBlue",70,130,180],tan:["Tan",210,180,140],teal:["Teal",0,128,128],thistle:["Thistle",216,191,216],tomato:["Tomato",255,99,71],turquoise:["Turquoise",64,224,208],violet:["Violet",238,130,238],wheat:["Wheat",245,222,179],white:["White",255,255,255],whitesmoke:["WhiteSmoke",245,245,245],yellow:["Yellow",255,
255,0],yellowgreen:["YellowGreen",154,205,50]},HK:function(){return this.gu},ye:function(){var a,b;if(!this.vH)for(this.vH=!0,a=b=0;256>a;a+=1)hb.gu[a]=hb.hu[b]<<16|hb.hu[b+1]<<8|hb.hu[b+2],b+=3}};Ua.prototype.set=function(a){this.J=a.J;this.K=a.K;this.L=a.L;this.N=a.N};Ua.prototype.h=function(a){a.J<this.J&&(this.J=a.J);a.L>this.L&&(this.L=a.L);a.K<this.K&&(this.K=a.K);a.N>this.N&&(this.N=a.N)};wb.prototype.V=function(a,b){var c=b.length,d=b[0].length,f,e,g=0,k,l,p=0,n=this.O,q=0,m=n[q],r=m.length;
a=Array.ne(ra.Xa,a,"Snapshot.input16");Array.Ef(this.j,b);for(f=0;f<c;f+=1){var u=this.j[f];for(b=l=0;b<d;b+=1)if(k=u[b])for(e=15;0<=e;--e){if(0!==(k&1<<e)){var t=p;var v=l;var B=m[g];g+=1;a[t][v]=B>>16;a[t+1][v]=B&65535;t+=2;B=m[g];g+=1;a[t][v]=B>>16;a[t+1][v]=B&65535;t+=2;B=m[g];g+=1;a[t][v]=B>>16;a[t+1][v]=B&65535;t+=2;B=m[g];g+=1;a[t][v]=B>>16;a[t+1][v]=B&65535;t+=2;B=m[g];g+=1;a[t][v]=B>>16;a[t+1][v]=B&65535;t+=2;B=m[g];g+=1;a[t][v]=B>>16;a[t+1][v]=B&65535;t+=2;B=m[g];g+=1;a[t][v]=B>>16;a[t+
1][v]=B&65535;t+=2;B=m[g];g+=1;a[t][v]=B>>16;a[t+1][v]=B&65535;g>=r&&(q+=1,m=n[q],g=0)}l+=1}else l+=16;p+=16}};wb.prototype.Y=function(a,b){var c=b.length,d=b[0].length,f,e=0,g;var k=0;var l,p=0,n=this.O,q=0,m=n[q],r=m.length,u=n.length;var t=this.X.I;var v=Array.ne(ra.Xa,a,"Snapshot.input16");Array.Ef(b,this.j);for(f=0;f<c;f+=1){var B=b[f];for(a=0;a<d;a+=1)(g=B[a])&&(k+=t[g])}if(k)for(f=0;f<c;f+=1){B=b[f];for(a=l=0;a<d;a+=1)if(g=B[a])for(k=15;0<=k;--k){if(0!==(g&1<<k)){var w=p;t=l;m[e]=v[w][t]<<
16|v[w+1][t];e+=1;w+=2;m[e]=v[w][t]<<16|v[w+1][t];e+=1;w+=2;m[e]=v[w][t]<<16|v[w+1][t];e+=1;w+=2;m[e]=v[w][t]<<16|v[w+1][t];e+=1;w+=2;m[e]=v[w][t]<<16|v[w+1][t];e+=1;w+=2;m[e]=v[w][t]<<16|v[w+1][t];e+=1;w+=2;m[e]=v[w][t]<<16|v[w+1][t];e+=1;w+=2;m[e]=v[w][t]<<16|v[w+1][t];e+=1;e>=r&&(q+=1,e=0,q>=u&&(Array.Dp(n,"Snapshot.gridBufferRow"),u+=1));m=n[q]}l+=1}else l+=16;p+=16}};wb.prototype.P=function(a,b,c){var d=b.length,f=b[0].length,e,g,k=0,l,p,n=0,q=0,m=c[q],r=m.length,u=Array.ne(ra.lc,a,"Snapshot.input32");
Array.Ef(this.m,b);for(e=0;e<d;e+=1){var t=b[e];for(a=p=0;a<f;a+=1)if(l=t[a])for(g=15;0<=g;--g){if(0!==(l&1<<g)){var v=p;var B=n;var w=u[B];w[v]=m[k];k+=1;w[v+1]=m[k];k+=1;w[v+2]=m[k];k+=1;w[v+3]=m[k];k+=1;B+=1;w=u[B];w[v]=m[k];k+=1;w[v+1]=m[k];k+=1;w[v+2]=m[k];k+=1;w[v+3]=m[k];k+=1;B+=1;w=u[B];w[v]=m[k];k+=1;w[v+1]=m[k];k+=1;w[v+2]=m[k];k+=1;w[v+3]=m[k];k+=1;B+=1;w=u[B];w[v]=m[k];k+=1;w[v+1]=m[k];k+=1;w[v+2]=m[k];k+=1;w[v+3]=m[k];k+=1;B+=1;w=u[B];w[v]=m[k];k+=1;w[v+1]=m[k];k+=1;w[v+2]=m[k];k+=1;
w[v+3]=m[k];k+=1;B+=1;w=u[B];w[v]=m[k];k+=1;w[v+1]=m[k];k+=1;w[v+2]=m[k];k+=1;w[v+3]=m[k];k+=1;B+=1;w=u[B];w[v]=m[k];k+=1;w[v+1]=m[k];k+=1;w[v+2]=m[k];k+=1;w[v+3]=m[k];k+=1;B+=1;w=u[B];w[v]=m[k];k+=1;w[v+1]=m[k];k+=1;w[v+2]=m[k];k+=1;w[v+3]=m[k];k+=1;B+=1;w=u[B];w[v]=m[k];k+=1;w[v+1]=m[k];k+=1;w[v+2]=m[k];k+=1;w[v+3]=m[k];k+=1;B+=1;w=u[B];w[v]=m[k];k+=1;w[v+1]=m[k];k+=1;w[v+2]=m[k];k+=1;w[v+3]=m[k];k+=1;B+=1;w=u[B];w[v]=m[k];k+=1;w[v+1]=m[k];k+=1;w[v+2]=m[k];k+=1;w[v+3]=m[k];k+=1;B+=1;w=u[B];w[v]=
m[k];k+=1;w[v+1]=m[k];k+=1;w[v+2]=m[k];k+=1;w[v+3]=m[k];k+=1;B+=1;w=u[B];w[v]=m[k];k+=1;w[v+1]=m[k];k+=1;w[v+2]=m[k];k+=1;w[v+3]=m[k];k+=1;B+=1;w=u[B];w[v]=m[k];k+=1;w[v+1]=m[k];k+=1;w[v+2]=m[k];k+=1;w[v+3]=m[k];k+=1;B+=1;w=u[B];w[v]=m[k];k+=1;w[v+1]=m[k];k+=1;w[v+2]=m[k];k+=1;w[v+3]=m[k];k+=1;B+=1;w=u[B];w[v]=m[k];k+=1;w[v+1]=m[k];k+=1;w[v+2]=m[k];k+=1;w[v+3]=m[k];k+=1;k>=r&&(q+=1,m=c[q],k=0)}p+=4}else p+=64;n+=16}};wb.prototype.S=function(a,b,c,d){var f=b.length,e=b[0].length,g,k=0,l;var p=0;var n,
q=0,m=0,r=c[m],u=r.length,t=c.length;var v=this.X.I;a=Array.ne(ra.lc,a,"Snapshot.input32");Array.Ef(b,d);for(g=0;g<f;g+=1){var B=b[g];for(d=0;d<e;d+=1)(l=B[d])&&(p+=v[l])}if(p)for(g=0;g<f;g+=1){B=b[g];for(d=n=0;d<e;d+=1)if(l=B[d])for(p=15;0<=p;--p){if(0!==(l&1<<p)){v=n;var w=q;var z=a[w];r[k]=z[v];k+=1;r[k]=z[v+1];k+=1;r[k]=z[v+2];k+=1;r[k]=z[v+3];k+=1;w+=1;z=a[w];r[k]=z[v];k+=1;r[k]=z[v+1];k+=1;r[k]=z[v+2];k+=1;r[k]=z[v+3];k+=1;w+=1;z=a[w];r[k]=z[v];k+=1;r[k]=z[v+1];k+=1;r[k]=z[v+2];k+=1;r[k]=z[v+
3];k+=1;w+=1;z=a[w];r[k]=z[v];k+=1;r[k]=z[v+1];k+=1;r[k]=z[v+2];k+=1;r[k]=z[v+3];k+=1;w+=1;z=a[w];r[k]=z[v];k+=1;r[k]=z[v+1];k+=1;r[k]=z[v+2];k+=1;r[k]=z[v+3];k+=1;w+=1;z=a[w];r[k]=z[v];k+=1;r[k]=z[v+1];k+=1;r[k]=z[v+2];k+=1;r[k]=z[v+3];k+=1;w+=1;z=a[w];r[k]=z[v];k+=1;r[k]=z[v+1];k+=1;r[k]=z[v+2];k+=1;r[k]=z[v+3];k+=1;w+=1;z=a[w];r[k]=z[v];k+=1;r[k]=z[v+1];k+=1;r[k]=z[v+2];k+=1;r[k]=z[v+3];k+=1;w+=1;z=a[w];r[k]=z[v];k+=1;r[k]=z[v+1];k+=1;r[k]=z[v+2];k+=1;r[k]=z[v+3];k+=1;w+=1;z=a[w];r[k]=z[v];k+=
1;r[k]=z[v+1];k+=1;r[k]=z[v+2];k+=1;r[k]=z[v+3];k+=1;w+=1;z=a[w];r[k]=z[v];k+=1;r[k]=z[v+1];k+=1;r[k]=z[v+2];k+=1;r[k]=z[v+3];k+=1;w+=1;z=a[w];r[k]=z[v];k+=1;r[k]=z[v+1];k+=1;r[k]=z[v+2];k+=1;r[k]=z[v+3];k+=1;w+=1;z=a[w];r[k]=z[v];k+=1;r[k]=z[v+1];k+=1;r[k]=z[v+2];k+=1;r[k]=z[v+3];k+=1;w+=1;z=a[w];r[k]=z[v];k+=1;r[k]=z[v+1];k+=1;r[k]=z[v+2];k+=1;r[k]=z[v+3];k+=1;w+=1;z=a[w];r[k]=z[v];k+=1;r[k]=z[v+1];k+=1;r[k]=z[v+2];k+=1;r[k]=z[v+3];k+=1;w+=1;z=a[w];r[k]=z[v];k+=1;r[k]=z[v+1];k+=1;r[k]=z[v+2];k+=
1;r[k]=z[v+3];k+=1;k>=u&&(m+=1,k=0,m>=t&&(Array.Dp(c,"Snapshot.colourGridBufferRow"),t+=1),r=c[m])}n+=4}else n+=64;q+=16}};gb.prototype.V=function(){for(var a=0,b=0;b<this.j.length;)a+=this.u[b].length*this.u[b][0].length*2,a+=this.m[b].length*this.m[b][0].length*2,a+=this.D[b].length*this.D[b][0].length*4,a+=this.B[b].length*this.B[b][0].length*4,this.v[b]&&(a+=this.s[b].length*this.s[b][0].length*2,a+=this.v[b].length*this.v[b][0].length*4),b+=1;return a};gb.prototype.aa=function(){for(var a=0,
b=0;b<this.j.length;)this.j[b]&&(a+=1),b+=1;return a};gb.prototype.reset=function(){this.h=[];this.j=[];this.F=0;this.i=-1};gb.prototype.$=function(a){var b=null;if(0<this.h.length)for(b=this.h[this.i];b&&b.counter>a;)b=null,0<this.i&&(this.O(this.h[this.i].u),this.h.pop(),--this.i,0<=this.i&&(b=this.h[this.i]));return b};gb.prototype.Y=function(a,b,c,d,f,e,g,k,l,p,n,q,m,r,u,t,v,B,w){B=null!==f;if(w)t=this.A;else if(51>this.h.length)t=this.H(t,v,!1,B),this.i+=1;else{this.i+=1;if(51<=this.i){this.i=
50;this.O(this.h[0].u);for(w=0;50>w;w+=1)this.h[w]=this.h[w+1];this.h.pop();this.H(t,v,!1,B)}t=this.h[this.i]}t.Y(a,b);t.S(c,d,t.H,t.m);B&&t.S(f,e,t.v,t.s);t.i.J=g.J;t.i.L=g.L;t.i.K=g.K;t.i.N=g.N;t.h.J=k.J;t.h.L=k.L;t.h.K=k.K;t.h.N=k.N;t.G=l;t.A=p;t.D=n;t.counter=q;t.I=m;t.B=r;t.F=u};gb.prototype.O=function(a){this.j[a]=!1};gb.prototype.Z=function(a,b,c){for(var d=0,f=!1;d<this.F&&!f;)this.j[d]?d+=1:f=!0;f?(a=d,this.j[d]=!0):(this.u[d]=Array.matrix(ra.Xa,b,a,0,this.T,"Snapshot.tileGrid"+d,!1),this.m[d]=
Array.matrix(ra.Xa,b,a,0,this.T,"Snapshot.colourTileGrid"+d,!1),this.D[d]=Array.matrix(ra.lc,1,1024,0,this.T,"Snapshot.gridBuffer"+d,!1),this.B[d]=Array.matrix(ra.lc,1,8192,0,this.T,"Snapshot.colourGridBuffer"+d,!1),c&&(this.s[d]=Array.matrix(ra.Xa,b,a,0,this.T,"Snapshot.overlayTileGrid"+d,!1),this.v[d]=Array.matrix(ra.lc,1,8192,0,this.T,"Snapshot.overlayGridBuffer"+d,!1)),this.j[d]=!0,this.F+=1,a=d);return a};gb.prototype.H=function(a,b,c,d){a=this.Z(a,b,d);c?this.A=c=new wb(this,a,d):(c=new wb(this,
a,d),this.h[this.h.length]=c);return c};gb.prototype.G=function(a,b,c){a.set(b,c)};gb.prototype.P=function(a,b,c,d,f,e,g,k){var l=a.j,p=a.m,n=a.s,q=a.j.length,m=0,r=a.u;this.u[r]=Array.matrix(ra.Xa,c,b,0,this.T,"Snapshot.tileGrid"+r,!1);this.m[r]=Array.matrix(ra.Xa,c,b,0,this.T,"Snapshot.colourTileGrid"+r,!1);k&&(this.s[r]=Array.matrix(ra.Xa,c,b,0,this.T,"Snapshot.overlayTileGrid"+r,!1));a.j=this.u[r];a.m=this.m[r];k&&(a.s=this.s[r]);if(0<d||0<f)for(;m<q;)this.G(a.j[m+f],l[m],d),this.G(a.m[m+f],p[m],
d),k&&this.G(a.s[m+f],n[m],d),m+=1;a.i.J+=e;a.i.L+=e;a.i.K+=g;a.i.N+=g;a.h.J+=e;a.h.L+=e;a.h.K+=g;a.h.N+=g};gb.prototype.S=function(a,b,c,d,f,e,g){var k;this.A&&this.P(this.A,a,b,c,d,f,e,g);var l=0;for(k=this.h.length;l<k;)this.P(this.h[l],a,b,c,d,f,e,g),l+=1;for(l=0;l<this.j.length;)this.j[l]||(this.u[l]=Array.matrix(ra.Xa,b,a,0,this.T,"Snapshot.tileGrid"+l,!1),this.m[l]=Array.matrix(ra.Xa,b,a,0,this.T,"Snapshot.colourTileGrid"+l,!1),g&&(this.s[l]=Array.matrix(ra.Xa,b,a,0,this.T,"Snapshot.overlayTileGrid"+
l,!1))),l+=1};za.prototype.nb=function(a){this.ba.ye(a);this.fa=this.T.h(ra.ld,this.P.length,"HROT.birthChances",!1);for(a=0;a<this.P.length;a+=1)this.fa[a]=-1>=this.la?this.ba.random():(100-this.la)/100;this.da=this.T.h(ra.ld,this.G.length,"HROT.suvivalChances",!1);for(a=0;a<this.G.length;a+=1)this.da[a]=-1>=this.ma?this.ba.random():(100-this.ma)/100;this.aa=this.T.h(ra.ld,this.G.length,"HROT.immunityChances",!1);for(a=0;a<this.G.length;a+=1)this.aa[a]=-1===this.ia?1:-2===this.ia?this.ba.random():
(100-this.ia)/100;this.fa.fill(this.fa[0]);this.da.fill(this.da[0]);this.aa.fill(this.aa[0])};za.prototype.resize=function(a,b){this.h=Array.matrix(ra.Pd,b,a,0,this.T,"HROT.counts",W.R);this.pa=this.T.h(ra.bb,a,"HROT.colUsed",W.R)};za.prototype.pb=function(a,b,c,d,f,e,g,k,l){var p=2*b+1,n=p-1,q=b*b,m=q+b,r,u=c.length>>1;this.type=a;this.s=b;this.v=f&&10!==a&&15!==a?b+b:b;this.H=this.T.h(ra.lc,p,"HROT.widths",W.R);this.V=c;this.oa=d;this.B=f;this.S=k;this.Y=l;if(e)for(this.m=this.T.h(ra.Gq,e.length,
"HROT.weightedNeighbourhood",W.R),d=0;d<e.length;d+=1)this.m[d]=e[d];else this.m=null;if(g)if(0<g.length)for(this.D=this.T.h(ra.bb,g.length,"HROT.weightedStates",W.R),d=0;d<g.length;d+=1)this.D[d]=g[d];else this.D=null;else this.D=null;switch(a){case this.X.i:for(d=0;d<p;d+=1)this.H[d]=b;break;case this.X.m:for(d=0;d<b;d+=1)this.H[d]=d,this.H[p-d-1]=d;this.H[d]=b;break;case this.X.Z:for(d=-b;d<=b;d+=1){for(a=0;(a+1)*(a+1)+d*d<=m;)a+=1;this.H[d+b]=a}break;case this.X.$:for(d=-b;d<=b;d+=1){for(a=0;(a+
1)*(a+1)+d*d<=q;)a+=1;this.H[d+b]=a}break;case 10:this.um=Array.matrix(ra.bb,p,p,0,this.T,"HROT.neighbourhood",!1);q=new Uint16Array(p);g=r=f=d=m=e=0;for(k=this.um[n-m];m<p;)for(a="0123456789abcdef".indexOf(c[e]),e===u&&(k[n-d]=1,d+=1,f+=1,r+=1),e+=1,l=3;0<=l;--l)0!==(a&1<<l)&&(k[n-d]=1,f+=1,r+=1),d+=1,d===p&&(q[n-g]=r,r=0,g+=1,d=0,m+=1,m<p&&(k=this.um[n-m]));c=new Uint32Array(f);for(m=f=0;m<p;m+=1)for(k=this.um[m],d=0;d<p;d+=1)0<k[d]&&(c[f]=m<<16|d,f+=1);for(d=p=0;d<q.length;d+=1)0<q[d]&&(p+=q[d]+
2);this.O=this.T.h(ra.Ap,p,"HROT.neighbourList",W.R);for(d=f=e=0;d<q.length;d+=1)if(0<q[d]){g=c[e];this.O[f]=b-(g>>16);this.O[f+1]=q[d];f+=2;for(m=0;m<q[d];m+=1)this.O[f+m]=b-(c[e]&65535),e+=1;f+=q[d]}}};za.prototype.j=function(a,b,c){return 0>a||0>a+b||b-a>=this.u?0:0>b&&a+b<this.A?this.h[a+b][0]:b>=this.u&&b-a>=this.u-this.A?this.h[a+this.u-1-b][this.u-1]:a<this.A?c[b]:a-this.A+1+b<=this.I?this.h[this.A-1][a-this.A+1+b]:b-(a-this.A+1)>=this.I?this.h[this.A-1][b-(a-this.A+1)]:this.h[this.A-1][this.I+
(a+b+this.A+this.I+1)%2]};za.prototype.vs=function(a,b,c,d){var f=this.g.h,e=this.v,g=this.s,k;for(k=0;k<g;k+=1){var l=f[b+k];var p=f[d+k+1];p.set(l.subarray(a,c+1),a)}for(k=0;k<g;k+=1)l=f[d-k],p=f[b-k-1],p.set(l.subarray(a,c+1),a);for(k=b;k<=d;k+=1)l=f[k],l.copyWithin(c+1,a,a+e+1),l.copyWithin(a-e-1,c-e,c+1);for(k=0;k<g;k+=1)l=f[b+k],p=f[d+k+1],p.set(l.subarray(a,a+e+1),c+1),p.set(l.subarray(c-e,c+1),a-e-1);for(k=0;k<g;k+=1)l=f[d-k],p=f[b-k-1],p.set(l.subarray(a,a+e+1),c+1),p.set(l.subarray(c-e,
c+1),a-e-1)};za.prototype.Nq=function(a,b,c,d){var f=this.g.h,e=this.v,g=this.s,k;for(k=0;k<g;k+=1)f[d+k+1].fill(0,a,c+1);for(k=0;k<g;k+=1)f[b-k-1].fill(0,a,c+1);for(k=b;k<=d;k+=1){var l=f[k];l.fill(0,c+1,c+e+2);l.fill(0,a-e-1,a)}for(k=0;k<g;k+=1)l=f[d+k+1],l.fill(0,c+1,c+e+2),l.fill(0,a-e-1,a);for(k=0;k<g;k+=1)l=f[b-k-1],l.fill(0,c+1,c+e+2),l.fill(0,a-e-1,a)};za.prototype.rb=function(a,b,c,d,f){var e,g,k=this.g.h,l=this.g.m,p=this.g.width,n=0,q=this.g.height,m=0,r=p,u=n,t=q,v=m,B=this.g.A,w=this.g.ya,
z=this.v,E=this.s,H=f?this.ja:this.P,L=f?this.ka:this.G,N=this.h;var M=this.ca-1;var V=y.xa,X=y.Hh,I=this.g.Re,R=this.ba,P=this.fa,S=this.da,Z=this.aa;var qa=this.g.i+this.g.v-1;var ha=this.g.v,ca=0<this.g.v?1:0;var ia=e=f=0;if(1===M)for(M=b-E;M<=d+E;M+=1){var na=k[M];var ja=N[M];var U=l[M>>4];var ma=g=!1;for(b=a-z;b<=c+z;b+=1){var ea=na[b];var aa=ja[b];qa=0;ea<V?0<=aa&&255===H[aa]&&R.random()>=P[aa]&&(e+=1,qa=128):0>aa||0===L[aa]?R.random()>=Z[aa]?qa=128:ia+=1:R.random()>=S[aa]?qa=128:ia+=1;ea=I[ea+
qa];na[b]=ea;ea>X&&(g=!0,U[b>>8]|=1<<(~(b>>4)&15),b<p&&(p=b),b>n&&(n=b),ea>=V&&(f+=1,b<r&&(r=b),b>u&&(u=b),ma=!0))}g&&(M<q&&(q=M),M>m&&(m=M));ma&&(M<t&&(t=M),M>v&&(v=M))}else for(M=b-E;M<=d+E;M+=1){na=k[M];ja=N[M];U=l[M>>4];ma=g=!1;for(b=a-z;b<=c+z;b+=1)ea=na[b],aa=ja[b],ea<=ha?0<=aa&&255===H[aa]?R.random()>=P[aa]?(ea=qa,e+=1):ea>ca&&--ea:ea>ca&&--ea:ea===qa?0>aa||0===L[aa]?R.random()>=this.aa[0>aa?0:aa]||(--ea,ia+=1):R.random()>=this.da[0>aa?0:aa]||(--ea,ia+=1):ea>ca&&--ea,na[b]=ea,ea>ca&&(g=!0,
U[b>>8]|=1<<(~(b>>4)&15),b<p&&(p=b),b>n&&(n=b),ea===qa&&(f+=1),ea>ha&&(b<r&&(r=b),b>u&&(u=b),ma=!0));g&&(M<q&&(q=M),M>m&&(m=M));ma&&(M<t&&(t=M),M>v&&(v=M))}this.g.B=f;this.g.na=e;this.g.ga=ia;0<f&&(B.J=p,B.L=n,B.K=q,B.N=m,w.J=r,w.L=u,w.K=t,w.N=v)};za.prototype.qb=function(a,b,c,d,f){var e,g,k=this.g.h,l=this.g.m,p=this.g.width,n=0,q=this.g.height,m=0,r=p,u=n,t=q,v=m,B=this.g.A,w=this.g.ya,z=this.v,E=this.s,H=f?this.ja:this.P,L=f?this.ka:this.G,N=this.h;var M=this.ca-1;var V=y.xa,X=y.Hh,I=this.g.Re;
var R=this.g.i+this.g.v-1;var P=this.g.v,S=0<this.g.v?1:0;var Z=e=f=0;if(1===M)for(M=b-E;M<=d+E;M+=1){var qa=k[M];var ha=N[M];var ca=l[M>>4];var ia=g=!1;for(b=a-z;b<=c+z;b+=1){var na=qa[b];var ja=ha[b];R=0;na<V?0<=ja&&255===H[ja]&&(e+=1,R=128):0>ja||0===L[ja]?Z+=1:R=128;na=I[na+R];qa[b]=na;na>X&&(g=!0,ca[b>>8]|=1<<(~(b>>4)&15),b<p&&(p=b),b>n&&(n=b),na>=V&&(f+=1,b<r&&(r=b),b>u&&(u=b),ia=!0))}g&&(M<q&&(q=M),M>m&&(m=M));ia&&(M<t&&(t=M),M>v&&(v=M))}else for(M=b-E;M<=d+E;M+=1){qa=k[M];ha=N[M];ca=l[M>>
4];ia=g=!1;for(b=a-z;b<=c+z;b+=1){na=qa[b];ja=ha[b];if(na<=P)0<=ja&&255===H[ja]?(na=R,e+=1):na>S&&--na;else if(na===R){if(0>ja||0===L[ja])--na,Z+=1}else na>S&&--na;qa[b]=na;na>S&&(g=!0,ca[b>>8]|=1<<(~(b>>4)&15),b<p&&(p=b),b>n&&(n=b),na===R&&(f+=1),na>P&&(b<r&&(r=b),b>u&&(u=b),ia=!0))}g&&(M<q&&(q=M),M>m&&(m=M));ia&&(M<t&&(t=M),M>v&&(v=M))}this.g.B=f;this.g.na=e;this.g.ga=Z;0<f&&(B.J=p,B.L=n,B.K=q,B.N=m,w.J=r,w.L=u,w.K=t,w.N=v)};za.prototype.qa=function(a,b,c,d,f){var e=performance.now(),g=this.ca-
1,k=this.g.A,l=this.g.ya;this.ea?this.rb(a,b,c,d,f):W.R&&W.BD&&this.g.view.i?(1===g?va.ZJ(this.g.h.o.byteOffset|0,this.g.h[0].length|0,this.g.m.o.byteOffset|0,this.g.m[0].length|0,this.h.o.byteOffset|0,this.h[0].length|0,f?this.Z.byteOffset|0:this.$.byteOffset|0,b|0,a|0,d|0,c|0,this.v|0,this.s|0,y.xa|0,y.Ke|0,y.be|0,y.Hh|0,this.i.byteOffset|0,this.g.width|0,this.g.height|0):va.$J(this.g.h.o.byteOffset|0,this.g.h[0].length|0,this.g.m.o.byteOffset|0,this.g.m[0].length|0,this.h.o.byteOffset|0,this.h[0].length|
0,f?this.Z.byteOffset|0:this.$.byteOffset|0,b|0,a|0,d|0,c|0,this.v|0,this.s|0,this.g.v|0,this.g.i+this.g.v-1|0,(0<this.g.v?1:0)|0,this.i.byteOffset|0,this.g.width|0,this.g.height|0),this.g.B=this.i[8],this.g.na=this.i[9],this.g.ga=this.i[10],0<this.g.B&&(k.J=this.i[0],k.L=this.i[1],k.K=this.i[2],k.N=this.i[3],l.J=this.i[4],l.L=this.i[5],l.K=this.i[6],l.N=this.i[7])):this.qb(a,b,c,d,f);W.wb&&(e=performance.now()-e,this.g.view.C.h("gridFromCounts",e,W.R&&W.BD&&this.g.view.i))};za.prototype.lb=function(a,
b,c,d,f){var e,g=this.g.i+this.g.v,k=this.g.v,l=this.m,p=this.g.h,n=this.h,q=this.D,m=q[0],r=l[0],u=l[1],t=l[2],v=l[3],B=l[4],w=l[5],z=l[6],E=l[7];l=l[8];for(a-=f;a<=b+f;a+=1){var H=n[a];var L=c-f;var N=L-1;for(e=L+1;L<=d+f;){var M=0;var V=p[a-1];var X=V[N];X>k?M+=r*q[g-X]:0<m&&(M+=r*m);X=V[L];X>k?M+=u*q[g-X]:0<m&&(M+=u*m);X=V[e];X>k?M+=t*q[g-X]:0<m&&(M+=t*m);V=p[a];X=V[N];X>k?M+=v*q[g-X]:0<m&&(M+=v*m);X=V[L];X>k?M+=B*q[g-X]:0<m&&(M+=B*m);X=V[e];X>k?M+=w*q[g-X]:0<m&&(M+=w*m);V=p[a+1];X=V[N];X>k?M+=
z*q[g-X]:0<m&&(M+=z*m);X=V[L];X>k?M+=E*q[g-X]:0<m&&(M+=E*m);X=V[e];X>k?M+=l*q[g-X]:0<m&&(M+=l*m);H[L]=M;L+=1;N+=1;e+=1}}};za.prototype.kC=function(a,b,c,d,f){var e,g=y.xa,k=this.m,l=this.g.h,p=this.h,n=k[0],q=k[1],m=k[2],r=k[3],u=k[4],t=k[5],v=k[6],B=k[7];k=k[8];for(a-=f;a<=b+f;a+=1){var w=p[a];var z=c-f;var E=z-1;for(e=z+1;z<=d+f;){var H=0;var L=l[a-1];L[E]>=g&&(H+=n);L[z]>=g&&(H+=q);L[e]>=g&&(H+=m);L=l[a];L[E]>=g&&(H+=r);L[z]>=g&&(H+=u);L[e]>=g&&(H+=t);L=l[a+1];L[E]>=g&&(H+=v);L[z]>=g&&(H+=B);L[e]>=
g&&(H+=k);w[z]=H;z+=1;E+=1;e+=1}}};za.prototype.Qv=function(a,b,c,d,f,e){var g=performance.now();W.R&&W.fs&&this.g.view.i?va.Qv(this.h.o.byteOffset|0,this.h[0].length|0,this.g.h.o.byteOffset|0,this.g.h[0].length|0,b|0,d|0,a|0,c|0,f|0,e|0,y.xa|0,this.S|0,this.Y|0):this.ta(a,b,c,d,f,e);W.wb&&(g=performance.now()-g,this.g.view.C.h("nextHROTCorner",g,W.R&&W.fs&&this.g.view.i))};za.prototype.ta=function(a,b,c,d,f,e){var g=this.h,k,l=y.xa,p=this.S,n=this.Y,q=this.g.h;for(k=b-e;k<=d+e;k+=1){var m=g[k];for(b=
a-f;b<=c+f;){var r=0;var u=q[k-p];u[b-p]>=l&&(r+=1);u[b+p]>=l&&(r+=1);u=q[k+p];u[b-p]>=l&&(r+=1);u[b+p]>=l&&(r+=1);q[k-n][b]>=l&&(r+=1);q[k+n][b]>=l&&(r+=1);u=q[k];u[b-n]>=l&&(r+=1);u[b+n]>=l&&(r+=1);u[b]>=l&&(r+=1);m[b]=r;b+=1}}};za.prototype.Kv=function(a,b,c,d,f,e){var g=performance.now();W.R&&W.ds&&this.g.view.i?va.Kv(this.h.o.byteOffset|0,this.h[0].length|0,this.g.h.o.byteOffset|0,this.g.h[0].length|0,b|0,d|0,a|0,c|0,f|0,e|0,y.xa|0):this.ra(a,b,c,d,f,e);W.wb&&(g=performance.now()-g,this.g.view.C.h("nextHROTAsterisk",
g,W.R&&W.ds&&this.g.view.i))};za.prototype.ra=function(a,b,c,d,f,e){var g=this.h,k,l,p=y.xa,n=this.g.h;for(k=b-e;k<=d+e;k+=1){var q=g[k];for(b=a-f;b<=c+f;){var m=0;for(l=-e;0>l;l+=1){var r=n[k+l];r[b]>=p&&(m+=1);r[b+l]>=p&&(m+=1)}r=n[k];for(l=-f;l<=f;l+=1)r[b+l]>=p&&(m+=1);for(l=1;l<=f;l+=1)r=n[k+l],r[b]>=p&&(m+=1),r[b+l]>=p&&(m+=1);q[b]=m;b+=1}}};za.prototype.jw=function(a,b,c,d,f,e){var g=performance.now();W.R&&W.ts&&this.g.view.i?va.jw(this.h.o.byteOffset|0,this.h[0].length|0,this.g.h.o.byteOffset|
0,this.g.h[0].length|0,b|0,d|0,a|0,c|0,f|0,e|0,y.xa|0):this.cb(a,b,c,d,f,e);W.wb&&(g=performance.now()-g,this.g.view.C.h("nextHROTTripod",g,W.R&&W.ts&&this.g.view.i))};za.prototype.cb=function(a,b,c,d,f,e){var g=this.h,k,l,p=y.xa,n=this.g.h;for(k=b-e;k<=d+e;k+=1){var q=g[k];for(b=a-f;b<=c+f;){var m=0;for(l=-e;0>l;l+=1){var r=n[k+l];r[b]>=p&&(m+=1)}r=n[k];for(l=-f;0>=l;l+=1)r[b+l]>=p&&(m+=1);for(l=1;l<=f;l+=1)n[k+l][b+l]>=p&&(m+=1);q[b]=m;b+=1}}};za.prototype.lw=function(a,b,c,d,f,e){var g=performance.now();
W.R&&W.us&&this.g.view.i?null===this.D?va.lw(this.h.o.byteOffset|0,this.h[0].length|0,this.g.h.o.byteOffset|0,this.g.h[0].length|0,this.m.byteOffset|0,this.m.length|0,a|0,b|0,c|0,d|0,f|0,e|0,y.xa|0,this.B):va.sI(this.h.o.byteOffset|0,this.h[0].length|0,this.g.h.o.byteOffset|0,this.g.h[0].length|0,this.m.byteOffset|0,this.m.length|0,this.D.byteOffset|0,a|0,b|0,c|0,d|0,f|0,e|0,y.xa|0,this.B):this.kb(a,b,c,d,f,e);W.wb&&(g=performance.now()-g,this.g.view.C.h("nextHROTWeighted",g,W.R&&W.us&&this.g.view.i))};
za.prototype.kb=function(a,b,c,d,f,e){var g=this.h,k,l,p,n=y.xa,q=this.g.h;if(null===this.D)if(1!==f||1!==e||this.B)for(k=b-e;k<=d+e;k+=1){var m=g[k];for(b=a-f;b<=c+f;){if(this.B&&0!==(b+k&1)){var r=-(f+f+1);var u=this.m.length+r;r+=r}else r=u=0;var t=0;for(p=-e;p<=e;p+=1){var v=q[k+p];for(l=-f;l<=f;l+=1)v[b+l]>=n&&(t+=this.m[u]),u+=1;u+=r}m[b]=t;b+=1}}else this.kC(b,d,a,c,f);else{var B=this.D[0];var w=this.D[1];for(k=b-e;k<=d+e;k+=1)for(m=g[k],b=a-f;b<=c+f;){this.B&&0!==(b+k&1)?(r=-(f+f+1),u=this.m.length+
r,r+=r):r=u=0;t=0;for(p=-e;p<=e;p+=1){v=q[k+p];for(l=-f;l<=f;l+=1)t=v[b+l]>=n?t+this.m[u]*w:t+this.m[u]*B,u+=1;u+=r}m[b]=t;b+=1}}};za.prototype.Uv=function(a,b,c,d,f,e){var g=performance.now();W.R&&W.hs&&this.g.view.i?va.Uv(this.h.o.byteOffset|0,this.h[0].length|0,this.g.h.o.byteOffset|0,this.g.h[0].length|0,this.O.byteOffset|0,this.O.length|0,a|0,b|0,c|0,d|0,f|0,e|0,y.xa|0,this.B):this.ya(a,b,c,d,f,e);W.wb&&(g=performance.now()-g,this.g.view.C.h("nextHROTCustom",g,W.R&&W.hs&&this.g.view.i))};za.prototype.ya=
function(a,b,c,d,f,e){var g=this.h,k,l,p,n,q=y.xa,m=this.O,r=this.g.h;for(k=b-e;k<=d+e;k+=1){var u=g[k];for(b=a-f;b<=c+f;){for(l=n=0;l<m.length;){var t=m[l];this.B&&0===(b+k&1)&&(t=-t);l+=1;var v=r[k+t];t=m[l];for(p=l+=1;p<l+t;p+=1)v[b+m[p]]>=q&&(n+=1);l+=t}u[b]=n;b+=1}}};za.prototype.Yv=function(a,b,c,d,f,e){var g=performance.now();W.R&&W.ms&&this.g.view.i?va.Yv(this.h.o.byteOffset|0,this.h[0].length|0,this.g.h.o.byteOffset|0,this.g.h[0].length|0,b|0,d|0,a|0,c|0,f|0,e|0,y.xa|0):this.Ia(a,b,c,d,f,
e);W.wb&&(g=performance.now()-g,this.g.view.C.h("nextHROTHash",g,W.R&&W.ms&&this.g.view.i))};za.prototype.Ia=function(a,b,c,d,f,e){var g=this.h,k,l,p,n,q,m=y.xa,r=this.g.h;for(k=b-e;k<=d+e;k+=1){var u=g[k];b=a-f;var t=q=n=0;for(p=-e;p<=e;p+=1){var v=r[k+p];if(1===p)for(l=-f;l<=f;l+=1)v[b+l]>=m&&(q+=1);else if(-1===p)for(l=-f;l<=f;l+=1)v[b+l]>=m&&(t+=1);else v[b-1]>=m&&(n+=1),v[b+1]>=m&&(n+=1)}r[k][b]>=m&&(n+=1);u[b]=n+q+t;for(b+=1;b<=c+f;){n=0;for(p=-e;p<=e;p+=1)v=r[k+p],1===p?(v[b-f-1]>=m&&--q,v[b+
f]>=m&&(q+=1)):-1===p?(v[b-f-1]>=m&&--t,v[b+f]>=m&&(t+=1)):(v[b-1]>=m&&(n+=1),v[b+1]>=m&&(n+=1));r[k][b]>=m&&(n+=1);u[b]=n+q+t;b+=1}}};za.prototype.Mv=function(a,b,c,d,f,e,g){var k=this.h,l,p,n,q=y.xa,m=this.g.h;for(l=b-e;l<=d+e;l+=1){var r=k[l];b=a-f;var u=0;var t=g;for(n=-e;n<=e;n+=1){var v=m[l+n];for(p=-f+t;p<=f-t;p+=2)v[b+p]>=q&&(u+=1);t=1-t}1===g&&m[l][b]>=q&&(u+=1);r[b]=u;b+=1;if(b<=c+f){var B=0;t=g;for(n=-e;n<=e;n+=1){v=m[l+n];for(p=-f+t;p<=f-t;p+=2)v[b+p]>=q&&(B+=1);t=1-t}1===g&&m[l][b]>=
q&&(B+=1);r[b]=B;for(b+=1;b<=c+f;){t=g;for(n=-e;n<=e;n+=1)v=m[l+n],v[b-f+t-2]>=q&&--u,v[b+f-t]>=q&&(u+=1),t=1-t;1===g&&(m[l][b-2]>=q&&--u,m[l][b]>=q&&(u+=1));r[b]=u;b+=1;if(b<=c+f){t=g;for(n=-e;n<=e;n+=1)v=m[l+n],v[b-f+t-2]>=q&&--B,v[b+f-t]>=q&&(B+=1),t=1-t;1===g&&(m[l][b-2]>=q&&--B,m[l][b]>=q&&(B+=1));r[b]=B;b+=1}}}}};za.prototype.Ov=function(a,b,c,d,f,e){var g=performance.now();W.R&&W.es&&this.g.view.i?va.Ov(this.h.o.byteOffset|0,this.h[0].length|0,this.g.h.o.byteOffset|0,this.g.h[0].length|0,a|
0,b|0,c|0,d|0,f|0,e|0,y.xa):this.Mv(a,b,c,d,f,e,1);W.wb&&(g=performance.now()-g,this.g.view.C.h("nextHROTChecker",g,W.R&&W.es&&this.g.view.i))};za.prototype.Iv=function(a,b,c,d,f,e){var g=performance.now();W.R&&W.cs&&this.g.view.i?va.Iv(this.h.o.byteOffset|0,this.h[0].length|0,this.g.h.o.byteOffset|0,this.g.h[0].length|0,a|0,b|0,c|0,d|0,f|0,e|0,y.xa):this.Mv(a,b,c,d,f,e,0);W.wb&&(g=performance.now()-g,this.g.view.C.h("nextHROTAligned",g,W.R&&W.cs&&this.g.view.i))};za.prototype.$v=function(a,b,c,d,
f,e){var g=performance.now();W.R&&W.ns&&this.g.view.i?va.$v(this.h.o.byteOffset|0,this.h[0].length|0,this.g.h.o.byteOffset|0,this.g.h[0].length|0,b|0,d|0,a|0,c|0,f|0,e|0,y.xa):this.Na(a,b,c,d,f,e);W.wb&&(g=performance.now()-g,this.g.view.C.h("nextHROTHex",g,W.R&&W.ns&&this.g.view.i))};za.prototype.Na=function(a,b,c,d,f,e){var g=this.h,k,l,p,n=y.xa,q=this.g.h;for(k=b-e;k<=d+e;k+=1){var m=g[k];b=a-f;var r=0;for(p=-e;0>p;p+=1){var u=q[k+p];for(l=-f;l<=f+p;l+=1)u[b+l]>=n&&(r+=1)}for(p=0;p<=e;p+=1)for(u=
q[k+p],l=-f+p;l<=f;l+=1)u[b+l]>=n&&(r+=1);m[b]=r;for(b+=1;b<=c+f;){for(p=-e;0>p;p+=1)u=q[k+p],u[b-f-1]>=n&&--r,u[b+f+p]>=n&&(r+=1);for(p=0;p<=e;p+=1)u=q[k+p],u[b-f+p-1]>=n&&--r,u[b+f]>=n&&(r+=1);m[b]=r;b+=1}}};za.prototype.bw=function(a,b,c,d,f,e){var g=performance.now();W.R&&W.ps&&this.g.view.i?va.bw(this.h.o.byteOffset|0,this.h[0].length|0,this.g.h.o.byteOffset|0,this.g.h[0].length|0,b|0,d|0,a|0,c|0,f|0,e|0,y.xa):this.Sa(a,b,c,d,f,e);W.wb&&(g=performance.now()-g,this.g.view.C.h("nextHROTSaltire",
g,W.R&&W.ps&&this.g.view.i))};za.prototype.Sa=function(a,b,c,d,f,e){var g=this.h,k,l,p=y.xa,n=this.g.h;for(k=b-e;k<=d+e;k+=1){var q=g[k];for(b=a-f;b<=c+f;){var m=0;for(l=1;l<=e;l+=1){var r=n[k+l];r[b-l]>=p&&(m+=1);r[b+l]>=p&&(m+=1);r=n[k-l];r[b-l]>=p&&(m+=1);r[b+l]>=p&&(m+=1)}r=n[k];r[b]>=p&&(m+=1);q[b]=m;b+=1}}};za.prototype.fw=function(a,b,c,d,f,e){var g=performance.now();W.R&&W.rs&&this.g.view.i?va.fw(this.h.o.byteOffset|0,this.h[0].length|0,this.g.h.o.byteOffset|0,this.g.h[0].length|0,b|0,d|0,
a|0,c|0,f|0,e|0,y.xa):this.Ya(a,b,c,d,f,e);W.wb&&(g=performance.now()-g,this.g.view.C.h("nextHROTStar",g,W.R&&W.rs&&this.g.view.i))};za.prototype.Ya=function(a,b,c,d,f,e){var g=this.h,k,l,p=y.xa,n=this.g.h;for(k=b-e;k<=d+e;k+=1){var q=g[k];for(b=a-f;b<=c+f;){var m=0;for(l=1;l<=e;l+=1){var r=n[k+l];r[b-l]>=p&&(m+=1);r[b+l]>=p&&(m+=1);r[b]>=p&&(m+=1);r=n[k-l];r[b-l]>=p&&(m+=1);r[b+l]>=p&&(m+=1);r[b]>=p&&(m+=1)}r=n[k];for(l=-f;l<=f;l+=1)r[b+l]>=p&&(m+=1);q[b]=m;b+=1}}};za.prototype.Sv=function(a,b,c,
d,f,e){var g=performance.now();W.R&&W.gs&&this.g.view.i?va.Sv(this.h.o.byteOffset|0,this.h[0].length|0,this.g.h.o.byteOffset|0,this.g.h[0].length|0,b|0,d|0,a|0,c|0,f|0,e|0,y.xa):this.va(a,b,c,d,f,e);W.wb&&(g=performance.now()-g,this.g.view.C.h("nextHROTCross",g,W.R&&W.gs&&this.g.view.i))};za.prototype.va=function(a,b,c,d,f,e){var g=this.h,k,l,p,n=y.xa,q=this.g.h;for(k=b-e;k<=d+e;k+=1){var m=g[k];b=a-f;var r=p=0;for(l=1;l<=e;l+=1){var u=q[k+l];u[b]>=n&&(p+=1);u=q[k-l];u[b]>=n&&(p+=1)}u=q[k];for(l=
-f;l<=f;l+=1)u[b+l]>=n&&(r+=1);m[b]=p+r;for(b+=1;b<=c+f;){p=0;for(l=1;l<=e;l+=1)q[k+l][b]>=n&&(p+=1),q[k-l][b]>=n&&(p+=1);u=q[k];u[b-f-1]>=n&&--r;u[b+f]>=n&&(r+=1);m[b]=p+r;b+=1}}};za.prototype.hw=function(a,b,c,d,f,e){var g=performance.now();W.R&&W.ss&&this.g.view.i?va.hw(this.h.o.byteOffset|0,this.h[0].length|0,this.g.h.o.byteOffset|0,this.g.h[0].length|0,b|0,d|0,a|0,c|0,f|0,e|0,y.xa):this.$a(a,b,c,d,f,e);W.wb&&(g=performance.now()-g,this.g.view.C.h("nextHROTTriangular",g,W.R&&W.ss&&this.g.view.i))};
za.prototype.$a=function(a,b,c,d,f,e){var g=this.h,k,l,p=y.xa,n=this.g.h;for(k=b-e;k<=d+e;k+=1){var q=g[k];b=a-f;var m=0;var r=b+k&1;if(0===r){var u=e+1;for(r=-e;0>r;r+=1){var t=n[k+r];for(l=-u;l<u;l+=2)t[b+l]>=p&&(m+=1),t[b+l+1]>=p&&(m+=1);t[b+l]>=p&&(m+=1);u+=1}r=0}else{u=e;for(r=-e;0>=r;r+=1){t=n[k+r];for(l=-u;l<u;l+=2)t[b+l]>=p&&(m+=1),t[b+l+1]>=p&&(m+=1);t[b+l]>=p&&(m+=1);u+=1}r=1}for(;r<=e;r+=1){--u;t=n[k+r];for(l=-u;l<u;l+=2)t[b+l]>=p&&(m+=1),t[b+l+1]>=p&&(m+=1);t[b+l]>=p&&(m+=1)}q[b]=m;for(b+=
1;b<=c+f;){r=b+k&1;if(0===r){l=e;for(r=-e;0>r;r+=1)t=n[k+r],t[b+l]>=p&&(m+=1),l+=1,t[b+l]>=p&&(m+=1);t=n[k];t[b-l-1]>=p&&--m;t[b+l]>=p&&(m+=1);l+=1;for(r=1;r<=e;r+=1)--l,t=n[k+r],t[b-l-1]>=p&&--m,t[b-l]>=p&&--m}else{l=e+1;for(r=-e;0>r;r+=1)t=n[k+r],t[b-l-1]>=p&&--m,t[b-l]>=p&&--m,l+=1;--l;t=n[k];t[b-l-1]>=p&&--m;t[b+l]>=p&&(m+=1);for(r=1;r<=e;r+=1)--l,t=n[k+r],t[b+l]>=p&&(m+=1),t[b+l+1]>=p&&(m+=1)}q[b]=m;b+=1}}};za.prototype.Wv=function(a,b,c,d,f,e){var g=performance.now();W.R&&W.js&&this.g.view.i?
va.Wv(this.h.o.byteOffset|0,this.h[0].length|0,this.g.h.o.byteOffset|0,this.g.h[0].length|0,a|0,b|0,c|0,d|0,f|0,e|0,y.xa):this.Ba(a,b,c,d,f,e);W.wb&&(g=performance.now()-g,this.g.view.C.h("nextHROTGaussian",g,W.R&&W.js&&this.g.view.i))};za.prototype.Ba=function(a,b,c,d,f,e){var g=this.h,k,l,p,n,q=y.xa,m=this.g.h;for(k=b-e;k<=d+e;k+=1){var r=g[k];for(b=a-f;b<=c+f;){var u=0;for(p=-e;0>p;p+=1){var t=n=p+e+1;var v=m[k+p];for(l=-f;0>=l;l+=1)v[b+l]>=q&&(u+=t),t+=n;t-=n+n;for(l=1;l<=f;l+=1)v[b+l]>=q&&(u+=
t),t-=n;t=n=p+e+1;v=m[k-p];for(l=-f;0>=l;l+=1)v[b+l]>=q&&(u+=t),t+=n;t-=n+n;for(l=1;l<=f;l+=1)v[b+l]>=q&&(u+=t),t-=n}t=n=f+1;v=m[k];for(l=-f;0>=l;l+=1)v[b+l]>=q&&(u+=t),t+=n;t-=n+n;for(l=1;l<=f;l+=1)v[b+l]>=q&&(u+=t),t-=n;v[b]>=q&&(u+=1);r[b]=u;b+=1}}};za.prototype.dw=function(a,b,c,d,f,e){var g=performance.now();W.R&&W.qs&&this.g.view.i?va.dw(this.h.o.byteOffset|0,this.h[0].length|0,this.g.h.o.byteOffset|0,this.g.h[0].length|0,this.H.byteOffset|0,b|0,d|0,a|0,c|0,f|0,e|0,y.xa):this.Va(a,b,c,d,f,e);
W.wb&&(g=performance.now()-g,this.g.view.C.h("nextHROTShaped",g,W.R&&W.qs&&this.g.view.i))};za.prototype.Va=function(a,b,c,d,f,e){var g=this.h,k,l,p,n=y.xa,q=this.H,m=this.g.h;for(k=b-e;k<=d+e;k+=1){var r=g[k];b=a-f;var u=0;for(p=-e;p<=e;p+=1){var t=q[p+e];var v=m[k+p];for(l=-t;l<t;l+=2)v[b+l]>=n&&(u+=1),v[b+l+1]>=n&&(u+=1);v[b+l]>=n&&(u+=1)}r[b]=u;for(b+=1;b<=c+f;){for(p=-e;p<=e;p+=1)t=q[p+e],v=m[k+p],v[b-t-1]>=n&&--u,v[b+t]>=n&&(u+=1);r[b]=u;b+=1}}};za.prototype.fb=function(a,b,c,d,f,e){var g=this.h,
k,l,p,n=y.xa,q=this.g.h;for(k=b-e;k<=d+e;k+=1){var m=g[k];b=a-f;var r=0;for(p=-e;0>=p;p+=1){var u=p+e;var t=q[k+p];for(l=-u;l<u;l+=2)t[b+l]>=n&&(r+=1),t[b+l+1]>=n&&(r+=1);t[b+l]>=n&&(r+=1)}for(p=1;p<=e;p+=1){u=e-p;t=q[k+p];for(l=-u;l<u;l+=2)t[b+l]>=n&&(r+=1),t[b+l+1]>=n&&(r+=1);t[b+l]>=n&&(r+=1)}m[b]=r;for(b+=1;b<=c+f;){for(p=-e;0>=p;p+=1)u=p+e,t=q[k+p],t[b-u-1]>=n&&--r,t[b+u]>=n&&(r+=1);for(p=1;p<=e;p+=1)u=e-p,t=q[k+p],t[b-u-1]>=n&&--r,t[b+u]>=n&&(r+=1);m[b]=r;b+=1}}};za.prototype.Fa=function(a){var b,
c,d=this.g.A.J,f=this.g.A.L,e=this.g.A.K,g=this.g.A.N,k=this.v,l=this.s,p=a?this.ja:this.P,n=a?this.ka:this.G,q=k+k,m=l+l;var r=k+1;var u=l+1;var t=this.h,v=this.type,B=this.ca-1,w=this.g.width,z=0,E=this.g.height,H=0,L=w,N=z,M=E,V=H,X=this.g.h,I=this.g.m,R=this.g.ba;var P=this.g.$;var S=0,Z=0,qa=0,ha=0,ca=0,ia=0,na=0,ja,U=y.xa,ma=y.Hh,ea=this.g.Re,aa=this.pa,Y=this.ea,oa=this.ba,Q=this.fa,F=this.da,A=this.aa;-1!==this.g.S&&(S=Math.round((this.g.width-R)/2),qa=Math.round((this.g.height-P)/2),Z=S+
R-1,ha=qa+P-1,255===p[0]&&(d=S+k,f=Z-k,g=ha-l,e=qa+l),1===this.g.S&&(d-S<k&&(f=Z),Z-f<k&&(d=S),ha-g<l&&(e=qa),e-qa<l&&(g=ha),R=performance.now(),W.R&&W.DD&&this.g.view.i?va.vs(X.o.byteOffset|0,X[0].length|0,S|0,qa|0,Z|0,ha|0,k|0,l|0):this.vs(S,qa,Z,ha),W.wb&&(R=performance.now()-R,this.g.view.C.h("wrapTorusHROT",R,W.R&&W.DD&&this.g.view.i))),0===this.g.S&&1===B&&this.g.kf(X,0),d-S<k&&(d=S+k),Z-f<k&&(f=Z-k),ha-g<l&&(g=ha-l),e-qa<l&&(e=qa+l),v===this.X.i?(d-=q,e-=m,f+=q,g+=m):v===this.X.m&&k>this.ga&&
(d-=k,e-=l,f+=k,g+=l));if(v===this.X.i){performance.now();d-=q;e-=m;f+=q;g+=m;R=performance.now();if(W.R&&W.vD&&this.g.view.i)va.bG(t.o.byteOffset|0,t[0].length|0,e|0,g|0,d|0,f|0,m|0,q|0);else{for(c=e;c<e+m;c+=1)t[c].fill(0,d,f+1);for(c=e+m;c<=g;c+=1)t[c].fill(0,d,d+q+1)}W.wb&&(R=performance.now()-R,this.g.view.C.h("clearTopAndLeft",R,W.R&&W.vD&&this.g.view.i));R=performance.now();if(W.R&&W.Om&&this.g.view.i)va.nG(t.o.byteOffset|0,X.o.byteOffset|0,e+m|0,d+q|0,g|0,f|0,U|0,t[0].length|0,X[0].length|
0);else{var K=t[e+m-1];for(c=e+m;c<=g;c+=1){var O=t[c];B=X[c];P=0;for(b=d+q;b+8<=f;)B[b]>=U&&(P+=1),O[b]=K[b]+P,b+=1,B[b]>=U&&(P+=1),O[b]=K[b]+P,b+=1,B[b]>=U&&(P+=1),O[b]=K[b]+P,b+=1,B[b]>=U&&(P+=1),O[b]=K[b]+P,b+=1,B[b]>=U&&(P+=1),O[b]=K[b]+P,b+=1,B[b]>=U&&(P+=1),O[b]=K[b]+P,b+=1,B[b]>=U&&(P+=1),O[b]=K[b]+P,b+=1,B[b]>=U&&(P+=1),O[b]=K[b]+P,b+=1;for(;b<=f;)B[b]>=U&&(P+=1),O[b]=K[b]+P,b+=1;K=O}}W.wb&&(R=performance.now()-R,this.g.view.C.h("cumulativeCounts",R,W.R&&W.Om&&this.g.view.i));d+=k;e+=l;f-=
k;g-=l;-1!==this.g.S&&(d+=q,e+=m,f-=q,g-=m);performance.now();m=X[e][d];P=t[e+l][d+k];var J=0;m<U?255===p[P]&&(Y?oa.random()>=Q[P]&&(ia+=1,J=128):(ia+=1,J=128)):0===n[P]?Y?oa.random()>=A[P]?J=128:na+=1:na+=1:Y?oa.random()>=F[P]?J=128:na+=1:J=128;m=ea[m+J];X[e][d]=m;m>ma&&(aa[d]|=1,H=E=e,I[e>>4][d>>8]|=1<<(~(d>>4)&15),m>=U&&(ca+=1,aa[d]|=2,V=M=e));var x=ja=!1;O=t[e+l];K=t[e+l];B=X[e];q=I[e>>4];if(Y)for(b=d+1;b<=f;b+=1)m=B[b],P=O[b+k]-K[b-r],J=0,m<U?255===p[P]&&oa.random()>=Q[P]&&(ia+=1,J=128):0===
n[P]?oa.random()>=A[P]?J=128:na+=1:oa.random()>=F[P]?J=128:na+=1,m=ea[m+J],B[b]=m,m>ma&&(aa[b]|=1,ja=!0,q[b>>8]|=1<<(~(b>>4)&15),m>=U&&(ca+=1,aa[b]|=2,x=!0));else for(b=d+1;b<=f;b+=1)m=B[b],P=O[b+k]-K[b-r],J=0,m<U?255===p[P]&&(ia+=1,J=128):0===n[P]?na+=1:J=128,m=ea[m+J],B[b]=m,m>ma&&(aa[b]|=1,ja=!0,q[b>>8]|=1<<(~(b>>4)&15),m>=U&&(ca+=1,aa[b]|=2,x=!0));ja&&(H=E=e);x&&(V=M=e);B=R=!1;O=d+k;for(c=e+1;c<=g;c+=1)m=X[c][d],P=t[c+l][O]-t[c-u][O],J=0,m<U?255===p[P]&&(Y?oa.random()>=Q[P]&&(ia+=1,J=128):(ia+=
1,J=128)):0===n[P]?Y?oa.random()>=A[P]?J=128:na+=1:na+=1:Y?oa.random()>=F[P]?J=128:na+=1:J=128,m=ea[m+J],X[c][d]=m,m>ma&&(c<E&&(E=c),c>H&&(H=c),R=!0,I[c>>4][d>>8]|=1<<(~(d>>4)&15),m>=U&&(ca+=1,c<M&&(M=c),c>V&&(V=c),B=!0));R&&(aa[d]|=1);B&&(aa[d]|=2);R=performance.now();if(W.R&&W.ks&&this.g.view.i&&!Y)va.eI(X.o.byteOffset|0,X[0].length|0,I.o.byteOffset|0,I[0].length|0,t.o.byteOffset|0,t[0].length|0,a?this.Z.byteOffset|0:this.$.byteOffset|0,aa.byteOffset|0,e|0,d|0,g|0,f|0,k|0,l|0,U|0,y.Ke|0,y.be|0,
ma|0,this.i.byteOffset|0,E|0,H|0,M|0,V|0,ca|0,ia|0,na),E=this.i[0],H=this.i[1],M=this.i[2],V=this.i[3],ca=this.i[4],ia=this.i[5],na=this.i[6];else for(c=e+1;c<=g;c+=1){B=X[c];q=I[c>>4];K=t[c+l];var C=t[c-u];O=d+1+k;var la=d+1-r;x=ja=!1;if(Y)for(b=d+1;b<=f;b+=1)m=B[b],P=K[O]+C[la]-K[la]-C[O],J=0,m<U?255===p[P]&&oa.random()>=Q[P]&&(J=128,ia+=1):0===n[P]?oa.random()>=A[P]?J=128:na+=1:oa.random()>=F[P]?J=128:na+=1,m=ea[m+J],B[b]=m,m>ma&&(ja=!0,q[b>>8]|=1<<(~(b>>4)&15),aa[b]|=1,m>=U&&(ca+=1,x=!0,aa[b]|=
2)),O+=1,la+=1;else for(b=d+1;b<=f;b+=1)m=B[b],P=K[O]+C[la]-K[la]-C[O],J=0,m<U?255===p[P]&&(J=128,ia+=1):0===n[P]?na+=1:J=128,m=ea[m+J],B[b]=m,m>ma&&(ja=!0,q[b>>8]|=1<<(~(b>>4)&15),aa[b]|=1,m>=U&&(ca+=1,x=!0,aa[b]|=2)),O+=1,la+=1;ja&&(c<E&&(E=c),c>H&&(H=c));x&&(c<M&&(M=c),c>V&&(V=c))}W.wb&&(R=performance.now()-R,this.g.view.C.h("nextHROTMoore",R,W.R&&W.ks&&this.g.view.i));for(b=d;b<=f;b+=1)aa[b]&&(b<w&&(w=b),b>z&&(z=b),0!==(aa[b]&2)&&(b<L&&(L=b),b>N&&(N=b)),aa[b]=0);performance.now();this.g.B=ca;
this.g.na=ia;this.g.ga=na;0<ca&&(this.g.A.J=w,this.g.A.L=z,this.g.A.K=E,this.g.A.N=H,this.g.ya.J=L,this.g.ya.L=N,this.g.ya.K=M,this.g.ya.N=V)}else if(v===this.X.m&&k>this.ga){d-=k;f+=k;e-=l;g+=l;-1===this.g.S&&(d-=k,f+=k,e-=l,g+=l);this.F=g-e+1;this.u=f-d+1;this.A=this.F+(this.u-1)/2|0;this.I=this.u/2|0;R=performance.now();if(W.R&&W.Om&&this.g.view.i)va.pG(this.A|0,this.u|0,this.F|0,e|0,d|0,U|0,this.I|0,t.o.byteOffset|0,X.o.byteOffset|0,t[0].length|0,X[0].length|0);else for(r=0;r<this.A;r+=1)for(O=
t[r],B=X[r+e],aa=r-1,P=aa-1,c=t[aa],q=t[P],u=0;u<=this.u;u+=1)O[u]=this.j(aa,u-1,c)+this.j(aa,u+1,c)-this.j(P,u,q),r<this.F&&B[u+d]>=U&&(O[u]+=1);W.wb&&(R=performance.now()-R,this.g.view.C.h("cumulativeCounts",R,W.R&&W.Om&&this.g.view.i));R=performance.now();if(W.R&&W.ls&&this.g.view.i&&!Y)va.gI(X.o.byteOffset|0,X[0].length|0,I.o.byteOffset|0,I[0].length|0,t.o.byteOffset|0,t[0].length|0,a?this.Z.byteOffset|0:this.$.byteOffset|0,e|0,d|0,k|0,l|0,this.F|0,this.u|0,U|0,y.Ke|0,y.be|0,ma|0,this.A|0,this.I|
0,this.i.byteOffset|0,w|0,z|0,E|0,H|0,L|0,N|0,M|0,V|0,ca|0,ia|0,na|0),w=this.i[0],z=this.i[1],E=this.i[2],H=this.i[3],L=this.i[4],N=this.i[5],M=this.i[6],V=this.i[7],ca=this.i[8],ia=this.i[9],na=this.i[10];else for(r=l;r<=this.F-l;r+=1){aa=r-1;c=t[aa];la=r+l;var ba=t[la];O=la-1;var sa=t[O];b=r-l-1;var ta=t[b];K=b-1;var ka=t[K];C=r+e;B=X[C];q=I[C>>4];x=ja=!1;if(Y)for(u=k;u<=this.u-k;u+=1){P=u+k;m=u-k;P=this.j(la,u,ba)-this.j(aa,P+1,c)-this.j(aa,m-1,c)+this.j(K,u,ka)+this.j(O,u,sa)-this.j(aa,P,c)-this.j(aa,
m,c)+this.j(b,u,ta);var ua=u+d;m=B[ua];J=0;m<U?255===p[P]&&oa.random()>=Q[P]&&(J=128,ia+=1):0===n[P]?oa.random()>=A[P]?J=128:na+=1:oa.random()>=F[P]?J=128:na+=1;m=ea[m+J];B[ua]=m;m>ma&&(ua<w&&(w=ua),ua>z&&(z=ua),ja=!0,q[ua>>8]|=1<<(~(ua>>4)&15),m>=U&&(ca+=1,x=!0,ua<L&&(L=ua),ua>N&&(N=ua)))}else for(u=k;u<=this.u-k;u+=1)P=u+k,m=u-k,P=this.j(la,u,ba)-this.j(aa,P+1,c)-this.j(aa,m-1,c)+this.j(K,u,ka)+this.j(O,u,sa)-this.j(aa,P,c)-this.j(aa,m,c)+this.j(b,u,ta),ua=u+d,m=B[ua],J=0,m<U?255===p[P]&&(J=128,
ia+=1):0===n[P]?na+=1:J=128,m=ea[m+J],B[ua]=m,m>ma&&(ua<w&&(w=ua),ua>z&&(z=ua),ja=!0,q[ua>>8]|=1<<(~(ua>>4)&15),m>=U&&(ca+=1,x=!0,ua<L&&(L=ua),ua>N&&(N=ua)));ja&&(C<E&&(E=C),C>H&&(H=C));x&&(C<M&&(M=C),C>V&&(V=C))}W.wb&&(R=performance.now()-R,this.g.view.C.h("nextHROTvN",R,W.R&&W.ls&&this.g.view.i));this.g.B=ca;this.g.na=ia;this.g.ga=na;0<ca&&(this.g.A.J=w,this.g.A.L=z,this.g.A.K=E,this.g.A.N=H,this.g.ya.J=L,this.g.ya.L=N,this.g.ya.K=M,this.g.ya.N=V)}else switch(v){case this.X.u:this.Qv(d,e,f,g,k,
l);break;case this.X.A:this.Kv(d,e,f,g,k,l);break;case this.X.D:this.jw(d,e,f,g,k,l);break;case 15:this.lw(d,e,f,g,k,l);break;case 10:this.Uv(d,e,f,g,k,l);break;case this.X.S:this.Yv(d,e,f,g,k,l);break;case this.X.O:this.Ov(d,e,f,g,k,l);break;case this.X.I:this.Iv(d,e,f,g,k,l);break;case this.X.G:this.$v(d,e,f,g,k,l);break;case this.X.V:this.bw(d,e,f,g,k,l);break;case this.X.Y:this.fw(d,e,f,g,k,l);break;case this.X.P:this.Sv(d,e,f,g,k,l);break;case this.X.H:this.hw(d,e,f,g,k,l);break;case this.X.v:this.Wv(d,
e,f,g,k,l);break;case this.X.m:this.fb(d,e,f,g,k,l);break;default:this.dw(d,e,f,g,k,l)}-1!==this.g.S&&(d<S+k&&(d=S+k),f>Z-k&&(f=Z-k),e<qa+l&&(e=qa+l),g>ha-l&&(g=ha-l));v===this.X.i||v===this.X.m&&k>this.ga||this.qa(d,e,f,g,a);1===this.g.S&&(R=performance.now(),W.R&&W.xD&&this.g.view.i?va.Nq(X.o.byteOffset|0,X[0].length|0,S|0,qa|0,Z|0,ha|0,k|0,l|0):this.Nq(S,qa,Z,ha),W.wb&&(R=performance.now()-R,this.g.view.C.h("clearHROTOutside",R,W.R&&W.xD&&this.g.view.i)))};za.prototype.Rv=function(a,b,c,d,f,e){var g=
performance.now();W.R&&W.fs&&this.g.view.i?va.Rv(this.h.o.byteOffset|0,this.h[0].length|0,this.g.h.o.byteOffset|0,this.g.h[0].length|0,b|0,d|0,a|0,c|0,f|0,e|0,this.g.i+this.g.v-1|0,this.S|0,this.Y|0):this.ua(a,b,c,d,f,e);W.wb&&(g=performance.now()-g,this.g.view.C.h("nextHROTCorner",g,W.R&&W.fs&&this.g.view.i))};za.prototype.ua=function(a,b,c,d,f,e){var g=this.h,k,l=this.g.i+this.g.v-1,p=this.S,n=this.Y,q=this.g.h;for(k=b-e;k<=d+e;k+=1){var m=g[k];for(b=a-f;b<=c+f;){var r=0;var u=q[k-p];u[b-p]===l&&
(r+=1);u[b+p]===l&&(r+=1);u=q[k+p];u[b-p]===l&&(r+=1);u[b+p]===l&&(r+=1);q[k-n][b]===l&&(r+=1);q[k+n][b]===l&&(r+=1);u=q[k];u[b-n]===l&&(r+=1);u[b+n]===l&&(r+=1);u[b]===l&&(r+=1);m[b]=r;b+=1}}};za.prototype.Lv=function(a,b,c,d,f,e){var g=performance.now();W.R&&W.ds&&this.g.view.i?va.Lv(this.h.o.byteOffset|0,this.h[0].length|0,this.g.h.o.byteOffset|0,this.g.h[0].length|0,b|0,d|0,a|0,c|0,f|0,e|0,this.g.i+this.g.v-1|0):this.sa(a,b,c,d,f,e);W.wb&&(g=performance.now()-g,this.g.view.C.h("nextHROTAsterisk",
g,W.R&&W.ds&&this.g.view.i))};za.prototype.sa=function(a,b,c,d,f,e){var g=this.h,k,l,p=this.g.i+this.g.v-1,n=this.g.h;for(k=b-e;k<=d+e;k+=1){var q=g[k];for(b=a-f;b<=c+f;){var m=0;for(l=-e;0>l;l+=1){var r=n[k+l];r[b]===p&&(m+=1);r[b+l]===p&&(m+=1)}r=n[k];for(l=-f;l<=f;l+=1)r[b+l]===p&&(m+=1);for(l=1;l<=f;l+=1)r=n[k+l],r[b]===p&&(m+=1),r[b+l]===p&&(m+=1);q[b]=m;b+=1}}};za.prototype.kw=function(a,b,c,d,f,e){var g=performance.now();W.R&&W.ts&&this.g.view.i?va.kw(this.h.o.byteOffset|0,this.h[0].length|
0,this.g.h.o.byteOffset|0,this.g.h[0].length|0,b|0,d|0,a|0,c|0,f|0,e|0,this.g.i+this.g.v-1|0):this.eb(a,b,c,d,f,e);W.wb&&(g=performance.now()-g,this.g.view.C.h("nextHROTTripod",g,W.R&&W.ts&&this.g.view.i))};za.prototype.eb=function(a,b,c,d,f,e){var g=this.h,k,l,p=this.g.i+this.g.v-1,n=this.g.h;for(k=b-e;k<=d+e;k+=1){var q=g[k];for(b=a-f;b<=c+f;){var m=0;for(l=-e;0>l;l+=1){var r=n[k+l];r[b]===p&&(m+=1)}r=n[k];for(l=-f;0>=l;l+=1)r[b+l]===p&&(m+=1);for(l=1;l<=f;l+=1)n[k+l][b+l]===p&&(m+=1);q[b]=m;b+=
1}}};za.prototype.mw=function(a,b,c,d,f,e){var g=performance.now();W.R&&W.us&&this.g.view.i?null===this.D?va.mw(this.h.o.byteOffset|0,this.h[0].length|0,this.g.h.o.byteOffset|0,this.g.h[0].length|0,this.m.byteOffset|0,this.m.length|0,a|0,b|0,c|0,d|0,f|0,e|0,this.g.i+this.g.v-1|0,this.B):va.tI(this.h.o.byteOffset|0,this.h[0].length|0,this.g.h.o.byteOffset|0,this.g.h[0].length|0,this.m.byteOffset|0,this.m.length|0,this.D.byteOffset|0,a|0,b|0,c|0,d|0,f|0,e|0,this.g.i+this.g.v-1|0,this.B):this.mb(a,b,
c,d,f,e);W.wb&&(g=performance.now()-g,this.g.view.C.h("nextHROTWeighted",g,W.R&&W.us&&this.g.view.i))};za.prototype.mb=function(a,b,c,d,f,e){var g=this.h,k,l,p,n=this.g.i+this.g.v-1,q=this.g.h;if(null===this.D)for(k=b-e;k<=d+e;k+=1){var m=g[k];for(b=a-f;b<=c+f;){if(this.B&&0!==(b+k&1)){var r=-(f+f+1);var u=this.m.length+r;r+=r}else r=u=0;var t=0;for(p=-e;p<=e;p+=1){var v=q[k+p];for(l=-f;l<=f;l+=1)v[b+l]===n&&(t+=this.m[u]),u+=1;u+=r}m[b]=t;b+=1}}else if(1!==f||1!==e||this.B){var B=this.D[0];var w=
this.D[1];for(k=b-e;k<=d+e;k+=1)for(m=g[k],b=a-f;b<=c+f;){this.B&&0!==(b+k&1)?(r=-(f+f+1),u=this.m.length+r,r+=r):r=u=0;t=0;for(p=-e;p<=e;p+=1){v=q[k+p];for(l=-f;l<=f;l+=1)t=v[b+l]===n?t+this.m[u]*w:t+this.m[u]*B,u+=1;u+=r}m[b]=t;b+=1}}else this.lb(b,d,a,c,f)};za.prototype.Vv=function(a,b,c,d,f,e){var g=performance.now();W.R&&W.hs&&this.g.view.i?va.Vv(this.h.o.byteOffset|0,this.h[0].length|0,this.g.h.o.byteOffset|0,this.g.h[0].length|0,this.O.byteOffset|0,this.O.length|0,a|0,b|0,c|0,d|0,f|0,e|0,this.g.i+
this.g.v-1|0,this.B):this.za(a,b,c,d,f,e);W.wb&&(g=performance.now()-g,this.g.view.C.h("nextHROTCustom",g,W.R&&W.hs&&this.g.view.i))};za.prototype.za=function(a,b,c,d,f,e){var g=this.h,k,l,p,n,q=this.g.i+this.g.v-1,m=this.O,r=this.g.h;for(k=b-e;k<=d+e;k+=1){var u=g[k];for(b=a-f;b<=c+f;){for(l=n=0;l<m.length;){var t=m[l];this.B&&0===(b+k&1)&&(t=-t);l+=1;var v=r[k+t];t=m[l];for(p=l+=1;p<l+t;p+=1)v[b+m[p]]===q&&(n+=1);l+=t}u[b]=n;b+=1}}};za.prototype.Zv=function(a,b,c,d,f,e){var g=performance.now();
W.R&&W.ms&&this.g.view.i?va.Zv(this.h.o.byteOffset|0,this.h[0].length|0,this.g.h.o.byteOffset|0,this.g.h[0].length|0,b|0,d|0,a|0,c|0,f|0,e|0,this.g.i+this.g.v-1|0):this.Ka(a,b,c,d,f,e);W.wb&&(g=performance.now()-g,this.g.view.C.h("nextHROTHash",g,W.R&&W.ms&&this.g.view.i))};za.prototype.Ka=function(a,b,c,d,f,e){var g=this.h,k,l,p,n,q,m=this.g.i+this.g.v-1,r=this.g.h;for(k=b-e;k<=d+e;k+=1){var u=g[k];b=a-f;var t=q=n=0;for(p=-e;p<=e;p+=1){var v=r[k+p];if(1===p)for(l=-f;l<=f;l+=1)v[b+l]===m&&(q+=1);
else if(-1===p)for(l=-f;l<=f;l+=1)v[b+l]===m&&(t+=1);else v[b-1]===m&&(n+=1),v[b+1]===m&&(n+=1)}r[k][b]===m&&(n+=1);u[b]=n+q+t;for(b+=1;b<=c+f;){n=0;for(p=-e;p<=e;p+=1)v=r[k+p],1===p?(v[b-f-1]===m&&--q,v[b+f]===m&&(q+=1)):-1===p?(v[b-f-1]===m&&--t,v[b+f]===m&&(t+=1)):(v[b-1]===m&&(n+=1),v[b+1]===m&&(n+=1));r[k][b]===m&&(n+=1);u[b]=n+q+t;b+=1}}};za.prototype.Nv=function(a,b,c,d,f,e,g){var k=this.h,l,p,n,q=this.g.i+this.g.v-1,m=this.g.h;for(l=b-e;l<=d+e;l+=1){var r=k[l];b=a-f;var u=0;var t=g;for(n=
-e;n<=e;n+=1){var v=m[l+n];for(p=-f+t;p<=f-t;p+=2)v[b+p]===q&&(u+=1);t=1-t}1===g&&m[l][b]===q&&(u+=1);r[b]=u;b+=1;if(b<=c+f){var B=0;t=g;for(n=-e;n<=e;n+=1){v=m[l+n];for(p=-f+t;p<=f-t;p+=2)v[b+p]===q&&(B+=1);t=1-t}1===g&&m[l][b]===q&&(B+=1);r[b]=B;for(b+=1;b<=c+f;){t=g;for(n=-e;n<=e;n+=1)v=m[l+n],v[b-f+t-2]===q&&--u,v[b+f-t]===q&&(u+=1),t=1-t;1===g&&(m[l][b-2]===q&&--u,m[l][b]===q&&(u+=1));r[b]=u;b+=1;if(b<=c+f){t=g;for(n=-e;n<=e;n+=1)v=m[l+n],v[b-f+t-2]===q&&--B,v[b+f-t]===q&&(B+=1),t=1-t;1===g&&
(m[l][b-2]===q&&--B,m[l][b]===q&&(B+=1));r[b]=B;b+=1}}}}};za.prototype.Pv=function(a,b,c,d,f,e){var g=performance.now();W.R&&W.es&&this.g.view.i?va.Pv(this.h.o.byteOffset|0,this.h[0].length|0,this.g.h.o.byteOffset|0,this.g.h[0].length|0,a|0,b|0,c|0,d|0,f|0,e|0,this.g.i+this.g.v-1|0):this.Nv(a,b,c,d,f,e,1);W.wb&&(g=performance.now()-g,this.g.view.C.h("nextHROTChecker",g,W.R&&W.es&&this.g.view.i))};za.prototype.Jv=function(a,b,c,d,f,e){var g=performance.now();W.R&&W.cs&&this.g.view.i?va.Jv(this.h.o.byteOffset|
0,this.h[0].length|0,this.g.h.o.byteOffset|0,this.g.h[0].length|0,a|0,b|0,c|0,d|0,f|0,e|0,this.g.i+this.g.v-1|0):this.Nv(a,b,c,d,f,e,0);W.wb&&(g=performance.now()-g,this.g.view.C.h("nextHROTAligned",g,W.R&&W.cs&&this.g.view.i))};za.prototype.aw=function(a,b,c,d,f,e){var g=performance.now();W.R&&W.ns&&this.g.view.i?va.aw(this.h.o.byteOffset|0,this.h[0].length|0,this.g.h.o.byteOffset|0,this.g.h[0].length|0,b|0,d|0,a|0,c|0,f|0,e|0,this.g.i+this.g.v-1|0):this.Pa(a,b,c,d,f,e);W.wb&&(g=performance.now()-
g,this.g.view.C.h("nextHROTHex",g,W.R&&W.ns&&this.g.view.i))};za.prototype.Pa=function(a,b,c,d,f,e){var g=this.h,k,l,p,n=this.g.i+this.g.v-1,q=this.g.h;for(k=b-e;k<=d+e;k+=1){var m=g[k];b=a-f;var r=0;for(p=-e;0>p;p+=1){var u=q[k+p];for(l=-f;l<=f+p;l+=1)u[b+l]===n&&(r+=1)}for(p=0;p<=e;p+=1)for(u=q[k+p],l=-f+p;l<=f;l+=1)u[b+l]===n&&(r+=1);m[b]=r;for(b+=1;b<=c+f;){for(p=-e;0>p;p+=1)u=q[k+p],u[b-f-1]===n&&--r,u[b+f+p]===n&&(r+=1);for(p=0;p<=e;p+=1)u=q[k+p],u[b-f+p-1]===n&&--r,u[b+f]===n&&(r+=1);m[b]=
r;b+=1}}};za.prototype.cw=function(a,b,c,d,f,e){var g=performance.now();W.R&&W.ps&&this.g.view.i?va.cw(this.h.o.byteOffset|0,this.h[0].length|0,this.g.h.o.byteOffset|0,this.g.h[0].length|0,b|0,d|0,a|0,c|0,f|0,e|0,this.g.i+this.g.v-1|0):this.Ua(a,b,c,d,f,e);W.wb&&(g=performance.now()-g,this.g.view.C.h("nextHROTSaltire",g,W.R&&W.ps&&this.g.view.i))};za.prototype.Ua=function(a,b,c,d,f,e){var g=this.h,k,l,p=this.g.i+this.g.v-1,n=this.g.h;for(k=b-e;k<=d+e;k+=1){var q=g[k];for(b=a-f;b<=c+f;){var m=0;for(l=
1;l<=e;l+=1){var r=n[k+l];r[b-l]===p&&(m+=1);r[b+l]===p&&(m+=1);r=n[k-l];r[b-l]===p&&(m+=1);r[b+l]===p&&(m+=1)}r=n[k];r[b]===p&&(m+=1);q[b]=m;b+=1}}};za.prototype.gw=function(a,b,c,d,f,e){var g=performance.now();W.R&&W.rs&&this.g.view.i?va.gw(this.h.o.byteOffset|0,this.h[0].length|0,this.g.h.o.byteOffset|0,this.g.h[0].length|0,b|0,d|0,a|0,c|0,f|0,e|0,this.g.i+this.g.v-1|0):this.Za(a,b,c,d,f,e);W.wb&&(g=performance.now()-g,this.g.view.C.h("nextHROTStar",g,W.R&&W.rs&&this.g.view.i))};za.prototype.Za=
function(a,b,c,d,f,e){var g=this.h,k,l,p=this.g.i+this.g.v-1,n=this.g.h;for(k=b-e;k<=d+e;k+=1){var q=g[k];for(b=a-f;b<=c+f;){var m=0;for(l=1;l<=e;l+=1){var r=n[k+l];r[b-l]===p&&(m+=1);r[b+l]===p&&(m+=1);r[b]===p&&(m+=1);r=n[k-l];r[b-l]===p&&(m+=1);r[b+l]===p&&(m+=1);r[b]===p&&(m+=1)}r=n[k];for(l=-f;l<=f;l+=1)r[b+l]===p&&(m+=1);q[b]=m;b+=1}}};za.prototype.Tv=function(a,b,c,d,f,e){var g=performance.now();W.R&&W.gs&&this.g.view.i?va.Tv(this.h.o.byteOffset|0,this.h[0].length|0,this.g.h.o.byteOffset|0,
this.g.h[0].length|0,b|0,d|0,a|0,c|0,f|0,e|0,this.g.i+this.g.v-1|0):this.wa(a,b,c,d,f,e);W.wb&&(g=performance.now()-g,this.g.view.C.h("nextHROTCross",g,W.R&&W.gs&&this.g.view.i))};za.prototype.wa=function(a,b,c,d,f,e){var g=this.h,k,l,p,n=this.g.i+this.g.v-1,q=this.g.h;for(k=b-e;k<=d+e;k+=1){var m=g[k];b=a-f;var r=p=0;for(l=1;l<=e;l+=1){var u=q[k+l];u[b]===n&&(p+=1);u=q[k-l];u[b]===n&&(p+=1)}u=q[k];for(l=-f;l<=f;l+=1)u[b+l]===n&&(r+=1);m[b]=p+r;for(b+=1;b<=c+f;){p=0;for(l=1;l<=e;l+=1)q[k+l][b]===
n&&(p+=1),q[k-l][b]===n&&(p+=1);u=q[k];u[b-f-1]===n&&--r;u[b+f]===n&&(r+=1);m[b]=p+r;b+=1}}};za.prototype.iw=function(a,b,c,d,f,e){var g=performance.now();W.R&&W.ss&&this.g.view.i?va.iw(this.h.o.byteOffset|0,this.h[0].length|0,this.g.h.o.byteOffset|0,this.g.h[0].length|0,b|0,d|0,a|0,c|0,f|0,e|0,this.g.i+this.g.v-1|0):this.ab(a,b,c,d,f,e);W.wb&&(g=performance.now()-g,this.g.view.C.h("nextHROTTriangular",g,W.R&&W.ss&&this.g.view.i))};za.prototype.ab=function(a,b,c,d,f,e){var g=this.h,k,l,p=this.g.i+
this.g.v-1,n=this.g.h;for(k=b-e;k<=d+e;k+=1){var q=g[k];b=a-f;var m=0;var r=b+k&1;if(0===r){var u=e+1;for(r=-e;0>r;r+=1){var t=n[k+r];for(l=-u;l<u;l+=2)t[b+l]===p&&(m+=1),t[b+l+1]===p&&(m+=1);t[b+l]===p&&(m+=1);u+=1}r=0}else{u=e;for(r=-e;0>=r;r+=1){t=n[k+r];for(l=-u;l<u;l+=2)t[b+l]===p&&(m+=1),t[b+l+1]===p&&(m+=1);t[b+l]===p&&(m+=1);u+=1}r=1}for(;r<=e;r+=1){--u;t=n[k+r];for(l=-u;l<u;l+=2)t[b+l]===p&&(m+=1),t[b+l+1]===p&&(m+=1);t[b+l]===p&&(m+=1)}q[b]=m;for(b+=1;b<=c+f;){r=b+k&1;if(0===r){l=e;for(r=
-e;0>r;r+=1)t=n[k+r],t[b+l]===p&&(m+=1),l+=1,t[b+l]===p&&(m+=1);t=n[k];t[b-l-1]===p&&--m;t[b+l]===p&&(m+=1);l+=1;for(r=1;r<=e;r+=1)--l,t=n[k+r],t[b-l-1]===p&&--m,t[b-l]===p&&--m}else{l=e+1;for(r=-e;0>r;r+=1)t=n[k+r],t[b-l-1]===p&&--m,t[b-l]===p&&--m,l+=1;--l;t=n[k];t[b-l-1]===p&&--m;t[b+l]===p&&(m+=1);for(r=1;r<=e;r+=1)--l,t=n[k+r],t[b+l]===p&&(m+=1),t[b+l+1]===p&&(m+=1)}q[b]=m;b+=1}}};za.prototype.Xv=function(a,b,c,d,f,e){var g=performance.now();W.R&&W.js&&this.g.view.i?va.Xv(this.h.o.byteOffset|
0,this.h[0].length|0,this.g.h.o.byteOffset|0,this.g.h[0].length|0,a|0,b|0,c|0,d|0,f|0,e|0,this.g.i+this.g.v-1|0):this.Ca(a,b,c,d,f,e);W.wb&&(g=performance.now()-g,this.g.view.C.h("nextHROTGaussian",g,W.R&&W.js&&this.g.view.i))};za.prototype.Ca=function(a,b,c,d,f,e){var g=this.h,k,l,p,n,q=this.g.i+this.g.v-1,m=this.g.h;for(k=b-e;k<=d+e;k+=1){var r=g[k];for(b=a-f;b<=c+f;){var u=0;for(p=-e;0>p;p+=1){var t=n=p+e+1;var v=m[k+p];for(l=-f;0>=l;l+=1)v[b+l]===q&&(u+=t),t+=n;t-=n+n;for(l=1;l<=f;l+=1)v[b+l]===
q&&(u+=t),t-=n;t=n=p+e+1;v=m[k-p];for(l=-f;0>=l;l+=1)v[b+l]===q&&(u+=t),t+=n;t-=n+n;for(l=1;l<=f;l+=1)v[b+l]===q&&(u+=t),t-=n}t=n=f+1;v=m[k];for(l=-f;0>=l;l+=1)v[b+l]===q&&(u+=t),t+=n;t-=n+n;for(l=1;l<=f;l+=1)v[b+l]===q&&(u+=t),t-=n;v[b]===q&&(u+=1);r[b]=u;b+=1}}};za.prototype.ew=function(a,b,c,d,f,e){var g=performance.now();W.R&&W.qs&&this.g.view.i?va.ew(this.h.o.byteOffset|0,this.h[0].length|0,this.g.h.o.byteOffset|0,this.g.h[0].length|0,this.H.byteOffset|0,b|0,d|0,a|0,c|0,f|0,e|0,this.g.i+this.g.v-
1|0):this.Wa(a,b,c,d,f,e);W.wb&&(g=performance.now()-g,this.g.view.C.h("nextHROTShaped",g,W.R&&W.qs&&this.g.view.i))};za.prototype.Wa=function(a,b,c,d,f,e){var g=this.h,k,l,p,n=this.g.i+this.g.v-1,q=this.H,m=this.g.h;for(k=b-e;k<=d+e;k+=1){var r=g[k];b=a-f;var u=0;for(p=-e;p<=e;p+=1){var t=q[p+e];var v=m[k+p];for(l=-t;l<t;l+=2)v[b+l]===n&&(u+=1),v[b+l+1]===n&&(u+=1);v[b+l]===n&&(u+=1)}r[b]=u;for(b+=1;b<=c+f;){for(p=-e;p<=e;p+=1)t=q[p+e],v=m[k+p],v[b-t-1]===n&&--u,v[b+t]===n&&(u+=1);r[b]=u;b+=1}}};
za.prototype.jb=function(a,b,c,d,f,e){var g=this.h,k,l,p,n=this.g.i+this.g.v-1,q=this.g.h;for(k=b-e;k<=d+e;k+=1){var m=g[k];b=a-f;var r=0;for(p=-e;0>=p;p+=1){var u=p+e;var t=q[k+p];for(l=-u;l<u;l+=2)t[b+l]===n&&(r+=1),t[b+l+1]===n&&(r+=1);t[b+l]===n&&(r+=1)}for(p=1;p<=e;p+=1){u=e-p;t=q[k+p];for(l=-u;l<u;l+=2)t[b+l]===n&&(r+=1),t[b+l+1]===n&&(r+=1);t[b+l]===n&&(r+=1)}m[b]=r;for(b+=1;b<=c+f;){for(p=-e;0>=p;p+=1)u=p+e,t=q[k+p],t[b-u-1]===n&&--r,t[b+u]===n&&(r+=1);for(p=1;p<=e;p+=1)u=e-p,t=q[k+p],t[b-
u-1]===n&&--r,t[b+u]===n&&(r+=1);m[b]=r;b+=1}}};za.prototype.Ha=function(a){var b,c,d=this.g.A.J,f=this.g.A.L,e=this.g.A.K,g=this.g.A.N,k=this.v,l=this.s,p=a?this.ja:this.P,n=a?this.ka:this.G,q=k+k,m=l+l;var r=k+1;var u=l+1;var t=this.h,v=this.type,B=this.g.width,w=0,z=this.g.height,E=0,H=B,L=w,N=z,M=E,V=this.g.h,X=this.g.m;var I=this.g.ba;var R=this.g.$,P=0,S=0,Z=0,qa=0,ha=0,ca=0,ia=0,na,ja=this.ea,U=this.ba,ma=this.fa,ea=this.da,aa=this.aa,Y=this.g.i+this.g.v-1,oa=this.g.v,Q=0<this.g.v?1:0;-1!==
this.g.S&&(P=Math.round((this.g.width-I)/2),Z=Math.round((this.g.height-R)/2),S=P+I-1,qa=Z+R-1,255===p[0]&&(d=P+k,f=S-k,g=qa-l,e=Z+l),1===this.g.S&&(d-P<k&&(f=S),S-f<k&&(d=P),qa-g<l&&(e=Z),e-Z<l&&(g=qa),this.vs(P,Z,S,qa)),d-P<k&&(d=P+k),S-f<k&&(f=S-k),qa-g<l&&(g=qa-l),e-Z<l&&(e=Z+l),v===this.X.i?(d-=q,e-=m,f+=q,g+=m):v===this.X.m&&k>this.ga&&(d-=k,e-=l,f+=k,g+=l));if(v===this.X.i){d-=q;e-=m;f+=q;g+=m;for(c=e;c<e+m;c+=1)t[c].fill(0,d,f+1);for(c=e+m;c<=g;c+=1)t[c].fill(0,d,d+q);R=performance.now();
if(W.R)va.oG(t.o.byteOffset|0,V.o.byteOffset|0,e+m|0,d+q|0,g|0,f|0,Y|0,t[0].length|0,V[0].length|0);else for(c=e+m;c<=g;c+=1){var F=t[c-1];var A=t[c];I=V[c];var K=0;for(b=d+q;b<=f;b+=1)I[b]===Y&&(K+=1),A[b]=F[b]+K}W.wb&&(R=performance.now()-R,this.g.view.C.h("cumulativeCounts",R,W.R&&W.Om&&this.g.view.i));d+=k;e+=l;f-=k;g-=l;-1!==this.g.S&&(d+=q,e+=m,f-=q,g-=m);m=V[e][d];K=t[e+l][d+k];m<=oa?255===p[K]?ja?U.random()>=ma[K]?(m=Y,ca+=1):m>Q&&--m:(m=Y,ca+=1):m>Q&&--m:m===Y?0===n[K]?ja?U.random()>=aa[K]||
(--m,ia+=1):(--m,ia+=1):!ja||U.random()>=ea[K]||(--m,ia+=1):m>Q&&--m;V[e][d]=m;m>Q&&(w=B=d,E=z=e,X[e>>4][d>>8]|=1<<(~(d>>4)&15),m===Y&&(ha+=1),m>oa&&(L=H=d,M=N=e));var O=na=!1;A=t[e+l];F=t[e+l];I=V[e];q=X[e>>4];if(ja)for(b=d+1;b<=f;b+=1)m=I[b],K=A[b+k]-F[b-r],m<=oa?255===p[K]?U.random()>=ma[K]?(m=Y,ca+=1):m>Q&&--m:m>Q&&--m:m===Y?0===n[K]?U.random()>=aa[K]||(--m,ia+=1):U.random()>=ea[K]||(--m,ia+=1):m>Q&&--m,I[b]=m,m>Q&&(b<B&&(B=b),b>w&&(w=b),na=!0,q[b>>8]|=1<<(~(b>>4)&15),m===Y&&(ha+=1),m>oa&&(b<
H&&(H=b),b>L&&(L=b),O=!0));else for(b=d+1;b<=f;b+=1)m=I[b],K=A[b+k]-F[b-r],m<=oa?255===p[K]?(m=Y,ca+=1):m>Q&&--m:m===Y?0===n[K]&&(--m,ia+=1):m>Q&&--m,I[b]=m,m>Q&&(b<B&&(B=b),b>w&&(w=b),na=!0,q[b>>8]|=1<<(~(b>>4)&15),m===Y&&(ha+=1),m>oa&&(b<H&&(H=b),b>L&&(L=b),O=!0));na&&(E=z=e);O&&(M=N=e);R=I=!1;A=d+k;if(ja)for(c=e+1;c<=g;c+=1)m=V[c][d],K=t[c+l][A]-t[c-u][A],m<=oa?255===p[K]?U.random()>=ma[K]?(m=Y,ca+=1):m>Q&&--m:m>Q&&--m:m===Y?0===n[K]?U.random()>=aa[K]||(--m,ia+=1):U.random()>=ea[K]||(--m,ia+=1):
m>Q&&--m,V[c][d]=m,m>Q&&(c<z&&(z=c),c>E&&(E=c),I=!0,X[c>>4][d>>8]|=1<<(~(d>>4)&15),m===Y&&(ha+=1),m>oa&&(c<N&&(N=c),c>M&&(M=c),R=!0));else for(c=e+1;c<=g;c+=1)m=V[c][d],K=t[c+l][A]-t[c-u][A],m<=oa?255===p[K]?(m=Y,ca+=1):m>Q&&--m:m===Y?0===n[K]&&(--m,ia+=1):m>Q&&--m,V[c][d]=m,m>Q&&(c<z&&(z=c),c>E&&(E=c),I=!0,X[c>>4][d>>8]|=1<<(~(d>>4)&15),m===Y&&(ha+=1),m>oa&&(c<N&&(N=c),c>M&&(M=c),R=!0));I&&(d<B&&(B=d),d>w&&(w=d));R&&(d<H&&(H=d),d>L&&(L=d));R=performance.now();if(W.R&&W.ks&&this.g.view.i&&!ja)va.fI(V.o.byteOffset|
0,V[0].length|0,X.o.byteOffset|0,X[0].length|0,t.o.byteOffset|0,t[0].length|0,a?this.Z.byteOffset|0:this.$.byteOffset|0,e|0,d|0,g|0,f|0,k|0,l|0,oa|0,Q|0,Y|0,this.i.byteOffset|0,B|0,w|0,z|0,E|0,H|0,L|0,N|0,M|0,ha|0,ca|0,ia|0),B=this.i[0],w=this.i[1],z=this.i[2],E=this.i[3],H=this.i[4],L=this.i[5],N=this.i[6],M=this.i[7],ha=this.i[8],ca=this.i[9],ia=this.i[10];else for(c=e+1;c<=g;c+=1){I=V[c];q=X[c>>4];F=t[c+l];var J=t[c-u];O=na=!1;A=d+1+k;var x=d+1-r;if(ja)for(b=d+1;b<=f;b+=1)m=I[b],K=F[A]+J[x]-F[x]-
J[A],m<=oa?255===p[K]?U.random()>=ma[K]?(m=Y,ca+=1):m>Q&&--m:m>Q&&--m:m===Y?0===n[K]?U.random()>=aa[K]||(--m,ia+=1):U.random()>=ea[K]||(--m,ia+=1):m>Q&&--m,I[b]=m,m>Q&&(q[b>>8]|=1<<(~(b>>4)&15),b<B&&(B=b),b>w&&(w=b),na=!0,m===Y&&(ha+=1),m>oa&&(O=!0,b<H&&(H=b),b>L&&(L=b))),A+=1,x+=1;else for(b=d+1;b<=f;b+=1)m=I[b],K=F[A]+J[x]-F[x]-J[A],m<=oa?255===p[K]?(m=Y,ca+=1):m>Q&&--m:m===Y?0===n[K]&&(--m,ia+=1):m>Q&&--m,I[b]=m,m>Q&&(q[b>>8]|=1<<(~(b>>4)&15),b<B&&(B=b),b>w&&(w=b),na=!0,m===Y&&(ha+=1),m>oa&&(O=
!0,b<H&&(H=b),b>L&&(L=b))),A+=1,x+=1;na&&(c<z&&(z=c),c>E&&(E=c));O&&(c<N&&(N=c),c>M&&(M=c))}W.wb&&(R=performance.now()-R,this.g.view.C.h("nextHROTMoore",R,W.R&&W.ks&&this.g.view.i));this.g.B=ha;this.g.na=ca;this.g.ga=ia;0<ha&&(this.g.A.J=B,this.g.A.L=w,this.g.A.K=z,this.g.A.N=E,this.g.ya.J=H,this.g.ya.L=L,this.g.ya.K=N,this.g.ya.N=M)}else if(v===this.X.m&&k>this.ga){d-=k;f+=k;e-=l;g+=l;-1===this.g.S&&(d-=k,f+=k,e-=l,g+=l);this.F=g-e+1;this.u=f-d+1;this.A=this.F+(this.u-1)/2|0;this.I=this.u/2|0;R=
performance.now();if(W.R&&W.Om&&this.g.view.i)va.qG(this.A|0,this.u|0,this.F|0,e|0,d|0,Y|0,this.I|0,t.o.byteOffset|0,V.o.byteOffset|0,t[0].length|0,V[0].length|0);else for(r=0;r<this.A;r+=1)for(A=t[r],I=V[r+e],c=r-1,K=c-1,b=t[c],q=t[K],u=0;u<=this.u;u+=1)A[u]=this.j(c,u-1,b)+this.j(c,u+1,b)-this.j(K,u,q),r<this.F&&I[u+d]===Y&&(A[u]+=1);W.wb&&(R=performance.now()-R,this.g.view.C.h("cumulativeCounts",R,W.R&&W.Om&&this.g.view.i));R=performance.now();if(W.R&&W.ls&&this.g.view.i&&!ja)va.hI(V.o.byteOffset|
0,V[0].length|0,X.o.byteOffset|0,X[0].length|0,t.o.byteOffset|0,t[0].length|0,a?this.Z.byteOffset|0:this.$.byteOffset|0,e|0,d|0,k|0,l|0,this.F|0,this.u|0,oa|0,Q|0,Y|0,this.A|0,this.I|0,this.i.byteOffset|0,B|0,w|0,z|0,E|0,H|0,L|0,N|0,M|0,ha|0,ca|0,ia|0),B=this.i[0],w=this.i[1],z=this.i[2],E=this.i[3],H=this.i[4],L=this.i[5],N=this.i[6],M=this.i[7],ha=this.i[8],ca=this.i[9],ia=this.i[10];else for(r=l;r<=this.F-l;r+=1){c=r-1;b=t[c];var C=r+l;var la=t[C];A=C-1;var ba=t[A];F=r-l-1;var sa=t[F];J=F-1;var ta=
t[J];x=r+e;I=V[x];q=X[x>>4];O=na=!1;if(ja)for(u=k;u<=this.u-k;u+=1){K=u+k;m=u-k;K=this.j(C,u,la)-this.j(c,K+1,b)-this.j(c,m-1,b)+this.j(J,u,ta)+this.j(A,u,ba)-this.j(c,K,b)-this.j(c,m,b)+this.j(F,u,sa);var ka=u+d;m=I[ka];m<=oa?255===p[K]?U.random()>=ma[K]?(m=Y,ca+=1):m>Q&&--m:m>Q&&--m:m===Y?0===n[K]?U.random()>=aa[K]||(--m,ia+=1):U.random()>=ea[K]||(--m,ia+=1):m>Q&&--m;I[ka]=m;m>Q&&(q[ka>>8]|=1<<(~(ka>>4)&15),ka<B&&(B=ka),ka>w&&(w=ka),na=!0,m===Y&&(ha+=1),m>oa&&(O=!0,ka<H&&(H=ka),ka>L&&(L=ka)))}else for(u=
k;u<=this.u-k;u+=1)K=u+k,m=u-k,K=this.j(C,u,la)-this.j(c,K+1,b)-this.j(c,m-1,b)+this.j(J,u,ta)+this.j(A,u,ba)-this.j(c,K,b)-this.j(c,m,b)+this.j(F,u,sa),ka=u+d,m=I[ka],m<=oa?255===p[K]?(m=Y,ca+=1):m>Q&&--m:m===Y?0===n[K]&&(--m,ia+=1):m>Q&&--m,I[ka]=m,m>Q&&(q[ka>>8]|=1<<(~(ka>>4)&15),ka<B&&(B=ka),ka>w&&(w=ka),na=!0,m===Y&&(ha+=1),m>oa&&(O=!0,ka<H&&(H=ka),ka>L&&(L=ka)));na&&(x<z&&(z=x),x>E&&(E=x));O&&(x<N&&(N=x),x>M&&(M=x))}W.wb&&(R=performance.now()-R,this.g.view.C.h("nextHROTvN",R,W.R&&W.ls&&this.g.view.i));
this.g.B=ha;this.g.na=ca;this.g.ga=ia;0<ha&&(this.g.A.J=B,this.g.A.L=w,this.g.A.K=z,this.g.A.N=E,this.g.ya.J=H,this.g.ya.L=L,this.g.ya.K=N,this.g.ya.N=M)}else switch(v){case this.X.u:this.Rv(d,e,f,g,k,l);break;case this.X.A:this.Lv(d,e,f,g,k,l);break;case this.X.D:this.kw(d,e,f,g,k,l);break;case 15:this.mw(d,e,f,g,k,l);break;case 10:this.Vv(d,e,f,g,k,l);break;case this.X.S:this.Zv(d,e,f,g,k,l);break;case this.X.O:this.Pv(d,e,f,g,k,l);break;case this.X.I:this.Jv(d,e,f,g,k,l);break;case this.X.G:this.aw(d,
e,f,g,k,l);break;case this.X.V:this.cw(d,e,f,g,k,l);break;case this.X.Y:this.gw(d,e,f,g,k,l);break;case this.X.P:this.Tv(d,e,f,g,k,l);break;case this.X.H:this.iw(d,e,f,g,k,l);break;case this.X.v:this.Xv(d,e,f,g,k,l);break;case this.X.m:this.jb(d,e,f,g,k,l);break;default:this.ew(d,e,f,g,k,l)}-1!==this.g.S&&(d<P+k&&(d=P+k),f>S-k&&(f=S-k),e<Z+l&&(e=Z+l),g>qa-l&&(g=qa-l));v===this.X.i||v===this.X.m&&k>this.ga||this.qa(d,e,f,g,a);1===this.g.S&&this.Nq(P,Z,S,qa)};za.prototype.Ea=function(a){var b=!1;this.na&&
1===(a&1)&&(b=!0);this.ga=W.R&&this.g.view.i?0:6;2===this.ca?this.Fa(b):this.Ha(b)};var y={tH:15,If:0,ig:1,tf:2,jg:3,Ev:0,Gv:1,Fv:2,ZH:3,ap:"St.6",$o:"St.3",Pk:5E4,ii:0,hi:1,ij:2,jj:3,kj:4,rf:5,sf:6,WB:7,XB:8,xr:9,Dv:10,UB:11,UH:12,VH:13,SB:14,TB:15,VB:16,WH:[0,1,2,3,4,5,6],XH:[2,3,5,6],Hp:0,Kk:1,Ui:2,sm:27,HB:36,YH:["Rot90CW","Rot90CCW","FlipX","FlipY","Rot180","Flip"+String.fromCharCode(10189),"Flip"+String.fromCharCode(10187),"FlipOrth","Rot90","FlipOrthOrRot90","FlipDiag","FlipDiagOrRot90","FlipXOrRot180",
"FlipYOrRot180","Flip"+String.fromCharCode(10189)+"OrRot180","Flip"+String.fromCharCode(10187)+"OrRot180","FlipOrthOrDiag"],QH:268435456,iA:"Buffer Full",Oq:[[0,0,0],[0,236,91],[0,192,254],[254,0,0],[254,254,254],[75,75,75],[233,41,254],[64,0,128],[254,230,0],[150,128,0],[130,200,0],[0,120,40],[254,140,0],[140,70,0],[0,0,254],[192,192,192],[128,128,128],[254,112,140],[174,0,168],[0,152,127],[0,73,59]],Fo:"off;on;killer on;killer off;eternal on;eternal off;p2 killer on;p2 killer off;egg on;egg off;p2 on;p2 off;p2 egg on;p2 egg off;inverter;catalyst;catalyst killer;on births;off births;on p2 births;off p2 births".split(";"),
Pq:[[0,0,0],[0,255,0],[0,0,160],[255,216,255],[255,0,0],[255,255,0],[96,96,96],[255,105,180],[128,0,128],[0,191,255],[0,64,128],[64,224,208],[0,128,64],[255,255,255],[255,99,71],[250,128,114],[219,112,147],[255,165,0],[245,222,179],[0,255,255],[192,192,192],[192,255,128],[255,182,193],[0,255,127],[1,1,1],[255,0,127]],Go:"dead;on;off;marked on trail;marked off trail;marked on alt;boundary;marked on no-trail;marked off no-trail;on trail 2;off trail 2;on trail 3;off trail 3;on no-trail 1;off disappearing;on no-trail 2;off vanishing;on no-trail 3;off cycling 1;on no-trail 4;off cycling 2;on no-trail 5;off cycling 3;on no-trail 6;hidden;on no-trail 7".split(";"),
TG:[[1,1,1],[1,0,0],[0,1,0]],UG:[[0,1,0],[1,1,0],[1,0,1]],VG:[[1,1,0],[1,0,1],[1,0,0]],WG:[[0,1,1],[1,1,0],[0,0,1]],OG:[[1,1,1],[0,0,1],[0,1,0]],PG:[[0,1,0],[0,1,1],[1,0,1]],QG:[[0,1,1],[1,0,1],[0,0,1]],SG:[[1,1,0],[0,1,1],[1,0,0]],aH:[[0,1,0],[1,0,0],[1,1,1]],bH:[[1,0,1],[1,1,0],[0,1,0]],cH:[[1,0,0],[1,0,1],[1,1,0]],dH:[[0,0,1],[1,1,0],[0,1,1]],XG:[[0,1,0],[0,0,1],[1,1,1]],YG:[[1,0,1],[0,1,1],[0,1,0]],ZG:[[0,0,1],[1,0,1],[0,1,1]],$G:[[1,0,0],[0,1,1],[1,1,0]],Nh:0,Oh:1,Ph:2,Qh:3,Rk:0,aj:1,Sk:2,bj:3,
Qc:4096,mg:16,Iy:1.6,Cm:4096,kH:512,dr:262144,Uk:65536,km:65536,kB:8192,jB:131072,lq:64,nr:524288,Uj:12,xa:64,Ke:127,be:63,Hh:1,Ja:1,Ga:2,Ma:4,Oa:8,Ta:16,La:32,Qa:64,Ra:128};Na.prototype.set=function(a){var b;this.Tk=a.Tk;this.B=a.B;this.s=a.s;this.u=a.u;this.v.set(a.v);this.i.set(a.i);this.h.set(a.h);this.A.set(a.A);this.m.set(a.m);this.j.set(a.j);this.F.set(a.F);this.m.set(a.m);this.G=a.G;for(b=0;b<a.D.length;b+=1)this.D[b].set(a.D[b])};Na.prototype.I=function(a,b,c){this.Tk=!0;this.B=a;this.s=
b.h<<16|b.j<<8|b.i;this.u=c.h<<16|c.j<<8|c.i};Na.prototype.O=function(a,b){-1!==a&&(this.s=a);-1!==b&&(this.u=b)};Na.prototype.H=function(a,b){var c=!0;a||(this.i.h.m(this.i.i)&&this.h.h.m(this.h.i)&&this.h.h.m(this.v)&&(c=!1),0===b.qa&&0===b.Ce&&(c=!1));return c};T.prototype.set=function(a){this.h=a.h;this.j=a.j;this.i=a.i};T.prototype.m=function(a){var b=!1;this.h===a.h&&this.j===a.j&&this.i===a.i&&(b=!0);return b};xa.prototype.set=function(a){this.h.set(a.h);this.i.set(a.i)};pa.prototype.Ni=function(){var a=
G.Pb,b=this.displayWidth+a+a<<1;a=this.displayHeight+a+a<<1;this.Vc?(null===this.Jd&&(this.Jd=document.createElement("canvas")),this.Jd.width=b,this.Jd.height=a,this.bh=this.Jd.getContext("2d",{alpha:!1}),this.eh=this.bh.getImageData(0,0,this.Jd.width,this.Jd.height),this.Lh=new Uint32Array(this.eh.data.buffer)):this.Lh=this.eh=this.bh=null};pa.prototype.Fk=function(){var a,b,c,d=this.displayWidth,f=20*this.displayHeight,e=-f,g=this.di;this.hj=new Uint16Array(y.Pk);this.mj=new Float32Array(y.Pk);
this.gj=new Float32Array(y.Pk);this.nk=new Uint32Array(y.Pk);var k=this.hj;var l=this.mj;var p=this.gj;for(a=0;a<y.Pk;a+=1){k[a]=g.random()*d|0;for(b=c=0;10>b;b+=1)c+=g.random()*f;l[a]=-c/10;l[a]>e&&(e=l[a]);p[a]=g.random()/5+.8;if(a<y.Pk-4&&.2>g.random()){b=k[a];c=l[a];var n=p[a];a+=1;k[a]=b;l[a]=c-2;p[a]=n;a+=1;k[a]=b;l[a]=c+2;p[a]=n;1<b&&(a+=1,k[a]=b-2,l[a]=c,p[a]=n);b<d-2&&(a+=1,k[a]=b+2,l[a]=c,p[a]=n)}}for(a=0;a<y.Pk;a+=1)l[a]-=e};pa.prototype.uh=function(){var a=1;this.Z&&(a=G.bk);this.ha&&
(a=G.Sj);return a};pa.prototype.rc=function(a){this.Z&&(a*=G.bk);this.ha&&(a*=G.Sj);return a};pa.prototype.ug=function(){var a,b=0,c=this.displayWidth,d=this.displayHeight,f=this.Za[0],e=this.Nc,g=this.di,k=this.hj,l=this.mj,p=this.gj,n=this.nk;for(a=0;a<y.Pk;a+=1){var q=k[a];var m=l[a];var r=p[a];var u=q;var t=m;if(0<=m&&m<d-1)if((m|0)===(m+r|0))t=m+r,e[(t|0)*c+u]=-1;else{if(e[(m+r|0)*c+q]===f)t=m+r;else{var v=g.random();if(.05>v){var B=1;.025>v&&(B=-1);0<=q+B&&q+B<c&&e[(m+r|0)*c+q+B]===f&&e[(m|
0)*c+q+B]===f&&(u=q+B,t=m+r)}}e[(t|0)*c+u]=-1}else 0>m&&(t=m+r);t>=d-1&&(n[b]=a,b+=1);k[a]=u;l[a]=t}if(5<b)for(a=0;a<b;a+=1).25>g.random()&&(v=n[a],t=-(g.random()*d),u=g.random()*c|0,k[v]=u,l[v]=t,r=p[v],a<b-4&&.2>g.random()&&(a+=1,v=n[a],k[v]=u,l[v]=t-2,p[v]=r,a+=1,v=n[a],k[v]=u,l[v]=t+2,p[v]=r,1<u&&(a+=1,v=n[a],k[v]=u-2,l[v]=t,p[v]=r),u<c-2&&(a+=1,v=n[a],k[v]=u+2,l[v]=t,p[v]=r)))};pa.prototype.Kl=function(a,b){a=(a&255)/255;return((b>>16)*a|0)<<16|((b>>8&255)*a|0)<<8|(b&255)*a|0};pa.prototype.Nj=
function(a){null===this.Ud&&(this.Ud=document.createElement("canvas"));this.Ud.width=31;this.Ud.height=31*a;null===this.yf&&(this.yf=document.createElement("canvas"));this.yf.width=15;this.yf.height=15*a;null===this.zf&&(this.zf=document.createElement("canvas"));this.zf.width=7;this.zf.height=7*a;this.pg=this.Ud.getContext("2d",{willReadFrequently:!0,alpha:!1});this.Me=this.yf.getContext("2d",{willReadFrequently:!0,alpha:!1});this.Of=this.zf.getContext("2d",{willReadFrequently:!0,alpha:!1})};pa.prototype.uk=
function(a){var b,c,d,f=0,e=null,g=null;var k=this.Za;var l=this.v,p=k[1+l],n=k[2+l],q=k[4+l],m=k[8+l];this.Nj(15);null!==a&&(a.na=[]);for(b=0;3>b;b+=1){switch(b){case 0:e=this.Ud;g=this.pg;f=31;break;case 1:e=this.yf;g=this.Me;f=15;break;case 2:e=this.zf,g=this.Of,f=7}g.fillStyle=this.Le[l];g.fillRect(0,0,e.width,e.height);var r=g.getImageData(0,0,e.width,e.height);var u=new Uint32Array(r.data.buffer);var t=0;for(k=1;15>=k;k+=1){if(0!==(k&1)){var v=1;for(c=f-1;c>=(f+1)/2;--c){for(d=v;d<f-v;d+=1)u[t+
c*f+d]=p;v+=1}}if(0!==(k&2))for(v=1,d=0;d<=(f-3)/2;d+=1){for(c=v;c<f-v;c+=1)u[t+c*f+d]=n;v+=1}if(0!==(k&4))for(v=1,c=0;c<=(f-3)/2;c+=1){for(d=v;d<f-v;d+=1)u[t+c*f+d]=q;v+=1}if(0!==(k&8))for(v=1,d=f-1;d>=(f+1)/2;--d){for(c=v;c<f-v;c+=1)u[t+c*f+d]=m;v+=1}t+=f*f}null!==a&&(a.na[a.na.length]={Mq:Da.Or,width:f,height:15*f,xw:4,Wn:[],Qu:[],cr:!1});g.putImageData(r,0,0);switch(b){case 0:this.mh=r;break;case 1:this.qg=r;break;case 2:this.nh=r}}null===this.Yb&&(this.Yb=document.createElement("canvas"),this.Yb.width=
this.displayWidth+G.Pb,this.Yb.height=this.displayHeight+G.Pb,this.uf=this.Yb.getContext("2d",{alpha:!1}),this.wh=this.uf.createImageData(this.Yb.width,this.Yb.height));this.Wd=!0};pa.prototype.Og=function(a,b){var c=a.canvas.width,d=b.canvas.width,f=b.canvas.height/d,e,g=this.jc?4278190080:255,k=this.Jc[0];k=this.jc?(4278190080|(k&255)<<16|k&65280|(k&16711680)>>16)>>>0:(k<<8|255)>>>0;var l=d>c?(d-3)/2:2*d;a.imageSmoothingEnabled=!1;for(e=0;e<f;e+=1)a.drawImage(b.canvas,0,e*d,d,d,0,e*c,l,l);b=a.getImageData(0,
0,a.canvas.width,a.canvas.height);a=new Uint32Array(b.data.buffer);for(e=0;e<a.length;e+=1)if(0===a[e]||a[e]===g)a[e]=k;return b};pa.prototype.Dn=function(a){var b,c,d,f,e,g,k=0,l=this.Jc[0],p=!1,n=!1,q=!1;this.Mc=a;if(0===a.length||this.ha||this.Z)this.Wd=!1;else{this.Nj(a[0].height/a[0].width);for(c=0;c<a.length;c+=1){var m=a[c].width;var r=a[c].height/m;var u=a[c].Qu;var t=a[c].Wn;var v=a[c].cr;switch(m){case 31:var B=this.pg;p=!0;break;case 15:B=this.Me;n=!0;break;case 7:B=this.Of;q=!0;break;
default:console.error("LifeViewer: illegal icon size found");this.Wd=!1;return}var w=B.createImageData(B.canvas.width,B.canvas.height);var z=new Uint32Array(w.data.buffer);for(b=f=d=0;b<r;b+=1)for(v&&(k=this.Jc[b+1]),g=0;g<m;g+=1)for(e=0;e<m;e+=1){var E=u[d];d+=1;E=t[E];v&&(E=0===E?l:this.Kl(E,k));z[f]=-16777216|(E&255)<<16|E&65280|E>>16;f+=1}B.putImageData(w,0,0);switch(m){case 31:this.mh=w;break;case 15:this.qg=w;break;case 7:this.nh=w}}null===this.Yb&&(this.Yb=document.createElement("canvas"),
this.Yb.width=this.displayWidth+G.Pb,this.Yb.height=this.displayHeight+G.Pb,this.uf=this.Yb.getContext("2d",{alpha:!1}),this.wh=this.uf.createImageData(this.Yb.width,this.Yb.height));if(!1===p||!1===n||!1===q)!1===p&&(!1===n&&(this.qg=this.Og(this.Me,this.Of)),this.mh=this.Og(this.pg,this.Me)),!1===n&&(this.qg=q?this.Og(this.Me,this.Of):this.Og(this.Me,this.pg)),!1===q&&(this.nh=this.Og(this.Of,this.Me));this.Wd=!0}};pa.prototype.yg=function(a){this.oc=0;this.Ve=-1;this.Xd=[];a?null===this.ve&&(this.ve=
this.T.h(ra.Pd,this.Xe,"Life.hashList",!1),this.Zi=this.T.h(ra.lc,this.Xe,"Life.genList",!1),this.Xf=this.T.h(ra.lc,this.Xe,"Life.popList",!1),this.nc=this.T.h(ra.lc,2*this.Xe,"Life.boxList",!1),this.Ye=this.T.h(ra.Pd,this.Xe,"Life.nextList",!1),this.Gh=Array.matrix(ra.bb,this.height,this.width,y.Hp,this.T,"Life.countList",!1),2<this.i||this.D?this.We=Array.matrix(ra.bb,this.height,this.width,0,this.T,"Life.initList",!1):this.We=null,this.cg=this.kg=this.gd=-1,this.Ye.fill(-1),this.qj="",this.Nd=
null,this.De=new Uint16Array(67),this.De[0]=y.Hp,this.De[1]=y.Ui,this.De[2]=y.Ui,this.De[64]=y.Ui,this.De[65]=y.Kk,this.De[66]=y.Ui,this.Mi=performance.now()):(this.We=this.Gh=this.Ye=this.nc=this.Xf=this.Zi=this.ve=null,this.cg=this.kg=this.gd=-1,this.Wf=this.Jg=this.De=null)};pa.prototype.tp=function(a,b,c){b="Spaceship ("+(b+","+c)+")c";1<a&&(b+="/"+a);return b};pa.prototype.Kn=function(a,b,c,d,f,e,g){var k=31415962,l,p=0,n=this.h,q=y.xa,m=!1;d+=e;for(l=0;l<b;l+=1)for(e=0;e<a;e+=1){if(n[d-p][f]>=
q&&(k=1000003*k^l,k=1000003*k^e,!m)){if(k!==g)return g+1|0;m=!0}p+=1;p===c&&(p=0,f+=1)}return k|0};pa.prototype.In=function(a,b,c,d,f,e,g){var k=31415962,l=this.h,p=y.xa,n=!1;c+=f;d+=e;for(e=0;e<b;e+=1){var q=l[d-e];for(f=0;f<a;f+=1)if(q[c-f]>=p&&(k=1000003*k^e,k=1000003*k^f,!n)){if(k!=g)return g+1|0;n=!0}}return k|0};pa.prototype.Mn=function(a,b,c,d,f,e,g){var k=31415962,l,p=0,n=0,q=this.h,m=y.xa,r=!1;d+=f;for(l=0;l<b;l+=1)for(f=0;f<a;f+=1){if(q[n+e][d-p]>=m&&(k=1000003*k^l,k=1000003*k^f,!r)){if(k!==
g)return g+1|0;r=!0}n+=1;n===c&&(n=0,p+=1)}return k|0};pa.prototype.En=function(a,b,c,d,f,e){var g=31415962,k,l=this.h,p=y.xa,n=!1;c+=d;for(k=0;k<b;k+=1){var q=l[k+f];for(d=0;d<a;d+=1)if(q[c-d]>=p&&(g=1000003*g^k,g=1000003*g^d,!n)){if(g!==e)return e+1|0;n=!0}}return g|0};pa.prototype.Gn=function(a,b,c,d,f,e){var g=31415962,k,l=this.h,p=y.xa,n=!1;c+=f;for(k=0;k<b;k+=1){var q=l[c-k];for(f=0;f<a;f+=1)if(q[f+d]>=p&&(g=1000003*g^k,g=1000003*g^f,!n)){if(g!==e)return e+1|0;n=!0}}return g|0};pa.prototype.On=
function(a,b,c,d,f,e){var g=31415962,k,l=0,p=this.h,n=y.xa,q=!1;var m=d;for(k=0;k<b;k+=1)for(d=0;d<a;d+=1){if(p[l+f][m]>=n&&(g=1000003*g^k,g=1000003*g^d,!q)){if(g!==e)return e+1|0;q=!0}l+=1;l===c&&(l=0,m+=1)}return g|0};pa.prototype.Tm=function(a,b,c,d,f,e,g,k){var l=31415962,p=0,n=0,q=this.h,m=y.xa,r=!1;d+=e;f+=g;for(g=0;g<b;g+=1)for(e=0;e<a;e+=1){if(q[f-n][d-p]>=m&&(l=1000003*l^g,l=1000003*l^e,!r)){if(l!==k)return k+1|0;r=!0}n+=1;n===c&&(n=0,p+=1)}return l|0};pa.prototype.Un=function(a,b,c){var d=
0,f=a.J,e=a.K,g=a.L-f+1;a=a.N-e+1;var k=g-1,l=a-1,p=a;if(b===y.ii||b===y.hi||b===y.rf||b===y.sf){var n=g;g=p;p=n}performance.now();switch(b){case y.ii:d=this.Mn(g,p,a,k,f,e,c);break;case y.kj:d=this.In(g,p,k,l,f,e,c);break;case y.hi:d=this.Kn(g,p,a,l,f,e,c);break;case y.ij:d=this.En(g,p,k,f,e,c);break;case y.jj:d=this.Gn(g,p,l,f,e,c);break;case y.rf:d=this.On(g,p,a,f,e,c);break;case y.sf:d=this.Tm(g,p,a,k,l,f,e,c)}performance.now();return d};pa.prototype.ao=function(a,b){var c=31415962,d=a.J,f=a.K,
e=a.L-d+1;a=a.N-f+1;var g=e-1,k=a-1,l=a,p,n,q=0,m=0,r=0,u=0,t=this.h,v=this.Wa,B=y.xa,w=G.sb[6]+128;(this.s||this.D||this.u||this.G)&&0!==(this.counter&1)&&(t=this.P);if(b===y.ii||b===y.hi||b===y.rf||b===y.sf){var z=e;e=l;l=z}for(n=0;n<l;n+=1)for(p=0;p<e;p+=1){switch(b){case y.hi:q=r;m=k-u;break;case y.kj:q=g-p;m=k-n;break;case y.ii:q=g-r;m=u;break;case y.ij:q=g-p;m=n;break;case y.jj:q=p;m=k-n;break;case y.rf:q=r;m=u;break;case y.sf:q=g-r,m=k-u}if(this.O){if(t[m+f][q+d]>=B||v[m+f][q+d]===w)c=1000003*
c^n,c=1000003*c^p,v[m+f][q+d]===w&&(c=1000003*c^6)}else if(this.u){if(z=t[m+f][q+d],z&1||6===z)c=1000003*c^n,c=1000003*c^p,6===z&&(c=1000003*c^z)}else if(z=t[m+f][q+d],z>this.v){z-=this.v;if(this.s)switch(b){case y.hi:z=z<<1&15|(z&8)>>3;break;case y.kj:z=(z&3)<<2|(z&12)>>2;break;case y.ii:z=z>>1&15|(z&1)<<3;break;case y.ij:z=z&5|(z&2)<<2|(z&8)>>2;break;case y.jj:z=z&10|(z&1)<<2|(z&4)>>2;break;case y.rf:z=(z&8)>>3|(z&4)>>1|(z&2)<<1|(z&1)<<3;break;case y.sf:z=(z&4)<<1|(z&8)>>1|(z&1)<<1|(z&2)>>1}else this.D||
this.G||(z=this.i-z);c=1000003*c^n;c=1000003*c^p;c=1000003*c^z}u+=1;u===a&&(u=0,r+=1)}return c|0};pa.prototype.Sn=function(a,b,c,d){return c?this.Un(a,b,d):this.ao(a,b)};pa.prototype.Rl=function(a,b,c,d,f,e,g){var k=0!==d&&0!==f,l=-1;a=this.fk(a,b,d,f,g);if(a&=c)a&1<<y.ij&&(l=y.ij,a&1<<y.jj?(l=y.WB,a&1<<y.ii?a&1<<y.hi&&(l=y.xr):a&1<<y.rf&&a&1<<y.sf&&(l=y.VB)):a&1<<y.kj&&(l=y.UH),l===y.ij&&2!==e&&(l=-1)),-1===l&&a&1<<y.jj&&(l=y.jj,a&1<<y.ij?(l=y.WB,a&1<<y.ii?a&1<<y.hi&&(l=y.xr):a&1<<y.rf&&a&1<<y.sf&&
(l=y.VB)):a&1<<y.kj&&(l=y.VH),l===y.jj&&2!==e&&(l=-1)),-1===l&&a&1<<y.ii&&(l=y.ii,a&1<<y.hi&&(l=y.XB,a&1<<y.ij&&a&1<<y.jj&&(l=y.xr),a&1<<y.rf&&a&1<<y.sf&&(l=y.UB)),l===y.ii&&4!==e&&(l=-1)),-1===l&&a&1<<y.hi&&(l=y.hi,a&1<<y.ii&&(l=y.XB,a&1<<y.ij&&a&1<<y.jj&&(l=y.xr),a&1<<y.rf&&a&1<<y.sf&&(l=y.UB)),l===y.hi&&4!==e&&(l=-1)),-1===l&&a&1<<y.rf&&(l=y.rf,a&1<<y.sf?l=y.Dv:!k&&a&1<<y.kj&&(l=y.SB)),-1===l&&a&1<<y.sf&&(l=y.sf,a&1<<y.rf?l=y.Dv:!k&&a&1<<y.kj&&(l=y.TB)),-1===l&&a&1<<y.kj&&(l=y.kj,a&1<<y.rf?l=y.SB:
a&1<<y.sf&&(l=y.TB),l===y.kj&&2!==e&&(l=-1));k&&(l===y.Dv?(d===f&&(l=y.rf),d===-f&&(l=y.sf)):(a&1<<y.sf&&d===f&&(l=-1),a&1<<y.rf&&d===-f&&(l=-1)));this.ha||this.Z?1!==e&&2!==e&&3!==e&&6!==e&&(l=-1):1!==e&&2!==e&&4!==e&&(l=-1);return l};pa.prototype.fk=function(a,b,c,d,f){var e=2>=this.i&&!(this.D||this.O),g,k=0;var l=0===c&&0===d?y.WH:y.XH;for(g=0;g<l.length;g+=1){var p=l[g];var n=this.Sn(a,p,e,f);if(n===b){n=!0;if(0!==c||0!==d)0!==c||p!==y.jj&&p!==y.rf&&p!==y.sf||(n=!1),0!==d||p!==y.ij&&p!==y.rf&&
p!==y.sf||(n=!1);n&&(k|=1<<p)}}return k};pa.prototype.sh=function(a){var b=0,c=2>=this.i&&!this.D,d=this.h,f=this.h[0].length,e=performance.now();(this.s||this.D||this.u||this.G)&&0!==(this.counter&1)&&(d=this.P);W.R&&W.wD&&this.view.i?b=this.O?va.JG(d.o.byteOffset|0,this.Wa.o.byteOffset|0,a.K|0,a.J|0,a.N|0,a.L|0,f|0,this.xa|0,G.sb[6]+128|0):c?va.MG(d.o.byteOffset|0,a.K|0,a.J|0,a.N|0,a.L|0,f|0,this.xa|0):this.u?va.LG(d.o.byteOffset|0,a.K|0,a.J|0,a.N|0,a.L|0,f|0):this.D||this.s||this.G?va.KG(d.o.byteOffset|
0,a.K|0,a.J|0,a.N|0,a.L|0,f|0,this.v|0):va.IG(d.o.byteOffset|0,a.K|0,a.J|0,a.N|0,a.L|0,f|0,this.v|0,this.i|0):b=this.Qn(a);e=performance.now()-e;W.wb&&this.view.C.h("getHash",e,W.R&&W.wD&&this.view.i);return b};pa.prototype.ui=function(a){var b=31415962,c=a.J,d=a.K,f=a.L;a=a.N;var e,g,k=this.h,l=y.xa;for(g=d;g<=a;g+=1){var p=g-d;var n=k[g];for(e=c;e<=f;e+=1)if(n[e]>=l)return b=1000003*b^p,b=1000003*b^e-c,b|0}return b|0};pa.prototype.Qn=function(a){var b=31415962,c=a.J,d=a.K,f=a.L;a=a.N;var e,g,k=
2>=this.i&&!this.D,l=this.h,p=this.Wa,n=y.xa,q=G.sb[6]+128;(this.s||this.D||this.u||this.G)&&0!==(this.counter&1)&&(l=this.P);for(g=d;g<=a;g+=1){var m=g-d;var r=l[g];if(this.O){var u=p[g];for(e=c;e<=f;e+=1)if(r[e]>=n||u[e]===q)b=1000003*b^m,b=1000003*b^e-c,u[e]===q&&(b=1000003*b^6)}else if(k)for(e=c;e<=f;e+=1)r[e]>=n&&(b=1000003*b^m,b=1000003*b^e-c);else if(this.u)for(e=c;e<=f;e+=1){if(r[e]&1||6===r[e])b=1000003*b^m,b=1000003*b^e-c,6===r[e]&&(b=1000003*b^6)}else if(this.D||this.s||this.G)for(e=c;e<=
f;e+=1)u=r[e],u>this.v&&(u-=this.v,b=1000003*b^m,b=1000003*b^e-c,b=1000003*b^u);else for(e=c;e<=f;e+=1)u=r[e],u>this.v&&(u-=this.v,u=this.i-u,b=1000003*b^m,b=1000003*b^e-c,b=1000003*b^u)}return b};pa.prototype.vg=function(a,b){for(var c;0!==b;)c=b,b=a%b,a=c;return a};pa.prototype.Cn=function(a,b){var c="Oblique";if(a>b){var d=a;a=b;b=d}d=this.vg(a,b);a/=d;b/=d;switch(10*a+b){case 12:c+=" Knightwise";break;case 13:c+=" Camelwise";break;case 14:c+=" Giraffewise";break;case 15:c+=" Ibiswise";break;case 16:c+=
" Flamingowise";break;case 23:c+=" Zebrawise";break;case 34:c+=" Antelopewise"}return c};pa.prototype.co=function(a,b){var c=new Ua(0,0,0,0),d,f,e=16384,g=-16384,k=16384,l=-16384;for(d=f=0;d<a;d+=1){var p=this.nc[b+f<<1];var n=p>>16;var q=p&65535;p=this.nc[(b+f<<1)+1];var m=p>>16;p&=65535;m<e&&(e=m);p<k&&(k=p);m+n-1>g&&(g=m+n-1);p+q-1>l&&(l=p+q-1);f+=1}c.J=e;c.K=k;c.L=g;c.N=l;return c};pa.prototype.de=function(a,b){return a===Math.floor(a)?String(a):a.toFixed(b)};pa.prototype.Oj=function(a){var b,
c,d=4283453520,f=4286611584,e=0;var g=[];var k=!1;var l=this.view.h.s;var p=this.displayWidth-120*l;var n=this.displayHeight-90*l;var q=0,m=0,r=this.sc;this.jc||(d=1347440895,f=2155905279);this.ha&&(r+=Math.ceil(this.Sa/2));l=this.Ne=8;p/=(r+2)*l;n/=(this.Sa+2)*l;1<=(p>n?n:p)?(k=!0,e=1):l=this.Ne=1;var u=0;for(p=2;p<this.ab.length-1;p+=1)0<this.ab[p]&&(u+=1);this.dk=u;n=0;for(p=2;p<this.ab.length-1;p+=1)if(0<this.ab[p]){var t=Math.floor(n/u*360);g[p]="hsl("+t+",100%,"+(70-12*(n&3))+"%)";n+=1}g[0]=
"black";g[1]="rgb(168,168,168)";g[this.ab.length-1]="rgb(238,238,238)";this.Jb?(g[-1]="rgb(96,96,96)",p=-1):p=0;for(;p<this.ab.length;){if(-1===p||0===p||0<this.ab[p])this.Pf.fillStyle=g[p],t=this.Pf.fillStyle,n=parseInt(t.substring(1,3),16),u=parseInt(t.substring(3,5),16),t=parseInt(t.substring(5,7),16),this.Pc[p]=this.jc?-16777216|t<<16|u<<8|n:n<<24|u<<16|t<<8|255;p+=1}g=l*(r+2)+e;this.ha&&0===(this.Sa&1)&&(g+=l/2);g|=0;var v=l*(this.Sa+2)+e;this.Hc.width=g;this.Hc.height=v;this.Pf.fillStyle="rgba(0,0,0,0)";
this.Pf.fillRect(0,0,this.Hc.width,this.Hc.height);e=this.Pf.getImageData(0,0,this.Hc.width,this.Hc.height);u=new Uint32Array(e.data.buffer);this.ha&&(m=-l/2,q=(this.Sa>>1)*l-m,0===(this.Sa&1)&&(q+=m));for(n=0;n<this.Sa;n+=1){for(p=0;p<this.sc;p+=1)for(t=this.Nd[n*this.sc+p],t=this.Pc[t],c=0;c<l;c+=1){var B=((n+1)*l+c)*g+(p+1)*l+q;for(b=0;b<l;b+=1)u[B+b|0]=t}q+=m}t=-1!==this.S?f:4278190080;this.ha&&(m=-l/2,q=(this.Sa>>1)*l-m,0===(this.Sa&1)&&(q+=m));q-=m;for(c=0;c<l;c+=1){B=c*g+q;for(p=0;p<(this.sc+
2)*l;p+=1)u[B+p]=t;B+=(this.Sa+1)*l*g-q;for(p=0;p<(this.sc+2)*l;p+=1)u[B+p]=t}q+=m;for(n=0;n<this.Sa;n+=1){for(c=0;c<l;c+=1)for(B=((n+1)*l+c)*g+q,p=B+l*(this.sc+1),b=0;b<l;b+=1)u[B+b]=t,u[p+b]=t;q+=m}if(k){this.ha&&(q=(this.Sa>>1)*l-m+l,0===(this.Sa&1)&&(q+=m));for(n=-1;n<=this.Sa+1;n+=1){q+=m;B=(n+1)*l*g;for(p=q;p<(this.sc+2)*l+1+q;p+=1)0<=p&&(u[B+p]=d);if(this.ha)for(b=0;b<-m;b+=1)p+b<g&&(u[B+p+b]=d)}p=-1;k=this.sc+1;this.ha&&(q=(this.Sa>>1)*l-m,p+=1,k+=1,0===(this.Sa&1)&&(q+=m));for(;p<=k;p+=1)for(f=
0,t=q,n=0;n<(this.Sa+2)*l;n+=1)0===f%l&&(t+=m),f+=1,v=(p+1)*l+t,0<=v&&v<this.Hc.width&&(u[n*g+v]=d)}else{this.ha&&(q=v>>1,m=-.5);k=0;0!==(this.Sa&1)&&(k+=m);B=g*(v-1);for(p=0;p<g-q;p+=1)u[p+q]=d,u[p+B]=d;for(n=0;n<v;n+=1)u[n*g+(q|0)]=d,u[n*g+g-1+(k|0)]=d,q+=m,k+=m}for(p=this.Jb?-1:0;p<this.ab.length;){if(-1===p||0<this.ab[p])t=this.Pc[p],this.jc?(n=t&255,u=t>>8&255,t=t>>16&255):(n=t>>24,u=t>>16&255,t=t>>8&255),this.Pc[p]=n<<16|u<<8|t;p+=1}this.Pf.putImageData(e,0,0);this.sg=r;a.vz()};pa.prototype.Mj=
function(a,b){var c,d,f=4283453520,e=4286611584,g=0;var k=[];var l=!1;var p=this.view.h.s;var n=this.displayWidth-120*p;var q=this.displayHeight-90*p;var m=0,r=0;var u={};var t=new Uint32Array(a);var v=[];var B=this.sc;this.jc||(f=1347440895,e=2155905279);this.ha&&(B+=Math.ceil(this.Sa/2));p=this.Ne=8;n/=(B+2)*p;q/=(this.Sa+2)*p;1<=(n>q?q:n)?(l=!0,g=1):p=this.Ne=1;t.sort();n=t[0];if(1<t.length)for(Oa=1;Oa<t.length;Oa+=1)q=t[Oa],n!==q&&(v[v.length]=n,n=q);else q=n;v[v.length]=q;t=v.length;this.Kf=
new Uint32Array(v);n=0;0===v[n]&&(k[n]="#000000",n+=1);q=v.length-1;v[q]===b&&(k[q]="rgb(168, 168, 168)",--q);for(Oa=n;Oa<=q;Oa+=1)b=Math.floor((Oa-n)/(q-n+1)*360),k[Oa]="hsl("+b+",100%,"+(70-12*(Oa-n&3))+"%)";this.Jb?(k[-1]="rgb(96,96,96)",n=-1):n=0;for(;n<t;){this.Nf.fillStyle=k[n];b=this.Nf.fillStyle;q=parseInt(b.substring(1,3),16);var w=parseInt(b.substring(3,5),16);b=parseInt(b.substring(5,7),16);this.dd[n]=this.jc?-16777216|b<<16|w<<8|q:q<<24|w<<16|b<<8|255;n+=1}for(Oa=0;Oa<v.length;Oa+=1)u[v[Oa]]=
Oa;this.ff=new Uint32Array(v.length);for(Oa=0;Oa<a.length;Oa+=1)this.ff[u[a[Oa]]]+=1;for(Oa=n=0;Oa<this.ff.length;Oa+=1)n+=this.ff[Oa];this.ki=n;k=p*(B+2)+g;this.ha&&0===(this.Sa&1)&&(k+=p/2);k|=0;w=p*(this.Sa+2)+g;this.Oc.width=k;this.Oc.height=w;this.Nf.fillStyle="rgba(0,0,0,0)";this.Nf.fillRect(0,0,this.Oc.width,this.Oc.height);g=this.Nf.getImageData(0,0,this.Oc.width,this.Oc.height);v=new Uint32Array(g.data.buffer);this.ha&&(r=-p/2,m=(this.Sa>>1)*p-r,0===(this.Sa&1)&&(m+=r));for(q=0;q<this.Sa;q+=
1){for(n=0;n<this.sc;n+=1)for(this.Jb&&-1===this.Nd[q*this.sc+n]?b=this.dd[-1]:(b=a[q*this.sc+n],b=this.dd[u[b]]),d=0;d<p;d+=1){var z=((q+1)*p+d)*k+(n+1)*p+m;for(c=0;c<p;c+=1)v[z+c|0]=b}m+=r}b=-1!==this.S?e:4278190080;this.ha&&(r=-p/2,m=(this.Sa>>1)*p-r,0===(this.Sa&1)&&(m+=r));m-=r;for(d=0;d<p;d+=1){z=d*k+m;for(n=0;n<(this.sc+2)*p;n+=1)v[z+n]=b;z+=(this.Sa+1)*p*k-m;for(n=0;n<(this.sc+2)*p;n+=1)v[z+n]=b}m+=r;for(q=0;q<this.Sa;q+=1){for(d=0;d<p;d+=1)for(z=((q+1)*p+d)*k+m,n=z+p*(this.sc+1),c=0;c<p;c+=
1)v[z+c]=b,v[n+c]=b;m+=r}if(l){this.ha&&(m=(this.Sa>>1)*p-r+p,0===(this.Sa&1)&&(m+=r));for(q=-1;q<=this.Sa+1;q+=1){m+=r;z=(q+1)*p*k;for(n=m;n<(this.sc+2)*p+1+m;n+=1)0<=n&&(v[z+n]=f);if(this.ha)for(c=0;c<-r;c+=1)n+c<k&&(v[z+n+c]=f)}n=-1;l=this.sc+1;this.ha&&(m=(this.Sa>>1)*p-r,n+=1,l+=1,0===(this.Sa&1)&&(m+=r));for(;n<=l;n+=1)for(a=0,e=m,q=0;q<(this.Sa+2)*p;q+=1)0===a%p&&(e+=r),a+=1,u=(n+1)*p+e,0<=u&&u<this.Hc.width&&(v[q*k+u]=f)}else{this.ha&&(m=w>>1,r=-.5);l=0;0!==(this.Sa&1)&&(l+=r);z=k*(w-1);for(n=
0;n<k-m;n+=1)v[n+m]=f,v[n+z]=f;for(q=0;q<w;q+=1)v[q*k+(m|0)]=f,v[q*k+k-1+(l|0)]=f,m+=r,l+=r}for(n=this.Jb?-1:0;n<t;)b=this.dd[n],this.jc?(q=b&255,w=b>>8&255,b=b>>16&255):(q=b>>24,w=b>>16&255,b=b>>8&255),this.dd[n]=q<<16|w<<8|b,n+=1;this.Nf.putImageData(g,0,0);this.sg=B;this.rj=t};pa.prototype.Sc=function(a,b,c,d,f){var e=this.oa;var g=e.measureText(a).width;e.fillText(a,c+b-g+f,d+f);return c+b};pa.prototype.Pm=function(a){var b=this.view.h.s,c=24*b,d=a.D+a.height,f=0;if(this.ab){for(a=this.ab.length-
1;0<a;--a){var e=this.ab[a];0<e&&(f+=1)}this.Bc=d+(c>>1)+(f+1)*c>this.displayHeight-160*b?f-1:0}this.Na=0};pa.prototype.Km=function(a){var b=this.view.h.s,c=24*b;a=a.D+a.height;if(this.Kf){var d=this.Kf.length;this.Bc=a+(c>>1)+(d+1)*c>this.displayHeight-160*b?d-1:0}this.Na=0};pa.prototype.Ml=function(){0!==this.Bc&&(this.Na=0)};pa.prototype.Ll=function(){0!==this.Bc&&(this.Na=this.Bc-this.Ec)};pa.prototype.Ol=function(){0<this.Na&&(this.Na-=this.Ec,0>this.Na&&(this.Na=0))};pa.prototype.Nl=function(){this.Na<
this.Bc-this.Ec&&(this.Na+=this.Ec,this.Na>this.Bc-this.Ec&&(this.Na=this.Bc-this.Ec))};pa.prototype.kn=function(a){var b=0,c=2,d=this.view.h.s;var f=a.y+a.height;var e=a.width;var g=a.s;var k=a.dc;var l=a.A;a=24*d;var p=16*d,n=(e>>2)-1,q=this.displayWidth-e>>1,m=this.oa;m.fillStyle=k;m.globalAlpha=g;var r=a;for(g=this.ab.length-1;0<g;--g){var u=this.ab[g];0<u&&r+f<this.displayHeight-80*d&&(r+=a)}m.fillRect(q,f,e,r);m.font=(20*d|0)+"px Arial";m.globalAlpha=1;m.fillStyle=k;r=f+(a>>1);for(e=0;2>e;e+=
1){k=q;k=this.Sc("Period",n,k,r,c);k=this.Sc("Count",n,k,r,c);k=this.Sc("% Total",n,k,r,c);this.Sc("% Rotor",n,k,r,c);r+=a;b=0;for(g=this.ab.length-1;0<g;--g)u=this.ab[g],0<u&&r<this.displayHeight-80*d&&(b>=(this.Na|0)&&(k=q,k=this.Sc(String(g),n,k,r,c),k=this.Sc(String(u),n,k,r,c),k=this.Sc((Math.floor(1E4*u/this.Mg)/100).toFixed(2)+"%",n,k,r,c),1<g&&this.Sc((Math.floor(1E4*u/this.Ri)/100).toFixed(2)+"%",n,k,r,c),r+=a),b+=1);r=f+(a>>1);c=0;m.fillStyle=l}f=b;b=0;c=28*d>>1;for(g=this.ab.length-1;0<
g;--g)u=this.ab[g],0<u&&b<f&&(b>=(this.Na|0)&&(m.fillStyle=this.view.C.dc,m.fillRect(q+(p>>1)+2,r+c+2,p,p),m.fillStyle="#"+("000000"+this.Pc[g].toString(16)).slice(-6),m.fillRect(q+(p>>1),r+c,p,p),r+=a),b+=1);0===this.Na&&(this.Ec=f-1)};pa.prototype.fn=function(a){var b=0,c=2,d=this.view.h.s;var f=a.y+a.height;var e=a.width;var g=a.s;var k=a.dc;var l=a.A;a=24*d;var p=16*d,n=this.rj,q=(e>>2)-1,m=this.displayWidth-e>>1,r=this.oa;r.fillStyle=k;r.globalAlpha=g;var u=a;for(g=n-1;0<=g;--g)u+f<this.displayHeight-
80*d&&(u+=a);r.fillRect(m,f,e,u);r.font=(20*d|0)+"px Arial";r.globalAlpha=1;r.fillStyle=k;u=f+(a>>1);for(e=0;2>e;e+=1){var t=m;t=this.Sc("Frequency",q,t,u,c);t=this.Sc("Count",q,t,u,c);this.Sc("% Total",q,t,u,c);u+=a;b=0;for(g=n-1;0<=g;--g)k=this.Kf[g],u<this.displayHeight-80*d&&(b>=(this.Na|0)&&(t=m,t=this.Sc(String(k),q,t,u,c),t=this.Sc(String(this.ff[g]),q,t,u,c),this.Sc(String((100*this.ff[g]/this.ki).toFixed(2))+"%",q,t,u,c),u+=a),b+=1);u=f+(a>>1);c=0;r.fillStyle=l}f=b;b=0;c=28*d>>1;for(g=n-
1;0<=g;--g)b<f&&(b>=(this.Na|0)&&(r.fillStyle=this.view.C.dc,r.fillRect(m+(p>>1)+2,u+c+2,p,p),r.fillStyle="#"+("000000"+this.dd[g].toString(16)).slice(-6),r.fillRect(m+(p>>1),u+c,p,p),u+=a),b+=1);0===this.Na&&(this.Ec=f-1)};pa.prototype.hn=function(a){var b=this.view.h.s,c=50*b,d=15*b,f=16*b,e=.7*d|0;var g=this.displayHeight-90*b;var k=this.dk;var l=this.Ne;var p=1,n=a.s,q=a.A;a=a.dc;var m=this.oa,r=80*b;var u=this.uh();var t=(this.displayWidth-b*(c+c+20))/((this.sg+2)*l);l=g/((this.Sa+2)*l);t=t>
l?l:t;1<=t&&(t|=0);l=this.Hc.height*t;m.save();m.translate(this.displayWidth>>1,this.displayHeight>>1);1<u&&l*u>g-160?m.scale(t/u,t):m.scale(t,t*u);m.imageSmoothingEnabled=1>t||1>=t*u||1>t/u?!0:!1;m.drawImage(this.Hc,-(this.Hc.width>>1),-(this.Hc.height>>1));m.imageSmoothingEnabled=!1;m.restore();u=55*b;m.font=(11*b|0)+"px Arial";0===this.ab[this.ab.length-1]&&--k;0===this.ab[1]&&--k;this.Jb&&(k+=1);l=0;for(t=this.ab.length-1;0<t;--t)g=this.ab[t],0<g&&t>l&&(l=t);var v=m.measureText(String(l)+" ").width;
this.Jb&&(l=this.G?m.measureText(y.$o+" ").width:m.measureText(y.ap+" ").width,l>v&&(v=l));l=0;for(t=this.ab.length-1;0<t;--t)g=this.ab[t],0<g&&(r+l*d+2+b>this.displayHeight-2*r&&(l=0,p+=1),l+=1);var B=1<p?r:this.displayHeight-(r+(l-1)*d+2+b)>>1;m.globalAlpha=n;m.fillStyle=a;1<p?m.fillRect(u-c-2,B-2,e+v+8*b,this.displayHeight-2*r+d/2):m.fillRect(u-c-2,B-2,e+v+8*b,(k+2)*d+3*b);m.globalAlpha=1;k=l=0;this.Jb&&k>=(this.Na|0)&&(m.fillStyle=this.view.C.dc,m.fillRect(u-c+2,B+l+2,e,e),m.fillStyle="#"+("000000"+
this.Pc[-1].toString(16)).slice(-6),m.fillRect(u-c,B+l,e,e),this.G?(m.fillStyle=a,m.fillText(y.$o,u-c+f+2,B+l+2+7*b),m.fillStyle=q,m.fillText(y.$o,u-c+f,B+l+7*b)):(m.fillStyle=a,m.fillText(y.ap,u-c+f+2,B+l+2+7*b),m.fillStyle=q,m.fillText(y.ap,u-c+f,B+l+7*b)),l+=d,k+=1);for(t=this.ab.length-1;0<t;--t)g=this.ab[t],0<g&&l<this.displayHeight-2*r*b&&(k>=(this.Na|0)&&(m.fillStyle=this.view.C.dc,m.fillRect(u-c+2,B+l+2+b,e,e),m.fillStyle="#"+("000000"+this.Pc[t].toString(16)).slice(-6),m.fillRect(u-c,B+l+
b,e,e),m.fillStyle=a,m.fillText(String(t),u-c+f+2,B+l+2+7*b),m.fillStyle=q,m.fillText(String(t),u-c+f,B+l+7*b),l+=d),k+=1);0===this.Na&&(this.Ec=k-1)};pa.prototype.dn=function(a){var b=this.view.h.s,c=50*b,d=15*b,f=16*b,e=.7*d|0,g=this.displayHeight-90*b;var k=this.Ne;var l=1;var p=a.s,n=a.A;a=a.dc;var q=this.oa,m=80*b,r=this.Kf;var u=this.uh();var t=(this.displayWidth-b*(c+c+20))/((this.sg+2)*k);k=g/((this.Sa+2)*k);t=t>k?k:t;1<=t&&(t|=0);k=this.Oc.height*t;q.save();q.translate(this.displayWidth>>
1,this.displayHeight>>1);1<u&&k*u>g-160?q.scale(t/u,t):q.scale(t,t*u);q.imageSmoothingEnabled=1>t||1>=t*u||1>t/u?!0:!1;q.drawImage(this.Oc,-(this.Oc.width>>1),-(this.Oc.height>>1));q.imageSmoothingEnabled=!1;q.restore();g=55*b;q.font=(11*b|0)+"px Arial";var v=q.measureText(String(r[r.length-1])+" ").width;this.Jb&&(k=this.G?q.measureText(y.$o+" ").width:q.measureText(y.ap+" ").width,k>v&&(v=k));var B=r.length;this.Jb&&(B+=1);k=0;for(t=B-1;0<=t;--t)m+k*d+2+b>this.displayHeight-2*m&&(k=0,l+=1),k+=1;
u=1<l?m:this.displayHeight-(m+(k-1)*d+2+b)>>1;q.globalAlpha=p;q.fillStyle=a;1<l?q.fillRect(g-c-2,u-2,e+v+8*b,this.displayHeight-2*m+d/2):q.fillRect(g-c-2,u-2,e+v+8*b,B*d+3*b);q.globalAlpha=1;l=k=0;this.Jb&&(q.fillStyle=this.view.C.dc,q.fillRect(g-c+2,u+k+2,e,e),q.fillStyle="#"+("000000"+this.Pc[-1].toString(16)).slice(-6),q.fillRect(g-c,u+k,e,e),this.G?(q.fillStyle=a,q.fillText(y.$o,g-c+f+2,u+k+2+7*b),q.fillStyle=n,q.fillText(y.$o,g-c+f,u+k+7*b)):(q.fillStyle=a,q.fillText(y.ap,g-c+f+2,u+k+2+7*b),
q.fillStyle=n,q.fillText(y.ap,g-c+f,u+k+7*b)),k+=d,l+=1,--B);for(t=B-1;0<=t;--t)k<this.displayHeight-2*m*b&&(l>=(this.Na|0)&&(q.fillStyle=this.view.C.dc,q.fillRect(g-c+2,u+k+2+b,e,e),q.fillStyle="#"+("000000"+this.dd[t].toString(16)).slice(-6),q.fillRect(g-c,u+k+b,e,e),q.fillStyle=a,q.fillText(String(r[t]),g-c+f+2,u+k+2+7*b),q.fillStyle=n,q.fillText(String(r[t]),g-c+f,u+k+7*b),k+=d),l+=1);0===this.Na&&(this.Ec=l-1)};pa.prototype.Bp=function(a,b){var c,d=this.h,f=this.Gh,e,g,k,l,p=y.xa,n=this.De;var q=
this.I;var m=this.F>>4;var r=0;var u=q,t=y.Kk;0>r&&(r=0);u>q&&(u=q);q=r<<4;var v=q+16;for(e=r;e<u;e+=1){var B=0;var w=b[e];for(g=0;g<m;g+=1)if(l=w[g])for(k=15;0<=k;--k){if(0!==(l&1<<k))for(r=q;r<v;){var z=d[r];var E=f[r];if(0===a)for(c=B;c<B+16;)z[c]>=p&&(E[c]=t),c+=1,z[c]>=p&&(E[c]=t),c+=1,z[c]>=p&&(E[c]=t),c+=1,z[c]>=p&&(E[c]=t),c+=1;else c=B,E[c]=n[(z[c]&64)+E[c]],c+=1,E[c]=n[(z[c]&64)+E[c]],c+=1,E[c]=n[(z[c]&64)+E[c]],c+=1,E[c]=n[(z[c]&64)+E[c]],c+=1,E[c]=n[(z[c]&64)+E[c]],c+=1,E[c]=n[(z[c]&64)+
E[c]],c+=1,E[c]=n[(z[c]&64)+E[c]],c+=1,E[c]=n[(z[c]&64)+E[c]],c+=1,E[c]=n[(z[c]&64)+E[c]],c+=1,E[c]=n[(z[c]&64)+E[c]],c+=1,E[c]=n[(z[c]&64)+E[c]],c+=1,E[c]=n[(z[c]&64)+E[c]],c+=1,E[c]=n[(z[c]&64)+E[c]],c+=1,E[c]=n[(z[c]&64)+E[c]],c+=1,E[c]=n[(z[c]&64)+E[c]],c+=1,E[c]=n[(z[c]&64)+E[c]];r+=1}B+=16}else B+=256;q+=16;v+=16}};pa.prototype.zp=function(a,b){var c=a.J,d=a.K,f=a.L;a=a.N;var e,g=this.h,k=this.Gh,l=this.We,p=y.xa,n=2>=this.i&&!this.D,q=y.Kk,m=y.Hp,r=y.Ui;(this.s||this.D||this.u||this.G)&&0!==
(this.counter&1)&&(g=this.P);for(e=d;e<=a;e+=1){var u=g[e];var t=k[e];if(n)if(0===b)for(d=c;d<=f;d+=1)u[d]>=p&&(t[d]=q);else for(d=c;d<=f;d+=1)u[d]>=p?t[d]===m&&(t[d]=r):t[d]===q&&(t[d]=r);else if(this.s)if(0===b)for(d=c;d<=f;d+=1){var v=u[d];v=v>this.v?v-this.v:0;var B=0;0!==(v&1)&&(B=q);var w=0;0!==(v&2)&&(w=q);var z=0;0!==(v&4)&&(z=q);var E=0;0!==(v&8)&&(E=q);t[d]=B|w<<2|z<<4|E<<6}else for(d=c;d<=f;d+=1)E=t[d],v=u[d],v=v>this.v?v-this.v:0,B=E&3,0!==(v&1)?B===m&&(B=r):B===q&&(B=r),w=E>>2&3,0!==
(v&2)?w===m&&(w=r):w===q&&(w=r),z=E>>4&3,0!==(v&4)?z===m&&(z=r):z===q&&(z=r),E=E>>6&3,0!==(v&8)?E===m&&(E=r):E===q&&(E=r),t[d]=B|w<<2|z<<4|E<<6;else if(this.u)for(v=l[e],d=c;d<=f;d+=1)0===b?(v[d]=u[d]&1,u[d]&1&&(t[d]=q)):u[d]&1?t[d]===m?t[d]=r:(u[d]&1)!==v[d]&&(t[d]=r):t[d]===q&&(t[d]=r);else if(this.G)for(v=l[e],d=c;d<=f;d+=1)B=0<u[c],0===b?B?(v[d]=1,t[d]=q):v[d]=0:B?t[d]===m?t[d]=r:0===v[d]&&(t[d]=r):t[d]===q&&(t[d]=r);else for(v=l[e],d=c;d<=f;d+=1)0===b?(v[d]=u[d],u[d]>this.v&&(t[d]=q)):u[d]>this.v?
t[d]===m?t[d]=r:u[d]!==v[d]&&(t[d]=r):t[d]===q&&(t[d]=r)}};pa.prototype.yp=function(a,b){var c=this.Wf.o,d=this.m.o,f=this.Jg.o;if(-1===this.i||this.Da&&2===this.i){for(a=0;a<c.length;a+=1)c[a]=d[a]|f[a];this.Bp(b,this.Wf);f.set(d.subarray(0))}else this.zp(a,b)};pa.prototype.Ly=function(a,b,c){var d=performance.now();if(W.R&&W.AD&&this.view.i&&!this.G){if(this.u||this.G||this.D)b=this.h,0!==(this.counter&1)&&(b=this.P);this.u||this.D?va.YJ(b.o.byteOffset|0,c.byteOffset|0,a.K|0,a.J|0,a.N|0,a.L|0,b[0].length|
0):va.Ly(b.o.byteOffset|0,c.byteOffset|0,a.K|0,a.J|0,a.N|0,a.L|0,b[0].length|0,this.xa|0)}else this.wp(a,b,c);W.wb&&(d=performance.now()-d,this.view.C.h("updateCounts",d,W.R&&W.AD&&this.view.i))};pa.prototype.wp=function(a,b,c){var d,f,e=0,g,k=y.xa;if(this.u||this.G||this.D)b=this.h,0!==(this.counter&1)&&(b=this.P);for(f=a.K;f<=a.N;f+=1){var l=b[f];if(this.u||this.D)for(d=a.J;d<=a.L;d+=1)l[d]&1&&(c[e]+=1),e+=1;else if(this.G)for(d=a.J;d<=a.L;d+=1){if(g=l[d])switch(g){case 3:--this.B;break;case 6:this.na+=
1;c[e]+=1;break;case 7:--this.B;this.ga+=1;break;case 10:this.na+=1;c[e]+=1;break;case 11:--this.B;this.ga+=1;break;case 12:this.na+=1;c[e]+=1;break;case 13:--this.B;this.ga+=1;break;case 19:this.na+=1;c[e]+=1;break;case 20:--this.B;this.ga+=1;break;default:c[e]+=1}e+=1}else for(d=a.J;d<=a.L;d+=1)l[d]>=k&&(c[e]+=1),e+=1}};pa.prototype.My=function(a,b,c,d,f,e,g){var k=performance.now();if(this.u||this.G||this.D)b=this.h,0!==(this.counter&1)&&(b=this.P);W.R&&W.CD&&this.view.i&&!this.G?this.u||this.D?
va.aK(b.o.byteOffset|0,c.byteOffset|0,a.K|0,a.J|0,a.N|0,a.L|0,d|0,f|0,e|0,g|0,b[0].length|0):va.My(b.o.byteOffset|0,c.byteOffset|0,a.K|0,a.J|0,a.N|0,a.L|0,d|0,f|0,e|0,g|0,this.xa|0,b[0].length|0):this.Cp(a,b,c,d,f,e,g);W.wb&&(k=performance.now()-k,this.view.C.h("updateOccupancy",k,W.R&&W.CD&&this.view.i))};pa.prototype.Cp=function(a,b,c,d,f,e,g){var k,l=y.xa;if(this.u||this.G||this.D)b=this.h,0!==(this.counter&1)&&(b=this.P);var p=d*e;for(e=a.K;e<=a.N;e+=1){var n=b[e];var q=(e-a.K)*f+p;var m=g;if(this.u||
this.D){d=a.J;for(k=0;d<=a.L-16;)n[d]&1&&(k|=m),m>>=1,d+=1,n[d]&1&&(k|=m),m>>=1,d+=1,n[d]&1&&(k|=m),m>>=1,d+=1,n[d]&1&&(k|=m),m>>=1,d+=1,n[d]&1&&(k|=m),m>>=1,d+=1,n[d]&1&&(k|=m),m>>=1,d+=1,n[d]&1&&(k|=m),m>>=1,d+=1,n[d]&1&&(k|=m),m>>=1,d+=1,n[d]&1&&(k|=m),m>>=1,d+=1,n[d]&1&&(k|=m),m>>=1,d+=1,n[d]&1&&(k|=m),m>>=1,d+=1,n[d]&1&&(k|=m),m>>=1,d+=1,n[d]&1&&(k|=m),m>>=1,d+=1,n[d]&1&&(k|=m),m>>=1,d+=1,n[d]&1&&(k|=m),m>>=1,d+=1,n[d]&1&&(k|=m),d+=1,0!==k&&(c[q]=k,k=0),m=g,q+=1;for(;d<=a.L;)n[d]&1&&(k|=m),m>>=
1,d+=1}else if(this.G){d=a.J;for(k=0;d<=a.L-16;)n[d]&&(k|=m),m>>=1,d+=1,n[d]&&(k|=m),m>>=1,d+=1,n[d]&&(k|=m),m>>=1,d+=1,n[d]&&(k|=m),m>>=1,d+=1,n[d]&&(k|=m),m>>=1,d+=1,n[d]&&(k|=m),m>>=1,d+=1,n[d]&&(k|=m),m>>=1,d+=1,n[d]&&(k|=m),m>>=1,d+=1,n[d]&&(k|=m),m>>=1,d+=1,n[d]&&(k|=m),m>>=1,d+=1,n[d]&&(k|=m),m>>=1,d+=1,n[d]&&(k|=m),m>>=1,d+=1,n[d]&&(k|=m),m>>=1,d+=1,n[d]&&(k|=m),m>>=1,d+=1,n[d]&&(k|=m),m>>=1,d+=1,n[d]&&(k|=m),d+=1,0!==k&&(c[q]=k,k=0),m=g,q+=1;for(;d<=a.L;)n[d]&&(k|=m),m>>=1,d+=1}else{d=a.J;
for(k=0;d<=a.L-16;)n[d]>=l&&(k|=m),m>>=1,d+=1,n[d]>=l&&(k|=m),m>>=1,d+=1,n[d]>=l&&(k|=m),m>>=1,d+=1,n[d]>=l&&(k|=m),m>>=1,d+=1,n[d]>=l&&(k|=m),m>>=1,d+=1,n[d]>=l&&(k|=m),m>>=1,d+=1,n[d]>=l&&(k|=m),m>>=1,d+=1,n[d]>=l&&(k|=m),m>>=1,d+=1,n[d]>=l&&(k|=m),m>>=1,d+=1,n[d]>=l&&(k|=m),m>>=1,d+=1,n[d]>=l&&(k|=m),m>>=1,d+=1,n[d]>=l&&(k|=m),m>>=1,d+=1,n[d]>=l&&(k|=m),m>>=1,d+=1,n[d]>=l&&(k|=m),m>>=1,d+=1,n[d]>=l&&(k|=m),m>>=1,d+=1,n[d]>=l&&(k|=m),d+=1,0!==k&&(c[q]=k,k=0),m=g,q+=1;for(;d<=a.L;)n[d]>=l&&(k|=m),
m>>=1,d+=1}0!==k&&(c[q]=k)}};pa.prototype.gm=function(a,b,c,d,f,e,g,k,l){var p,n,q,m;for(p=1;p<=b/2;p+=1)if(0===b%p){var r=b-p;var u=r*g;var t=p*g;var v=b/p;for(q=0;q<e;q+=1){var B=q*f;r=q*k;var w=l;for(n=0;n<f;n+=1){var z=B+n;if(a[z]===b&&!(d[z]%v)){var E=(n>>4)+r;for(m=E+u;E<m&&!((c[E]^c[E+t])&w);)E+=g;E===m&&(a[z]=p)}w=(w>>1|w<<15)&65535}}}};pa.prototype.Gl=function(a,b,c){var d=a.J,f=a.K,e=a.L;a=a.N;var g,k,l=G.sb[6]+128;this.Jb=0;for(k=f;k<=a;k+=1){var p=c[k];var n=(k-f)*(e-d+1);for(g=d;g<=e;g+=
1)p[g]===l&&(b[n+g-d]=-1,this.Jb+=1)}};pa.prototype.Il=function(a,b,c){var d=a.J,f=a.K,e=a.L;a=a.N;var g,k;this.Jb=0;for(k=f;k<=a;k+=1){var l=c[k];var p=(k-f)*(e-d+1);for(g=d;g<=e;g+=1)6===l[g]&&(b[p+g-d]=-1,this.Jb+=1)}};pa.prototype.Fl=function(a,b,c){var d=a.J,f=a.K,e=a.L;a=a.N;var g,k;this.Jb=0;for(k=f;k<=a;k+=1){var l=c[k];var p=(k-f)*(e-d+1);for(g=d;g<=e;g+=1)3===l[g]&&(b[p+g-d]=-1,this.Jb+=1)}};pa.prototype.qk=function(){var a=this.Da?this.ya:this.A,b=this.oj,c=this.Li,d=this.ja?-1:0;this.u&&
(a=this.He);-1!==this.S?(c.J=Math.round((this.width-this.ba)/2)+d,c.K=Math.round((this.height-this.$)/2)+d,c.L=c.J+this.ba-1,c.N=c.K+this.$-1):(c.set(a),(this.u||this.O)&&c.h(b));return this.Li};pa.prototype.Fj=function(a,b,c,d,f,e){var g=0,k=0,l=!1,p=null,n=null,q=this.h,m=new Uint32Array(a+1),r=null,u=0,t=0,v=0,B,w,z=B=w=0,E=0,H=0,L=0,N=0,M=0,V=0,X=0,I=0,R=0,P=0,S=[];var Z=W.R?this.T.H():y.QH;var qa=this.T.Aj;this.Ck=(performance.now()-this.Mi)/1E3;(this.s||this.D||this.u||this.G)&&0!==(this.counter&
1)&&(q=this.P);b=this.co(a,b);d&&(2>=this.i||this.u||this.G)&&(u=b.L-b.J+1,t=b.N-b.K+1,g=(u-1>>4)+1,k=g*t,2*k*a<=Z&&(p=this.T.h(ra.Xa,a*k,"Life.bitFrames",W.R),r=this.T.h(ra.Pd,u*t,"Life.cellPeriods",!1),n=this.T.h(ra.lc,u*t,"Life.cellCounts",W.R),w=8*p.BYTES_PER_ELEMENT-1,w=1<<w,l=!0));l||(this.Gh.o.fill(y.Hp),this.Jg=Array.matrix(ra.Xa,this.I,(this.F-1>>4)+1,0,this.T,"Life.occTileMap",!1),this.Wf=Array.matrix(ra.Xa,this.I,(this.F-1>>4)+1,0,this.T,"Life.occMergedTileMap",!1));performance.now();this.Vf=
268435456;for(Z=this.vh=this.Dg=0;Z<=a+1;Z+=1){c.si();d||(b=this.qk());if(c.El){-1===c.Db&&(c.Db=this.counter);return}this.counter&&0<this.B&&!d&&(c.Ub.J=b.J,c.Ub.K=b.K,c.Ub.L=b.L,c.Ub.N=b.N,c.Ak(c,c.Ub));l?Z<a&&(this.Ly(b,q,n),this.My(b,q,p,Z,g,k,w)):this.yp(b,Z);0===Z?(B=this.sh(b),z=b.L-b.J+1,E=b.N-b.K+1,H=this.ui(b)):1===Z?(L=this.sh(b),N=b.L-b.J+1,M=b.N-b.K+1,V=this.ui(b)):2===Z&&this.ja&&B===L&&(X=this.sh(b),I=b.L-b.J+1,R=b.N-b.K+1,P=this.ui(b));if(!this.ha&&!this.Z&&-1===this.gd){for(;-1===
this.gd&&0<S.length&&S[0].i===Z;){if(this.ja&&B===L){var ha=I;var ca=R;var ia=2;var na=X;var ja=P}else ha=N,ca=M,ia=1,na=L,ja=V;if(b.L-b.J+1===ha&&b.N-b.K+1===ca||b.L-b.J+1===ca&&b.N-b.K+1===ha)performance.now(),this.kg=this.Rl(b,na,S[0].h,f,e,a/(Z-ia),ja),performance.now(),this.gd=-1!==this.kg?Z-ia:-1;S.shift()}-1===this.gd&&0<Z&&0===a%Z&&(b.L-b.J+1===z&&b.N-b.K+1===E||b.L-b.J+1===E&&b.N-b.K+1===z)&&(performance.now(),ha=this.fk(b,B,f,e,H),performance.now(),0===ha||this.ja&&B===L&&2>Z||(S[S.length]=
this.ja&&B===L?new mc(Z+2,ha):new mc(Z+1,ha)))}Z<a&&(ha=this.na+this.ga,ha<this.Vf&&(this.Vf=ha),ha>this.Dg&&(this.Dg=ha),this.vh+=ha,this.Xf[Z]=this.B,this.nc[Z<<1]=b.L-b.J+1<<16|b.N-b.K+1,this.nc[(Z<<1)+1]=b.J<<16|b.K)}performance.now();performance.now();if(l){performance.now();for(e=0;e<t;e+=1)for(B=e*u,f=0;f<u;f+=1)n[B+f]&&(r[B+f]=a,v+=1);performance.now();performance.now();this.gm(r,a,p,n,u,t,k,g,w);performance.now();performance.now();for(e=0;e<t;e+=1)for(B=e*u,f=0;f<u;f+=1)(Z=r[B+f])&&(m[Z]+=
1);performance.now();d&&(this.Jb=0,this.O&&this.Gl(b,r,this.Wa),this.u&&this.Il(b,r,q),this.G&&this.Fl(b,r,q));Z=m[a]/v;this.qj=this.de(Z,2);this.ab=m;this.Mg=v;this.Nd=r;this.sc=this.sg=u;this.Sa=t;this.ck=n;performance.now();this.Oj(c);performance.now();performance.now();this.Mj(n,a);performance.now()}else this.ab=null;this.Dk=(performance.now()-this.Mi)/1E3;this.T.O(qa)};pa.prototype.Co=function(a,b,c,d,f,e,g,k){var l="",p=String(this.counter-d),n="",q="",m=268435457,r=0,u=16384,t=0,v=16384,B=
0,w=276627456,z=0,E=0,H=0,L=0,N=0,M=0,V="",X="",I="",R=this.Gh,P=0,S=0,Z="",qa="",ha="";0<d&&(p+=" and "+this.counter);var ca=f;var ia=e;f=Math.abs(f);e=Math.abs(e);if(0<f||0<e){var na="Spaceship";0===f||0===e?q="0":(f>e?(q=f,n=e):(q=e,n=f),l=this.vg(q,n),q=String(q/l),1!==n/l&&(q+="/"+String(n/l)));if(f===e||0===f||0===e)if(n=f===e&&0!==f?"Diagonal":"Orthogonal",0===f&&(f=e),1<f)if(1===d)l=f+"c";else{l=this.vg(f,d);var ja=f/l;var U=d/l;1!==l?(l=1===ja?"c":ja+"c",1<U&&(l+="/"+U),l+=" | "+f+"c/"+d):
l=f+"c/"+d}else l="c",1<d&&(l+="/"+d);else l=this.vg(f,this.vg(e,d)),ja=f/l,n=e/l,U=d/l,1!==l?(l=ja>n?"("+ja+","+n+")c":"("+n+","+ja+")c",1<U&&(l+="/"+U),l=f>e?l+(" | ("+f+","+e+")c"):l+(" | ("+e+","+f+")c")):l=f>e?"("+f+","+e+")c":"("+e+","+f+")c",1<d&&(l+="/"+d),n=this.Cn(f,e);this.Fj(d,b,a,!1,ca,ia)}else 1===d||2===d&&this.ja&&this.ve[0]===this.ve[1]?na="Still Life":(na="Oscillator",this.Fj(d,b,a,!0,0,0));if(0===this.B)return this.s||this.ja?["Life ended at generation "+(this.Xb+a.Ha),"Empty"]:
["Life ended at generation "+(this.counter+a.Ha),"Empty"];e=f=0;this.yh="";if("Still Life"===na)a=String(this.B);else{for(b=ia=0;b<d;b+=1)ca=this.Xf[b],ia+=ca,ca<m&&(m=ca,f=(b+1)%d),ca>r&&(r=ca,e=(b+1)%d);m===r?a=String(r):(a=String(m)+" | "+String(r)+" | "+this.de(ia/d,1),this.yh=String(m)+" @ T"+f+" | "+String(r)+" @ T"+e)}e=f=0;this.xh="";if("Still Life"!==na)if("Spaceship"===na)for(b=0;b<d;b+=1)ca=this.nc[b<<1],m=ca>>16,r=ca&65535,m>g&&(g=m),r>k&&(k=r),m*r<w&&(w=m*r,E=m,H=r,f=(b+1)%d),m*r>z&&
(z=m*r,L=m,N=r,e=(b+1)%d);else{for(b=0;b<d;b+=1)ca=this.nc[b<<1],m=ca>>16,r=ca&65535,ca=this.nc[(b<<1)+1],g=ca>>16,k=ca&65535,g<u&&(u=g),k<v&&(v=k),g+m-1>t&&(t=g+m-1),k+r-1>B&&(B=k+r-1),m*r<w&&(w=m*r,E=m,H=r,f=(b+1)%d),m*r>z&&(z=m*r,L=m,N=r,e=(b+1)%d);g=t-u+1;k=B-v+1}b=String(g+" x "+k+" = "+g*k);if(E!==L||H!==N)this.xh=String(E+" x "+H+" = "+w+" @ T"+f+" | "+L+" x "+N+" = "+z+" @ T"+e);0<d&&(this.Vf===this.Dg?(M=this.Vf,V=String(M.toFixed(1))):(M=this.vh/d,V=this.de(this.Vf,1)+" | "+this.de(this.Dg,
1)+" | "+this.de(M,1)));if("Oscillator"===na){if(this.ab)P=this.Mg-this.ab[1],S=this.ab[1];else for(w=v;w<=B;w+=1)if(X=R[w],this.s)for(v=u;v<=t;v+=1)I=X[v],(I&3)===y.Ui?P+=1:(I&3)===y.Kk&&(S+=1),I>>=2,(I&3)===y.Ui?P+=1:(I&3)===y.Kk&&(S+=1),I>>=2,(I&3)===y.Ui?P+=1:(I&3)===y.Kk&&(S+=1),I>>=2,(I&3)===y.Ui?P+=1:(I&3)===y.Kk&&(S+=1);else for(v=u;v<=t;v+=1)X[v]===y.Ui?P+=1:X[v]===y.Kk&&(S+=1);X=this.de(P/(P+S),2);I=this.qj;this.Ri=P}this.Bk=P===g*k?!0:!1;"Oscillator"===na&&(qa=0===P?this.de(M/(P+S),2)+
" | "+this.de(0,2):this.de(M/(P+S),2)+" | "+this.de(M/P,2));u=String(P+" | "+S+" | "+(P+S));this.ha||this.Z||(0>=this.gd?(this.gd=d,Z=String(this.gd)):Z=0===d%this.gd&&d!==this.gd?String(this.gd)+" ("+y.YH[this.kg]+")":String(this.gd));"Still Life"===na&&(ia=this.B/(g*k),this.s&&(ia/=4),ha=1===ia?String(ia):ia.toFixed(3));return[c,na,n,l,b,p,a,q,d,V,X,I,Z,u,qa,ha]};pa.prototype.sp=function(a,b,c,d,f,e){var g=!1;a===b/2&&(g=0===c?0===d&&a/b===f/e:0===f?0===e&&a/b===c/d:a/b===c/d&&a/b===f/e);return g};
pa.prototype.Hl=function(a,b,c,d,f){this.ve[this.oc]=a;this.Zi[this.oc]=this.counter;this.Xf[this.oc]=this.B;this.nc[this.oc<<1]=b;this.nc[(this.oc<<1)+1]=c<<16|d;this.Ye[this.oc]=-1;-1===this.cg?this.cg=0:-1===f?this.cg=this.oc:this.Ye[f]=this.oc};pa.prototype.tn=function(a){var b=this.qk(),c=b.J,d=b.K,f=b.L-c+1,e=b.N-d+1,g=!1,k=-1,l=-1,p=-1,n=f<<16|e,q=c<<16|d,m=!1,r,u=0,t=0,v="",B=[];if(-1!==this.Ve)return--this.Ve,-1===this.Ve&&(this.Ek=this.Xd[2],B=this.Co(a,this.Xd[1],this.Xd[0],this.Xd[2],
this.Xd[3],this.Xd[4],this.Xd[5],this.Xd[6])),B;if(this.oc<this.Xe)if(0===this.B)B=["Empty pattern","Empty"];else{b=this.sh(b);var w=!1;var z=this.cg;for(r=-1;-1!==z&&!w;){var E=this.ve[z];if(b>E)r=z,z=this.Ye[z];else if(b<E)w=!0;else if(b===E){var H=z<<1;if(this.B===this.Xf[z]&&n===this.nc[H]){E=!0;var L=this.counter-this.Zi[z];this.nc[H+1]===q?1===(L&1)&&this.ja?E=!1:v=1===L||2===L&&this.ja&&this.ve[0]===this.ve[1]?"Still Life":"Oscillator period "+L:(u=c-(this.nc[H+1]>>16),t=d-(this.nc[H+1]&65535),
g?this.sp(L,k,u,l,t,p)?(v=this.tp(L,u,t),g=!1):E=!1:(g=!0,k=L,l=u,p=t,E=!1));E?(m=w=!0,g&&(t=u=0),this.Xd=[v,z,L,u,t,f,e],this.Ve=y.tH,a.C.notification.notify(v,15,40,15,!0),a.C.notification.notify("Calculating...",15,40,15,!1)):(r=z,z=this.Ye[z])}else r=z,z=this.Ye[z]}}m||(this.Hl(b,n,c,d,r),this.oc+=1,this.oc===this.Xe&&(this.oc=0,B=[y.iA]))}return B};pa.prototype.un=function(a,b,c,d,f,e,g){var k=this.displayWidth/2,l=this.displayHeight/2,p=0,n=this.width/2,q=this.height/2,m=this.coords,r=this.ic,
u=this.height/2-this.ka-this.za+.5,t=this.width/2-this.ma-this.Ka+.5,v=this.zoom*this.cb;if(a>c){var B=c;c=a;a=B}b>d&&(B=d,d=b,b=B);a+=f;c+=f;b+=e;d+=e;r.length!==y.Qc&&(this.coords=this.T.h(ra.ld,12*y.Qc,"Life.coords",!1),this.ic=this.T.h(ra.lc,y.Qc,"Life.cellColours",!1),m=this.coords,r=this.ic);this.oa.lineWidth=y.Iy;this.oa.lineCap="butt";this.oa.lineJoin="bevel";for(e=f=0;b<=d;b+=1)if(B=(b-q+u)*v+l,B>=-v&&B<this.displayHeight+v){var w=b-q;var z=t-n;for(B=a;B<=c;B+=1){if(0<g[p]){var E=(B+z)*v+
k;if(E>=-v&&E<this.displayWidth+2*v){r[f]=(0<<y.mg)+e;E=B-n+.5;var H=B+b&1;m[e]=E-1;m[e+1]=w+H;m[e+2]=E+1;m[e+3]=w+H;m[e+4]=E;m[e+5]=w+1-H;e+=6;f+=1;f===y.Qc&&(this.Ub=f,this.Tc(!0,!1,!0),e=f=0)}}p+=1}}else p+=c-a+1;this.Ub=f;0<f&&this.Tc(!0,!1,!0)};pa.prototype.yk=function(a,b,c,d,f,e){var g=this.displayWidth/2,k=this.displayHeight/2,l=this.width/2,p=this.height/2,n=this.coords,q=this.ic,m=this.height/2-this.ka-this.za+.5,r=this.width/2-this.ma-this.Ka+.5,u=this.zoom*this.cb;if(a>c){var t=c;c=a;
a=t}b>d&&(t=d,d=b,b=t);a+=f;c+=f;b+=e;d+=e;q.length!==y.Qc&&(this.coords=this.T.h(ra.ld,12*y.Qc,"Life.coords",!1),this.ic=this.T.h(ra.lc,y.Qc,"Life.cellColours",!1),n=this.coords,q=this.ic);this.oa.lineWidth=y.Iy;this.oa.lineCap="butt";this.oa.lineJoin="bevel";for(e=f=0;b<=d;b+=1)if(t=(b-p+m)*u+k,t>=-u&&t<this.displayHeight+u){var v=b-p;var B=r-l;for(t=a;t<=c;t+=1){var w=(t+B)*u+g;if(w>=-u&&w<this.displayWidth+2*u){q[f]=(0<<y.mg)+e;w=t-l+.5;var z=t+b&1;n[e]=w-1;n[e+1]=v+z;n[e+2]=w+1;n[e+3]=v+z;n[e+
4]=w;n[e+5]=v+1-z;e+=6;f+=1;f===y.Qc&&(this.Ub=f,this.Tc(!0,!1,!0),e=f=0)}}}this.Ub=f;0<f&&this.Tc(!0,!1,!0)};pa.prototype.ri=function(){var a=this.h,b=this.Wa,c=null,d=this.mb,f=this.displayWidth/2,e=this.displayHeight/2,g,k,l=this.width/2,p=this.height/2,n=G.sb[3]+128,q=G.sb[4]+128,m=G.sb[5]+128,r=G.sb[6]+128,u=this.xa,t=this.coords,v=this.ic,B=d.J,w=d.L;var z=d.K;var E=d.N,H=this.height/2-this.ka-this.za+.5,L=this.width/2-this.ma-this.Ka+.5,N=this.zoom*this.cb,M=!this.Ya&&!this.jb,V=this.width,
X=this.height,I=0,R=0,P=this.ea;(this.u||this.G||this.D)&&0!==(this.counter&1)&&(a=this.P);v.length!==y.Qc&&(this.coords=this.T.h(ra.ld,12*y.Qc,"Life.coords",!1),this.ic=this.T.h(ra.lc,y.Qc,"Life.cellColours",!1),t=this.coords,v=this.ic);-1!==this.S&&(0!==this.ba?(B=Math.round((this.width-this.ba)/2)-1,w=B+this.ba-1+2):(B=0,w=this.width-1),0!==this.$?(z=Math.round((this.height-this.$)/2)-1,E=z+this.$-1+2):(z=0,E=this.height-1));this.oa.lineWidth=y.Iy;this.oa.lineCap="butt";this.oa.lineJoin="bevel";
for(k=d=0;z<=E;z+=1){var S=(z-p+H)*N+e;if(S>=-N&&S<this.displayHeight+N){S=a[z];b&&(c=b[z]);var Z=z-p;var qa=L-l;for(g=B-1;g<=w+1;g+=1){var ha=(g+qa)*N+f;if(ha>=-N&&ha<=this.displayWidth+2*N){ha=S[g];if(c){var ca=c[g];if(ca===q||ca===r)ha=ha>=u?n:ca;else if(ca===n||ca===m)ha=ha<u?q:ca}0<ha&&(v[d]=(ha<<y.mg)+k,ha=g-l+.5,ca=g+z&1,t[k]=ha-1,t[k+1]=Z+ca,t[k+2]=ha+1,t[k+3]=Z+ca,t[k+4]=ha,t[k+5]=Z+1-ca,k+=6,d+=1);d===y.Qc&&(this.Ub=d,this.Tc(!0,M,!1),this.jb&&!this.Ya&&(this.oa.strokeStyle="rgb("+this.sa[0]+
","+this.qa[0]+","+this.ra[0]+")",this.Tc(!1,!1,!1)),k=d=0)}}}}this.Ub=d;0<d&&(this.Tc(!0,M,!1),this.jb&&!this.Ya&&(this.oa.strokeStyle="rgb("+this.sa[0]+","+this.qa[0]+","+this.ra[0]+")",this.Tc(!1,!1,!1)));for(k=d=0;V<P;)I+=V>>1,V<<=1;for(;X<P;)R+=X>>1,X<<=1;E=e/N-H+p|0;for(z=-e/N-H+p|0;z<=E;z+=1)if(S=(z-p+H)*N+e,S>=-N&&S<this.displayHeight+N)for(Z=z-p,qa=L-l,B=-f/N-qa-N|0,w=f/N-qa+N|0,g=B-1;g<=w+1;g+=1)if(ha=(g+qa)*N+f,ha>=-N&&ha<=this.displayWidth+2*N){if(0>g+I||g+I>=P||0>z+R||z+R>=P)v[d]=(256<<
y.mg)+k,ha=g-l+.5,ca=g+z&1,t[k]=ha-1,t[k+1]=Z+ca,t[k+2]=ha+1,t[k+3]=Z+ca,t[k+4]=ha,t[k+5]=Z+1-ca,k+=6,d+=1;d===y.Qc&&(this.Ub=d,this.Tc(!0,M,!1),this.jb&&!this.Ya&&(this.oa.strokeStyle="rgb("+this.sa[0]+","+this.qa[0]+","+this.ra[0]+")",this.Tc(!1,!1,!1)),k=d=0)}this.Ub=d;0<d&&(this.Tc(!0,M,!1),this.jb&&!this.Ya&&(this.oa.strokeStyle="rgb("+this.sa[0]+","+this.qa[0]+","+this.ra[0]+")",this.Tc(!1,!1,!1)),k=0);if(this.Ya){this.oa.strokeStyle="rgb("+(this.Lb>>16)+","+(this.Lb>>8&255)+","+(this.Lb&255)+
")";this.oa.lineWidth=1;E=e/N-H+p|0;d=0;for(z=-e/N-H+p|0;z<=E;z+=1)if(S=(z-p+H)*N+e,S>=-N&&S<this.displayHeight+N)for(Z=z-p,qa=L-l,B=-f/N-qa-N|0,w=f/N-qa+N|0,g=B-1;g<=w+1;g+=1)ha=(g+qa)*N+f,ha>=-N&&ha<this.displayWidth+2*N&&(ha=g-l+.5,ca=g+z&1,t[k]=ha-1,t[k+1]=Z+ca,t[k+2]=ha+1,t[k+3]=Z+ca,t[k+4]=ha,t[k+5]=Z+1-ca,k+=6,d+=1),d===y.Qc&&(this.Ub=d,this.Tc(!1,!1,!1),k=d=0);this.Ub=d;0<d&&this.Tc(!1,!1,!1)}};pa.prototype.Tc=function(a,b,c){var d,f=this.oa,e=this.width/2-this.ma-this.Ka,g=this.height/2-
this.ka-this.za,k=this.zoom*this.cb,l=this.rc(this.zoom)*this.cb,p=this.displayWidth/2,n=this.displayHeight/2,q=0,m=0,r=-1,u=this.coords,t=this.Ub,v=this.ic,B=(1<<y.mg)-1;if(a&&!c&&v.sort){m=(y.Qc<<y.mg)+256;for(d=t;d<y.Qc;d+=1)v[d]=m;v.sort()}f.beginPath();a||(r=m=q=0);for(d=0;d<t;d+=1){a&&(m=v[d],q=m&B,m>>=y.mg);var w=u[q];var z=u[q+1];q+=2;var E=(z+g)*l+n;var H=(w+e)*k+p;var L=(u[q+1]-z)*l;var N=(u[q]-w)*k;q+=2;m!==r&&(r=m,0<d&&(a?(b&&f.stroke(),f.fill()):f.stroke(),f.beginPath()),a&&!c&&(f.fillStyle=
this.Le[m],b&&(f.strokeStyle=this.Le[m])));f.moveTo(H|0,E|0);f.lineTo(N+H|0,L+E|0);f.lineTo(N+H|0,E|0);L=(u[q+1]-z)*l;N=(u[q]-w)*k;f.lineTo(N+H|0,L+E|0);q+=2}a?(b&&f.stroke(),f.fill()):f.stroke()};pa.prototype.on=function(a,b,c,d,f,e,g){var k=0,l=this.width/2-G.Xo/4,p=this.height/2,n=Math.PI/3,q=1/G.Xo,m=[],r=[],u=this.coords,t=this.ic,v=this.displayWidth/2,B=this.displayHeight/2,w=this.width/2-this.ma-this.Ka,z=this.height/2-this.ka-this.za,E=this.zoom*this.cb,H=this.rc(this.zoom)*this.cb;w=w+z/
2+-(this.height>>2)+.5;z+=.5;if(a>c){var L=c;c=a;a=L}b>d&&(L=d,d=b,b=L);a+=f;c+=f;b+=e;d+=e;t.length!==y.Qc&&(this.coords=this.T.h(ra.ld,12*y.Qc,"Life.coords",!1),this.ic=this.T.h(ra.lc,y.Qc,"Life.cellColours",!1),u=this.coords,t=this.ic);e=n/2;for(f=0;5>=f;f+=1)m[f]=Math.cos(e)*q,r[f]=Math.sin(e)*q*1.16,e+=n;n=m[0];q=r[0];L=m[1];var N=r[1];var M=m[2];var V=r[2];var X=m[3];var I=r[3];var R=m[4];var P=r[4];m=m[5];r=r[5];this.oa.lineWidth=1;this.oa.lineCap="round";this.oa.lineJoin="round";for(e=f=0;b<=
d;b+=1){var S=b-p;var Z=(S+z)*H+B;if(Z>=-H&&Z<this.displayHeight+H)for(Z=a;Z<=c;Z+=1){if(0<g[k]){var qa=Z-l;var ha=(qa+w-(S+z)/2)*E+v;ha>=-E&&ha<this.displayWidth+E&&(t[f]=(0<<y.mg)+e,u[e]=n+qa,u[e+1]=q+S,u[e+2]=L+qa,u[e+3]=N+S,u[e+4]=M+qa,u[e+5]=V+S,u[e+6]=X+qa,u[e+7]=I+S,u[e+8]=R+qa,u[e+9]=P+S,u[e+10]=m+qa,u[e+11]=r+S,e+=12,f+=1,f===y.Qc&&(this.Ub=f,this.Rc(!0,!1,!1,!0),e=f=0))}k+=1}else k+=c-a+1}this.Ub=f;0<f&&this.Rc(!0,!1,!1,!0)};pa.prototype.wk=function(a,b,c,d,f,e){var g=this.width/2-G.Xo/
4,k=this.height/2,l=Math.PI/3,p=1/G.Xo,n=[],q=[],m=this.coords,r=this.ic,u=this.displayWidth/2,t=this.displayHeight/2,v=this.width/2-this.ma-this.Ka,B=this.height/2-this.ka-this.za,w=this.zoom*this.cb,z=this.rc(this.zoom)*this.cb;v=v+B/2+-(this.height>>2)+.5;B+=.5;if(a>c){var E=c;c=a;a=E}b>d&&(E=d,d=b,b=E);a+=f;c+=f;b+=e;d+=e;r.length!==y.Qc&&(this.coords=this.T.h(ra.ld,12*y.Qc,"Life.coords",!1),this.ic=this.T.h(ra.lc,y.Qc,"Life.cellColours",!1),m=this.coords,r=this.ic);e=l/2;for(f=0;5>=f;f+=1)n[f]=
Math.cos(e)*p,q[f]=Math.sin(e)*p*1.16,e+=l;l=n[0];p=q[0];E=n[1];var H=q[1];var L=n[2];var N=q[2];var M=n[3];var V=q[3];var X=n[4];var I=q[4];n=n[5];q=q[5];this.oa.lineWidth=1;this.oa.lineCap="round";this.oa.lineJoin="round";for(e=f=0;b<=d;b+=1){var R=b-k;var P=(R+B)*z+t;if(P>=-z&&P<this.displayHeight+z)for(P=a;P<=c;P+=1){var S=P-g;var Z=(S+v-(R+B)/2)*w+u;Z>=-w&&Z<this.displayWidth+w&&(r[f]=(0<<y.mg)+e,m[e]=l+S,m[e+1]=p+R,m[e+2]=E+S,m[e+3]=H+R,m[e+4]=L+S,m[e+5]=N+R,m[e+6]=M+S,m[e+7]=V+R,m[e+8]=X+S,
m[e+9]=I+R,m[e+10]=n+S,m[e+11]=q+R,e+=12,f+=1,f===y.Qc&&(this.Ub=f,this.Rc(!0,!1,!1,!0),e=f=0))}}this.Ub=f;0<f&&this.Rc(!0,!1,!1,!0)};pa.prototype.Ej=function(){var a=this.h,b=this.Wa,c=null,d=this.mb,f=this.displayWidth/2,e=this.displayHeight/2,g,k=this.width/2-G.Xo/4,l=this.height/2,p=Math.PI/3,n=1/G.Xo,q=[],m=[],r=G.sb[3]+128,u=G.sb[4]+128,t=G.sb[5]+128,v=G.sb[6]+128,B=this.xa,w=this.coords,z=this.ic,E=d.J,H=d.L;var L=d.K;var N=d.N,M=this.height/2-this.ka-this.za+.5,V=this.width/2-this.ma-this.Ka+
.5-(this.height>>2)+M/2,X=this.zoom*this.cb,I=this.rc(this.zoom)*this.cb,R=!this.Ya&&!this.jb,P=this.width,S=this.height,Z=0,qa=0,ha=this.ea;(this.u||this.G||this.D)&&0!==(this.counter&1)&&(a=this.P);z.length!==y.Qc&&(this.coords=this.T.h(ra.ld,12*y.Qc,"Life.coords",!1),this.ic=this.T.h(ra.lc,y.Qc,"Life.cellColours",!1),w=this.coords,z=this.ic);-1!==this.S&&(0!==this.ba?(E=Math.round((this.width-this.ba)/2)-1,H=E+this.ba-1+2):(E=0,H=this.width-1),0!==this.$?(L=Math.round((this.height-this.$)/2)-1,
N=L+this.$-1+2):(L=0,N=this.height-1));var ca=p/2;for(d=0;5>=d;d+=1)q[d]=Math.cos(ca)*n,m[d]=Math.sin(ca)*n*1.16,ca+=p;p=q[0];n=m[0];var ia=q[1];var na=m[1];var ja=q[2];var U=m[2];var ma=q[3];var ea=m[3];var aa=q[4];var Y=m[4];q=q[5];m=m[5];this.oa.lineWidth=1;this.oa.lineCap="round";this.oa.lineJoin="round";ca=d=0;0<L&&--L;for(N<this.height-1&&(N+=1);L<=N;L+=1){var oa=(L+M-l)*I+e;if(oa>=-I&&oa<this.displayHeight+I){oa=a[L];b&&(c=b[L]);var Q=L-l;var F=V-k-(Q+M)/2;for(g=E;g<=H;g+=1){var A=(g+F)*X+
f;if(A>=-X&&A<this.displayWidth+X){A=oa[g];if(c){var K=c[g];if(K===u||K===v)A=A>=B?r:K;else if(K===r||K===t)A=A<B?u:K}0<A&&(z[d]=(A<<y.mg)+ca,A=g-k,w[ca]=p+A,w[ca+1]=n+Q,w[ca+2]=ia+A,w[ca+3]=na+Q,w[ca+4]=ja+A,w[ca+5]=U+Q,w[ca+6]=ma+A,w[ca+7]=ea+Q,w[ca+8]=aa+A,w[ca+9]=Y+Q,w[ca+10]=q+A,w[ca+11]=m+Q,ca+=12,d+=1);d===y.Qc&&(this.Ub=d,this.Rc(!0,R,!1,!1),this.jb&&!this.Ya&&(this.oa.strokeStyle="rgb("+this.sa[0]+","+this.qa[0]+","+this.ra[0]+")",this.Rc(!1,!1,!1,!1)),ca=d=0)}}}}this.Ub=d;0<d&&(this.Rc(!0,
R,!1,!1),this.jb&&!this.Ya&&(this.oa.strokeStyle="rgb("+this.sa[0]+","+this.qa[0]+","+this.ra[0]+")",this.Rc(!1,!1,!1,!1)));for(ca=d=0;P<ha;)Z+=P>>1,P<<=1;for(;S<ha;)qa+=S>>1,S<<=1;N=(e/I-M+l|0)+1;for(L=(-e/I-M+l|0)-1;L<=N;L+=1)if(oa=(L+M-l)*I+e,oa>=-I&&oa<this.displayHeight+I)for(Q=L-l,F=V-k-(Q+M)/2,E=-f/X-F-X|0,H=f/X-F+X|0,g=E;g<=H;g+=1)if(A=(g+F)*X+f,A>=-X&&A<this.displayWidth+X){if(0>g+Z||g+Z>=ha||0>L+qa||L+qa>=ha)z[d]=(256<<y.mg)+ca,A=g-k,w[ca]=p+A,w[ca+1]=n+Q,w[ca+2]=ia+A,w[ca+3]=na+Q,w[ca+
4]=ja+A,w[ca+5]=U+Q,w[ca+6]=ma+A,w[ca+7]=ea+Q,w[ca+8]=aa+A,w[ca+9]=Y+Q,w[ca+10]=q+A,w[ca+11]=m+Q,ca+=12,d+=1;d===y.Qc&&(this.Ub=d,this.Rc(!0,R,!1,!1),this.jb&&!this.Ya&&(this.oa.strokeStyle="rgb("+this.sa[0]+","+this.qa[0]+","+this.ra[0]+")",this.Rc(!1,!1,!1,!1)),ca=d=0)}this.Ub=d;0<d&&(this.Rc(!0,R,!1,!1),this.jb&&!this.Ya&&(this.oa.strokeStyle="rgb("+this.sa[0]+","+this.qa[0]+","+this.ra[0]+")",this.Rc(!1,!1,!1,!1)),ca=0);if(this.Ya){this.oa.strokeStyle="rgb("+(this.Lb>>16)+","+(this.Lb>>8&255)+
","+(this.Lb&255)+")";this.oa.lineWidth=1;d=0;N=e/I-M+l|0;for(L=-e/I-M+l|0;L<=N;L+=1)if(oa=(L+M-l)*I+e,oa>=-I&&oa<this.displayHeight+I)for(Q=L-l,F=V-k-(Q+M)/2,E=-f/X-F-X|0,H=f/X-F+X|0,g=E;g<=H;g+=1)A=(g+F)*X+f,A>=-X&&A<this.displayWidth+X&&(A=g-k,w[ca]=p+A,w[ca+1]=n+Q,w[ca+2]=ia+A,w[ca+3]=na+Q,w[ca+4]=ja+A,w[ca+5]=U+Q,w[ca+6]=ma+A,w[ca+7]=ea+Q,ca+=8,d+=1),d===y.Qc&&(this.Ub=d,this.Rc(!1,!1,!0,!1),ca=d=0);this.Ub=d;0<d&&this.Rc(!1,!1,!0,!1)}};pa.prototype.Rc=function(a,b,c,d){var f=this.oa,e=this.width/
2-this.ma-this.Ka,g=this.height/2-this.ka-this.za,k=this.zoom*this.cb,l=this.rc(this.zoom)*this.cb,p=this.displayWidth/2,n=this.displayHeight/2,q=0,m=0,r=12,u=0,t=-1,v=this.coords,B=this.Ub,w=this.ic,z=(1<<y.mg)-1;e=e+g/2+-(this.height>>2)+.5;g+=.5;a&&!d&&w.sort&&(u=(y.Qc<<y.mg)+256,w.fill(u,B),w.sort());f.beginPath();a||(m=r=c?8:12,t=u=q=0);for(c=0;c<B;c+=1){a&&(u=w[c],q=u&z,m=q+r,u>>=y.mg);var E=v[q];var H=v[q+1];var L=H+g;var N=E+e-L/2;q+=2;L=L*l+n;N=N*k+p;var M=(v[q+1]-H)*l;var V=(v[q]-E)*k;q+=
2;u!==t&&(t=u,0<c&&(a?(b&&f.stroke(),f.fill()):f.stroke(),f.beginPath()),a&&!d&&(f.fillStyle=this.Le[u],b&&(f.strokeStyle=this.Le[u])));f.moveTo(N,L);for(f.lineTo(V+N,M+L);q<m;)M=(v[q+1]-H)*l,V=(v[q]-E)*k,q+=2,f.lineTo(V+N,M+L);m+=r}a?(b&&f.stroke(),f.fill()):f.stroke()};pa.prototype.kh=function(a,b,c,d,f,e,g){var k="",l=b.O?b.mb:b.Da?b.ya:b.A,p=l.J,n=l.L,q=l.N,m=l.K,r=n-p+1,u=q-m+1;l=0;var t=[],v=this.h,B=null;var w=a.H-a.aa;var z=a.F-a.ba,E=a.fa;2>d&&(d=2);2>f&&(f=2);d===f&&b.O&&(f=d=7);a.P&&(p=
E.J+w,m=E.K+z,n=E.L+w,q=E.N+z,p>n&&(w=p,p=n,n=w),m>q&&(w=m,m=q,q=w),r=n-p+1,u=q-m+1,a.mc&&(-1!==b.S?(p-=Math.floor(a.xd/2)-2*a.bc,n-=Math.floor(a.xd/2)-2*a.bc,m-=Math.floor(a.wd/2)-2*a.qc,q-=Math.floor(a.wd/2)-2*a.qc):(p+=2*a.bc,n+=2*a.bc,m+=2*a.qc,q+=2*a.qc)));b.Z&&(0<p&&0!==(p&1)&&(--p,r+=1),0<m&&0!==(m&1)&&(--m,u+=1));b.ja&&(0<p&&0===(p&1)&&(--p,r+=1),0<m&&0===(m&1)&&(--m,u+=1));if(0===e.length)for(w=0;w<d;w+=1)e[w]=w;if(2>=f)t[0]="b",t[1]="o";else for(t[0]=".",w=0;w<f-1;w+=1)t[w+1]=24<=w?String.fromCharCode(112+
(w/24|0)-1)+String.fromCharCode(65+w%24):String.fromCharCode(65+w);c&&(k+=b.ci);w=g&&""!==a.Ka?a.Ka:a.$;"Conway's Life"===w&&(w="Life");"B3/S23History"===w&&(w="LifeHistory");k=k+("x = "+r+", y = "+u+", rule = "+w)+a.ng;k+="\n";for(a=k.length;m<=q;){w=p;2>=d&&!this.D?(B=v[m],r=B[w],f=r<=this.be||r===this.hc?0:1):f=b.nb(w,m,!1);g=1;for(w+=1;w<=n+1;)w>n?r=-1:2>=d&&!this.D?(r=B[w],r=r<=this.be||r===this.hc?0:1):r=b.nb(w,m,!1),r!==f?((-1!==r||0!==f)&&0<l&&(1<l&&(k+=l),k+="$",69<=k.length-a&&(k+="\n",
a=k.length),l=0),0<f?(1<g&&(k+=g),k+=t[e[f]]):w<=n&&(1<g&&(k+=g),k+=t[e[f]]),69<=k.length-a&&(k+="\n",a=k.length),g=1,f=r):g+=1,w+=1;l+=1;m+=1}k+="!\n";c&&(k+=b.bi);return k};pa.prototype.Ce=function(a,b){var c=this.h,d=c[b-1],f=c[b];b=c[b+1];c=y.xa;return 64+(d[a-1]>=c?1:0)+(d[a]>=c?5:0)+(d[a+1]>=c?1:0)+(f[a-1]>=c?5:0)+(f[a+1]>=c?5:0)+(b[a-1]>=c?1:0)+(b[a]>=c?5:0)+(b[a+1]>=c?1:0)};pa.prototype.Rh=function(a,b){var c=this.h;--b;var d=c[b];d[a-1]>=this.xa&&(d[a-1]=this.Ce(a-1,b));d[a]>=this.xa&&(d[a]=
this.Ce(a,b));d[a+1]>=this.xa&&(d[a+1]=this.Ce(a+1,b));b+=1;d=c[b];d[a-1]>=this.xa&&(d[a-1]=this.Ce(a-1,b));d[a]>=this.xa&&(d[a]=this.Ce(a,b));d[a+1]>=this.xa&&(d[a+1]=this.Ce(a+1,b));b+=1;d=c[b];d[a-1]>=this.xa&&(d[a-1]=this.Ce(a-1,b));d[a]>=this.xa&&(d[a]=this.Ce(a,b));d[a+1]>=this.xa&&(d[a+1]=this.Ce(a+1,b))};pa.prototype.Bq=function(a,b,c,d){var f=this.va,e=this.j,g=this.h,k=this.wa,l=this.m,p=this.A,n=this.mb,q,m=!0,r=this.Z?1:0,u=this.Z?14:15;if(a!==(a&this.Ia)||b!==(b&this.Ha)){m=!1;var t=
this.width<this.ea&&a!==(a&this.Ia);for(q=this.height<this.ea&&b!==(b&this.Ha);t||q;)(t||q)&&this.Tf(t,q,!0),t&&(a+=this.width>>2),q&&(b+=this.height>>2),t=this.width<this.ea&&a!==(a&this.Ia),q=this.height<this.ea&&b!==(b&this.Ha);a===(a&this.Ia)&&b===(b&this.Ha)&&(m=!0,f=this.va,e=this.j,g=this.h,k=this.wa,l=this.m)}if(m){0!==(this.counter&1)&&(f=this.Va,e=this.H);t=1<<(~a&15);q=1<<(~(a>>4)&15);if(1===(c&1)){0===(f[b][a>>4]&t)&&(this.B+=1);switch(this.$a){case y.ig:g[b][a]=this.xa;break;case y.tf:g[b][a]=
(a+b&127)+64;break;case y.jg:g[b][a]=this.xa;this.Rh(a,b);break;case y.If:g[b][a]=this.xa}k[b>>4][a>>8]|=q;l[b>>4][a>>8]|=q;f[b][a>>4]|=t;e[b>>4][a>>8]|=q;d=a&15;0<a&&d<=r?(a-=d+1,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a+=d+1):a<this.width-1&&d>=u&&(a+=16-d,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-d);0<b&&0===(b&15)?(--b,e[b>>4][a>>8]|=1<<(~(a>>4)&15),0<a&&d<=r?(a-=d+1,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a+=d+1):a<this.width-1&&d>=u&&(a+=16-d,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-d),b+=1):b<this.height-1&&15===(b&
15)&&(b+=1,e[b>>4][a>>8]|=1<<(~(a>>4)&15),0<a&&d<=r?(a-=d+1,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a+=d+1):a<this.width-1&&d>=u&&(a+=16-d,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-d),--b)}else 0!==(f[b][a>>4]&t)&&--this.B,g[b][a]=d?0:this.be,this.$a===y.jg&&this.Rh(a,b),k[b>>4][a>>8]|=q,l[b>>4][a>>8]|=q,f[b][a>>4]&=~t;if(0<c)1===this.B?(p.J=a,p.L=a,p.K=b,p.N=b):(a<p.J&&(p.J=a),a>p.L&&(p.L=a),b<p.K&&(p.K=b),b>p.N&&(p.N=b)),a<n.J&&(n.J=a),a>n.L&&(n.L=a),b<n.K&&(n.K=b),b>n.N&&(n.N=b);else if(a===p.J||a===p.L||b===
p.N||b===p.K)this.Nb=!0}return 0};pa.prototype.Cq=function(a,b,c,d){var f=this.va,e=this.j,g=this.h,k=this.wa,l=this.m,p=this.Wa,n=this.A,q=this.mb,m,r=!0,u=0,t=this.Z?1:0,v=this.Z?14:15;if(a!==(a&this.Ia)||b!==(b&this.Ha)){r=!1;var B=this.width<this.ea&&a!==(a&this.Ia);for(m=this.height<this.ea&&b!==(b&this.Ha);B||m;)(B||m)&&this.Tf(B,m,!0),B&&(a+=this.width>>2),m&&(b+=this.height>>2),B=this.width<this.ea&&a!==(a&this.Ia),m=this.height<this.ea&&b!==(b&this.Ha);a===(a&this.Ia)&&b===(b&this.Ha)&&(r=
!0,f=this.va,e=this.j,g=this.h,k=this.wa,l=this.m,p=this.Wa)}if(r){0!==(this.counter&1)&&(f=this.Va,e=this.H);B=1<<(~a&15);m=1<<(~(a>>4)&15);1===(c&1)?(0===(f[b][a>>4]&B)&&(this.B+=1),g[b][a]=this.xa,k[b>>4][a>>8]|=m,l[b>>4][a>>8]|=m,f[b][a>>4]|=B,e[b>>4][a>>8]|=m,d=a&15,0<a&&d<=t?(a-=d+1,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a+=d+1):a<this.width-1&&d>=v&&(a+=16-d,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-d),0<b&&0===(b&15)?(--b,e[b>>4][a>>8]|=1<<(~(a>>4)&15),0<a&&d<=t?(a-=d+1,e[b>>4][a>>8]|=1<<(~(a>>4)&15),
a+=d+1):a<this.width-1&&d>=v&&(a+=16-d,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-d),b+=1):b<this.height-1&&15===(b&15)&&(b+=1,e[b>>4][a>>8]|=1<<(~(a>>4)&15),0<a&&d<=t?(a-=d+1,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a+=d+1):a<this.width-1&&d>=v&&(a+=16-d,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-d),--b)):(0!==(f[b][a>>4]&B)&&--this.B,g[b][a]=d?0:this.be,k[b>>4][a>>8]|=m,l[b>>4][a>>8]|=m,f[b][a>>4]&=~B);if(p){e=p[b][a];0<e&&(e=G.sb.indexOf(e-128));if(6===c&&6!==e||6!==c&&6===e)u=1;2===c&&(g[b][a]=y.Hh);p[b][a]=0===c?
0:G.sb[c]+128}if(0<c)1===this.B?(n.J=a,n.L=a,n.K=b,n.N=b):(a<n.J&&(n.J=a),a>n.L&&(n.L=a),b<n.K&&(n.K=b),b>n.N&&(n.N=b)),a<q.J&&(q.J=a),a>q.L&&(q.L=a),b<q.K&&(q.K=b),b>q.N&&(q.N=b);else if(a===n.J||a===n.L||b===n.N||b===n.K)this.Nb=!0}return u};pa.prototype.wl=function(a,b,c,d){var f=this.va,e=this.j,g=this.h,k=this.wa,l=this.m,p=this.Wa,n=this.A,q=this.ya,m=this.mb,r=0,u=c,t=0,v=0,B=this.Z?1:0,w=this.Z?14:15;(this.s||this.D||this.u||this.G)&&0!==(this.counter&1)&&(g=this.P);if(this.s||this.D)t=g[b][a],
g[b][a]=d&&0===c?0:this.v+c,l[b>>4][a>>8]=65535,this.D&&(0!==(this.counter&1)&&(e=this.H),r=1<<(~(a>>4)&15),e[b>>4][a>>8]|=r),0===c?t>this.v&&(this.s?this.B-=this.ec[t-this.v]:--this.B):this.s?t<=this.v?this.B+=this.ec[c]:(this.B-=this.ec[t-this.v],this.B+=this.ec[c]):(e[b>>4][a>>8]|=r,0===t&&(this.B+=1),d=a&15,0<a&&d<=B?(a-=d+1,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a+=d+1):a<this.width-1&&d>=w&&(a+=16-d,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-d),0<b&&0===(b&15)?(--b,e[b>>4][a>>8]|=1<<(~(a>>4)&15),0<a&&d<=
B?(a-=d+1,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a+=d+1):a<this.width-1&&d>=w&&(a+=16-d,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-d),b+=1):b<this.height-1&&15===(b&15)&&(b+=1,e[b>>4][a>>8]|=1<<(~(a>>4)&15),0<a&&d<=B?(a-=d+1,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a+=d+1):a<this.width-1&&d>=w&&(a+=16-d,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-d),--b));else{0!==(this.counter&1)&&(f=this.Va,e=this.H);var z=1<<(~a&15);r=1<<(~(a>>4)&15);if(this.Da)t=g[b][a],2===this.i?(e=this.xa,1===c&&(c=this.xa),0===c&&t>=e&&(c=d?0:this.v)):
(e=this.i-1+this.v,0<c&&(c=this.v+c)),g[b][a]=c,k[b>>4][a>>8]|=r,l[b>>4][a>>8]|=r,t<e&&c>=e?this.B+=1:t>=e&&c<e&&--this.B;else{if(this.G){var E=0<c;t=g[b][a]}else E=2>=this.i||this.u?1===(c&1):c===this.i-1;this.u&&(t=g[b][a],6===c&&6!==t||6!==c&&6===t)&&(v=1);E?(this.G?t||(this.B+=1):0===(f[b][a>>4]&z)&&(this.B+=1),this.$a===y.tf?g[b][a]=(a+b&127)+64:this.$a===y.jg?(g[b][a]=this.xa,this.Rh(a,b)):g[b][a]=this.G||this.u?c:this.xa,k[b>>4][a>>8]|=r,l[b>>4][a>>8]|=r,f[b][a>>4]|=z,e[b>>4][a>>8]|=r,d=a&
15,0<a&&d<=B?(a-=d+1,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a+=d+1):a<this.width-1&&d>=w&&(a+=16-d,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-d),0<b&&0===(b&15)?(--b,e[b>>4][a>>8]|=1<<(~(a>>4)&15),0<a&&d<=B?(a-=d+1,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a+=d+1):a<this.width-1&&d>=w&&(a+=16-d,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-d),b+=1):b<this.height-1&&15===(b&15)&&(b+=1,e[b>>4][a>>8]|=1<<(~(a>>4)&15),0<a&&d<=B?(a-=d+1,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a+=d+1):a<this.width-1&&d>=w&&(a+=16-d,e[b>>4][a>>8]|=1<<(~(a>>4)&15),
a-=16-d),--b)):(this.G?0<t&&--this.B:0!==(f[b][a>>4]&z)&&--this.B,g[b][a]=this.G||this.u?c:d?0:this.be,this.$a===y.jg&&this.Rh(a,b),k[b>>4][a>>8]|=r,l[b>>4][a>>8]|=r,f[b][a>>4]&=~z);if(this.O&&p){t=p[b][a];0<t&&(t=G.sb.indexOf(t-128));if(6===c&&6!==t||6!==c&&6===t)v=1;2===c?g[b][a]=y.Hh:p[b][a]=0===c?0:G.sb[c]+128}2<this.i&&!this.u&&!this.G&&(0<c&&(c=this.v+c),g[b][a]=c)}}if(0<u)1===this.B&&(this.Nb=!0),a<n.J&&(n.J=a),a>n.L&&(n.L=a),b<n.K&&(n.K=b),b>n.N&&(n.N=b),a<m.J&&(m.J=a),a>m.L&&(m.L=a),b<m.K&&
(m.K=b),b>m.N&&(m.N=b),this.Da&&c===this.i-1+this.v&&(1===this.B?(q.J=a,q.L=a,q.K=b,q.N=b):(a<q.J&&(q.J=a),a>q.L&&(q.L=a),b<q.K&&(q.K=b),b>q.N&&(q.N=b)));else if(a===n.J||a===n.L||b===n.N||b===n.K)this.Nb=!0;return v};pa.prototype.nb=function(a,b,c){switch(this.pk){case y.Ev:return this.Ak(a,b,c);case y.Gv:return this.Ak(a,b,!0);case y.Fv:return this.ho(a,b,c);default:return this.jo(a,b,c)}};pa.prototype.Zd=function(a,b,c,d){switch(this.pk){case y.Ev:return this.Bq(a,b,c,d);case y.Gv:return this.wl(a,
b,c,d);case y.Fv:return this.Cq(a,b,c,d);default:return this.wl(a,b,c,d)}};pa.prototype.Dq=function(){this.pk=-1!==this.i||-1!==this.S||this.la?this.D&&2===this.i?y.Gv:y.ZH:this.O?y.Fv:y.Ev};pa.prototype.Jl=function(a){var b=1<<y.Uj;a?(this.Uc=Array.matrix(ra.lc,1,b,0,this.T,"Life.popGraphData",!1),this.Mf=Array.matrix(ra.lc,1,b,0,this.T,"Life.birthGraphData",!1),this.Sf=Array.matrix(ra.lc,1,b,0,this.T,"Life.deathGraphData",!1),this.Lg=b):(this.Uc=Array.matrix(ra.lc,0,0,0,this.T,"Life.popGraphData",
!1),this.Mf=Array.matrix(ra.lc,0,0,0,this.T,"Life.birthGraphData",!1),this.Sf=Array.matrix(ra.lc,0,0,0,this.T,"Life.deathGraphData",!1),this.Lg=0)};pa.prototype.Ak=function(a,b,c){var d=0,f=this.h;a===(a&this.Ia)&&b===(b&this.Ha)&&(this.D&&0!==(this.counter&1)&&(f=this.P),a=f[b][a],d=c?a:a<=this.be?0:1);return d};pa.prototype.ho=function(a,b,c){var d=0,f=G.sb[3]+128,e=G.sb[4]+128,g=G.sb[5]+128,k=G.sb[6]+128;a===(a&this.Ia)&&b===(b&this.Ha)&&(d=this.h[b][a],c||(this.Wa?(a=this.Wa[b][a],a===e||a===
k?(d>=this.xa&&(a=f),d=G.sb.indexOf(a-128)):a===f||a===g?(d<this.xa&&(a=e),d=G.sb.indexOf(a-128)):d=0===d?0:d<=this.be?2:1):d=d<=this.be?0:1));return d};pa.prototype.jo=function(a,b,c){var d=0,f=G.sb[3]+128,e=G.sb[4]+128,g=G.sb[5]+128,k=G.sb[6]+128,l=this.ja?-1:0,p=Math.round((this.width-this.ba)/2)+l;l=Math.round((this.height-this.$)/2)+l;var n=p+this.ba-1,q=l+this.$-1,m=this.h;(this.s||this.D||this.u||this.G)&&0!==(this.counter&1)&&(m=this.P);a===(a&this.Ia)&&b===(b&this.Ha)&&(d=m[b][a],c||2<this.i?
2<this.i&&0<d&&!this.la&&(d<=this.v?d=0:(-1!==this.S&&(0===this.ba&&(p=0,n=this.width-1),0===this.$&&(l=0,q=this.height-1)),d=-1===this.S||d!==this.hc||a>=p&&a<=n&&b>=l&&b<=q?this.s||this.D||this.u||this.G?d-this.v:this.i+this.v-d:0)):this.Wa?-1===this.S||d!==this.hc||a>=p&&a<=n&&b>=l&&b<=q?(a=this.Wa[b][a],a===e||a===k?(d>=this.xa&&(a=f),d=G.sb.indexOf(a-128)):a===f||a===g?(d<this.xa&&(a=e),d=G.sb.indexOf(a-128)):d=0===d?0:d<=this.be?2:1):d=0:d=d<=this.be||d===this.hc?0:1);return d};pa.prototype.Kd=
function(a){var b,c,d,f=a.length,e=a[0].length,g=this.ec,k=0;for(b=0;b<f;b+=1){var l=a[b];for(c=0;c<e;c+=1)(d=l[c])&&(k+=g[d])}return k};pa.prototype.Tl=function(a,b){var c=a.Hb,d=c.length,f=!1;if(this.ja||this.s)for(this.tb=this.Tb=!1,a=0;!f&&a<d;){var e=c[a];e.rg<b?("reverse playback"===e.action&&(this.tb=!this.tb),a+=1):e.rg>b?f=!0:"reverse playback"===e.action?f=this.Tb=!0:a+=1}};pa.prototype.El=function(a,b){var c=this.Xc.h.length,d=null;a<this.counter&&(d=this.Xc.$(a),c!==this.Xc.h.length&&
(this.Bf-=y.lq*(c-this.Xc.h.length)));d&&(this.rl(d,b),b.Qy());for(;this.counter<a;)this.Tl(b,this.counter),this.s&&(1===(this.counter&1)?this.h.o.fill(0):this.P.o.fill(0)),this.dl(!0),b.ja+=b.tc,this.Qf(),this.Mh(),this.bg(b),b.an()};pa.prototype.rl=function(a,b){var c=this.h,d=this.Wa;this.counter=a.counter;b.ja=a.I;this.Xb=a.B;this.Ie=a.F;if(0!==(this.counter&1)){b=this.Hd;var f=this.grid;var e=this.H;var g=this.j}else b=this.grid,f=this.Hd,e=this.j,g=this.H;b.o.fill(0);f.o.fill(0);this.h.o.fill(0);
(this.s||this.D||this.u||this.G)&&this.P.o.fill(0);this.Ba.o.fill(0);a.V(b,e);a.P(c,this.wa,a.H);(this.s||this.D||this.u||this.G)&&Array.Ef(c,this.P);this.Dc?(d.o.fill(0),this.Db.o.fill(0),a.P(d,this.m,a.v),this.rb()):(this.u&&this.rb(),Array.Ef(this.m,this.wa));Array.Ef(e,g);Array.Ef(b,f);this.A.J=a.i.J;this.A.K=a.i.K;this.A.L=a.i.L;this.A.N=a.i.N;this.ya.J=a.h.J;this.ya.K=a.h.K;this.ya.L=a.h.L;this.ya.N=a.h.N;this.B=a.G;this.na=a.A;this.ga=a.D};pa.prototype.ji=function(a){if(0!==(this.counter&1)){var b=
this.Hd;var c=this.H}else b=this.grid,c=this.j;this.vl(!1,b,c,a)};pa.prototype.$g=function(a,b){this.rl(this.Wj,a);this.Xc.reset();this.Bf=y.lq;b||this.ji(a)};pa.prototype.vl=function(a,b,c,d){var f=this.h;(this.s||this.D||this.u||this.G)&&0!==(this.counter&1)&&(f=this.P);this.Xc.Y(b,c,f,this.m,this.Wa,this.m,this.A,this.ya,this.B,this.na,this.ga,this.counter,d.ja,this.Xb,this.Ie,(this.F-1>>4)+1,this.I,this,a)};pa.prototype.yq=function(a,b){this.Xc.reset();this.Wj=this.Xc.H((this.F-1>>4)+1,this.I,
!0,this.Dc);this.vl(!0,this.grid,this.j,b);a||this.ji(b)};pa.prototype.Po=function(){var a=this.Wa,b=this.ad;this.width=512;this.height=256;this.Da&&this.ca.resize(this.width,this.height);this.grid=Array.matrix(ra.bb,this.height,(this.width-1>>3)+1,0,this.T,"Life.grid",W.R);this.Hd=Array.matrix(ra.bb,this.height,(this.width-1>>3)+1,0,this.T,"Life.nextGrid",W.R);this.va=Array.ne(ra.Xa,this.grid,"Life.grid16");this.Va=Array.ne(ra.Xa,this.Hd,"Life.nextGrid16");b&&(this.ad=Array.matrix(ra.Xa,this.height,
(this.width-1>>4)+1,0,this.T,"Life.state6Mask",!1),this.Fe=Array.matrix(ra.Xa,this.height,(this.width-1>>4)+1,0,this.T,"Life.state6Alive",!1),this.$d=Array.matrix(ra.Xa,this.height,(this.width-1>>4)+1,0,this.T,"Life.state6Cells",!1));this.F=this.width>>4;this.I=this.height>>4;b&&(this.td=Array.matrix(ra.Xa,this.I,(this.F-1>>4)+1,0,this.T,"Life.state6TileGrid",!1));this.j=Array.matrix(ra.Xa,this.I,(this.F-1>>4)+1,0,this.T,"Life.tileGrid",W.R);this.H=Array.matrix(ra.Xa,this.I,(this.F-1>>4)+1,0,this.T,
"Life.nextTileGrid",W.R);this.wa=Array.matrix(ra.Xa,this.I,(this.F-1>>4)+1,0,this.T,"Life.colourTileGrid",W.R);this.m=Array.matrix(ra.Xa,this.I,(this.F-1>>4)+1,0,this.T,"Life.colourTileHistoryGrid",W.R);this.ta=Array.matrix(ra.Xa,this.I,(this.F-1>>4)+1,0,this.T,"Life.diedGrid",W.R);this.yd=this.T.h(ra.Xa,(this.width-1>>4)+1,"Life.blankRow16",W.R);this.aa=this.T.h(ra.Xa,this.F>>4,"Life.blankTileRow",W.R);this.ia=this.T.h(ra.bb,this.width,"Life.blankColourRow",W.R);this.V=this.T.h(ra.Xa,(this.width-
1>>4)+1,"Life.columnOccupied16",W.R);this.Y=this.T.h(ra.Xa,(this.height-1>>4)+1,"Life.rowOccupied16",W.R);this.Se=this.T.h(ra.Xa,(this.width-1>>4)+1,"Life.columnAliveOccupied16",W.R);this.ef=this.T.h(ra.Xa,(this.height-1>>4)+1,"Life.rowAliveOccupied16",W.R);this.h=Array.matrix(ra.bb,this.height,this.width,0,this.T,"Life.colourGrid",W.R);this.s||this.D||this.u||this.G?(this.P=Array.matrix(ra.bb,this.height,this.width,0,this.T,"Life.nextColourGrid",W.R),this.Af=Array.ne(ra.Xa,this.P,"Life.nextColourGrid16"),
this.Pa=Array.ne(ra.lc,this.P,"Life.nextColourGrid32")):this.Pa=this.Af=this.P=null;this.Ba=Array.matrix(ra.bb,this.height,this.width,0,this.T,"Life.smallColourGrid",W.R);this.ke=Array.ne(ra.Xa,this.h,"Life.colourGrid16");this.Ua=Array.ne(ra.lc,this.h,"Life.colourGrid32");a&&(this.Wa=Array.matrix(ra.bb,this.height,this.width,0,this.T,"Life.overlayGrid",W.R),this.Db=Array.matrix(ra.bb,this.height,this.width,0,this.T,"Life.smallOverlayGrid",W.R),this.Kg=Array.ne(ra.Xa,this.Wa,"Life.overlayGrid16"),
this.vc=Array.ne(ra.lc,this.Wa,"Life.overlayGrid32"));this.Ia=this.width-1;this.Ha=this.height-1;this.Xc.S((this.F-1>>4)+1,this.I,0,0,0,0,this.Dc)};pa.prototype.Ic=function(a,b,c,d,f){var e;for(e=0;e<a;e+=1)d[e+b].set(f[e],c)};pa.prototype.Tf=function(a,b,c){var d=this.height,f=this.grid,e=this.Hd,g=this.h,k=this.P,l=this.Wa,p=this.ad,n=this.Fe,q=this.$d,m=this.Gh,r=this.We,u=this.td,t=this.j,v=this.H,B=this.wa,w=this.m,z=this.ta,E=this.Jg,H=this.Wf,L=this.I,N=0,M=0,V=0,X=0;if(this.width<this.ea||
d<this.ea||!c)if(a&&(N=this.width>>1,this.width*=2),b&&(M=this.height>>1,this.height*=2),this.Da&&this.ca.resize(this.width,this.height),this.grid=Array.matrix(ra.bb,this.height,(this.width-1>>3)+1,0,this.T,"Life.grid",W.R),this.Hd=Array.matrix(ra.bb,this.height,(this.width-1>>3)+1,0,this.T,"Life.nextGrid",W.R),this.va=Array.ne(ra.Xa,this.grid,"Life.grid16"),this.Va=Array.ne(ra.Xa,this.Hd,"Life.nextGrid16"),p&&(this.ad=Array.matrix(ra.Xa,this.height,(this.width-1>>4)+1,0,this.T,"Life.state6Mask",
!1),this.Fe=Array.matrix(ra.Xa,this.height,(this.width-1>>4)+1,0,this.T,"Life.state6Alive",!1),this.$d=Array.matrix(ra.Xa,this.height,(this.width-1>>4)+1,0,this.T,"Life.state6Cells",!1)),this.F=this.width>>4,this.I=this.height>>4,p&&(this.td=Array.matrix(ra.Xa,this.I,(this.F-1>>4)+1,0,this.T,"Life.state6TileGrid",!1)),this.j=Array.matrix(ra.Xa,this.I,(this.F-1>>4)+1,0,this.T,"Life.tileGrid",W.R),this.H=Array.matrix(ra.Xa,this.I,(this.F-1>>4)+1,0,this.T,"Life.nextTileGrid",W.R),this.wa=Array.matrix(ra.Xa,
this.I,(this.F-1>>4)+1,0,this.T,"Life.colourTileGrid",W.R),this.m=Array.matrix(ra.Xa,this.I,(this.F-1>>4)+1,0,this.T,"Life.colourTileHistoryGrid",W.R),this.ta=Array.matrix(ra.Xa,this.I,(this.F-1>>4)+1,0,this.T,"Life.diedGrid",W.R),E&&(this.Jg=Array.matrix(ra.Xa,this.I,(this.F-1>>4)+1,0,this.T,"Life.occTileMap",!1)),H&&(this.Wf=Array.matrix(ra.Xa,this.I,(this.F-1>>4)+1,0,this.T,"Life.occMergedTileMap",!1)),this.yd=this.T.h(ra.Xa,(this.width-1>>4)+1,"Life.blankRow16",W.R),this.aa=this.T.h(ra.Xa,this.F>>
4,"Life.blankTileRow",W.R),this.ia=this.T.h(ra.bb,this.width,"Life.blankColourRow",W.R),this.V=this.T.h(ra.Xa,(this.width-1>>4)+1,"Life.columnOccupied16",W.R),this.Y=this.T.h(ra.Xa,(this.height-1>>4)+1,"Life.rowOccupied16",W.R),this.Se=this.T.h(ra.Xa,(this.width-1>>4)+1,"Life.columnAliveOccupied16",W.R),this.ef=this.T.h(ra.Xa,(this.height-1>>4)+1,"Life.rowAliveOccupied16",W.R),m&&(this.Gh=Array.matrix(ra.bb,this.height,this.width,y.Hp,this.T,"Life.countList",!1)),r&&(this.We=Array.matrix(ra.bb,this.height,
this.width,0,this.T,"Life.initList",!1)),this.h=Array.matrix(ra.bb,this.height,this.width,0,this.T,"Life.colourGrid",W.R),this.Ba=Array.matrix(ra.bb,this.height,this.width,0,this.T,"Life.smallColourGrid",W.R),this.ke=Array.ne(ra.Xa,this.h,"Life.colourGrid16"),this.Ua=Array.ne(ra.lc,this.h,"Life.colourGrid32"),this.s||this.D||this.u||this.G?(this.P=Array.matrix(ra.bb,this.height,this.width,0,this.T,"Life.nextColourGrid",W.R),this.Af=Array.ne(ra.Xa,this.P,"Life.nextColourGrid16"),this.Pa=Array.ne(ra.lc,
this.P,"Life.nextColourGrid32")):this.Pa=this.Af=this.P=null,l&&(this.Wa=Array.matrix(ra.bb,this.height,this.width,0,this.T,"Life.overlayGrid",W.R),this.Db=Array.matrix(ra.bb,this.height,this.width,0,this.T,"Life.smallOverlayGrid",W.R),this.Kg=Array.ne(ra.Xa,this.Wa,"Life.overlayGrid16"),this.vc=Array.ne(ra.lc,this.Wa,"Life.overlayGrid32")),this.Ia=this.width-1,this.Ha=this.height-1,c&&(this.Ic(d,M,N>>3,this.grid,f),this.Ic(d,M,N>>3,this.Hd,e),this.Ic(d,M,N,this.h,g),(this.s||this.D||this.u||this.G)&&
this.Ic(d,M,N,this.P,k),this.Gh&&this.Ic(d,M,N,this.Gh,m),this.We&&this.Ic(d,M,N,this.We,r),l&&this.Ic(d,M,N,this.Wa,l),p&&n&&q&&(this.Ic(d,M,N>>4,this.ad,p),this.Ic(d,M,N>>4,this.Fe,n),this.Ic(d,M,N>>4,this.$d,q)),b&&(X=L>>1),a&&(V=this.j[0].length>>2),u&&this.Ic(L,X,V,this.td,u),this.Ic(L,X,V,this.j,t),this.Ic(L,X,V,this.H,v),this.Ic(L,X,V,this.wa,B),this.Ic(L,X,V,this.m,w),this.Ic(L,X,V,this.ta,z)),this.Xc.S((this.F-1>>4)+1,this.I,V,X,N,M,this.Dc),this.ma+=N,this.ka+=M,this.ha&&(this.ma-=M/2|0),
this.A.J+=N,this.A.L+=N,this.A.N+=M,this.A.K+=M,this.ya.J+=N,this.ya.L+=N,this.ya.N+=M,this.ya.K+=M,this.xb.J+=N,this.xb.L+=N,this.xb.N+=M,this.xb.K+=M,this.mb.J+=N,this.mb.L+=N,this.mb.N+=M,this.mb.K+=M,0<this.oc)for(b=0;b<this.oc;b+=1)c=this.nc[(b<<1)+1],a=(c>>16)+N,c=(c&65535)+M,this.nc[(b<<1)+1]=a<<16|c};pa.prototype.Ql=function(a,b,c){var d=this.width,f=this.height,e=!1,g=!1,k=!1;if(d<this.ea||f<this.ea)if(d<this.ea&&(b.J<=c||b.L>=d-c)&&(e=!0),f<this.ea&&(b.K<=c||b.N>=f-c)&&(g=!0),e||g)this.Tf(e,
g,!0),k=!0,e&&(a.va+=this.width>>2,a.ya+=this.width>>2),g&&(a.Cb+=this.height>>2,a.Jb+=this.height>>2),a.g.ha&&g&&(a.va-=this.height>>3,a.ya-=this.height>>3),e&&(a.H+=this.width>>2),g&&(a.F+=this.height>>2),e&&(b.J+=this.width>>2,b.L+=this.width>>2),g&&(b.K+=this.height>>2,b.N+=this.height>>2);return k};pa.prototype.Pl=function(a,b,c){for(c=c+1>>1;this.Ql(a,b,c););};pa.prototype.Io=function(){var a,b,c=this.ec;for(a=0;65536>a;a+=1){var d=a;for(b=0;d;b+=1)d&=d-1;c[a]=b}};pa.prototype.Lo=function(){var a,
b,c=this.oh,d=this.xa;for(a=0;256>a;a+=1)for(b=0;8>b;b+=1)c[(a<<3)+b]=a&1<<7-b?d:0};pa.prototype.To=function(a,b){W.R&&W.lK&&this.view.i?this.Da||this.s||this.D||this.G||this.la?this.ol(a,b):(this.B=va.lJ(a.o.byteOffset|0,a[0].length|0,this.A.J|0,this.A.K|0,this.A.L|0,this.A.N|0),this.ga=0):this.ol(a,b)};pa.prototype.ol=function(a,b){var c,d=0,f=this.ec;var e=0;var g=this.A;var k=g.J,l=g.L,p=g.N;g=g.K;this.Da&&(e=2<this.i?this.v+this.i-1:y.xa);if(this.Da||this.s||this.D||this.G||this.la)for(;g<=p;g+=
1)for(a=b[g],c=k;c<=l;c+=1){var n=a[c];0<n&&(this.s?d+=f[n-this.v]:this.Da?n===e&&(d+=1):this.G?0<n&&(d+=1):d+=1)}else for(k>>=4,l>>=4;g<=p;g+=1)for(b=a[g],c=k;c<=l;c+=1)e=f[b[c]],d+=e;this.B=d;this.ga=this.na=0};pa.prototype.ql=function(a,b){var c=this.oa,d=!1;var f=this.jc?4278190080:255;if(this.displayWidth!==a||this.displayHeight!==b)d=!0;this.displayWidth=a;this.displayHeight=b;this.Fg=this.Zn=this.Nc=this.Kc=null;W.R&&this.T.I();a=this.T.A(ra.gt,c.canvas.width*c.canvas.height*4,"Life.imageData",
W.R);this.Kc=new ImageData(a,c.canvas.width,c.canvas.height);W.R&&(this.Qg=this.T.A(ra.lc,this.displayWidth,"Life.xOffsets",W.R),this.sj=this.T.A(ra.lc,this.displayWidth,"Life.xMaxOffsets",W.R));this.Kc.data.buffer?this.Nc=new Uint32Array(this.Kc.data.buffer,this.Kc.data.byteOffset,c.canvas.width*c.canvas.height):(this.Nc=new Uint32Array(this.Kc.data.length>>2),this.Zn=new Uint8Array(this.Nc.buffer));d&&(this.$l(f),this.Ni(),null!==this.Yb&&(this.Yb.width=this.displayWidth+G.Pb,this.Yb.height=this.displayHeight+
G.Pb,this.uf=this.Yb.getContext("2d",{alpha:!1}),this.wh=this.uf.createImageData(this.Yb.width,this.Yb.height)))};pa.prototype.mm=function(a,b,c){var d,f,e=this.h,g=a.width,k=a.height,l=this.Ia,p=this.Ha,n=this.Hh,q=G.sb[2];for(f=0;f<k;f+=1){var m=a.ca[f];var r=e[f+c&p];for(d=0;d<g;d+=1)m[d]===q&&(r[d+b&l]=n)}};pa.prototype.wn=function(){this.vc=this.Kg=this.Db=this.Wa=null};pa.prototype.Mm=function(){this.Wa=Array.matrix(ra.bb,this.height,this.width,0,this.T,"Life.overlayGrid",W.R);this.Db=Array.matrix(ra.bb,
this.height,this.width,0,this.T,"Life.smallOverlayGrid",W.R);this.Kg=Array.ne(ra.Xa,this.Wa,"Life.overlayGrid16");this.vc=Array.ne(ra.lc,this.Wa,"Life.overlayGrid32")};pa.prototype.yn=function(){this.td=this.$d=this.Fe=this.ad=null};pa.prototype.Al=function(){this.ad=Array.matrix(ra.Xa,this.height,(this.width-1>>4)+1,0,this.T,"Life.state6Mask",!1);this.Fe=Array.matrix(ra.Xa,this.height,(this.width-1>>4)+1,0,this.T,"Life.state6Alive",!1);this.$d=Array.matrix(ra.Xa,this.height,(this.width-1>>4)+1,0,
this.T,"Life.state6Cells",!1);this.td=Array.matrix(ra.Xa,this.I,(this.F-1>>4)+1,0,this.T,"Life.state6TileGrid",!1)};pa.prototype.rb=function(){var a,b,c=this.Ia,d=this.Ha,f=this.td,e=this.u?6:G.sb[6]+128,g=this.u?this.h:this.Wa,k=this.oj,l=this.width,p=-1,n=this.height,q=-1;if(this.O)for(this.ad.o.fill(0),this.$d.o.fill(0),this.Fe.o.fill(0),this.td.o.fill(0),b=0;b<this.height;b+=1){var m=g[b];if(0<b){var r=this.ad[b-1&d];var u=f[(b-1&d)>>4]}else u=r=null;var t=this.ad[b&d];var v=f[(b&d)>>4];var B=
this.$d[b&d];if(b<this.height-1){var w=this.ad[b+1&d];var z=f[(b+1&d)>>4]}else z=w=null;for(a=0;a<this.width;a+=1)if(m[a]===e){a<l&&(l=a);a>p&&(p=a);b<n&&(n=b);b>q&&(q=b);var E=a&c;B[E>>4]|=1<<(~E&15);r&&(r[E>>4]|=1<<(~E&15),u[E>>8]|=1<<(~(E>>4)&15));t[E>>4]|=1<<(~E&15);v[E>>8]|=1<<(~(E>>4)&15);w&&(w[E>>4]|=1<<(~E&15),z[E>>8]|=1<<(~(E>>4)&15));0<a&&(E=a-1&c,!this.ud&&r&&(r[E>>4]|=1<<(~E&15),u[E>>8]|=1<<(~(E>>4)&15)),t[E>>4]|=1<<(~E&15),v[E>>8]|=1<<(~(E>>4)&15),this.ha||this.ud||!w||(w[E>>4]|=1<<(~E&
15),z[E>>8]|=1<<(~(E>>4)&15)));a<this.width-1&&(E=a+1&c,this.ha||this.ud||!r||(r[E>>4]|=1<<(~E&15),u[E>>8]|=1<<(~(E>>4)&15)),t[E>>4]|=1<<(~E&15),v[E>>8]|=1<<(~(E>>4)&15),!this.ud&&w&&(w[E>>4]|=1<<(~E&15),z[E>>8]|=1<<(~(E>>4)&15)))}}else for(b=0;b<this.height;b+=1)for(m=g[b],a=0;a<this.width;a+=1)6===m[a]&&(a<l&&(l=a),a>p&&(p=a),b<n&&(n=b),b>q&&(q=b));k.J=l;k.K=n;k.L=p;k.N=q};pa.prototype.$f=function(a){if(!(this.s||this.D||this.Da))switch(this.$a){case y.ig:W.R&&W.kK&&this.view.i?va.kJ(a.o.byteOffset|
0,a[0].length|0,this.h.o.byteOffset|0,this.h[0].length|0,y.xa|0,this.A.J|0,this.A.K|0,this.A.L|0,this.A.N|0):this.$i(a);break;case y.tf:this.Jo(a);break;case y.jg:this.$i(a);this.Gj();break;case y.If:this.$i(a)}};pa.prototype.Jo=function(a){var b,c=this.h;var d=this.A;var f=d.J>>4,e=d.L>>4,g=d.N;for(b=d.K;b<=g;b+=1){var k=a[b];var l=c[b];var p=f<<4;for(d=f;d<=e;d+=1){var n=k[d]>>8;l[p]=n&128?(b+p&127)+64:0;p+=1;l[p]=n&64?(b+p&127)+64:0;p+=1;l[p]=n&32?(b+p&127)+64:0;p+=1;l[p]=n&16?(b+p&127)+64:0;p+=
1;l[p]=n&8?(b+p&127)+64:0;p+=1;l[p]=n&4?(b+p&127)+64:0;p+=1;l[p]=n&2?(b+p&127)+64:0;p+=1;l[p]=n&1?(b+p&127)+64:0;p+=1;n=k[d]&255;l[p]=n&128?(b+p&127)+64:0;p+=1;l[p]=n&64?(b+p&127)+64:0;p+=1;l[p]=n&32?(b+p&127)+64:0;p+=1;l[p]=n&16?(b+p&127)+64:0;p+=1;l[p]=n&8?(b+p&127)+64:0;p+=1;l[p]=n&4?(b+p&127)+64:0;p+=1;l[p]=n&2?(b+p&127)+64:0;p+=1;l[p]=n&1?(b+p&127)+64:0;p+=1}}};pa.prototype.$i=function(a){var b,c,d=this.Ua,f=new Uint32Array(this.oh.buffer,this.oh.byteOffset,this.oh.length/4);var e=this.A;var g=
e.J>>4,k=e.L>>4,l=e.N;e=e.K;if(!(this.s||this.D||this.Da))for(b=e;b<=l;b+=1){var p=a[b];var n=d[b];var q=g<<2;for(e=g;e<=k;e+=1){if(c=p[e]){var m=c>>8<<1;n[q]=f[m];q+=1;n[q]=f[m+1];q+=1;m=(c&255)<<1;n[q]=f[m];q+=1;n[q]=f[m+1]}else n[q]=0,q+=1,n[q]=0,q+=1,n[q]=0,q+=1,n[q]=0;q+=1}}};pa.prototype.Cc=function(a){var b=[],c,d;for(d=0;7>d;d+=1){var f=[];for(c=0;7>c;c+=1)f[c]=0;b[d]=f}for(d=0;3>d;d+=1)for(c=0;3>c;c+=1)b[d+2][c+2]=a[d][c];return b};pa.prototype.vm=function(){this.zi=this.Cc(y.TG);this.Ai=
this.Cc(y.UG);this.Bi=this.Cc(y.VG);this.Ci=this.Cc(y.WG);this.vi=this.Cc(y.OG);this.wi=this.Cc(y.PG);this.xi=this.Cc(y.QG);this.yi=this.Cc(y.SG);this.Hi=this.Cc(y.aH);this.Ii=this.Cc(y.bH);this.Ji=this.Cc(y.cH);this.Ki=this.Cc(y.dH);this.Di=this.Cc(y.XG);this.Ei=this.Cc(y.YG);this.Fi=this.Cc(y.ZG);this.Gi=this.Cc(y.$G)};pa.prototype.Oo=function(a,b,c){var d=this.yd,f=this.ia,e=this.aa;this.Dc=!1;this.Ia=this.width-1;this.Ha=this.height-1;this.A=new Ua(0,0,this.width-1,this.height-1);this.xb=new Ua(0,
0,this.width-1,this.height-1);this.ya=new Ua(0,0,this.width-1,this.height-1);this.Li=new Ua(0,0,this.width-1,this.height-1);this.oj=new Ua(this.width,this.height,-1,-1);this.mb=new Ua(0,0,this.width-1,this.height-1);this.oa=a;this.Lo();this.ql(b,c);d.fill(0);f.fill(0);e.fill(0);this.vm()};pa.prototype.Gm=function(){var a=0;this.pa[a]=new Na("Mono",new xa(new T(0,0,0),new T(0,0,0)),new xa(new T(255,255,255),new T(255,255,255)),new T(0,0,0),new T(255,255,255),new xa(new T(64,64,64),new T(-1,-1,-1)),
new xa(new T(0,0,0),new T(0,0,0)),new T(0,0,0),[new T(64,64,64),new T(64,64,64),new T(128,128,128),new T(64,64,64),new T(128,128,128),new T(128,128,128),new T(192,192,192),new T(64,64,64),new T(128,128,128),new T(128,128,128),new T(192,192,192),new T(128,128,128),new T(192,192,192),new T(192,192,192),new T(255,255,255)]);a+=1;this.pa[a]=new Na("Blues",new xa(new T(0,0,47),new T(0,0,255)),new xa(new T(0,255,255),new T(255,255,255)),new T(0,0,0),new T(0,255,255),new xa(new T(0,0,255),new T(-1,-1,-1)),
new xa(new T(0,0,47),new T(0,0,128)),new T(0,0,0),[new T(0,128,255),new T(0,255,128),new T(0,192,192),new T(128,0,255),new T(0,0,255),new T(96,128,192),new T(128,255,224),new T(255,0,128),new T(96,96,192),new T(128,128,255),new T(128,224,255),new T(192,0,192),new T(255,128,224),new T(224,128,225),new T(224,224,255)]);a+=1;this.pa[a]=new Na("Fire",new xa(new T(32,0,0),new T(160,0,0)),new xa(new T(255,144,0),new T(255,255,0)),new T(0,0,0),new T(255,144,0),new xa(new T(240,0,0),new T(-1,-1,-1)),new xa(new T(32,
0,0),new T(160,0,0)),new T(0,0,0),[new T(128,0,0),new T(128,0,48),new T(192,0,48),new T(128,48,48),new T(192,64,0),new T(192,48,64),new T(224,48,64),new T(128,48,0),new T(192,48,0),new T(192,0,64),new T(224,48,64),new T(192,64,48),new T(224,64,48),new T(224,64,64),new T(255,192,0)]);a+=1;this.pa[a]=new Na("Poison",new xa(new T(0,24,0),new T(0,128,0)),new xa(new T(0,255,255),new T(255,255,255)),new T(0,0,0),new T(0,255,255),new xa(new T(0,192,0),new T(-1,-1,-1)),new xa(new T(0,24,0),new T(0,128,0)),
new T(0,0,0),[new T(0,128,255),new T(0,255,128),new T(0,192,192),new T(64,0,255),new T(0,0,255),new T(48,128,192),new T(64,255,224),new T(0,128,128),new T(48,128,192),new T(64,128,255),new T(64,224,255),new T(0,96,192),new T(64,128,224),new T(56,128,255),new T(224,255,224)]);a+=1;this.pa[a]=new Na("Yellow",new xa(new T(0,47,0),new T(128,0,128)),new xa(new T(255,255,0),new T(255,255,255)),new T(0,32,128),new T(255,255,0),new xa(new T(192,64,64),new T(-1,-1,-1)),new xa(new T(0,47,0),new T(128,0,128)),
new T(0,32,128),[new T(0,150,0),new T(50,100,0),new T(50,200,0),new T(150,0,0),new T(75,25,0),new T(200,100,0),new T(200,225,0),new T(100,50,0),new T(100,200,0),new T(25,75,0),new T(150,255,0),new T(200,50,0),new T(225,200,0),new T(255,225,0),new T(255,255,0)]);a+=1;this.pa[a]=new Na("Gray",new xa(new T(16,16,16),new T(104,104,104)),new xa(new T(176,176,176),new T(240,240,240)),new T(0,0,0),new T(240,240,240),new xa(new T(160,160,160),new T(-1,-1,-1)),new xa(new T(16,16,16),new T(104,104,104)),new T(0,
0,0),[new T(128,128,128),new T(128,128,128),new T(144,144,144),new T(128,128,128),new T(144,144,144),new T(144,144,144),new T(160,160,160),new T(128,128,128),new T(144,144,144),new T(144,144,144),new T(160,160,160),new T(144,144,144),new T(160,160,160),new T(160,160,160),new T(192,192,192)]);a+=1;this.pa[a]=new Na("Inverse",new xa(new T(255,255,255),new T(255,255,255)),new xa(new T(0,0,0),new T(0,0,0)),new T(255,255,255),new T(0,0,0),new xa(new T(192,192,192),new T(-1,-1,-1)),new xa(new T(255,255,
255),new T(255,255,255)),new T(255,255,255),[new T(192,192,192),new T(192,192,192),new T(128,128,128),new T(192,192,192),new T(128,128,128),new T(128,128,128),new T(64,64,64),new T(192,192,192),new T(128,128,128),new T(128,128,128),new T(64,64,64),new T(128,128,128),new T(64,64,64),new T(64,64,64),new T(0,0,0)]);a+=1;this.pa[a]=new Na("Day",new xa(new T(240,240,240),new T(0,255,255)),new xa(new T(0,0,255),new T(0,0,0)),new T(255,255,255),new T(0,0,255),new xa(new T(0,255,255),new T(-1,-1,-1)),new xa(new T(240,
240,240),new T(0,192,192)),new T(255,255,255),[new T(192,224,255),new T(192,255,224),new T(192,0,192),new T(224,192,255),new T(128,128,255),new T(96,96,192),new T(0,128,32),new T(255,192,224),new T(96,128,192),new T(0,0,255),new T(0,32,128),new T(0,192,192),new T(128,0,32),new T(32,0,128),new T(0,0,32)]);a+=1;this.pa[a]=new Na("Occupied",new xa(new T(240,240,240),new T(240,240,240)),new xa(new T(240,240,240),new T(240,240,240)),new T(0,0,0),new T(240,240,240),new xa(new T(240,240,240),new T(240,240,
240)),new xa(new T(240,240,240),new T(240,240,240)),new T(0,0,0),[new T(240,240,240),new T(240,240,240),new T(240,240,240),new T(240,240,240),new T(240,240,240),new T(240,240,240),new T(240,240,240),new T(240,240,240),new T(240,240,240),new T(240,240,240),new T(240,240,240),new T(240,240,240),new T(240,240,240),new T(240,240,240),new T(240,240,240)]);a+=1;this.pa[a]=new Na("Red",new xa(new T(160,0,0),new T(160,0,0)),new xa(new T(240,240,240),new T(240,240,240)),new T(0,0,0),new T(255,255,255),new xa(new T(160,
160,160),new T(160,160,160)),new xa(new T(160,0,0),new T(160,0,0)),new T(0,0,0),[new T(255,255,255),new T(255,255,255),new T(255,255,255),new T(255,255,255),new T(255,255,255),new T(255,255,255),new T(255,255,255),new T(255,255,255),new T(255,255,255),new T(255,255,255),new T(255,255,255),new T(255,255,255),new T(255,255,255),new T(255,255,255),new T(255,255,255)]);a+=1;this.pa[a]=new Na("LifeHistory",new xa(new T(0,0,96),new T(0,0,160)),new xa(new T(0,240,0),new T(16,255,16)),new T(0,0,0),new T(16,
255,16),new xa(new T(0,128,160),new T(-1,-1,-1)),new xa(new T(0,0,96),new T(0,0,160)),new T(0,0,0),[new T(255,0,0),new T(192,192,0),new T(224,144,0),new T(0,192,192),new T(192,144,144),new T(144,192,144),new T(255,224,192),new T(0,0,255),new T(192,0,192),new T(144,144,192),new T(255,192,255),new T(0,144,224),new T(128,96,224),new T(144,192,224),new T(224,224,224)]);a+=1;this.pa[a]=new Na("Generations",new xa(new T(64,0,0),new T(255,0,0)),new xa(new T(255,255,0),new T(255,255,255)),new T(0,0,0),new T(255,
255,0),new xa(new T(255,0,0),new T(-1,-1,-1)),new xa(new T(64,0,0),new T(128,0,0)),new T(0,0,0),[new T(255,128,0),new T(224,128,64),new T(192,192,0),new T(255,16,32),new T(255,0,0),new T(192,128,48),new T(255,224,64),new T(128,32,64),new T(192,96,48),new T(255,128,64),new T(255,224,64),new T(192,24,48),new T(224,128,128),new T(255,218,112),new T(255,255,224)]);a+=1;this.pa[a]=new Na("Golly",new xa(new T(48,48,48),new T(48,48,48)),new xa(new T(255,255,255),new T(255,255,255)),new T(48,48,48),new T(255,
0,0),new xa(new T(255,255,0),new T(-1,-1,-1)),new xa(new T(48,48,48),new T(48,48,48)),new T(48,48,48),[new T(0,255,127),new T(127,0,255),new T(148,148,148),new T(128,255,9),new T(255,0,128),new T(0,128,255),new T(1,159,0),new T(159,0,1),new T(255,254,96),new T(0,1,159),new T(96,255,254),new T(254,96,255),new T(126,125,21),new T(21,126,125),new T(125,21,126)]);this.pa[a].I(10,new T(80,80,80),new T(112,112,112));a+=1;this.pa[a]=new Na("MCell",new xa(new T(0,0,0),new T(0,0,0)),new xa(new T(255,255,0),
new T(255,255,0)),new T(0,0,0),new T(255,255,0),new xa(new T(0,255,0),new T(-1,-1,-1)),new xa(new T(0,0,0),new T(0,0,0)),new T(0,0,0),[new T(255,255,0),new T(255,219,0),new T(255,183,0),new T(255,147,0),new T(255,111,0),new T(255,75,0),new T(255,39,0),new T(255,0,0),new T(240,0,0),new T(225,0,0),new T(210,0,0),new T(195,0,0),new T(180,0,0),new T(165,0,0),new T(150,0,0)]);this.pa[a].I(5,new T(64,0,0),new T(99,3,1));a+=1;this.pa[a]=new Na("Catagolue",new xa(new T(160,221,204),new T(160,221,204)),new xa(new T(0,
0,0),new T(0,0,0)),new T(192,255,238),new T(0,0,0),new xa(new T(96,192,139),new T(2,129,2)),new xa(new T(160,221,204),new T(160,221,204)),new T(192,255,238),[new T(0,0,0),new T(0,128,0),new T(0,64,0),new T(255,0,0),new T(128,0,0),new T(128,64,0),new T(85,43,0),new T(0,0,255),new T(0,0,128),new T(0,64,128),new T(0,43,85),new T(128,0,128),new T(85,0,85),new T(85,43,85),new T(64,32,64)]);this.pa[a].I(0,new T(160,221,204),new T(160,221,204));a+=1;this.pa[a]=new Na("Caterer",new xa(new T(54,57,62),new T(54,
57,62)),new xa(new T(255,255,255),new T(255,255,255)),new T(54,57,62),new T(255,170,0),new xa(new T(255,85,0),new T(-1,-1,-1)),new xa(new T(54,57,62),new T(54,57,62)),new T(54,57,62),[new T(48,93,148),new T(58,73,148),new T(144,137,188),new T(78,72,128),new T(134,137,218),new T(124,147,228),new T(130,151,242),new T(78,93,118),new T(114,107,218),new T(114,137,238),new T(120,171,242),new T(84,137,188),new T(150,171,212),new T(150,151,222),new T(186,205,255)]);this.pa[a].I(0,new T(0,0,0),new T(0,0,0));
a+=1;this.pa[a]=new Na("Life32",new xa(new T(255,255,255),new T(255,255,255)),new xa(new T(0,0,128),new T(0,0,128)),new T(255,255,255),new T(0,0,128),new xa(new T(0,0,64),new T(-1,-1,-1)),new xa(new T(255,255,255),new T(255,255,255)),new T(255,255,255),[new T(255,128,128),new T(192,192,128),new T(224,144,96),new T(128,192,192),new T(192,112,112),new T(144,192,144),new T(128,96,64),new T(128,128,255),new T(192,96,192),new T(112,112,192),new T(128,64,128),new T(96,144,224),new T(64,32,160),new T(32,
96,128),new T(32,32,32)]);this.pa[a].I(5,new T(192,192,192),new T(128,128,128));a+=1;this.pa[a]=new Na("Margolus",new xa(new T(0,0,47),new T(0,0,128)),new xa(new T(255,255,0),new T(255,255,255)),new T(0,0,0),new T(255,255,0),new xa(new T(64,64,128),new T(-1,-1,-1)),new xa(new T(0,0,47),new T(0,0,128)),new T(0,0,0),[new T(255,128,0),new T(224,128,64),new T(192,192,0),new T(255,16,32),new T(255,0,0),new T(192,128,48),new T(224,255,64),new T(128,32,64),new T(192,96,48),new T(255,128,64),new T(255,224,
64),new T(192,24,48),new T(224,128,128),new T(255,128,112),new T(255,255,224)]);this.pa[a].I(2,new T(64,64,128),new T(32,32,255));a+=1;this.pa[a]=new Na("PCA",new xa(new T(24,24,24),new T(64,64,64)),new xa(new T(176,176,176),new T(240,240,240)),new T(0,0,0),new T(240,240,240),new xa(new T(160,160,160),new T(-1,-1,-1)),new xa(new T(24,24,24),new T(64,64,64)),new T(0,0,0),[new T(255,0,0),new T(0,255,0),new T(128,128,0),new T(16,16,255),new T(128,0,128),new T(0,128,128),new T(96,96,96),new T(255,255,
0),new T(255,128,0),new T(128,255,0),new T(170,170,0),new T(144,144,144),new T(170,85,85),new T(85,128,43),new T(128,128,64)]);a+=1;this.pa[a]=new Na("Book",new xa(new T(255,220,192),new T(192,220,255)),new xa(new T(0,0,0),new T(0,0,0)),new T(255,255,255),new T(0,0,0),new xa(new T(128,128,128),new T(48,48,48)),new xa(new T(255,220,192),new T(192,220,255)),new T(255,255,255),[new T(255,128,128),new T(192,192,128),new T(224,144,96),new T(128,192,192),new T(192,112,112),new T(144,192,144),new T(128,
96,64),new T(128,128,255),new T(192,96,192),new T(112,112,192),new T(128,64,128),new T(96,144,224),new T(64,32,160),new T(32,96,128),new T(32,32,32)]);this.pa[a].I(0,new T(192,192,192),new T(209,209,209));this.pa[a+1]=new Na(D.ep,new xa(new T(0,0,0),new T(0,0,0)),new xa(new T(0,0,0),new T(0,0,0)),new T(0,0,0),new T(0,0,0),new xa(new T(0,0,0),new T(0,0,0)),new xa(new T(0,0,0),new T(0,0,0)),new T(0,0,0),[new T(255,0,0),new T(0,255,0),new T(128,128,0),new T(16,16,255),new T(128,0,128),new T(0,128,128),
new T(96,96,96),new T(255,255,0),new T(255,128,0),new T(128,255,0),new T(170,170,0),new T(144,144,144),new T(170,85,85),new T(85,128,43),new T(128,128,64)]);this.Mb=this.pa.length-1;this.ge=new xa(new T(0,0,0),new T(0,0,0));this.kd=new xa(new T(0,0,0),new T(0,0,0));this.Ge=new T(0,0,0);this.Lf=new T(0,0,0);this.me=new xa(new T(0,0,0),new T(0,0,0));this.Ue=new xa(new T(0,0,0),new T(0,0,0));this.eg=new T(0,0,0);this.Ze=[new T(0,0,0),new T(0,0,0),new T(0,0,0),new T(0,0,0),new T(0,0,0),new T(0,0,0),new T(0,
0,0),new T(0,0,0),new T(0,0,0),new T(0,0,0),new T(0,0,0),new T(0,0,0),new T(0,0,0),new T(0,0,0),new T(0,0,0)];this.wd=new xa(new T(0,0,0),new T(0,0,0));this.ed=new xa(new T(0,0,0),new T(0,0,0));this.ae=new T(0,0,0);this.xf=new T(0,0,0);this.Vd=new xa(new T(0,0,0),new T(0,0,0));this.le=new xa(new T(0,0,0),new T(0,0,0));this.Df=new T(0,0,0);this.Id=[new T(0,0,0),new T(0,0,0),new T(0,0,0),new T(0,0,0),new T(0,0,0),new T(0,0,0),new T(0,0,0),new T(0,0,0),new T(0,0,0),new T(0,0,0),new T(0,0,0),new T(0,
0,0),new T(0,0,0),new T(0,0,0),new T(0,0,0)]};pa.prototype.ej=function(a,b,c){var d=this.pa[a],f;this.qb=a;this.ph();this.ge.set(this.wd);this.kd.set(this.ed);this.Ge.set(this.ae);this.Lf.set(this.xf);this.Ue.set(this.le);this.me.set(this.Vd);this.eg.set(this.Df);for(f=0;f<this.Id.length;f+=1)this.Ze[f]=this.Id[f];12===a&&this.Da?this.wd.set(this.pa[11].i):this.wd.set(d.i);this.ed.set(d.h);this.ae.set(d.v);this.Df.set(d.F);for(f=0;f<this.Id.length;f+=1)this.Id[f]=d.D[f];this.le.set(d.j);12===a&&this.Da&&
(d=this.pa[11]);this.xf.set(d.A);this.Vd.set(d.m);this.Od=b;this.Lb=d.s;this.xc=d.u;this.lb=a!==this.Mb&&this.ja&&0!==d.B?2:d.B;this.jc?(this.fd=-16777216|(this.Lb&255)<<16|(this.Lb>>8&255)<<8|this.Lb>>16,this.sd=-16777216|(this.xc&255)<<16|(this.xc>>8&255)<<8|this.xc>>16):(this.fd=this.Lb>>16<<24|(this.Lb>>8&255)<<16|(this.Lb&255)<<8|255,this.sd=this.xc>>16<<24|(this.xc>>8&255)<<16|(this.xc&255)<<8|255);this.O&&(a===this.Mb?this.wj(c.nf,c.Y):this.wj(c.nf,null));c.yq()};pa.prototype.ph=function(){var a=
this.$a;a!==y.ig||this.pa[this.qb].H(this.O,this.view)||this.Da||(a=y.If);switch(a){case y.ig:this.Pj();break;case y.tf:this.Dm();break;case y.jg:this.Pj();break;case y.If:this.Am()}};pa.prototype.Am=function(){var a=this.Re;a[0]=0;a[1]=16384;a[2]=64;a[3]=16448};pa.prototype.Dm=function(){var a=this.Re,b;for(b=0;512>b;b+=1){var c=b&128;var d=b&256;var f=b&127;var e=0;0!==c&&(e=(f+1&127)+64<<8);0!==d&&(e|=(f&127)+64);a[b]=e}};pa.prototype.Pj=function(){var a=this.Re,b=this.lk,c=this.Ke,d=this.xa,f=
this.Hh,e=this.be,g,k=new Uint8Array(256);k[0]=0;k[c+1]=d;for(g=1;g<c+1;g+=1)k[g]=Math.min(Math.max(g-1,f),e),k[g+c+1]=Math.max(Math.min(g+1,c),d);if(0===this.v)for(g=d;g<=c;g+=1)k[g]=0;else this.v<e&&(k[e-this.v]=1);for(g=0;65536>g;g+=1)a[g]=k[g>>8]<<8|k[g&255];for(g=0;131072>g;g+=1)c=g&65407|(g&65536)>>9,b[g]=a[c]};pa.prototype.Nn=function(){var a;for(a=0;a<this.pa.length;a+=1){var b=this.pa[a];if(b.G)if(2>=this.i)b.m.i.set(b.A);else{var c=1/(this.i-2);b.m.i.h=b.m.h.h*c+b.A.h*(1-c)|0;b.m.i.j=b.m.h.j*
c+b.A.j*(1-c)|0;b.m.i.i=b.m.h.i*c+b.A.i*(1-c)|0}}};pa.prototype.vj=function(){var a;var b=(this.Od-1)/this.Pe;if(!this.la)if(this.G)for(a=0;a<y.Oq.length;a+=1){if(this.sa[a+this.v]=y.Oq[a][0],this.ra[a+this.v]=y.Oq[a][1],this.qa[a+this.v]=y.Oq[a][2],this.qc&&this.qc.length>=a){var c=this.qc[a];-1!==c&&(this.sa[a+this.v]=c>>16,this.ra[a+this.v]=c>>8&255,this.qa[a+this.v]=c&255)}}else if(this.u)for(a=0;a<y.Pq.length;a+=1)this.sa[a+this.v]=y.Pq[a][0],this.ra[a+this.v]=y.Pq[a][1],this.qa[a+this.v]=y.Pq[a][2],
this.qc&&this.qc.length>=a&&(c=this.qc[a],-1!==c&&(this.sa[a+this.v]=c>>16,this.ra[a+this.v]=c>>8&255,this.qa[a+this.v]=c&255));else if(2<this.i||this.D){a=0;this.D?(this.sa[a]=this.Jc[a]>>16,this.ra[a]=this.Jc[a]>>8&255,this.qa[a]=this.Jc[a]&255):(this.sa[a]=Math.round(this.eg.h*b+this.Df.h*(1-b)),this.ra[a]=Math.round(this.eg.j*b+this.Df.j*(1-b)),this.qa[a]=Math.round(this.eg.i*b+this.Df.i*(1-b)));for(a=1;a<this.i-1;a+=1){c=3>=this.i?0:(a-1)/(this.i-3);if(this.s)this.sa[a+this.v]=Math.round(this.Ze[a-
1].h*b+this.Id[a-1].h*(1-b)),this.ra[a+this.v]=Math.round(this.Ze[a-1].j*b+this.Id[a-1].j*(1-b)),this.qa[a+this.v]=Math.round(this.Ze[a-1].i*b+this.Id[a-1].i*(1-b));else if(this.D)this.sa[a]=this.Jc[a]>>16,this.ra[a]=this.Jc[a]>>8&255,this.qa[a]=this.Jc[a]&255;else{var d=Math.round(this.me.i.h*c+this.me.h.h*(1-c));var f=Math.round(this.Vd.i.h*c+this.Vd.h.h*(1-c));this.sa[a+this.v]=Math.round(d*b+f*(1-b));d=Math.round(this.me.i.j*c+this.me.h.j*(1-c));f=Math.round(this.Vd.i.j*c+this.Vd.h.j*(1-c));this.ra[a+
this.v]=Math.round(d*b+f*(1-b));d=Math.round(this.me.i.i*c+this.me.h.i*(1-c));f=Math.round(this.Vd.i.i*c+this.Vd.h.i*(1-c));this.qa[a+this.v]=Math.round(d*b+f*(1-b))}this.qc&&this.qc.length>a&&this.qb===this.Mb&&(c=this.s||this.D?this.qc[a]:this.qc[this.i-a],-1!==c&&(this.sa[a+this.v]=c>>16,this.ra[a+this.v]=c>>8&255,this.qa[a+this.v]=c&255))}a=this.i-1;this.s?(this.sa[a+this.v]=Math.round(this.Ze[a-1].h*b+this.Id[a-1].h*(1-b)),this.ra[a+this.v]=Math.round(this.Ze[a-1].j*b+this.Id[a-1].j*(1-b)),this.qa[a+
this.v]=Math.round(this.Ze[a-1].i*b+this.Id[a-1].i*(1-b))):this.D?(this.sa[a]=this.Jc[a]>>16,this.ra[a]=this.Jc[a]>>8&255,this.qa[a]=this.Jc[a]&255):(this.sa[a+this.v]=Math.round(this.Lf.h*b+this.xf.h*(1-b)),this.ra[a+this.v]=Math.round(this.Lf.j*b+this.xf.j*(1-b)),this.qa[a+this.v]=Math.round(this.Lf.i*b+this.xf.i*(1-b)));this.qc&&this.qc.length>a&&this.qb===this.Mb&&(c=this.s||this.D?this.qc[a]:this.qc[this.i-a],-1!==c&&(this.sa[a+this.v]=c>>16,this.ra[a+this.v]=c>>8&255,this.qa[a+this.v]=c&255));
for(a=0;a<this.v;a+=1)c=1<this.v?1-a/(this.v-1):1,d=Math.round(this.Ue.h.h*c+this.Ue.i.h*(1-c)),f=Math.round(this.le.h.h*c+this.le.i.h*(1-c)),this.sa[a+1]=Math.round(d*b+f*(1-b)),d=Math.round(this.Ue.h.j*c+this.Ue.i.j*(1-c)),f=Math.round(this.le.h.j*c+this.le.i.j*(1-c)),this.ra[a+1]=Math.round(d*b+f*(1-b)),d=Math.round(this.Ue.h.i*c+this.Ue.i.i*(1-c)),f=Math.round(this.le.h.i*c+this.le.i.i*(1-c)),this.qa[a+1]=Math.round(d*b+f*(1-b));this.qc&&0<this.qc.length&&this.qb===this.Mb&&(c=this.qc[0],-1!==
c&&(this.sa[0]=c>>16,this.ra[0]=c>>8&255,this.qa[0]=c&255))}else{a=0;this.sa[a]=Math.round(this.Ge.h*b+this.ae.h*(1-b));this.ra[a]=Math.round(this.Ge.j*b+this.ae.j*(1-b));this.qa[a]=Math.round(this.Ge.i*b+this.ae.i*(1-b));if(0===this.v)for(a=1;a<=this.be;a+=1)this.sa[a]=Math.round(this.Ge.h*b+this.ae.h*(1-b)),this.ra[a]=Math.round(this.Ge.j*b+this.ae.j*(1-b)),this.qa[a]=Math.round(this.Ge.i*b+this.ae.i*(1-b));else{var e=this.be-this.v+1;for(a=1;a<e;a+=1)this.sa[a]=Math.round(this.kd.h.h*b+this.ed.h.h*
(1-b)),this.ra[a]=Math.round(this.kd.h.j*b+this.ed.h.j*(1-b)),this.qa[a]=Math.round(this.kd.h.i*b+this.ed.h.i*(1-b));for(a=e;a<=this.be;a+=1)c=this.be===e?1:1-(a-e)/(this.be-e),d=Math.round(this.kd.h.h*c+this.kd.i.h*(1-c)),f=Math.round(this.ed.h.h*c+this.ed.i.h*(1-c)),this.sa[a]=Math.round(d*b+f*(1-b)),d=Math.round(this.kd.h.j*c+this.kd.i.j*(1-c)),f=Math.round(this.ed.h.j*c+this.ed.i.j*(1-c)),this.ra[a]=Math.round(d*b+f*(1-b)),d=Math.round(this.kd.h.i*c+this.kd.i.i*(1-c)),f=Math.round(this.ed.h.i*
c+this.ed.i.i*(1-c)),this.qa[a]=Math.round(d*b+f*(1-b))}for(a=this.xa;a<=this.Ke;a+=1)c=0===this.gh?1:a<this.xa+this.gh?1-(a-this.xa)/this.gh:0,d=Math.round(this.ge.h.h*c+this.ge.i.h*(1-c)),f=Math.round(this.wd.h.h*c+this.wd.i.h*(1-c)),this.sa[a]=Math.round(d*b+f*(1-b)),d=Math.round(this.ge.h.j*c+this.ge.i.j*(1-c)),f=Math.round(this.wd.h.j*c+this.wd.i.j*(1-c)),this.ra[a]=Math.round(d*b+f*(1-b)),d=Math.round(this.ge.h.i*c+this.ge.i.i*(1-c)),f=Math.round(this.wd.h.i*c+this.wd.i.i*(1-c)),this.qa[a]=
Math.round(d*b+f*(1-b))}};pa.prototype.sk=function(a,b){var c=this.sa,d=this.ra,f=this.qa,e;for(e=0;e<a.length;e+=1){var g=b&&-1!==b[e]?b[e]:a[e];c[e]=g>>16;d[e]=g>>8&255;f[e]=g&255}this.Od=0};pa.prototype.wj=function(a,b){var c=this.sa,d=this.ra,f=this.qa,e=G.sb,g;for(g=0;g<a.length;g+=1)b&&-1!==b[g]?(c[128+e[g]]=b[g]>>16,d[128+e[g]]=b[g]>>8&255,f[128+e[g]]=b[g]&255):(c[128+e[g]]=a[g]>>16,d[128+e[g]]=a[g]>>8&255,f[128+e[g]]=a[g]&255)};pa.prototype.kb=function(a){this.Za.fill(4294967295);switch(this.$a){case y.ig:this.vk(a);
break;case y.tf:this.Rm(a);break;case y.jg:this.Qm(a);break;case y.If:this.vk(a)}};pa.prototype.Rm=function(a){var b=this.Za,c,d=255,f=15,e=15,g=0,k=0,l=[[0,1,0],[-1,0,0],[0,0,1],[0,-1,0],[1,0,0],[0,0,-1]],p=this.sa,n=this.ra,q=this.qa,m=this.Le,r=this.ha&&!this.Fa||this.Z&&!this.Fa,u=this.Lb,t=this.xc;for(c=1;240>=c;c+=1)b[c]=this.jc?-16777216|e*a<<16|f*a<<8|d*a:d*a<<24|f*a<<16|e*a<<8|255,d+=6*l[k][0],f+=6*l[k][1],e+=6*l[k][2],g+=1,40===g&&(g=0,k+=1);for(c=0;128>c;c+=1)g=240*(c+1)/128|0,b[c]=b[g];
for(c=127;0<=c;--c)b[c+64]=b[c],r&&(this.jc?(d=b[c]&255,f=b[c]>>8&255,e=b[c]>>16&255):(d=b[c]>>24,f=b[c]>>16&255,e=b[c]>>8&255),m[c+64]="#"+(16777216+((d<<16)+(f<<8)+e)).toString(16).substring(1));b[0]=this.jc?-16777216|q[0]*a<<16|n[0]*a<<8|p[0]*a:p[0]*a<<24|n[0]*a<<16|q[0]*a<<8|255;this.jc?(this.fd=-16777216|(u&255)<<16|(u>>8&255)<<8|u>>16,this.sd=-16777216|(t&255)<<16|(t>>8&255)<<8|t>>16):(this.fd=u>>16<<24|(u>>8&255)<<16|(u&255)<<8|255,this.sd=t>>16<<24|(t>>8&255)<<16|(t&255)<<8|255);-1!==this.S&&
(c=this.hc,b[c]=this.jc?-16777216|q[c]*a<<16|n[c]*a<<8|p[c]*a:p[c]*a<<24|n[c]*a<<16|q[c]*a<<8|255,r&&(m[c]="#"+(16777216+((p[c]<<16)+(n[c]<<8)+q[c])).toString(16).substring(1)));m[256]=this.lg};pa.prototype.Qm=function(a){var b=this.Za,c=255,d=15,f=15,e=[],g=[[0,1,0],[-1,0,0],[0,0,1],[0,-1,0],[1,0,0],[0,0,-1]];var k=this.sa;var l=this.ra;var p=this.qa,n=this.Le,q=this.ha&&!this.Fa||this.Z&&!this.Fa;var m=this.Lb;var r=this.xc;b[0]=this.jc?-16777216|p[0]*a<<16|l[0]*a<<8|k[0]*a:k[0]*a<<24|l[0]*a<<16|
p[0]*a<<8|255;this.jc?(this.fd=-16777216|(m&255)<<16|(m>>8&255)<<8|m>>16,this.sd=-16777216|(r&255)<<16|(r>>8&255)<<8|r>>16):(this.fd=m>>16<<24|(m>>8&255)<<16|(m&255)<<8|255,this.sd=r>>16<<24|(r>>8&255)<<16|(r&255)<<8|255);-1!==this.S&&(m=this.hc,b[m]=this.jc?-16777216|p[m]*a<<16|l[m]*a<<8|k[m]*a:k[m]*a<<24|l[m]*a<<16|p[m]*a<<8|255,q&&(n[m]="#"+(16777216+((k[m]<<16)+(l[m]<<8)+p[m])).toString(16).substring(1)));n[256]=this.lg;k=l=0;for(m=1;240>=m;m+=1)b[m]=this.jc?-16777216|f*a<<16|d*a<<8|c*a:c*a<<
24|d*a<<16|f*a<<8|255,c+=6*g[l][0],d+=6*g[l][1],f+=6*g[l][2],k+=1,40===k&&(k=0,l+=1);for(m=0;25>m;m+=1)k=240*(m+1)/25|0,e[m]=b[k-1];for(m=0;25>m;m+=1)b[64+m]=e[m];switch(this.qb){case 0:for(m=0;25>m;m+=1)a=6*m+105,b[64+m]=-16777216|a<<16|a<<8|a;break;case 2:b[64]=4278190131;b[68]=4278203289;b[72]=4278212095;b[76]=4278255615;b[80]=4294967295;b[84]=4291624959;b[88]=4291624959;for(m=1;4>m;m+=1)b[64+m]=b[64],b[68+m]=b[68],b[72+m]=b[72],b[76+m]=b[76],b[80+m]=b[80],b[84+m]=b[84];break;case 3:b[64]=4284874803;
b[68]=4294919168;b[72]=4294967040;b[76]=4294902015;b[80]=4294928127;b[84]=4294967295;b[88]=4294967295;for(m=1;4>m;m+=1)b[64+m]=b[64],b[68+m]=b[68],b[72+m]=b[72],b[76+m]=b[76],b[80+m]=b[80],b[84+m]=b[84];break;case 4:b[64]=4281536768;b[68]=4284892160;b[72]=4278255360;b[76]=4278255615;b[80]=4278233855;b[84]=4294967295;b[88]=4294967295;for(m=1;4>m;m+=1)b[64+m]=b[64],b[68+m]=b[68],b[72+m]=b[72],b[76+m]=b[76],b[80+m]=b[80],b[84+m]=b[84];break;case 5:for(b[64]=4289331200,b[68]=4278233600,b[72]=4278233770,
b[76]=4278220799,b[80]=4278190335,b[84]=4294967295,b[88]=4294967295,m=1;4>m;m+=1)b[64+m]=b[64],b[68+m]=b[68],b[72+m]=b[72],b[76+m]=b[76],b[80+m]=b[80],b[84+m]=b[84]}if(q)for(m=64;89>m;m+=1)this.jc?(c=b[m]&255,d=b[m]>>8&255,f=b[m]>>16&255):(c=b[m]>>24,d=b[m]>>16&255,f=b[m]>>8&255),n[m+64]="#"+(16777216+((c<<16)+(d<<8)+f)).toString(16).substring(1)};pa.prototype.vk=function(a){var b=this.sa,c=this.ra,d=this.qa,f=this.Za,e=this.Lb,g=this.xc,k=this.Le,l=this.ha&&!this.Fa||this.Z&&!this.Fa||this.Wd,p=
0;if(2<this.i)if(this.jc){f[0]=-16777216|d[0]<<16|c[0]<<8|b[0];l&&(k[p]="#"+(16777216+((b[p]<<16)+(c[p]<<8)+d[p])).toString(16).substring(1));if(this.u||this.G||this.Da||this.s)p=1;else{for(p=1;p<=this.v;p+=1)f[p]=-16777216|d[p]<<16|c[p]<<8|b[p],l&&(k[p]="#"+(16777216+((b[p]<<16)+(c[p]<<8)+d[p])).toString(16).substring(1));p=this.v+1}for(;p<=this.i+this.v;p+=1)f[p]=-16777216|d[p]*a<<16|c[p]*a<<8|b[p]*a,l&&(k[p]="#"+(16777216+((b[p]<<16)+(c[p]<<8)+d[p])).toString(16).substring(1))}else if(f[0]=b[0]<<
24|c[p]<<16|d[p]<<8|255,l&&(k[p]="#"+(16777216+((b[p]<<16)+(c[p]<<8)+d[p])).toString(16).substring(1)),this.u||this.G||this.Da||this.s)for(p=1;p<=this.i+this.v;p+=1)f[p]=b[p]*a<<24|c[p]*a<<16|d[p]*a<<8|255,l&&(k[p]="#"+(16777216+((b[p]<<16)+(c[p]<<8)+d[p])).toString(16).substring(1));else for(p=1;p<=this.v;p+=1)for(f[p]=b[p]<<24|c[p]<<16|d[p]<<8|255,l&&(k[p]="#"+(16777216+((b[p]<<16)+(c[p]<<8)+d[p])).toString(16).substring(1)),p=this.v+1;p<=this.i+this.v;p+=1)f[p]=b[p]*a<<24|c[p]*a<<16|d[p]*a<<8|
255,l&&(k[p]="#"+(16777216+((b[p]<<16)+(c[p]<<8)+d[p])).toString(16).substring(1));else if(this.D)this.jc?(f[0]=-16777216|d[0]<<16|c[0]<<8|b[0],f[1]=-16777216|d[1]*a<<16|c[1]*a<<8|b[1]*a):(f[0]=b[0]<<24|c[0]<<16|d[0]<<8|255,f[1]=b[1]*a<<24|c[1]*a<<16|d[1]*a<<8|255),l&&(k[0]="#"+(16777216+((b[0]<<16)+(c[0]<<8)+d[0])).toString(16).substring(1),k[1]="#"+(16777216+((b[1]<<16)+(c[1]<<8)+d[1])).toString(16).substring(1));else if(this.jc){for(p=0;p<this.xa;p+=1)f[p]=-16777216|d[p]<<16|c[p]<<8|b[p],l&&(k[p]=
"#"+(16777216+((b[p]<<16)+(c[p]<<8)+d[p])).toString(16).substring(1));for(p=this.xa;p<=this.Ke;p+=1)f[p]=-16777216|d[p]*a<<16|c[p]*a<<8|b[p]*a,l&&(k[p]="#"+(16777216+((b[p]<<16)+(c[p]<<8)+d[p])).toString(16).substring(1));for(p=this.Ke+1;256>p;p+=1)f[p]=-16777216|d[p]*a<<16|c[p]*a<<8|b[p]*a,l&&(k[p]="#"+(16777216+((b[p]<<16)+(c[p]<<8)+d[p])).toString(16).substring(1))}else{for(p=0;p<this.xa;p+=1)f[p]=b[p]<<24|c[p]<<16|d[p]<<8|255,l&&(k[p]="#"+(16777216+((b[p]<<16)+(c[p]<<8)+d[p])).toString(16).substring(1));
for(p=this.xa;p<=this.Ke;p+=1)f[p]=b[p]*a<<24|c[p]*a<<16|d[p]*a<<8|255,l&&(k[p]="#"+(16777216+((b[p]<<16)+(c[p]<<8)+d[p])).toString(16).substring(1));for(p=this.Ke+1;256>p;p+=1)f[p]=b[p]*a<<24|c[p]*a<<16|d[p]*a<<8|255,l&&(k[p]="#"+(16777216+((b[p]<<16)+(c[p]<<8)+d[p])).toString(16).substring(1))}this.jc?(this.fd=-16777216|(e&255)<<16|(e>>8&255)<<8|e>>16,this.sd=-16777216|(g&255)<<16|(g>>8&255)<<8|g>>16):(this.fd=e>>16<<24|(e>>8&255)<<16|(e&255)<<8|255,this.sd=g>>16<<24|(g>>8&255)<<16|(g&255)<<8|255);
-1!==this.S&&(p=this.hc,f[p]=this.jc?-16777216|d[p]*a<<16|c[p]*a<<8|b[p]*a:b[p]*a<<24|c[p]*a<<16|d[p]*a<<8|255,l&&(k[p]="#"+(16777216+((b[p]<<16)+(c[p]<<8)+d[p])).toString(16).substring(1)),this.u||this.G)&&(f[31]=f[p]);k[256]=this.lg};pa.prototype.Aq=function(){var a=this.sa,b=this.ra,c=this.qa;this.hc=-1!==this.S&&256===this.i+this.v?2:255;-1!==this.S&&256>this.i+this.v&&(this.jc?(a[this.hc]=this.Je&255,b[this.hc]=this.Je>>8&255,c[this.hc]=this.Je>>16&255):(a[this.hc]=this.Je>>24,b[this.hc]=this.Je>>
16&255,c[this.hc]=this.Je>>8&255))};pa.prototype.tj=function(){var a=this.Hd,b=this.h,c=this.P,d=this.Ba,f=this.Wa,e=this.Db,g=this.j,k=this.wa,l=this.m,p=this.H;this.grid.o.fill(0);a.o.fill(0);b.o.fill(0);c&&c.o.fill(0);d.o.fill(0);f&&(f.o.fill(0),e.o.fill(0));g.o.fill(0);p.o.fill(0);k.o.fill(0);l.o.fill(0)};pa.prototype.zj=function(a,b){var c=y.kB,d;for(d=0;d<c;d+=1)a[d]=b[d]};pa.prototype.qh=function(a,b){var c=y.dr,d;for(d=0;d<c;d+=1){var f=b[d>>9&448|d>>6&56|d>>3&7]<<3;f|=b[d>>8&448|d>>5&56|
d>>2&7]<<2;f|=b[d>>7&448|d>>4&56|d>>1&7]<<1;f|=b[d>>6&448|d>>3&56|d&7];a[d]=f}};pa.prototype.Rf=function(a,b,c){if(c){var d=new Uint8Array(16);for(c=0;16>c;c+=1){var f=b[c];d[f]=c}for(c=0;c<y.km;c+=1)f=(d[c>>12]&1)<<2,f|=(d[c>>8&15]&2)<<2,f|=(d[c>>4&15]&4)>>2,f|=(d[c&15]&8)>>2,a[c]=f}else for(c=0;c<y.km;c+=1)f=(c>>12&1)<<2,f|=(c>>8&2)<<2,f|=(c>>4&4)>>2,f|=(c&8)>>2,a[c]=b[f]};pa.prototype.Te=function(a,b){var c,d,f,e;for(c=0;c<y.Uk;c+=1){var g=c>>8;var k=c&255;var l=192;var p=6;for(d=e=f=0;4>d;d+=
1){var n=0===p?(k&l)<<2|g&l:(k&l)>>p-2|(g&l)>>p;n=(n&8)>>1|(n&4)<<1|(n&2)>>1|(n&1)<<1;n=b[n];n=(n&8)>>1|(n&4)<<1|(n&2)>>1|(n&1)<<1;f<<=2;e<<=2;f|=n>>2&3;e|=n&3;l>>=2;p-=2}a[c]=e<<8|f}};pa.prototype.zd=function(a,b){var c,d=0,f=!0,e=new Uint8Array(16);for(c=0;f&&16>c;){var g=1<<a[c];0!==(d&g)?f=!1:(d|=g,c+=1)}if(f){for(c=0;16>c;c+=1)d=a[c],e[d]=c;if(b)for(c=0;c<e.length;c+=1)a[c]=e[c]}return f};pa.prototype.tk=function(a,b){var c;for(c=0;16>c;c+=1)b[c]=a[15-c];for(c=0;16>c;c+=1)a[c]=15-a[c]};pa.prototype.yl=
function(){var a=this.i,b,c=this.Qd,d=this.vb,f=this.Fc,e,g;var k=a*a;var l=k*a;var p=l*a;var n=p*a;for(b=0;1<<b<a;)b+=1;switch(this.md){case Da.Wg:var q=9*b;break;default:q=y.sm+1}if(q<=y.sm){if(null===this.ua&&(this.ua=this.T.h(ra.bb,1<<q,"Life.ruleTreeLookup",W.R),this.Wc=b),this.md===Da.Wg){var m=b;var r=m+b;var u=r+b;var t=u+b;var v=t+b;var B=v+b;q=B+b;var w=c[0];var z=c[1];var E=c[2];var H=c[3];var L=c[4];var N=c[5];var M=c[6];var V=c[7];c=c[8];var X=this.pb/p|0;c=c[X];p=this.pb%p/l|0;E=E[p];
l=this.pb%l/k|0;M=M[l];k=this.pb%k/a|0;B=X<<0|p<<B|l<<r|k<<q+b;b=L[k];L=this.pb%a;u=B|L<<u;l=z[L];for(B=0;B<a;B+=1)for(k=u|B<<m,p=V[B],z=0;z<a;z+=1){X=k|z<<q;var I=H[z];for(r=0;r<a;r+=1){var R=N[r];var P=X|r<<v;for(L=0;L<a;L+=1){var S=w[L];var Z=L;for(g=0;g<f;g+=1)if(e=S[g]&l[g])if(e&=E[g]&I[g])if(e&=b[g]&R[g])if(e&=M[g]&p[g]&c[g]){Z=0;for(S=1;!(e&S);)Z+=1,S<<=1;Z=d[(g<<5)+Z];break}this.ua[P+(L<<t)]=Z}}}this.pb+=1;this.pb===n&&(this.pb=-1)}}else this.ua=null};pa.prototype.Sm=function(){var a=this.i,
b,c,d,f,e,g,k,l,p;var n=this.Qd;var q=this.vb,m=this.Fc,r,u;for(b=0;1<<b<a;)b+=1;switch(this.md){case Da.uj:var t=5*b;break;case Da.Vg:t=7*b;break;case Da.Wg:t=9*b;break;case Da.Xj:t=3*b;break;default:t=y.sm+1}if(t<=y.sm)switch(this.ua=this.T.h(ra.bb,1<<t,"Life.ruleTreeLookup",W.R),this.Wc=b,this.md){case Da.uj:var v=0;var B=v+b;var w=B+b;var z=w+b;var E=z+b;b=n[0];var H=n[1];var L=n[2];var N=n[3];var M=n[4];for(g=0;g<a;g+=1){var V=M[g];for(f=0;f<a;f+=1){var X=L[f];for(c=0;c<a;c+=1){var I=H[c];for(l=
0;l<a;l+=1){var R=N[l];var P=g<<E|f<<w|c<<B|l<<v;for(e=0;e<a;e+=1){var S=b[e];var Z=e;for(u=0;u<m;u+=1)if(r=S[u]&I[u])if(r&=X[u]&R[u]&V[u]){Z=0;for(S=1;!(r&S);)Z+=1,S<<=1;Z=q[(u<<5)+Z];break}this.ua[P+(e<<z)]=Z}}}}}break;case Da.Wg:t=0;E=t+b;var qa=E+b;B=qa+b;z=B+b;v=z+b;var ha=v+b;w=ha+b;var ca=w+b;b=n[0];H=n[1];L=n[2];N=n[3];M=n[4];var ia=n[5];var na=n[6];var ja=n[7];var U=n[8];for(n=0;n<a;n+=1){var ma=n<<t;var ea=U[n];for(d=0;d<a;d+=1){var aa=ma|d<<ha;var Y=L[d];for(p=0;p<a;p+=1){var oa=aa|p<<
qa;var Q=na[p];for(k=0;k<a;k+=1){var F=oa|k<<ca;var A=M[k];for(c=0;c<a;c+=1){var K=F|c<<B;I=H[c];for(g=0;g<a;g+=1){var O=K|g<<E;V=ja[g];for(f=0;f<a;f+=1){var J=O|f<<w;X=N[f];for(l=0;l<a;l+=1)for(R=ia[l],P=J|l<<v,e=0;e<a;e+=1){S=b[e];Z=e;for(u=0;u<m;u+=1)if(r=S[u]&I[u])if(r&=Y[u]&X[u])if(r&=A[u]&R[u])if(r&=Q[u]&V[u]&ea[u]){Z=0;for(S=1;!(r&S);)Z+=1,S<<=1;Z=q[(u<<5)+Z];break}this.ua[P+(e<<z)]=Z}}}}}}}}break;case Da.Vg:z=0;v=z+b;w=v+b;E=w+b;B=E+b;ca=B+b;t=ca+b;b=n[0];H=n[1];L=n[2];N=n[3];M=n[4];ia=n[5];
na=n[6];for(n=0;n<a;n+=1)for(ma=n<<t,ea=na[n],k=0;k<a;k+=1)for(F=ma|k<<ca,A=N[k],c=0;c<a;c+=1)for(K=F|c<<B,I=H[c],g=0;g<a;g+=1)for(O=K|g<<E,V=ia[g],f=0;f<a;f+=1)for(J=O|f<<w,X=L[f],l=0;l<a;l+=1)for(P=J|l<<v,R=M[l],e=0;e<a;e+=1){S=b[e];Z=e;for(u=0;u<m;u+=1)if(r=S[u]&I[u])if(r&=X[u]&A[u])if(r&=R[u]&V[u]&ea[u]){Z=0;for(S=1;!(r&S);)Z+=1,S<<=1;Z=q[(u<<5)+Z];break}this.ua[P+(e<<z)]=Z}break;case Da.Xj:w=0;z=w+b;E=z+b;b=n[0];H=n[1];L=n[2];for(g=0;g<a;g+=1)for(V=H[g],f=0;f<a;f+=1)for(X=L[f],P=g<<E|f<<w,e=
0;e<a;e+=1){S=b[e];Z=e;for(u=0;u<m;u+=1)if(r=S[u]&V[u]&X[u]){Z=0;for(S=1;!(r&S);)Z+=1,S<<=1;Z=q[(u<<5)+Z];break}this.ua[P+(e<<z)]=Z}break;default:this.ua=null}else this.ua=null};pa.prototype.zl=function(){var a=this.gi,b,c,d,f,e,g,k,l,p,n=this.fe,q=this.nd;var m=this.od;this.Yd=null;for(b=0;1<<b<a;)b+=1;var r=(this.Rd+1)*b;if(r<=y.sm)if(this.ua=this.T.h(ra.bb,1<<r,"Life.ruleTreeLookup",W.R),this.Wc=b,4===this.Rd){var u=0;var t=u+b;var v=t+b;var B=v+b;var w=B+b;for(g=0;g<a;g+=1)for(f=0;f<a;f+=1)for(c=
0;c<a;c+=1)for(l=0;l<a;l+=1){var z=q[q[q[q[n+c]+g]+f]+l];var E=c<<t|f<<v|g<<w|l<<u;for(e=0;e<a;e+=1)this.ua[E+(e<<B)]=m[z+e]}}else if(8===this.Rd){r=0;w=r+b;var H=w+b;t=H+b;B=t+b;u=B+b;var L=u+b;v=L+b;var N=v+b;for(b=0;b<a;b+=1){var M=b<<r;var V=q[n+b];for(d=0;d<a;d+=1){var X=M|d<<L;var I=q[V+d];for(p=0;p<a;p+=1){var R=X|p<<H;var P=q[I+p];for(k=0;k<a;k+=1){f=R|k<<N;var S=q[P+k];for(c=0;c<a;c+=1){var Z=q[S+c];for(g=0;g<a;g+=1){var qa=q[Z+g];for(f=0;f<a;f+=1){var ha=q[qa+f];for(l=0;l<a;l+=1)for(z=q[ha+
l],e=0;e<a;e+=1)E=b<<r|g<<w|p<<H|c<<t|e<<B|l<<u|d<<L|f<<v|k<<N,this.ua[E]=m[z+e]}}}}}}}}else this.ua=null;else if(this.ua=null,8===this.Rd&&r<=y.HB)for(this.Yd=this.T.h(ra.lc,16777216,"Life.ruleTreePartialLookup",W.R),this.Wc=24,w=0,t=w+b,N=t+b,H=N+b,L=H+b,r=L+b,b=0;b<a;b+=1)for(M=b<<r,V=q[n+b],d=0;d<a;d+=1)for(X=M|d<<L,I=q[V+d],p=0;p<a;p+=1)for(R=X|p<<H,P=q[I+p],k=0;k<a;k+=1)for(f=R|k<<N,S=q[P+k],c=0;c<a;c+=1)for(m=f|c<<t,Z=q[S+c],g=0;g<a;g+=1)v=m|g<<w,qa=q[Z+g],this.Yd[v]=qa};pa.prototype.Cl=function(){this.Cb&&
(this.Cf=performance.now(),null===this.vb?this.zl():this.Sm(),this.Cf=performance.now()-this.Cf)};pa.prototype.ag=function(){var a=!1,b;if(this.D){if(null===this.vb){var c=this.gi;for(b=0;1<<b<c;)b+=1;c=(this.Rd+1)*b}else{c=this.i;for(b=0;1<<b<c;)b+=1;switch(this.md){case Da.uj:c=5*b;break;case Da.Wg:c=9*b;break;case Da.Vg:c=7*b;break;default:c=y.sm+1}}c<=y.sm?a=!0:c<=y.HB&&null===this.vb&&8===this.Rd&&(a=!0)}return a};pa.prototype.xp=function(a){var b=this.Z?this.X.Mb:this.X.j,c=this.Z?this.X.Lb:
this.X.ba,d=this.X.ca,f=this.Z?y.kB:y.kH,e=!1,g=null,k=b.length;this.eb=d;if(this.D)this.ua=null,this.pb=-1;else if(this.eb&&this.Da){var l=0;var p=!0;for(k=this.ca.P.length;l<k&&p;)this.ca.P[l]!==this.ca.ja[l]?p=!1:l+=1;if(p){l=0;for(k=this.ca.G.length;l<k&&p;)this.ca.G[l]!==this.ca.ka[l]?p=!1:l+=1;p&&(this.eb=!1,l=a.$.indexOf("|"),-1!==l&&(a.$=a.$.substring(0,l)),l=a.Ka.indexOf("|"),-1!==l&&(a.Ka=a.Ka.substring(0,l)))}}else{if(this.eb){if(this.ja||this.s)k=16;l=0;for(p=!0;l<k&&p;)b[l]!==c[l]?p=
!1:l+=1;p&&(this.eb=!1,l=a.$.indexOf("|"),-1!==l&&(a.$=a.$.substring(0,l)),l=a.Ka.indexOf("|"),-1!==l&&(a.Ka=a.Ka.substring(0,l)));if(this.eb&&(this.ja||this.s))for(l=0;l<k;l+=1)a=b[l],b[l]=c[l],c[l]=a}this.xe=this.Bb=this.mf=this.we=this.zh=this.wg=this.lf=this.Uf=null;if(this.s)this.we=this.T.h(ra.Xa,y.km,"Life.PCALookup1",!1),d?(this.mf=this.T.h(ra.Xa,y.km,"Life.PCALookup2",!1),this.Rf(this.mf,b,!1),this.Rf(this.we,c,!1),this.zd(b,!1)&&this.zd(c,!1)&&(this.Bb=this.T.h(ra.Xa,y.km,"Life.PCAReverseLookup1",
!1),this.xe=this.T.h(ra.Xa,y.km,"Life.PCAReverseLookup2",!1),this.zd(c,!1),this.Rf(this.Bb,c,!0),this.zd(b,!1),this.Rf(this.xe,b,!0))):(this.Rf(this.we,b,!1),this.zd(b,!1)&&(this.Bb=this.T.h(ra.Xa,y.km,"Life.PCAsReverseLookup1",!1),this.Rf(this.Bb,b,!0)));else if(this.ja){this.we=this.T.h(ra.Xa,y.Uk,"Life.margolusLookup1",!1);if(15===b[0]&&0===b[15]){d=this.eb=!0;g=new Uint8Array(16);for(l=0;16>l;l+=1)g[l]=b[l];this.tk(b,c)}d?(this.mf=this.T.h(ra.Xa,y.Uk,"Life.margolusLookup2",!1),this.Te(this.mf,
b),this.Te(this.we,c),g&&this.zd(g,!0)?(this.Bb=this.T.h(ra.Xa,y.Uk,"Life.margolusReverseLookup1",!1),this.xe=this.T.h(ra.Xa,y.Uk,"Life.margolusReverseLookup2",!1),this.tk(g,c),this.Te(this.Bb,c),this.Te(this.xe,g)):this.zd(b,!1)&&this.zd(c,!1)&&(this.Bb=this.T.h(ra.Xa,y.Uk,"Life.margolusReverseLookup1",!1),this.xe=this.T.h(ra.Xa,y.Uk,"Life.margolusReverseLookup2",!1),this.zd(b,!0),this.Te(this.Bb,b),this.zd(c,!0),this.Te(this.xe,c))):(this.Te(this.we,b),this.zd(b,!0)&&(this.Bb=this.T.h(ra.Xa,y.Uk,
"Life.margolusReverseLookup1",!1),this.Te(this.Bb,b)))}else if(this.Z)this.wg=this.T.h(ra.bb,y.jB,"Life.indexLookupTri1",!1),d?(this.zh=this.T.h(ra.bb,y.jB,"Life.indexLookupTri2",!1),this.zj(this.zh,b),this.zj(this.wg,c)):this.zj(this.wg,b);else{this.Uf=this.T.h(ra.bb,y.dr,"Life.indexLookup63",W.R);if(-1===this.Sd&&b[0])if(b[f-1])for(l=0;l<f/2;l+=1)a=b[l],b[l]=1-b[f-l-1],b[f-l-1]=1-a;else{for(l=0;l<f/2;l+=1)a=b[l],b[l]=b[f-l-1],b[f-l-1]=a;e=!0;this.lf=this.T.h(ra.bb,y.dr,"Life.indexLookup632",W.R);
this.qh(this.lf,b);if(this.G)for(c.set(b),l=0;l<f/2;l+=1)a=c[l],c[l]=1-c[f-l-1],c[f-l-1]=1-a;else for(l=0;l<f/2;l+=1)a=b[l],b[l]=1-b[f-l-1],b[f-l-1]=1-a}this.eb?(this.lf=this.T.h(ra.bb,y.dr,"Life.indexLookup632",W.R),this.qh(this.lf,b),this.qh(this.Uf,c)):(this.qh(this.Uf,b),e&&(this.eb=!0))}}};pa.prototype.Rb=function(a){var b=0;0!==(a&32768)?b=0:0!==(a&16384)?b=1:0!==(a&8192)?b=2:0!==(a&4096)?b=3:0!==(a&2048)?b=4:0!==(a&1024)?b=5:0!==(a&512)?b=6:0!==(a&256)?b=7:0!==(a&128)?b=8:0!==(a&64)?b=9:0!==
(a&32)?b=10:0!==(a&16)?b=11:0!==(a&8)?b=12:0!==(a&4)?b=13:0!==(a&2)?b=14:0!==(a&1)&&(b=15);return b};pa.prototype.Vb=function(a){var b=0;0!==(a&1)?b=15:0!==(a&2)?b=14:0!==(a&4)?b=13:0!==(a&8)?b=12:0!==(a&16)?b=11:0!==(a&32)?b=10:0!==(a&64)?b=9:0!==(a&128)?b=8:0!==(a&256)?b=7:0!==(a&512)?b=6:0!==(a&1024)?b=5:0!==(a&2048)?b=4:0!==(a&4096)?b=3:0!==(a&8192)?b=2:0!==(a&16384)&&(b=1);return b};pa.prototype.Nm=function(a){var b=this.Wa,c=this.j,d=this.width,f=this.height,e,g=this.A.N,k=this.A.K,l=this.A.J,
p=this.A.L,n,q;for(n=0;n<f;n+=1){var m=b[n];var r=c[n>>4];for(q=e=0;q<d;q+=1)0!==m[q]&&(r[q>>8]|=1<<(~(q>>4)&15),e|=m[q],q<l&&(l=q),q>p&&(p=q));e&&(n<k&&(k=n),n>g&&(g=n))}a||(this.A.N=g,this.A.K=k,this.A.J=l,this.A.L=p)};pa.prototype.Rr=function(){W.R&&W.mK&&this.view.i?va.Rr(this.va.o.byteOffset|0,this.va[0].length|0,this.H.o.byteOffset|0,this.j.o.byteOffset|0,this.j[0].length|0,this.j.o.byteLength|0,this.Z?49152:32768,this.Z?3:1,16,2,this.I|0,this.F|0,this.aa.byteOffset|0,this.aa.length|0,y.Ra|
0,y.Oa|0,y.La|0,y.Ma|0,y.Qa|0,y.Ta|0,y.Ja|0,y.Ga|0,this.width|0):this.rp()};pa.prototype.rp=function(){var a,b,c,d=this.va,f=this.H,e=this.j,g,k=this.Z?49152:32768,l=this.Z?3:1,p=this.I,n=this.F>>4,q=this.aa;var m=0;var r=m+16;e.o.fill(0);for(b=0;b<p;b+=1){var u=0;var t=f[b];var v=e[b];var B=0<b?e[b-1]:q;var w=b<p-1?e[b+1]:q;for(c=0;c<n;c+=1)if(g=t[c]){var z=v[c];var E=B[c];var H=w[c];for(a=15;0<=a;--a){if(0!==(g&1<<a)){var L=!1;var N=0;var M=m;var V=d[M];if(V=V[u])L=!0,0!==(V&k)&&(N|=y.Ja,N|=y.Qa),
0!==(V&l)&&(N|=y.Ga,N|=y.Ra),N|=y.Oa;for(M+=1;M<r-1;){V=d[M];if(V=V[u])L=!0,0!==(V&k)&&(N|=y.Ja),0!==(V&l)&&(N|=y.Ga);M+=1}V=d[M];if(V=V[u])L=!0,0!==(V&k)&&(N|=y.Ja,N|=y.Ta),0!==(V&l)&&(N|=y.Ga,N|=y.La),N|=y.Ma;L&&(z|=1<<a,N&&(0!==(N&y.Ja)&&(15>a?z|=1<<a+1:0<c&&(v[c-1]|=1)),0!==(N&y.Ga)&&(0<a?z|=1<<a-1:c<n-1&&(v[c+1]|=32768)),0!==(N&y.Oa)&&(E|=1<<a),0!==(N&y.Ma)&&(H|=1<<a),0!==(N&y.Qa)&&(15>a?E|=1<<a+1:0<c&&(B[c-1]|=1)),0!==(N&y.Ra)&&(0<a?E|=1<<a-1:c<n-1&&(B[c+1]|=32768)),0!==(N&y.Ta)&&(15>a?H|=1<<
a+1:0<c&&(w[c-1]|=1)),0!==(N&y.La)&&(0<a?H|=1<<a-1:c<n-1&&(w[c+1]|=32768))))}u+=1}v[c]|=z;0<b&&(B[c]|=E);b<p-1&&(w[c]|=H)}else u+=16;m+=16;r+=16}q.fill(0)};pa.prototype.Eq=function(){var a,b,c,d=this.va,f=this.H,e=this.h,g=this.j,k,l=this.I,p=this.F>>4,n=this.aa;var q=0;var m=q+16;g.o.fill(0);for(b=0;b<l;b+=1){var r=0;var u=f[b];var t=g[b];var v=0<b?g[b-1]:n;var B=b<l-1?g[b+1]:n;for(c=0;c<p;c+=1)if(k=u[c]){var w=t[c];var z=v[c];var E=B[c];for(a=15;0<=a;--a){if(0!==(k&1<<a)){var H=!1;var L=0;var N=
q;var M=d[N];var V=e[N];M=M[r];var X=r<<4;0<V[X]&&(M|=32768);X+=1;0<V[X]&&(M|=16384);X+=1;0<V[X]&&(M|=8192);X+=1;0<V[X]&&(M|=4096);X+=1;0<V[X]&&(M|=2048);X+=1;0<V[X]&&(M|=1024);X+=1;0<V[X]&&(M|=512);X+=1;0<V[X]&&(M|=256);X+=1;0<V[X]&&(M|=128);X+=1;0<V[X]&&(M|=64);X+=1;0<V[X]&&(M|=32);X+=1;0<V[X]&&(M|=16);X+=1;0<V[X]&&(M|=8);X+=1;0<V[X]&&(M|=4);X+=1;0<V[X]&&(M|=2);X+=1;0<V[X]&&(M|=1);M&&(H=!0,0!==(M&32768)&&(L|=y.Ja,L|=y.Qa),0!==(M&1)&&(L|=y.Ga,L|=y.Ra),L|=y.Oa);for(N+=1;N<m-1;)M=d[N],V=e[N],M=M[r],
X=r<<4,0<V[X]&&(M|=32768),X+=1,0<V[X]&&(M|=16384),X+=1,0<V[X]&&(M|=8192),X+=1,0<V[X]&&(M|=4096),X+=1,0<V[X]&&(M|=2048),X+=1,0<V[X]&&(M|=1024),X+=1,0<V[X]&&(M|=512),X+=1,0<V[X]&&(M|=256),X+=1,0<V[X]&&(M|=128),X+=1,0<V[X]&&(M|=64),X+=1,0<V[X]&&(M|=32),X+=1,0<V[X]&&(M|=16),X+=1,0<V[X]&&(M|=8),X+=1,0<V[X]&&(M|=4),X+=1,0<V[X]&&(M|=2),X+=1,0<V[X]&&(M|=1),M&&(H=!0,0!==(M&32768)&&(L|=y.Ja),0!==(M&1)&&(L|=y.Ga)),N+=1;M=d[N];V=e[N];M=M[r];X=r<<4;0<V[X]&&(M|=32768);X+=1;0<V[X]&&(M|=16384);X+=1;0<V[X]&&(M|=8192);
X+=1;0<V[X]&&(M|=4096);X+=1;0<V[X]&&(M|=2048);X+=1;0<V[X]&&(M|=1024);X+=1;0<V[X]&&(M|=512);X+=1;0<V[X]&&(M|=256);X+=1;0<V[X]&&(M|=128);X+=1;0<V[X]&&(M|=64);X+=1;0<V[X]&&(M|=32);X+=1;0<V[X]&&(M|=16);X+=1;0<V[X]&&(M|=8);X+=1;0<V[X]&&(M|=4);X+=1;0<V[X]&&(M|=2);X+=1;0<V[X]&&(M|=1);M&&(H=!0,0!==(M&32768)&&(L|=y.Ja,L|=y.Ta),0!==(M&1)&&(L|=y.Ga,L|=y.La),L|=y.Ma);H&&(w|=1<<a,L&&(0!==(L&y.Ja)&&(15>a?w|=1<<a+1:0<c&&(t[c-1]|=1)),0!==(L&y.Ga)&&(0<a?w|=1<<a-1:c<p-1&&(t[c+1]|=32768)),0!==(L&y.Oa)&&(z|=1<<a),0!==
(L&y.Ma)&&(E|=1<<a),0!==(L&y.Qa)&&(15>a?z|=1<<a+1:0<c&&(v[c-1]|=1)),0!==(L&y.Ra)&&(0<a?z|=1<<a-1:c<p-1&&(v[c+1]|=32768)),0!==(L&y.Ta)&&(15>a?E|=1<<a+1:0<c&&(B[c-1]|=1)),0!==(L&y.La)&&(0<a?E|=1<<a-1:c<p-1&&(B[c+1]|=32768))))}r+=1}t[c]|=w;0<b&&(v[c]|=z);b<l-1&&(B[c]|=E)}else r+=16;q+=16;m+=16}n.fill(0)};pa.prototype.An=function(a){var b,c=this.v+1,d=this.height,f=this.width,e=this.h,g=this.height,k=-1,l=this.width,p=-1;var n=this.ja?-1:0;this.s&&0!==(this.counter&1)&&(e=this.P);if(-1===this.S){var q=
0;var m=f-1;var r=0;var u=d-1}else 0===this.ba?(q=0,m=f-1):(q=Math.round((this.width-this.ba)/2)+n,m=q+this.ba),0===this.$?(r=0,u=d-1):(r=Math.round((this.height-this.$)/2)+n,u=r+this.$);for(b=r;b<u;b+=1){var t=e[b];var v=!1;for(n=q;n<m;n+=1){var B=t[n];B>=c&&255>=B&&(v=!0,n<l&&(l=n),n>p&&(p=n))}v&&(b<g&&(g=b),b>k&&(k=b))}if(0>k||g>=d||l>=f||0>p)g=k=u-r>>1,p=l=m-q>>1;k>d-1&&(k=d-1);0>g&&(g=0);0>l&&(l=0);p>f-1&&(p=f-1);a.N=k;a.K=g;a.J=l;a.L=p};pa.prototype.bc=function(){var a,b,c=this.width>>4,d=this.height,
f=this.width,e=this.Wa,g=this.h,k=this.A,l=this.ya,p=this.xb,n=this.height,q=-1,m=this.width,r=-1,u=this.height,t=-1,v=this.width,B=-1,w,z=y.Hh,E=y.be,H=this.Da?this.view.Ei()>>1:0,L=this.V;if(this.Nb){this.Nb=!1;(this.s||this.D||this.u||this.G)&&0!==(this.counter&1)&&(g=this.P);var N=0!==(this.counter&1)?this.Va:this.va;-1!==this.S&&this.kf(g,0);if(e)for(b=0;b<d;b+=1){var M=e[b];var V=g[b];for(a=w=0;a<f;a+=1){var X=M[a]||V[a]>=z&&V[a]<=E?1:0;w|=X;X&&(a<v&&(v=a),a>B&&(B=a))}w&&(b<u&&(u=b),b>t&&(t=
b))}L.fill(0);if(this.Da&&2===this.i)for(b=0;b<d;b+=1){V=g[b];for(a=w=0;a<f;a+=1)X=V[a]&64,w|=X,X&&(a<m&&(m=a),a>r&&(r=a));w&&(b<n&&(n=b),b>q&&(q=b))}else if(-1!==this.i)for(b=0;b<d;b+=1){V=g[b];for(a=w=0;a<f;a+=1)X=V[a],w|=X,X&&(a<m&&(m=a),a>r&&(r=a));w&&(b<n&&(n=b),b>q&&(q=b))}else{for(b=0;b<d;b+=1){M=N[b];for(a=w=0;a<c;a+=1)X=M[a],w|=X,L[a]|=X;w&&(b<n&&(n=b),b>q&&(q=b))}for(a=0;a<c;a+=1)L[a]&&(a<m&&(m=a),a>r&&(r=a));m=(m<<4)+this.Rb(L[m]);r=(r<<4)+this.Vb(L[r])}if(0>q||n>=d||m>=f||0>r)n=q=d>>1,
r=m=f>>1;e&&(t>q&&(q=t),u<n&&(n=u),v<m&&(m=v),B>r&&(r=B));q>this.height-1-H&&(q=this.height-1-H);n<H&&(n=H);m<H&&(m=H);r>this.width-1-H&&(r=this.width-1-H);this.Da&&2===this.i||(k.N=q,k.K=n,k.J=m,k.L=r);l.N=q;l.K=n;l.J=m;l.L=r;p.N=q;p.K=n;p.J=m;p.L=r}};pa.prototype.Yi=function(a){var b=this.A;if(W.R&&W.jK&&this.view.i)if(-1===this.i&&null===this.Wa){if(0!==(this.counter&1)){var c=this.Va;a=this.H;var d=this.j}else c=this.va,a=this.j,d=this.H;va.jJ(c.o.byteOffset|0,c[0].length|0,a.o.byteOffset|0,d.o.byteOffset|
0,a[0].length|0,this.V.byteOffset|0,this.V.length|0,this.Y.byteOffset|0,this.Y.length|0,this.width|0,this.height|0,4,!this.view.yd||this.view.$a||-1!==this.view.Ya||this.view.Ee?0:1,this.fa.byteOffset|0);var f=this.fa[0];c=this.fa[1];var e=this.fa[2];var g=this.fa[3];b.J=f;b.K=c;b.L=e;b.N=g;(!this.view.yd||this.view.$a||-1!==this.view.Ya||this.view.Ee)&&this.Rr();Array.Ef(a,d);Array.Ef(a,this.wa);Array.Ef(a,this.m)}else this.kl(a);else this.kl(a)};pa.prototype.kl=function(a){var b,c,d=this.width>>
4,f=this.height,e=this.width,g=this.Wa;var k=this.h;var l=this.A,p=this.ya,n=this.xb,q=this.height,m=-1,r=this.width,u=-1,t=this.height,v=-1,B=this.width,w=-1,z,E=this.V,H=this.wa,L=this.m;if(0!==(this.counter&1)){var N=this.Va;var M=this.H;var V=this.j}else N=this.va,M=this.j,V=this.H;if(g&&!a)for(c=0;c<f;c+=1){var X=g[c];for(b=z=0;b<e;b+=1){var I=X[b];z|=I;I&&(b<B&&(B=b),b>w&&(w=b))}z&&(c<t&&(t=c),c>v&&(v=c))}E.fill(0);V.o.fill(0);if(-1!==this.i)for(c=0;c<f;c+=1){d=k[c];for(b=z=0;b<e;b+=1)I=d[b],
z|=I,I&&(b<r&&(r=b),b>u&&(u=b));z&&(c<q&&(q=c),c>m&&(m=c))}else{for(c=0;c<f;c+=1){k=N[c];for(b=z=0;b<d;b+=1)I=k[b],z|=I,E[b]|=I;z&&(c<q&&(q=c),c>m&&(m=c))}for(b=0;b<d;b+=1)E[b]&&(b<r&&(r=b),b>u&&(u=b));r=(r<<4)+this.Rb(E[r]);u=(u<<4)+this.Vb(E[u])}if(0>m||q>=f||r>=e||0>u)q=m=f>>1,u=r=e>>1,v=m,t=q,B=r,w=u;g&&!a&&-1!==v&&(v<m&&(m=v),t>q&&(q=t),B<r&&(r=B),w>u&&(u=w));m>this.height-1&&(m=this.height-1);0>q&&(q=0);0>r&&(r=0);u>this.width-1&&(u=this.width-1);l.N=m;l.K=q;l.J=r;l.L=u;p.N=m;p.K=q;p.J=r;p.L=
u;n.N=m;n.K=q;n.J=r;n.L=u;0<r&&--r;0<q&&--q;u<this.width-1&&(u+=1);m<this.height-1&&(m+=1);b=q>>4;m>>=4;r>>=8;u>>=8;if(!this.view.yd||this.view.$a||-1===this.view.Ya||this.view.Ee){for(c=b;c<=m;c+=1)for(I=V[c],b=r;b<=u;b+=1)I[b]=-1;-1!==this.i?this.Eq():this.Rr()}else for(c=b;c<=m;c+=1)for(I=M[c],b=r;b<=u;b+=1)I[b]=-1;g&&(this.Nm(a),n.N=l.N,n.K=l.K,n.J=l.J,n.L=l.L);Array.Ef(M,V);Array.Ef(M,H);Array.Ef(M,L)};pa.prototype.Wl=function(){var a=Math.round((this.width-this.ba)/2),b=Math.round((this.height-
this.$)/2),c=a+this.ba-1,d=b+this.$-1,f=this.Wa,e=!1,g;--a;c+=1;d+=1;--b;var k=f[d];var l=f[b];if(0===this.ba)for(g=a;g<=c;g+=1)129===l[g]&&(e=!0,l[g]=0),129===k[g]&&(e=!0,k[g]=0);else if(0===this.$)for(b=0;b<this.height;b+=1)129===f[b][a]&&(e=!0,f[b][a]=0),129===f[b][c]&&(e=!0,f[b][c]=0);else{for(g=a;g<=c;g+=1)129===l[g]&&(e=!0,l[g]=0),129===k[g]&&(e=!0,k[g]=0);for(b+=1;b<=d-1;b+=1)129===f[b][a]&&(e=!0,f[b][a]=0),129===f[b][c]&&(e=!0,f[b][c]=0)}e&&this.rb()};pa.prototype.Zl=function(){var a=Math.round((this.width-
this.ba)/2),b=Math.round((this.height-this.$)/2),c=a+this.ba-1,d=b+this.$-1,f=a-16,e=b-16,g=c+16,k=d+16,l,p=this.h;0!==(this.counter&1)&&(p=this.P);0>f&&(f=0);g>=this.width&&(g=this.width-1);0>e&&(e=0);e>=this.height&&(e=this.height-1);for(l=e;l<=k;l+=1){var n=p[l];if(l<b||l>d)for(e=f;e<=g;e+=1)0!==n[e]&&(n[e]=0);else for(e=f;e<=g;e+=1)(e<a||e>c)&&0!==n[e]&&(n[e]=0)}this.j.o.fill(0);this.H.o.fill(0);this.wa.o.fill(0);this.m.o.fill(0);this.Pg();this.B=0;for(l=b;l<=d;l+=1)for(n=p[l],e=a;e<=c;e+=1)0!==
n[e]&&(this.B+=1)};pa.prototype.Vl=function(a){var b=this.ja?-1:0,c=Math.round((this.width-this.ba)/2)+b;b=Math.round((this.height-this.$)/2)+b;var d=c+this.ba-1,f=b+this.$-1,e=d+a>>4;var g=c-a>>4;var k=d+a>>4;var l=~(1<<(~(c-a)&15)),p=~(1<<(~(d+a)&15)),n,q=this.ec,m=0;if(!(this.s||this.D||this.G)){var r=0!==(this.counter&1)?this.Va:this.va;var u=r[f+a];var t=r[b-a];if(0===this.ba)for(e=this.width>>4,n=0;n<e;n+=1)m+=q[t[n]],t[n]=0,m+=q[u[n]],u[n]=0;else if(0===this.$)for(b=0,f=this.height,n=0;n<f;n+=
1)e=r[n],e[g]&~l&&(m+=1),e[g]&=l,e[k]&~p&&(m+=1),e[k]&=p;else{for(n=c-a>>4;n<=e;n+=1)m+=q[t[n]],t[n]=0,m+=q[u[n]],u[n]=0;for(n=b-a+1;n<=f+a-1;n+=1)e=r[n],e[g]&~l&&(m+=1),e[g]&=l,e[k]&~p&&(m+=1),e[k]&=p}this.B-=m}if(-1!==this.i){r=this.h;(this.s||this.D||this.u||this.G)&&0!==(this.counter&1)&&(r=this.P);c-=a;d+=a;f+=a;b-=a;g=r[f];k=r[b];if(0===this.ba)for(n=0;n<this.width;n+=1)a=k[n],0!==a&&(k[n]=0,m+=1),a=g[n],0!==a&&(g[n]=0,m+=1);else if(0===this.$)for(n=0;n<this.height;n+=1)a=r[n][c],0!==a&&(r[n][c]=
0,m+=1),a=r[n][d],0!==a&&(r[n][d]=0,m+=1);else{for(n=0;n<this.width;n+=1)a=k[n],0!==a&&(k[n]=0,m+=1),a=g[n],0!==a&&(g[n]=0,m+=1);for(n=b+1;n<=f-1;n+=1)a=r[n][c],0!==a&&(r[n][c]=0,m+=1),a=r[n][d],0!==a&&(r[n][d]=0,m+=1)}if(this.D||this.G)this.B-=m}};pa.prototype.Bj=function(a,b,c,d,f){var e=0;this.Da&&(e=this.view.Xi);if(!this.Wo(b,c,d,f))for(this.Gg+=1,f=0;f<a.length;f+=1){var g=a[f];if(this.O)for(d=0;d<g.length;d+=1){if(1===g[d]){var k=this.nb(b+d,c+f,!1);3===k||5===k?this.Zd(b+d,c+f,4,!1):k&1&&
this.Zd(b+d,c+f,0,!1);this.ga+=1}}else for(d=0;d<g.length;d+=1)1===g[d]&&(this.Zd(b+d,c+f,e,!1),this.ga+=1)}};pa.prototype.fb=function(a,b,c,d,f,e,g,k){var l,p=0,n=0,q=d+d,m=f+f,r=q+d,u=m+f,t=r+d,v=u+f,B=this.h;var w=this.Da?this.ya:this.A;var z=w.J;var E=w.L;var H=w.K;var L=w.N;var N=this.xa;b-=2;c-=2;var M=0;for(w=!0;w&&M<a.length;){var V=0;for(l=a[M];w&&V<l.length;){var X=l[V];var I=B[c+M][b+V];I<N&&0===X||I>=N&&1===X||(w=!1);V+=1}M+=1}if(w){V=b+3+d+d;M=c+3+f+f;z+=4*Math.abs(d);E-=4*Math.abs(d);
H+=4*Math.abs(d);L-=4*Math.abs(d);for(w=!1;!(w||V<z||V>E||M<H||M>L);)l=B[M],I=l[V],I&64&&(p=V,n=M,w=!0),I=B[M+f][V],I&64&&(p=V,n=M+f,w=!0),I=l[V+d],I&64&&(p=V+d,n=M,w=!0),I=B[M+m][V],I&64&&(p=V,n=M+m,w=!0),I=l[V+q],I&64&&(p=V+q,n=M,w=!0),I=B[M+u][V],I&64&&(p=V,n=M+u,w=!0),I=l[V+r],I&64&&(p=V+r,n=M,w=!0),I=B[M+v][V],I&64&&(p=V,n=M+v,w=!0),I=l[V+t],I&64&&(p=V+t,n=M,w=!0),I=B[M+v+f][V],I&64&&(p=V,n=M+v+f,w=!0),I=l[V+t+d],I&64&&(p=V+t+d,n=M+f,w=!0),I=B[M+v+f][V],I&64&&(p=V,n=M+v+f,w=!0),I=l[V+t+d],I&
64&&(p=V+t+d,n=M,w=!0),I=B[M+v+m][V],I&64&&(p=V,n=M+v+m,w=!0),I=l[V+t+q],I&64&&(p=V+t+q,n=M,w=!0),I=B[M+v+u][V],I&64&&(p=V,n=M+v+u,w=!0),I=l[V+t+r],I&64&&(p=V+t+r,n=M,w=!0),I=B[M-v][V],I&64&&(p=V,n=M-v,w=!0),I=l[V-t],I&64&&(p=V-t,n=M,w=!0),I=B[M-v-f][V],I&64&&(p=V,n=M-v-f,w=!0),I=l[V-t-d],I&64&&(p=V-t-d,n=M,w=!0),I=B[M-v-m][V],I&64&&(p=V,n=M-v-m,w=!0),l=l[V-t-q],l&64&&(p=V-t-q,n=M,w=!0),V+=d,M+=f;this.$e[this.$e.length]={Au:a,x:b,y:c,tK:p,yK:n,orientation:e,RA:w,offset:g,mu:k}}return w};pa.prototype.Wo=
function(a,b,c,d){var f=!1,e=this.Da?this.ya:this.A,g=e.J,k=e.L,l=e.K;e=e.N;var p=this.h,n=this.xa;switch(c){case y.Nh:if(d===y.aj)for(b+=1,a+=1;b>=l&&!f;){if(p[b][a]>=n||p[b][a+1]>=n||p[b][a+2]>=n)f=!0;--b}else for(b+=5,a+=5;a<=k&&!f;){if(p[b][a]>=n||p[b-1][a]>=n||p[b-2][a]>=n)f=!0;a+=1}break;case y.Ph:if(d===y.aj)for(b+=5,a+=1;b<=e&&!f;){if(p[b][a]>=n||p[b][a+1]>=n||p[b][a+2]>=n)f=!0;b+=1}else for(b+=1,a+=5;a<=k&&!f;){if(p[b][a]>=n||p[b+1][a]>=n||p[b+2][a]>=n)f=!0;a+=1}break;case y.Qh:if(d===y.bj)for(b+=
5,a+=5;b<=e&&!f;){if(p[b][a]>=n||p[b][a-1]>=n||p[b][a-2]>=n)f=!0;b+=1}else for(b+=1,a+=1;a>=g&&!f;){if(p[b][a]>=n||p[b+1][a]>=n||p[b+2][a]>=n)f=!0;--a}break;case y.Oh:if(d===y.bj)for(b+=1,a+=5;b>=l&&!f;){if(p[b][a]>=n||p[b][a-1]>=n||p[b][a-2]>=n)f=!0;--b}else for(b+=5,a+=1;a>=g&&!f;){if(p[b][a]>=n||p[b-1][a]>=n||p[b-2][a]>=n)f=!0;--a}}return f};pa.prototype.Sl=function(){var a,b=this.$e.length,c;if(1<b)for(a=0;a<b;a+=1){var d=this.$e[a];if(d.RA){var f=d.tK;var e=d.yK;var g=d.orientation;var k=0;for(c=
!1;!c&&k<b;){if(k!==a){var l=this.$e[k];var p=l.x+3;var n=l.y+3;f>=p-1&&f<=p+1&&e>=n-1&&e<=n+1&&l.orientation===g&&0===d.offset&&(this.Bj(d.Au,d.x,d.y,d.orientation,d.mu),c=!0)}k+=1}}else{f=d.x+3;e=d.y+3;g=d.orientation;k=0;for(c=!1;!c&&k<b;){if(k!==a)switch(l=this.$e[k],p=l.x+3,n=l.y+3,l=l.orientation,g){case y.Oh:l===y.Nh&&e>=n-6&&e<=n+6&&f>=p&&(c=!0);l===y.Qh&&f>=p-6&&f<=p+6&&e>=n&&(c=!0);break;case y.Nh:l===y.Oh&&e>=n-6&&e<=n+6&&f<=p&&(c=!0);l===y.Ph&&f>=p-6&&f<=p+6&&e>=n&&(c=!0);break;case y.Qh:l===
y.Ph&&e>=n-6&&e<=n+6&&f>=p&&(c=!0);l===y.Oh&&f>=p-6&&f<=p+6&&e<=n&&(c=!0);break;case y.Ph:l===y.Qh&&e>=n-6&&e<=n+6&&f<=p&&(c=!0),l===y.Nh&&f>=p-6&&f<=p+6&&e<=n&&(c=!0)}k+=1}c||0!==d.offset||this.Bj(d.Au,d.x,d.y,d.orientation,d.mu)}}else 1===b&&(d=this.$e[0],d.RA||0!==d.offset||this.Bj(d.Au,d.x,d.y,d.orientation,d.mu))};pa.prototype.hk=function(){var a=this.Da?this.ya:this.A;var b=a.J;var c=a.L;var d=a.K;var f=a.N,e=new Ua(0,0,0,0),g=this.h,k=this.xa;if(0!==this.B&&!(-1!==this.S||this.Da&&1<this.ca.v)){this.$e=
[];16>b&&(b=16);c>=this.width-16&&(c=this.width-16-1);16>d&&(d=16);f>=this.height-16&&(f=this.height-16-1);e.J=b;e.K=d;e.L=c;e.N=f;for(b-=6;b<=c+6;b+=1)for(a=0;5>=a;a+=1){d=e.K+a;f=g[d];f[b]>=k&&(this.fb(this.zi,b,d,-1,1,y.Oh,a,y.Sk)||this.fb(this.Ai,b-1,d,-1,1,y.Oh,a,y.Sk)||this.fb(this.Bi,b,d,-1,1,y.Oh,a,y.Sk)||this.fb(this.Ci,b-1,d,-1,1,y.Oh,a,y.Sk)||this.fb(this.vi,b,d,1,1,y.Nh,a,y.Sk)||this.fb(this.wi,b-1,d,1,1,y.Nh,a,y.Sk)||this.fb(this.xi,b-1,d,1,1,y.Nh,a,y.Sk)||this.fb(this.yi,b,d,1,1,y.Nh,
a,y.Sk));f=e.N-a;var l=g[f];l[b]>=k&&(this.fb(this.Hi,b,f-2,-1,-1,y.Qh,a,y.Rk)||this.fb(this.Ii,b-1,f-2,-1,-1,y.Qh,a,y.Rk)||this.fb(this.Ji,b,f-2,-1,-1,y.Qh,a,y.Rk)||this.fb(this.Ki,b-1,f-2,-1,-1,y.Qh,a,y.Rk)||this.fb(this.Di,b,f-2,1,-1,y.Ph,a,y.Rk)||this.fb(this.Ei,b-1,f-2,1,-1,y.Ph,a,y.Rk)||this.fb(this.Fi,b-1,f-2,1,-1,y.Ph,a,y.Rk)||this.fb(this.Gi,b,f-2,1,-1,y.Ph,a,y.Rk))}for(d-=6;d<=f+6;d+=1)for(a=0;5>=a;a+=1)l=g[d],b=e.J+a,l[b]>=k&&(this.fb(this.zi,b,d,1,-1,y.Oh,a,y.bj)||this.fb(this.Ai,b,d-
1,1,-1,y.Oh,a,y.bj)||this.fb(this.Bi,b,d,1,-1,y.Oh,a,y.bj)||this.fb(this.Ci,b,d-1,1,-1,y.Oh,a,y.bj)||this.fb(this.Hi,b,d-1,1,1,y.Qh,a,y.bj)||this.fb(this.Ii,b,d,1,1,y.Qh,a,y.bj)||this.fb(this.Ji,b,d,1,1,y.Qh,a,y.bj)||this.fb(this.Ki,b,d-1,1,1,y.Qh,a,y.bj)),c=e.L-a,l[c]>=k&&(this.fb(this.vi,c-2,d,-1,-1,y.Nh,a,y.aj)||this.fb(this.wi,c-2,d-1,-1,-1,y.Nh,a,y.aj)||this.fb(this.xi,c-2,d,-1,-1,y.Nh,a,y.aj)||this.fb(this.yi,c-2,d-1,-1,-1,y.Nh,a,y.aj)||this.fb(this.Di,c-2,d-1,-1,1,y.Ph,a,y.aj)||this.fb(this.Ei,
c-2,d,-1,1,y.Ph,a,y.aj)||this.fb(this.Fi,c-2,d,-1,1,y.Ph,a,y.aj)||this.fb(this.Gi,c-2,d-1,-1,1,y.Ph,a,y.aj));this.Sl();this.bc()}};pa.prototype.Pg=function(){var a,b,c=this.ja?-1:0,d=this.ba,f=this.$;for(b=0;1>=b;b+=1){var e=Math.round((this.width-d)/2-1)+c+b>>4;var g=Math.round((this.width+d)/2)+c-b>>4;var k=Math.round((this.height-f)/2-1+b)+c>>4;var l=Math.round((this.height+f)/2)+c-b>>4;0===f&&(k=0,l=(this.height>>4)-1);0===d&&(e=0,g=(this.width>>4)-1);0>e&&(e=0);0>k&&(k=0);g>=this.width>>4&&(g=
(this.width>>4)-1);l>=this.height>>4&&(l=(this.height>>4)-1);if(this.vf)for(;k<=l;k+=1){var p=this.j[k];var n=this.H[k];var q=this.wa[k];var m=this.m[k];for(a=e;a<=g;a+=1){var r=1<<(~a&15);p[a>>4]|=r;n[a>>4]|=r;q[a>>4]|=r;m[a>>4]|=r}}else{for(a=e;a<=g;a+=1)r=1<<(~a&15),this.j[k][a>>4]|=r,this.H[k][a>>4]|=r,this.wa[k][a>>4]|=r,this.m[k][a>>4]|=r,this.j[l][a>>4]|=r,this.H[l][a>>4]|=r,this.wa[l][a>>4]|=r,this.m[l][a>>4]|=r;for(;k<=l;k+=1)r=1<<(~e&15),this.j[k][e>>4]|=r,this.H[k][e>>4]|=r,this.wa[k][e>>
4]|=r,this.m[k][e>>4]|=r,r=1<<(~g&15),this.j[k][g>>4]|=r,this.H[k][g>>4]|=r,this.wa[k][g>>4]|=r,this.m[k][g>>4]|=r}}};pa.prototype.Tn=function(a){var b=this.ba,c=this.$,d=Math.round((this.width-b)/2),f=Math.round((this.height-c)/2),e=d+b-1,g=f+c-1,k=this.he,l=this.ie,p=this.m,n=!1,q;0===this.ba&&(d=0,e=this.width-1,b=this.width);0===this.$&&(f=0,g=this.height-1,c=this.height);if(0!==this.$)for(q=0;q<b;q+=1){var m=d+q;var r=d+((q+k)%b+b)%b;var u=a[g][m];129===u&&(n=!0,a[f-1][r]=u,p[f-1>>4][r>>8]|=
1<<(~(r>>4)&15),15===(f-1&15)&&(p[(f-1>>4)+1][r>>8]|=1<<(~(r>>4)&15)));r=d+((q-k)%b+b)%b;u=a[f][m];129===u&&(n=!0,a[g+1][r]=u,p[g+1>>4][r>>8]|=1<<(~(r>>4)&15),0===(g+1&15)&&(p[(g+1>>4)-1][r>>8]|=1<<(~(r>>4)&15)))}if(0!==this.ba)for(q=0;q<c;q+=1)m=f+q,r=f+((q-l)%c+c)%c,u=a[m][d],129===u&&(n=!0,a[r][e+1]=u,p[r>>4][e+1>>8]|=1<<(~(e+1>>4)&15),0===(e+1&15)&&(p[r>>4][e-15>>8]|=1<<(~(e-15>>4)&15))),r=f+((q+l)%c+c)%c,u=a[m][e],129===u&&(n=!0,a[r][d-1]=u,p[r>>4][d-1>>8]|=1<<(~(d-1>>4)&15),15===(d-1&15)&&(p[r>>
4][d+15>>8]|=1<<(~(d+15>>4)&15)));0!==this.ba&&0!==this.$&&(u=a[f+(c-1+l+c)%c][d+(-k+b)%b],129===u&&(a[f-1][e+1]=u,n=!0),u=a[f+(c-1-l+c)%c][d+(b-1-k+b)%b],129===u&&(a[f-1][d-1]=u,n=!0),u=a[f+(l+c)%c][d+(k+b)%b],129===u&&(a[g+1][e+1]=u,n=!0),u=a[f+(-l+c)%c][d+(b-1+k+b)%b],129===u&&(a[g+1][d-1]=u,n=!0));n&&this.rb()};pa.prototype.Jn=function(a){var b=this.m,c=this.ba,d=this.$,f=Math.round((this.width-c)/2),e=Math.round((this.height-d)/2),g=f+c-1,k=e+d-1,l=this.he,p=this.ie,n=this.ng,q=this.lh,m=!1,
r;for(r=0;r<c;r+=1){var u=f+r;var t=n?g-(r+l+c)%c:f+(r+l+c)%c;var v=a[k][u];129===v&&(m=!0,a[e-1][t]=v,b[e-1>>4][t>>8]|=1<<(~(t>>4)&15),15===(e-1&15)&&(b[(e-1>>4)+1][t>>8]|=1<<(~(t>>4)&15)));t=n?g-(r+l+c)%c:f+(r+l+c)%c;v=a[e][u];129===v&&(m=!0,a[k+1][t]=v,b[k+1>>4][t>>8]|=1<<(~(t>>4)&15),0===(k+1&15)&&(b[(k+1>>4)-1][t>>8]|=1<<(~(t>>4)&15)))}for(r=0;r<d;r+=1)c=e+r,u=q?k-(r+p+d)%d:e+(r+p+d)%d,v=a[c][f],129===v&&(m=!0,a[u][g+1]=v,b[u>>4][g+1>>8]|=1<<(~(g+1>>4)&15),0===(g+1&15)&&(b[u>>4][g-15>>8]|=1<<
(~(g-15>>4)&15))),u=q?k-(r+p+d)%d:e+(r+p+d)%d,v=a[c][g],129===v&&(m=!0,a[u][f-1]=v,b[u>>4][f-1>>8]|=1<<(~(f-1>>4)&15),15===(f-1&15)&&(b[u>>4][f+15>>8]|=1<<(~(f+15>>4)&15)));0!==this.ba&&0!==this.$&&this.Fn(n,f,e,g,k,l,p,a,b)&&(m=!0);m&&this.rb()};pa.prototype.zn=function(a){var b=this.wa,c=this.ba,d=this.$,f=Math.round((this.width-c)/2),e=Math.round((this.height-d)/2),g=f+c-1,k=e+d-1,l=!1,p;for(p=0;p<c;p+=1){var n=f+p;var q=g-p;var m=a[k][n];129===m&&(l=!0,a[e-1][q]=m,b[e-1>>4][q>>8]|=1<<(~(q>>4)&
15),15===(e-1&15)&&(b[(e-1>>4)+1][q>>8]|=1<<(~(q>>4)&15)));m=a[e][n];129===m&&(l=!0,a[k+1][q]=m,b[k+1>>4][q>>8]|=1<<(~(q>>4)&15),0===(k+1&15)&&(b[(k+1>>4)-1][q>>8]|=1<<(~(q>>4)&15)))}for(p=0;p<=d;p+=1)n=e+p,q=k-p,m=a[n][f],129===m&&(l=!0,a[q][g+1]=m,b[q>>4][g+1>>8]|=1<<(~(g+1>>4)&15),0===(g+1&15)&&(b[q>>4][g-15>>8]|=1<<(~(g-15>>4)&15))),m=a[n][g],129===m&&(l=!0,a[q][f-1]=m,b[q>>4][f-1>>8]|=1<<(~(f-1>>4)&15),15===(f-1&15)&&(b[q>>4][f+15>>8]|=1<<(~(f+15>>4)&15)));m=a[k][f];129===m&&(a[k+1][f-1]=m,l=
!0);m=a[k][g];129===m&&(a[k+1][g+1]=m,l=!0);m=a[e][f];129===m&&(a[e-1][f-1]=m,l=!0);m=a[e][g];129===m&&(a[e-1][g+1]=m,l=!0);l&&this.rb()};pa.prototype.Um=function(a){var b=this.wa,c=this.ba,d=this.$,f=Math.round((this.width-c)/2),e=Math.round((this.height-d)/2),g=f+c-1;d=e+d-1;var k=!1,l;if(this.og)for(l=0;l<c;l+=1){var p=e+l;var n=f+l;var q=a[p][f];129===q&&(k=!0,a[e-1][n]=q,b[e-1>>4][n>>8]|=1<<(~(n>>4)&15),15===(e-1&15)&&(b[(e-1>>4)+1][n>>8]|=1<<(~(n>>4)&15)));q=a[p][g];129===q&&(k=!0,a[d+1][n]=
q,b[d+1>>4][n>>8]|=1<<(~(n>>4)&15),0===(d+1&15)&&(b[(d+1>>4)-1][n>>8]|=1<<(~(n>>4)&15)));q=a[e][n];129===q&&(k=!0,a[p][f-1]=q,b[p>>4][f-1>>8]|=1<<(~(f-1>>4)&15),15===(f-1&15)&&(b[p>>4][f+15>>8]|=1<<(~(f+15>>4)&15)));q=a[d][n];129===q&&(k=!0,a[p][g+1]=q,b[p>>4][g+1>>8]|=1<<(~(g+1>>4)&15),0===(g+1&15)&&(b[p>>4][g-15>>8]|=1<<(~(g-15>>4)&15)))}else for(l=0;l<c;l+=1)p=e+l,n=f+(c-l-1),q=a[p][g],129===q&&(k=!0,a[e-1][n]=q,b[e-1>>4][n>>8]|=1<<(~(n>>4)&15),15===(e-1&15)&&(b[(e-1>>4)+1][n>>8]|=1<<(~(n>>4)&
15))),q=a[p][f],129===q&&(k=!0,a[d+1][n]=q,b[d+1>>4][n>>8]|=1<<(~(n>>4)&15),0===(d+1&15)&&(b[(d+1>>4)-1][n>>8]|=1<<(~(n>>4)&15))),q=a[e][n],129===q&&(k=!0,a[p][g+1]=q,b[p>>4][f-1>>8]|=1<<(~(f-1>>4)&15),0===(g+1&15)&&(b[p>>4][f+15>>8]|=1<<(~(f+15>>4)&15),b[p>>4][g-15>>8]|=1<<(~(g-15>>4)&15))),q=a[d][n],129===q&&(k=!0,a[p][f-1]=q,b[p>>4][g+1>>8]|=1<<(~(g+1>>4)&15),15===(f+15&15)&&(b[p>>4][f+15>>8]|=1<<(~(f+15>>4)&15)));q=a[d][f];129===q&&(k=!0,a[d+1][f-1]=q);q=a[d][g];129===q&&(k=!0,a[d+1][g+1]=q);
q=a[e][f];129===q&&(k=!0,a[e-1][f-1]=q);q=a[e][g];129===q&&(k=!0,a[e-1][g+1]=q);k&&this.rb()};pa.prototype.Vn=function(a){var b=this.ba,c=this.$,d=this.ja?-1:0,f=Math.round((this.width-b)/2)+d;d=Math.round((this.height-c)/2)+d;var e=f+b-1,g=d+c-1,k=this.he,l=this.ie,p=this.m,n;0===this.ba&&(f=0,e=this.width-1,b=this.width);0===this.$&&(d=0,g=this.height-1,c=this.height);if(0!==this.$)for(n=0;n<b;n+=1){var q=f+n;var m=f+((n+k)%b+b)%b;var r=a[g][q];0!==r&&(a[d-1][m]=r,p[d-1>>4][m>>8]|=1<<(~(m>>4)&15),
15===(d-1&15)&&(p[(d-1>>4)+1][m>>8]|=1<<(~(m>>4)&15)));m=f+((n-k)%b+b)%b;r=a[d][q];0!==r&&(a[g+1][m]=r,p[g+1>>4][m>>8]|=1<<(~(m>>4)&15),0===(g+1&15)&&(p[(g+1>>4)-1][m>>8]|=1<<(~(m>>4)&15)))}if(0!==this.ba)for(n=0;n<c;n+=1)q=d+n,m=d+((n-l)%c+c)%c,r=a[q][f],0!==r&&(a[m][e+1]=r,p[m>>4][e+1>>8]|=1<<(~(e+1>>4)&15),0===(e+1&15)&&(p[m>>4][e-15>>8]|=1<<(~(e-15>>4)&15))),m=d+((n+l)%c+c)%c,r=a[q][e],0!==r&&(a[m][f-1]=r,p[m>>4][f-1>>8]|=1<<(~(f-1>>4)&15),15===(f-1&15)&&(p[m>>4][f+15>>8]|=1<<(~(f+15>>4)&15)));
0!==this.ba&&0!==this.$&&(r=a[d+(c-1+l+c)%c][f+(-k+b)%b],a[d-1][e+1]=r,r=a[d+(c-1-l+c)%c][f+(b-1-k+b)%b],a[d-1][f-1]=r,r=a[d+(l+c)%c][f+(k+b)%b],a[g+1][e+1]=r,r=a[d+(-l+c)%c][f+(b-1+k+b)%b],a[g+1][f-1]=r)};pa.prototype.Ln=function(a){var b=this.m,c=this.ba,d=this.$,f=this.ja?-1:0,e=Math.round((this.width-c)/2)+f;f=Math.round((this.height-d)/2)+f;var g=e+c-1,k=f+d-1,l=this.he,p=this.ie,n=this.ng,q=this.lh,m;for(m=0;m<c;m+=1){var r=e+m;var u=n?g-(m+l+c)%c:e+(m+l+c)%c;var t=a[k][r];0!==t&&(a[f-1][u]=
t,b[f-1>>4][u>>8]|=1<<(~(u>>4)&15),15===(f-1&15)&&(b[(f-1>>4)+1][u>>8]|=1<<(~(u>>4)&15)));u=n?g-(m+l+c)%c:e+(m+l+c)%c;t=a[f][r];0!==t&&(a[k+1][u]=t,b[k+1>>4][u>>8]|=1<<(~(u>>4)&15),0===(k+1&15)&&(b[(k+1>>4)-1][u>>8]|=1<<(~(u>>4)&15)))}for(m=0;m<d;m+=1)c=f+m,r=q?k-(m+p+d)%d:f+(m+p+d)%d,t=a[c][e],0!==t&&(a[r][g+1]=t,b[r>>4][g+1>>8]|=1<<(~(g+1>>4)&15),0===(g+1&15)&&(b[r>>4][g-15>>8]|=1<<(~(g-15>>4)&15))),r=q?k-(m+p+d)%d:f+(m+p+d)%d,t=a[c][g],0!==t&&(a[r][e-1]=t,b[r>>4][e-1>>8]|=1<<(~(e-1>>4)&15),15===
(e-1&15)&&(b[r>>4][e+15>>8]|=1<<(~(e+15>>4)&15)));0!==this.ba&&0!==this.$&&this.Hn(n,e,f,g,k,l,p,a,b)};pa.prototype.Bn=function(a){var b=this.wa,c=this.ba,d=this.$,f=this.ja?-1:0,e=Math.round((this.width-c)/2)+f;f=Math.round((this.height-d)/2)+f;var g=e+c-1,k=f+d-1,l;for(l=0;l<c;l+=1){var p=e+l;var n=g-l;var q=a[k][p];0!==q&&(a[f-1][n]=q,b[f-1>>4][n>>8]|=1<<(~(n>>4)&15),15===(f-1&15)&&(b[(f-1>>4)+1][n>>8]|=1<<(~(n>>4)&15)));q=a[f][p];0!==q&&(a[k+1][n]=q,b[k+1>>4][n>>8]|=1<<(~(n>>4)&15),0===(k+1&15)&&
(b[(k+1>>4)-1][n>>8]|=1<<(~(n>>4)&15)))}for(l=0;l<=d;l+=1)p=f+l,n=k-l,q=a[p][e],0!==q&&(a[n][g+1]=q,b[n>>4][g+1>>8]|=1<<(~(g+1>>4)&15),0===(g+1&15)&&(b[n>>4][g-15>>8]|=1<<(~(g-15>>4)&15))),q=a[p][g],0!==q&&(a[n][e-1]=q,b[n>>4][e-1>>8]|=1<<(~(e-1>>4)&15),15===(e-1&15)&&(b[n>>4][e+15>>8]|=1<<(~(e+15>>4)&15)));q=a[k][e];a[k+1][e-1]=q;q=a[k][g];a[k+1][g+1]=q;q=a[f][e];a[f-1][e-1]=q;q=a[f][g];a[f-1][g+1]=q};pa.prototype.Rn=function(a){var b=this.wa,c=this.ba,d=this.$,f=this.ja?-1:0,e=Math.round((this.width-
c)/2)+f;f=Math.round((this.height-d)/2)+f;var g=e+c-1;d=f+d-1;var k=this.v,l;if(this.og)for(l=0;l<c;l+=1){var p=f+l;var n=e+l;var q=a[p][e];q>k&&(this.s&&(q-=k,q=(q>>1&15|(q&1)<<3)+k),a[f-1][n]=q,b[f-1>>4][n>>8]|=1<<(~(n>>4)&15),15===(f-1&15)&&(b[(f-1>>4)+1][n>>8]|=1<<(~(n>>4)&15)));q=a[p][g];q>k&&(this.s&&(q-=k,q=(q>>1&15|(q&1)<<3)+k),a[d+1][n]=q,b[d+1>>4][n>>8]|=1<<(~(n>>4)&15),0===(d+1&15)&&(b[(d+1>>4)-1][n>>8]|=1<<(~(n>>4)&15)));q=a[f][n];q>k&&(this.s&&(q-=k,q=(q<<1&15|(q&8)>>3)+k),a[p][e-1]=
q,b[p>>4][e-1>>8]|=1<<(~(e-1>>4)&15),15===(e-1&15)&&(b[p>>4][e+15>>8]|=1<<(~(e+15>>4)&15)));q=a[d][n];q>k&&(this.s&&(q-=k,q=(q<<1&15|(q&8)>>3)+k),a[p][g+1]=q,b[p>>4][g+1>>8]|=1<<(~(g+1>>4)&15),0===(g+1&15)&&(b[p>>4][g-15>>8]|=1<<(~(g-15>>4)&15)))}else for(l=0;l<c;l+=1)p=f+l,n=e+(c-l-1),q=a[p][g],q>k&&(this.s&&(q-=k,q=(q<<1&15|(q&8)>>3)+k),a[f-1][n]=q,b[f-1>>4][n>>8]|=1<<(~(n>>4)&15),15===(f-1&15)&&(b[(f-1>>4)+1][n>>8]|=1<<(~(n>>4)&15))),q=a[p][e],q>k&&(this.s&&(q-=k,q=(q<<1&15|(q&8)>>3)+k),a[d+1][n]=
q,b[d+1>>4][n>>8]|=1<<(~(n>>4)&15),0===(d+1&15)&&(b[(d+1>>4)-1][n>>8]|=1<<(~(n>>4)&15))),q=a[f][n],q>k&&(this.s&&(q-=k,q=(q>>1&15|(q&1)<<3)+k),a[p][g+1]=q,b[p>>4][e-1>>8]|=1<<(~(e-1>>4)&15),0===(g+1&15)&&(b[p>>4][e+15>>8]|=1<<(~(e+15>>4)&15),b[p>>4][g-15>>8]|=1<<(~(g-15>>4)&15))),q=a[d][n],q>k&&(this.s&&(q-=k,q=(q>>1&15|(q&1)<<3)+k),a[p][e-1]=q,b[p>>4][g+1>>8]|=1<<(~(g+1>>4)&15),15===(e+15&15)&&(b[p>>4][e+15>>8]|=1<<(~(e+15>>4)&15)));q=a[d][e];a[d+1][e-1]=q;q=a[d][g];a[d+1][g+1]=q;q=a[f][e];a[f-1][e-
1]=q;q=a[f][g];a[f-1][g+1]=q};pa.prototype.el=function(){var a=this.wa,b=this.ba,c=this.$;var d=this.ja?-1:0;var f=Math.round((this.width-b)/2)+d,e=Math.round((this.height-c)/2)+d,g=f+b-1,k=e+c-1,l=this.he,p=this.ie,n=this.Z&&0<f&&g<this.width-1,q;if(0!==(this.counter&1)){d=this.Va;var m=this.H}else d=this.va,m=this.j;0===this.ba&&(f=0,g=this.width-1,b=this.width);0===this.$&&(e=0,k=this.height-1,c=this.height);if(0!==this.$)for(q=0;q<b;q+=1){var r=f+q;var u=f+((q+l)%b+b)%b;0!==(d[k][r>>4]&1<<(~r&
15))&&(d[e-1][u>>4]|=1<<(~u&15),m[e-1>>4][u>>8]|=1<<(~(u>>4)&15),a[e-1>>4][u>>8]|=1<<(~(u>>4)&15),15===(e-1&15)&&(m[(e-1>>4)+1][u>>8]|=1<<(~(u>>4)&15),a[(e-1>>4)+1][u>>8]|=1<<(~(u>>4)&15)));u=f+((q-l)%b+b)%b;0!==(d[e][r>>4]&1<<(~r&15))&&(d[k+1][u>>4]|=1<<(~u&15),m[k+1>>4][u>>8]|=1<<(~(u>>4)&15),a[k+1>>4][u>>8]|=1<<(~(u>>4)&15),0===(k+1&15)&&(m[(k+1>>4)-1][u>>8]|=1<<(~(u>>4)&15),a[(k+1>>4)-1][u>>8]|=1<<(~(u>>4)&15)))}if(0!==this.ba)for(q=0;q<c;q+=1)r=e+q,u=e+((q-p)%c+c)%c,0!==(d[r][f>>4]&1<<(~f&15))&&
(d[u][g+1>>4]|=1<<(~(g+1)&15),m[u>>4][g+1>>8]|=1<<(~(g+1>>4)&15),a[u>>4][g+1>>8]|=1<<(~(g+1>>4)&15),0===(g+1&15)&&(m[u>>4][g-15>>8]|=1<<(~(g-15>>4)&15),a[u>>4][g-15>>8]|=1<<(~(g-15>>4)&15))),n&&(f+=1,g+=1,0!==(d[r][f>>4]&1<<(~f&15))&&(d[u][g+1>>4]|=1<<(~(g+1)&15),m[u>>4][g+1>>8]|=1<<(~(g+1>>4)&15),a[u>>4][g+1>>8]|=1<<(~(g+1>>4)&15),0===(g+1&15)&&(m[u>>4][g-15>>8]|=1<<(~(g-15>>4)&15),a[u>>4][g-15>>8]|=1<<(~(g-15>>4)&15))),--f,--g),u=e+((q+p)%c+c)%c,0!==(d[r][g>>4]&1<<(~g&15))&&(d[u][f-1>>4]|=1<<(~(f-
1)&15),m[u>>4][f-1>>8]|=1<<(~(f-1>>4)&15),a[u>>4][f-1>>8]|=1<<(~(f-1>>4)&15),15===(f-1&15)&&(m[u>>4][f+15>>8]|=1<<(~(f+15>>4)&15),a[u>>4][f+15>>8]|=1<<(~(f+15>>4)&15))),n&&(--f,--g,0!==(d[r][g>>4]&1<<(~g&15))&&(d[u][f-1>>4]|=1<<(~(f-1)&15),m[u>>4][f-1>>8]|=1<<(~(f-1>>4)&15),a[u>>4][f-1>>8]|=1<<(~(f-1>>4)&15),15===(f-1&15)&&(m[u>>4][f+15>>8]|=1<<(~(f+15>>4)&15),a[u>>4][f+15>>8]|=1<<(~(f+15>>4)&15))),f+=1,g+=1);0!==this.ba&&0!==this.$&&(r=f+(-l+b)%b,d[e-1][g+1>>4]=0!==(d[e+(c-1+p+c)%c][r>>4]&1<<(~r&
15))?d[e-1][g+1>>4]|1<<(~(g+1)&15):d[e-1][g+1>>4]&~(1<<(~(g+1)&15)),r=f+(b-1-l+b)%b,d[e-1][f-1>>4]=0!==(d[e+(c-1-p+c)%c][r>>4]&1<<(~r&15))?d[e-1][f-1>>4]|1<<(~(f-1)&15):d[e-1][f-1>>4]&~(1<<(~(f-1)&15)),r=f+(l+b)%b,d[k+1][g+1>>4]=0!==(d[e+(p+c)%c][r>>4]&1<<(~r&15))?d[k+1][g+1>>4]|1<<(~(g+1)&15):d[k+1][g+1>>4]&~(1<<(~(g+1)&15)),r=f+(b-1+l+b)%b,d[k+1][f-1>>4]=0!==(d[e+(-p+c)%c][r>>4]&1<<(~r&15))?d[k+1][f-1>>4]|1<<(~(f-1)&15):d[k+1][f-1>>4]&~(1<<(~(f-1)&15)),n&&(f+=1,g+=1,r=f+(-l+b)%b,d[e-1][g+1>>4]=
0!==(d[e+(c-1+p+c)%c][r>>4]&1<<(~r&15))?d[e-1][g+1>>4]|1<<(~(g+1)&15):d[e-1][g+1>>4]&~(1<<(~(g+1)&15)),r=f+(b-1-l+b)%b,d[e-1][f-1>>4]=0!==(d[e+(c-1-p+c)%c][r>>4]&1<<(~r&15))?d[e-1][f-1>>4]|1<<(~(f-1)&15):d[e-1][f-1>>4]&~(1<<(~(f-1)&15)),r=f+(l+b)%b,d[k+1][g+1>>4]=0!==(d[e+(p+c)%c][r>>4]&1<<(~r&15))?d[k+1][g+1>>4]|1<<(~(g+1)&15):d[k+1][g+1>>4]&~(1<<(~(g+1)&15)),r=f+(b-1+l+b)%b,d[k+1][f-1>>4]=0!==(d[e+(-p+c)%c][r>>4]&1<<(~r&15))?d[k+1][f-1>>4]|1<<(~(f-1)&15):d[k+1][f-1>>4]&~(1<<(~(f-1)&15)),f-=2,g-=
2,r=f+(-l+b)%b,d[e-1][g+1>>4]=0!==(d[e+(c-1+p+c)%c][r>>4]&1<<(~r&15))?d[e-1][g+1>>4]|1<<(~(g+1)&15):d[e-1][g+1>>4]&~(1<<(~(g+1)&15)),r=f+(b-1-l+b)%b,d[e-1][f-1>>4]=0!==(d[e+(c-1-p+c)%c][r>>4]&1<<(~r&15))?d[e-1][f-1>>4]|1<<(~(f-1)&15):d[e-1][f-1>>4]&~(1<<(~(f-1)&15)),r=f+(l+b)%b,d[k+1][g+1>>4]=0!==(d[e+(p+c)%c][r>>4]&1<<(~r&15))?d[k+1][g+1>>4]|1<<(~(g+1)&15):d[k+1][g+1>>4]&~(1<<(~(g+1)&15)),r=f+(b-1+l+b)%b,d[k+1][f-1>>4]=0!==(d[e+(-p+c)%c][r>>4]&1<<(~r&15))?d[k+1][f-1>>4]|1<<(~(f-1)&15):d[k+1][f-1>>
4]&~(1<<(~(f-1)&15))))};pa.prototype.Fn=function(a,b,c,d,f,e,g,k,l){var p=!1;if(a){g=d-e;g<b&&(g=d);var n=d+1;var q=c-1;a=k[f][g];129===a&&(p=!0,k[q][n]=a,l[q>>4][n>>8]|=1<<(~(n>>4)&15),15===(q&15)&&(l[(q>>4)+1][n>>8]|=1<<(~(n>>4)&15)));g=b-e;g<b&&(g=d);var m=f;n=b-1;q=c-1;a=k[m][g];129===a&&(p=!0,k[q][n]=a,l[q>>4][n>>8]|=1<<(~(n>>4)&15),15===(q&15)&&(l[(q>>4)+1][n>>8]|=1<<(~(n>>4)&15)));0!==(k[m][g>>4]&1<<(~g&15))&&(k[c-1][b-1>>4]|=1<<(~(b-1)&15));g=d-e;g<b&&(g=d);n=d+1;q=f+1;a=k[c][g];129===a&&
(p=!0,k[q][n]=a,l[q>>4][n>>8]|=1<<(~(n>>4)&15),15===(q&15)&&(l[(q>>4)-1][n>>8]|=1<<(~(n>>4)&15)));g=b-e;g<b&&(g=d);n=b-1;q=f+1;a=k[c][g];129===a&&(p=!0,k[q][n]=a,l[q>>4][n>>8]|=1<<(~(n>>4)&15),15===(q&15)&&(l[(q>>4)-1][n>>8]|=1<<(~(n>>4)&15)))}else m=c-g,m<c&&(m=f),n=d+1,q=c-1,a=k[m][b],129===a&&(p=!0,k[q][n]=a,l[q>>4][n>>8]|=1<<(~(n>>4)&15),15===(q&15)&&(l[(q>>4)+1][n>>8]|=1<<(~(n>>4)&15))),m=c-g,m<c&&(m=f),n=b-1,q=c-1,a=k[m][d],129===a&&(p=!0,k[q][n]=a,l[q>>4][n>>8]|=1<<(~(n>>4)&15),15===(q&15)&&
(l[(q>>4)+1][n>>8]|=1<<(~(n>>4)&15))),m=f-g,m<c&&(m=f),n=d+1,q=f+1,a=k[m][b],129===a&&(p=!0,k[q][n]=a,l[q>>4][n>>8]|=1<<(~(n>>4)&15),15===(q&15)&&(l[(q>>4)+1][n>>8]|=1<<(~(n>>4)&15))),m=f-g,m<c&&(m=f),n=b-1,q=f+1,a=k[m][d],129===a&&(p=!0,k[q][n]=a,l[q>>4][n>>8]|=1<<(~(n>>4)&15),15===(q&15)&&(l[(q>>4)+1][n>>8]|=1<<(~(n>>4)&15)));return p};pa.prototype.Hn=function(a,b,c,d,f,e,g,k,l){if(a){g=d-e;g<b&&(g=d);a=c-1;var p=k[f][g];0!==p&&(k[a][d+1]=p,l[a>>4][b-1>>8]|=1<<(~(b-1>>4)&15));g=b-e;g<b&&(g=d);a=
c-1;p=k[f][g];0!==p&&(k[a][b-1]=p,l[a>>4][b-1>>8]|=1<<(~(b-1>>4)&15));g=d-e;g<b&&(g=d);a=f+1;p=k[c][g];0!==p&&(k[a][d+1]=p,l[a>>4][b-1>>8]|=1<<(~(b-1>>4)&15));g=b-e;g<b&&(g=d);e=b-1;a=f+1;p=k[c][g]}else p=c-g,p<c&&(p=f),a=c-1,p=k[p][b],0!==p&&(k[a][d+1]=p,l[a>>4][b-1>>8]|=1<<(~(b-1>>4)&15)),p=c-g,p<c&&(p=f),a=c-1,p=k[p][d],0!==p&&(k[a][b-1]=p,l[a>>4][b-1>>8]|=1<<(~(b-1>>4)&15)),p=f-g,p<c&&(p=f),a=f+1,p=k[p][b],0!==p&&(k[a][d+1]=p,l[a>>4][b-1>>8]|=1<<(~(b-1>>4)&15)),p=f-g,p<c&&(p=f),e=b-1,a=f+1,p=
k[p][d];0!==p&&(k[a][e]=p,l[a>>4][b-1>>8]|=1<<(~(b-1>>4)&15))};pa.prototype.Si=function(a,b,c,d,f,e,g,k){a?(a=d-e,a<b&&(a=d),0!==(k[f][a>>4]&1<<(~a&15))&&(k[c-1][d+1>>4]|=1<<(~(d+1)&15)),a=b-e,a<b&&(a=d),0!==(k[f][a>>4]&1<<(~a&15))&&(k[c-1][b-1>>4]|=1<<(~(b-1)&15)),a=d-e,a<b&&(a=d),0!==(k[c][a>>4]&1<<(~a&15))&&(k[f+1][d+1>>4]|=1<<(~(d+1)&15)),a=b-e,a<b&&(a=d),0!==(k[c][a>>4]&1<<(~a&15))&&(k[f+1][b-1>>4]|=1<<(~(b-1)&15))):(a=b,e=c-g,e<c&&(e=f),0!==(k[e][a>>4]&1<<(~a&15))&&(k[c-1][d+1>>4]|=1<<(~(d+
1)&15)),a=d,e=c-g,e<c&&(e=f),0!==(k[e][a>>4]&1<<(~a&15))&&(k[c-1][b-1>>4]|=1<<(~(b-1)&15)),a=b,e=f-g,e<c&&(e=f),0!==(k[e][a>>4]&1<<(~a&15))&&(k[f+1][d+1>>4]|=1<<(~(d+1)&15)),a=d,e=f-g,e<c&&(e=f),0!==(k[e][a>>4]&1<<(~a&15))&&(k[f+1][b-1>>4]|=1<<(~(b-1)&15)))};pa.prototype.Zk=function(){var a=this.wa,b=this.ba,c=this.$;var d=this.ja?-1:0;var f=Math.round((this.width-b)/2)+d,e=Math.round((this.height-c)/2)+d,g=f+b-1,k=e+c-1,l=this.he,p=this.ie,n=this.ng,q=this.lh,m=this.Z&&0<f&&g<this.width-1,r;if(0!==
(this.counter&1)){d=this.Va;var u=this.H}else d=this.va,u=this.j;for(r=0;r<b;r+=1){var t=f+r;var v=n?g-(r+l)%b:t;0!==(d[k][v>>4]&1<<(~v&15))&&(d[e-1][t>>4]|=1<<(~t&15),u[e-1>>4][t>>8]|=1<<(~(t>>4)&15),a[e-1>>4][t>>8]|=1<<(~(t>>4)&15),15===(e-1&15)&&(u[(e-1>>4)+1][t>>8]|=1<<(~(t>>4)&15),a[(e-1>>4)+1][t>>8]|=1<<(~(t>>4)&15)));0!==(d[e][v>>4]&1<<(~v&15))&&(d[k+1][t>>4]|=1<<(~t&15),u[k+1>>4][t>>8]|=1<<(~(t>>4)&15),a[k+1>>4][t>>8]|=1<<(~(t>>4)&15),0===(k+1&15)&&(u[(k+1>>4)-1][t>>8]|=1<<(~(t>>4)&15),a[(k+
1>>4)-1][t>>8]|=1<<(~(t>>4)&15)))}for(r=0;r<c;r+=1)v=e+r,b=q?k-(r+p)%c:v,0!==(d[b][f>>4]&1<<(~f&15))&&(d[v][g+1>>4]|=1<<(~(g+1)&15),u[v>>4][g+1>>8]|=1<<(~(g+1>>4)&15),a[v>>4][g+1>>8]|=1<<(~(g+1>>4)&15),0===(g+1&15)&&(u[v>>4][g-15>>8]|=1<<(~(g-15>>4)&15),a[v>>4][g-15>>8]|=1<<(~(g-15>>4)&15))),m&&(f+=1,g+=1,0!==(d[b][f>>4]&1<<(~f&15))&&(d[v][g+1>>4]|=1<<(~(g+1)&15),u[v>>4][g+1>>8]|=1<<(~(g+1>>4)&15),a[v>>4][g+1>>8]|=1<<(~(g+1>>4)&15),0===(g+1&15)&&(u[v>>4][g-15>>8]|=1<<(~(g-15>>4)&15),a[v>>4][g-15>>
8]|=1<<(~(g-15>>4)&15))),--f,--g),0!==(d[b][g>>4]&1<<(~g&15))&&(d[v][f-1>>4]|=1<<(~(f-1)&15),u[v>>4][f-1>>8]|=1<<(~(f-1>>4)&15),a[v>>4][f-1>>8]|=1<<(~(f-1>>4)&15),15===(f-1&15)&&(u[v>>4][f+15>>8]|=1<<(~(f+15>>4)&15),a[v>>4][f+15>>8]|=1<<(~(f+15>>4)&15))),m&&(--f,--g,0!==(d[b][g>>4]&1<<(~g&15))&&(d[v][f-1>>4]|=1<<(~(f-1)&15),u[v>>4][f-1>>8]|=1<<(~(f-1>>4)&15),a[v>>4][f-1>>8]|=1<<(~(f-1>>4)&15),15===(f-1&15)&&(u[v>>4][f+15>>8]|=1<<(~(f+15>>4)&15),a[v>>4][f+15>>8]|=1<<(~(f+15>>4)&15))),f+=1,g+=1);0!==
this.ba&&0!==this.$&&(this.Si(n,f,e,g,k,l,p,d),m&&(f+=1,g+=1,this.Si(n,f,e,g,k,l,p,d),this.Si(n,f-2,e,g-2,k,l,p,d)))};pa.prototype.Yk=function(){var a=this.wa,b=this.ba,c=this.$;var d=this.ja?-1:0;var f=Math.round((this.width-b)/2)+d,e=Math.round((this.height-c)/2)+d,g=f+b-1,k=e+c-1,l=this.Z&&0<f&&g<this.width-1,p;if(0!==(this.counter&1)){d=this.Va;var n=this.H}else d=this.va,n=this.j;for(p=0;p<b;p+=1){var q=f+p;var m=g-p;0!==(d[k][q>>4]&1<<(~q&15))&&(d[e-1][m>>4]|=1<<(~m&15),n[e-1>>4][m>>8]|=1<<
(~(m>>4)&15),a[e-1>>4][m>>8]|=1<<(~(m>>4)&15),15===(e-1&15)&&(n[(e-1>>4)+1][m>>8]|=1<<(~(m>>4)&15),a[(e-1>>4)+1][m>>8]|=1<<(~(m>>4)&15)));0!==(d[e][q>>4]&1<<(~q&15))&&(d[k+1][m>>4]|=1<<(~m&15),n[k+1>>4][m>>8]|=1<<(~(m>>4)&15),a[k+1>>4][m>>8]|=1<<(~(m>>4)&15),0===(k+1&15)&&(n[(k+1>>4)-1][m>>8]|=1<<(~(m>>4)&15),a[(k+1>>4)-1][m>>8]|=1<<(~(m>>4)&15)))}for(p=0;p<c;p+=1)q=e+p,m=k-p,0!==(d[q][f>>4]&1<<(~f&15))&&(d[m][g+1>>4]|=1<<(~(g+1)&15),n[m>>4][g+1>>8]|=1<<(~(g+1>>4)&15),a[m>>4][g+1>>8]|=1<<(~(g+1>>
4)&15),0===(g+1&15)&&(n[m>>4][g-15>>8]|=1<<(~(g-15>>4)&15),a[m>>4][g-15>>8]|=1<<(~(g-15>>4)&15))),l&&(f+=1,g+=1,0!==(d[q][f>>4]&1<<(~f&15))&&(d[m][g+1>>4]|=1<<(~(g+1)&15),n[m>>4][g+1>>8]|=1<<(~(g+1>>4)&15),a[m>>4][g+1>>8]|=1<<(~(g+1>>4)&15),0===(g+1&15)&&(n[m>>4][g-15>>8]|=1<<(~(g-15>>4)&15),a[m>>4][g-15>>8]|=1<<(~(g-15>>4)&15))),--f,--g),0!==(d[q][g>>4]&1<<(~g&15))&&(d[m][f-1>>4]|=1<<(~(f-1)&15),n[m>>4][f-1>>8]|=1<<(~(f-1>>4)&15),a[m>>4][f-1>>8]|=1<<(~(f-1>>4)&15),15===(f-1&15)&&(n[m>>4][f+15>>8]|=
1<<(~(f+15>>4)&15),a[m>>4][f+15>>8]|=1<<(~(f+15>>4)&15))),l&&(--f,--g,0!==(d[q][g>>4]&1<<(~g&15))&&(d[m][f-1>>4]|=1<<(~(f-1)&15),n[m>>4][f-1>>8]|=1<<(~(f-1>>4)&15),a[m>>4][f-1>>8]|=1<<(~(f-1>>4)&15),15===(f-1&15)&&(n[m>>4][f+15>>8]|=1<<(~(f+15>>4)&15),a[m>>4][f+15>>8]|=1<<(~(f+15>>4)&15))),f+=1,g+=1);0!==this.ba&&0!==this.$&&(0!==(d[k][f>>4]&1<<(~f&15))&&(d[k+1][f-1>>4]|=1<<(~(f-1)&15)),0!==(d[k][g>>4]&1<<(~g&15))&&(d[k+1][g+1>>4]|=1<<(~(g+1)&15)),0!==(d[e][f>>4]&1<<(~f&15))&&(d[e-1][f-1>>4]|=1<<
(~(f-1)&15)),0!==(d[e][g>>4]&1<<(~g&15))&&(d[e-1][g+1>>4]|=1<<(~(g+1)&15)),l&&(f+=1,g+=1,0!==(d[k][f>>4]&1<<(~f&15))&&(d[k+1][f-1>>4]|=1<<(~(f-1)&15)),0!==(d[k][g>>4]&1<<(~g&15))&&(d[k+1][g+1>>4]|=1<<(~(g+1)&15)),0!==(d[e][f>>4]&1<<(~f&15))&&(d[e-1][f-1>>4]|=1<<(~(f-1)&15)),0!==(d[e][g>>4]&1<<(~g&15))&&(d[e-1][g+1>>4]|=1<<(~(g+1)&15)),f-=2,g-=2,0!==(d[k][f>>4]&1<<(~f&15))&&(d[k+1][f-1>>4]|=1<<(~(f-1)&15)),0!==(d[k][g>>4]&1<<(~g&15))&&(d[k+1][g+1>>4]|=1<<(~(g+1)&15)),0!==(d[e][f>>4]&1<<(~f&15))&&(d[e-
1][f-1>>4]|=1<<(~(f-1)&15)),0!==(d[e][g>>4]&1<<(~g&15))&&(d[e-1][g+1>>4]|=1<<(~(g+1)&15))))};pa.prototype.$k=function(){var a=this.wa,b=this.ba;var c=this.$;var d=this.ja?-1:0,f=Math.round((this.width-b)/2)+d;d=Math.round((this.height-c)/2)+d;var e=f+b-1,g=d+c-1,k;if(0!==(this.counter&1)){c=this.Va;var l=this.H}else c=this.va,l=this.j;if(this.og)for(k=0;k<b;k+=1){var p=d+k;var n=f+k;0!==(c[p][f>>4]&1<<(~f&15))&&(c[d-1][n>>4]|=1<<(~n&15),l[d-1>>4][n>>8]|=1<<(~(n>>4)&15),a[d-1>>4][n>>8]|=1<<(~(n>>4)&
15),15===(d-1&15)&&(l[(d-1>>4)+1][n>>8]|=1<<(~(n>>4)&15),a[(d-1>>4)+1][n>>8]|=1<<(~(n>>4)&15)));0!==(c[p][e>>4]&1<<(~e&15))&&(c[g+1][n>>4]|=1<<(~n&15),l[g+1>>4][n>>8]|=1<<(~(n>>4)&15),a[g+1>>4][n>>8]|=1<<(~(n>>4)&15),0===(g+1&15)&&(l[(g+1>>4)-1][n>>8]|=1<<(~(n>>4)&15),a[(g+1>>4)-1][n>>8]|=1<<(~(n>>4)&15)));0!==(c[d][n>>4]&1<<(~n&15))&&(c[p][f-1>>4]|=1<<(~(f-1)&15),l[p>>4][f-1>>8]|=1<<(~(f-1>>4)&15),a[p>>4][f-1>>8]|=1<<(~(f-1>>4)&15),15===(f-1&15)&&(l[p>>4][f+15>>8]|=1<<(~(f+15>>4)&15),a[p>>4][f+15>>
8]|=1<<(~(f+15>>4)&15)));0!==(c[g][n>>4]&1<<(~n&15))&&(c[p][e+1>>4]|=1<<(~(e+1)&15),l[p>>4][e+1>>8]|=1<<(~(e+1>>4)&15),a[p>>4][e+1>>8]|=1<<(~(e+1>>4)&15),0===(e+1&15)&&(l[p>>4][e-15>>8]|=1<<(~(e-15>>4)&15),a[p>>4][e-15>>8]|=1<<(~(e-15>>4)&15)))}else for(k=0;k<b;k+=1)p=d+k,n=f+(b-k-1),0!==(c[p][e>>4]&1<<(~e&15))&&(c[d-1][n>>4]|=1<<(~n&15),l[d-1>>4][n>>8]|=1<<(~(n>>4)&15),a[d-1>>4][n>>8]|=1<<(~(n>>4)&15),15===(d-1&15)&&(l[(d-1>>4)+1][n>>8]|=1<<(~(n>>4)&15),a[(d-1>>4)+1][n>>8]|=1<<(~(n>>4)&15))),0!==
(c[p][f>>4]&1<<(~f&15))&&(c[g+1][n>>4]|=1<<(~n&15),l[g+1>>4][n>>8]|=1<<(~(n>>4)&15),a[g+1>>4][n>>8]|=1<<(~(n>>4)&15),0===(g+1&15)&&(l[(g+1>>4)-1][n>>8]|=1<<(~(n>>4)&15),a[(g+1>>4)-1][n>>8]|=1<<(~(n>>4)&15))),0!==(c[d][n>>4]&1<<(~n&15))&&(c[p][e+1>>4]|=1<<(~(e+1)&15),l[p>>4][e+1>>8]|=1<<(~(e+1>>4)&15),a[p>>4][e+1>>8]|=1<<(~(e+1>>4)&15),15===(e+1&15)&&(l[p>>4][e-15>>8]|=1<<(~(e-15>>4)&15),a[p>>4][e-15>>8]|=1<<(~(e-15>>4)&15))),0!==(c[g][n>>4]&1<<(~n&15))&&(c[p][f-1>>4]|=1<<(~(f-1)&15),l[p>>4][f-1>>
8]|=1<<(~(f-1>>4)&15),a[p>>4][f-1>>8]|=1<<(~(f-1>>4)&15),0===(f-1&15)&&(l[p>>4][f+15>>8]|=1<<(~(f+15>>4)&15),a[p>>4][f+15>>8]|=1<<(~(f+15>>4)&15)));0!==(c[g][f>>4]&1<<(~f&15))&&(c[g+1][f-1>>4]|=1<<(~(f-1)&15));0!==(c[g][e>>4]&1<<(~e&15))&&(c[g+1][e+1>>4]|=1<<(~(e+1)&15));0!==(c[d][f>>4]&1<<(~f&15))&&(c[d-1][f-1>>4]|=1<<(~(f-1)&15));0!==(c[d][e>>4]&1<<(~e&15))&&(c[d-1][e+1>>4]|=1<<(~(e+1)&15))};pa.prototype.vn=function(){var a,b=1;0!==this.S&&(b=2);this.Z&&(b+=1);for(a=1;a<=b+1;a+=1)this.Vl(a);this.O&&
this.Wl();this.vf&&this.Zl()};pa.prototype.xn=function(){var a=this.h,b=this.Wa;(this.s||this.D||this.u||this.G)&&0!==(this.counter&1)&&(a=this.P);this.kf(a,0);this.Pg();switch(this.S){case 1:this.s||this.D||this.u||this.G?(this.Vn(a),(this.u||this.G)&&this.el()):(this.el(),this.O&&this.Tn(b));break;case 2:this.s||this.D||this.u||this.G?(this.Ln(a),(this.u||this.G)&&this.Zk()):(this.Zk(),this.O&&this.Jn(b));break;case 3:this.s||this.D||this.u||this.G?(this.Bn(a),(this.u||this.G)&&this.Yk()):(this.Yk(),
this.O&&this.zn(b));break;case 4:this.s||this.D||this.u||this.G?(this.Rn(a),(this.u||this.G)&&this.$k()):(this.$k(),this.O&&this.Um(b))}this.Pg()};pa.prototype.bg=function(a){this.fj&&(this.Bf+=y.lq,this.ji(a),this.fj=!1)};pa.prototype.dl=function(a){this.la?this.counter+=1:this.Pn(a)};pa.prototype.Ul=function(){var a=this.A;var b=a.J>>4,c=a.L>>4,d,f=0,e=this.ec;for(a=(this.counter&1?this.va:this.Va)[a.K];b<=c;b+=1)if(d=a[b])f+=e[d],a[b]=0;this.B-=f;this.ga+=f};pa.prototype.Pn=function(a){var b=this.A,
c=this.mb;this.fj=this.counter!==this.Bf-1||a?!1:!0;-1===this.S||this.Da||this.xn();this.ad&&this.vp();this.D?null===this.vb?this.an():this.Xm():this.s?this.pp():this.Da?this.ca.Ea(this.counter):this.ja?this.op():this.Z?this.rn():this.G||(this.nn(),this.eb&&-1!==this.Sd&&this.Ul());this.counter+=1;if(this.ja||this.s)this.tb?--this.Xb:this.Xb+=1,this.Xb>this.Ie&&(this.Ie=this.Xb);-1===this.i||this.Da||this.s||this.D||this.u||this.G||(a=performance.now(),W.R&&W.zD&&this.view.i?(0!==(this.counter&1)?
va.zr(this.h.o.byteOffset|0,this.m.o.byteOffset|0,this.wa.o.byteOffset|0,16,2,this.I|0,this.F|0,this.Hd.o.byteOffset|0,this.H.o.byteOffset|0,this.h[0].length|0,this.fa.byteOffset|0,this.v|0,this.i+this.v-1|0,(0<this.v?1:0)|0,this.width|0,this.height|0):va.zr(this.h.o.byteOffset|0,this.m.o.byteOffset|0,this.wa.o.byteOffset|0,16,2,this.I|0,this.F|0,this.grid.o.byteOffset|0,this.j.o.byteOffset|0,this.h[0].length|0,this.fa.byteOffset|0,this.v|0,this.i+this.v-1|0,(0<this.v?1:0)|0,this.width|0,this.height|
0),this.B=this.fa[0],this.na=this.fa[1],this.ga=this.fa[2],this.A.J=this.fa[3],this.A.K=this.fa[4],this.A.L=this.fa[5],this.A.N=this.fa[6]):this.zr(),a=performance.now()-a,W.wb&&this.view.C.h("nextGenerations",a,W.R&&W.zD&&this.view.i));this.u&&this.en();this.G&&this.ip();this.ad&&this.up();-1===this.S||this.Da||this.vn();if(this.width===this.ea||this.height===this.ea)if(a=this.Da?2*this.ca.v:this.G||this.D?1:16,b.J<a||b.L>=this.ea-a||b.K<a||b.N>=this.ea-a)a=this.B,this.Da?this.xl():this.D||this.s?
this.am():this.G?this.Xl():this.Yl(),a!==this.B&&(this.Nb=!0,this.bc(),this.view.Tc&&this.view.C.notification.notify("Cells killed after hitting boundary",15,120,15,!0));0<this.B&&(b.J<c.J&&(c.J=b.J),b.L>c.L&&(c.L=b.L),b.K<c.K&&(c.K=b.K),b.N>c.N&&(c.N=b.N))};pa.prototype.Mh=function(){var a=this.counter>>y.Uj,b=this.counter&(1<<y.Uj)-1;this.counter<y.nr&&(this.B>this.Eg&&(this.Eg=this.B),this.na>this.Ah&&(this.Ah=this.na),this.ga>this.Cg&&(this.Cg=this.ga),this.Uc&&0<this.Uc.length&&(this.counter>=
this.Lg&&(Array.Dp(this.Uc,"Life.popGraphData"),Array.Dp(this.Mf,"Life.birthGraphData"),Array.Dp(this.Sf,"Life.deathGraphData"),this.Lg+=1<<y.Uj),this.Uc[a][b]=this.B,this.Mf[a][b]=this.na,this.Sf[a][b]=this.ga))};pa.prototype.Wi=function(a,b,c,d,f,e,g,k){var l=1,p,n=(1<<y.Uj)-1,q=y.nr;var m=this.counter;m>q&&(m=q);m>c&&(l=c/m);if(k){a.strokeStyle=b;a.beginPath();var r=d-g[0][0]/this.Gd*d|0;a.moveTo(e+.5,r+f+e+.5)}else a.fillStyle=b;g.length<<y.Uj<q&&(q=g.length<<y.Uj);var u=0;for(b=m=1;b<c;b+=1){if(m<
q){var t=m>>y.Uj;r=m&n;var v=p=g[t][r];u+=l;for(m+=1;0===(u|0)&&m<q;)t=m>>y.Uj,r=m&n,t=g[t][r],m+=1,t>v&&(v=t),t<p&&(p=t),u+=l;--u}else v=p=0;b<=this.counter&&(t=e+1+b,r=d-p/this.Gd*d|0,k?(a.lineTo(t+.5,r+f+e+.5),p!==v&&(r=d-v/this.Gd*d|0,a.lineTo(t+.5,r+f+e+.5))):0<p&&0<v&&(p!==v&&(r=d-v/this.Gd*d|0),a.fillRect(t+.5,r+f+e+.5,1,1)))}k&&a.stroke()};pa.prototype.xk=function(a,b,c,d,f){var e=this.oa,g=f.h.s,k=40*f.h.B,l=40*g,p=this.displayWidth-l,n=this.displayHeight-k-l,q=this.counter,m="rgb("+this.Dd[0]+
","+this.Dd[1]+","+this.Dd[2]+")",r="rgb("+this.Cd[0]+","+this.Cd[1]+","+this.Cd[2]+")",u="rgb("+this.Bd[0]+","+this.Bd[1]+","+this.Bd[2]+")",t="rgb("+this.Ed[0]+","+this.Ed[1]+","+this.Ed[2]+")",v="rgb("+this.Fd[0]+","+this.Fd[1]+","+this.Fd[2]+")";this.Mh();if(this.Uc&&0<this.Uc.length){c?(n=this.displayHeight,k=0):d&&(n=this.displayHeight,k=0,p=this.displayWidth,l=0);var B=p-l;q>y.nr&&(q=y.nr);this.Gd=0;-1===this.S&&(f.kh&&(this.Gd=this.Ah),f.lh&&this.Cg>this.Gd&&(this.Gd=this.Cg));f.mh&&this.Eg>
this.Gd&&(this.Gd=this.Eg);e.save();e.fillStyle=m;e.globalAlpha=b;e.fillRect(0,k,p+l,n);e.globalAlpha=1;c&&(n-=l);if(!d){e.font=(16*g|0)+"px Arial";e.textAlign="center";e.fillStyle=f.C.dc;for(b=2;0<=b;b-=2)e.save(),e.translate(this.displayWidth/2,n+l/2-(6*g|0)),e.fillText("Generation",b,b),e.restore(),e.save(),e.translate(l/2+(6*g|0),this.displayHeight/2),e.rotate(-90*Math.PI/180),320>this.displayHeight?e.fillText("Pop",b,b):e.fillText("Population",b,b),e.restore(),e.fillStyle=r;e.fillStyle=f.C.dc;
for(b=2;0<=b;b-=2)e.save(),e.translate(l-l/2+(6*g|0),k+l),e.rotate(-90*Math.PI/180),e.fillText(String(this.Gd),b,b),e.restore(),e.save(),e.translate(l-l/2+(6*g|0),n),e.rotate(-90*Math.PI/180),e.fillText("0",b,b),e.restore(),e.save(),e.translate(l,n+l/2-(6*g|0)),e.fillText("0",b,b),e.restore(),e.save(),e.translate(p,n+l/2-(6*g|0)),e.fillText(String(q>B?q:B|0),b,b),e.restore(),e.fillStyle=r}-1===this.S&&(f.lh&&this.Wi(e,v,B,n-k-l,k,l,this.Sf,a),f.kh&&this.Wi(e,t,B,n-k-l,k,l,this.Mf,a));(-1!==this.S||
f.mh)&&this.Wi(e,u,B,n-k-l,k,l,this.Uc,a);-1!==this.S||f.lh||f.kh||f.mh||(e.save(),e.font=(24*g|0)+"px Arial",e.translate(this.displayWidth/2,this.displayHeight/2),e.fillStyle=f.C.dc,e.fillText("Select Data",2,2),e.fillStyle=r,e.fillText("Select Data",0,0),e.restore());e.strokeStyle=r;e.lineWidth=1;e.beginPath();e.moveTo(l+.5,k+l+.5);e.lineTo(l+.5,n+.5);e.lineTo(p+.5,n+.5);e.lineTo(p+.5,n+2.5);e.moveTo(l+.5,n+.5);e.lineTo(l+.5,n+2.5);e.moveTo(l+.5,n+.5);e.lineTo(l+.5-2,n+.5);e.moveTo(l+.5,k+l+.5);
e.lineTo(l+.5-2,k+l+.5);e.stroke();e.restore()}};pa.prototype.Kh=function(){var a;if(this.Uc&&0<this.Uc.length){if(0<this.counter)for(a=0;a<this.Uc.length;a+=1)this.Uc[a].fill(0),this.Mf[a].fill(0),this.Sf[a].fill(0);this.Uc[0][0]=this.B}this.Eg=this.B;this.Ah=this.na;this.Cg=this.ga};pa.prototype.Jh=function(){var a=this.A,b=this.mb;b.J=a.J;b.L=a.L;b.N=a.N;b.K=a.K};pa.prototype.vp=function(){var a,b,c,d,f=this.ad,e=this.Fe,g=this.$d,k=this.td,l=this.I,p=this.F>>4,n;var q=0;var m=0!==(this.counter&
1)?this.Va:this.va;for(a=0;a<l;a+=1){var r=0;var u=k[a];for(b=0;b<p;b+=1)if(n=u[b])for(c=15;0<=c;--c){if(0!==(n&1<<c))for(d=q;d<q+16;d+=1)e[d][r]=(m[d][r]|g[d][r])&f[d][r];r+=1}else r+=16;q+=16}};pa.prototype.up=function(){var a,b,c,d,f,e=this.ec,g=this.Fe,k=this.$d,l=this.td,p=this.I,n=this.F>>4,q;var m=0!==(this.counter&1)?this.Va:this.va;for(a=f=0;a<p;a+=1){var r=0;var u=l[a];for(b=0;b<n;b+=1)if(q=u[b])for(c=15;0<=c;--c){if(0!==(q&1<<c))for(d=f;d<f+16;d+=1){var t=m[d][r];var v=t&~g[d][r];var B=
t&~k[d][r];v!==t&&(m[d][r]=v,v=e[t]-e[v],t=e[t]-e[B],this.B-=v,this.na-=t,this.ga+=v-t)}r+=1}else r+=16;f+=16}};pa.prototype.Vi=function(a,b,c,d){var f,e,g=this.Td,k=0,l=this.Zb[k],p=this.$b[k],n=0,q=y.Cm,m=q-1,r=0,u=q,t=this.bf,v=this.Ia,B=this.Ha,w=this.i+this.v-2,z=0;l[n]=a;p[n]=b;n+=1;-1===this.i&&(w=this.xa);if(c[b][a>>4]&1<<(~a&15)){c[b][a>>4]&=~(1<<(~a&15));z+=1;if(this.u)switch(d[b][a]){case 3:case 4:w=4;break;case 7:case 8:w=8;break;case 9:w=10;break;case 11:w=12;break;case 13:case 15:case 17:case 19:case 21:case 23:case 25:w=
0;break;default:w=2}d[b][a]=w}for(;0<n;)for(--n,n<r&&(--k,r-=q,u-=q,l=this.Zb[k],p=this.$b[k]),a=l[n&m],b=p[n&m],e=b-t;e<=b+t;){for(f=a-t;f<=a+t;){if(f===(f&v)&&e===(e&B)&&0!==(c[e][f>>4]&1<<(~f&15))){c[e][f>>4]&=~(1<<(~f&15));z+=1;if(this.u)switch(d[e][f]){case 3:case 4:w=4;break;case 7:case 8:w=8;break;case 9:w=10;break;case 11:w=12;break;case 13:case 15:case 17:case 19:case 21:case 23:case 25:w=0;break;default:w=2}d[e][f]=w;n===u&&(k+=1,r+=q,u+=q,k>g&&(this.Zb[k]=this.T.h(ra.Pd,q,"Life.boundaryX"+
k,!1),this.$b[k]=this.T.h(ra.Pd,q,"Life.boundaryY"+k,!1),this.Td=g+=1),l=this.Zb[k],p=this.$b[k]);l[n&m]=f;p[n&m]=e;n+=1}f+=1}e+=1}this.B-=z;this.ga+=z};pa.prototype.fl=function(a,b,c,d){for(var f=c[b][a],e=15;0<=e;)0!==(f&1<<e)&&this.Vi((a<<4)+(~e&15),b,c,d),--e};pa.prototype.bo=function(a,b,c){this.Vi(0,a,b,c)};pa.prototype.eo=function(a,b,c,d){this.Vi((a<<4)+15,b,c,d)};pa.prototype.Yl=function(){var a=this.h,b;this.u&&0!==(this.counter&1)&&(a=this.P);var c=0!==(this.counter&1)?this.Va:this.va;
var d=c.length;var f=c[0].length;var e=c[0];var g=c[d-1];for(b=0;b<f;)e[b]&&this.fl(b,0,c,a),g[b]&&this.fl(b,d-1,c,a),b+=1;for(b=0;b<d;)0!==(c[b][0]&32768)&&this.bo(b,c,a),0!==(c[b][f-1]&1)&&this.eo(f-1,b,c,a),b+=1};pa.prototype.Fh=function(a,b){var c,d=this.h,f,e=this.Td,g=0,k=this.Zb[g],l=this.$b[g],p=0,n=y.Cm,q=n-1,m=0,r=n,u=this.Ia,t=this.Ha,v=this.bf,B=this.s?this.v:0,w=0;0!==(this.counter&1)&&(d=this.P);k[p]=a;l[p]=b;p+=1;d[b][a]>B&&(w=this.s?w+this.ec[d[b][a]-this.v]:w+1,d[b][a]=B);for(;0<
p;)for(--p,p<m&&(--g,m-=n,r-=n,k=this.Zb[g],l=this.$b[g]),a=k[p&q],b=l[p&q],c=b-v;c<=b+v;){var z=a-v;for(f=d[c];z<=a+v;)z===(z&u)&&c===(c&t)&&f[z]>B&&(w=this.s?w+this.ec[f[z]-this.v]:w+1,f[z]=B,p===r&&(g+=1,m+=n,r+=n,g>e&&(this.Zb[g]=this.T.h(ra.Pd,n,"Life.boundaryX"+g,!1),this.$b[g]=this.T.h(ra.Pd,n,"Life.boundaryY"+g,!1),this.Td=e+=1),k=this.Zb[g],l=this.$b[g]),k[p&q]=z,l[p&q]=c,p+=1),z+=1;c+=1}this.B-=w;this.ga+=w};pa.prototype.fh=function(a,b){var c,d=this.h,f,e=this.Td,g=0,k=this.Zb[g],l=this.$b[g],
p=0,n=y.Cm,q=n-1,m=0,r=n,u=this.Ia,t=this.Ha,v=this.bf,B=0;0!==(this.counter&1)&&(d=this.P);k[p]=a;l[p]=b;p+=1;1===d[b][a]&&(d[b][a]=0,B+=1);for(;0<p;)for(--p,p<m&&(--g,m-=n,r-=n,k=this.Zb[g],l=this.$b[g]),a=k[p&q],b=l[p&q],c=b-v;c<=b+v;){var w=a-v;for(f=d[c];w<=a+v;)w===(w&u)&&c===(c&t)&&1===f[w]&&(f[w]=0,B+=1,p===r&&(g+=1,m+=n,r+=n,g>e&&(this.Zb[g]=this.T.h(ra.Pd,n,"Life.boundaryX"+g,!1),this.$b[g]=this.T.h(ra.Pd,n,"Life.boundaryY"+g,!1),this.Td=e+=1),k=this.Zb[g],l=this.$b[g]),k[p&q]=w,l[p&q]=
c,p+=1),w+=1;c+=1}this.B-=B;this.ga+=B};pa.prototype.Dh=function(a,b){var c,d=this.h,f,e=this.Td,g=0,k=this.Zb[g],l=this.$b[g],p=0,n=y.Cm,q=n-1,m=0,r=n,u=this.Ia,t=this.Ha,v=y.xa,B=y.be,w=this.bf,z=0;k[p]=a;l[p]=b;p+=1;d[b][a]>=v&&(d[b][a]=B,z+=1);for(;0<p;)for(--p,p<m&&(--g,m-=n,r-=n,k=this.Zb[g],l=this.$b[g]),a=k[p&q],b=l[p&q],c=b-w;c<=b+w;){var E=a-w;for(f=d[c];E<=a+w;)E===(E&u)&&c===(c&t)&&f[E]>=v&&(f[E]=B,z+=1,p===r&&(g+=1,m+=n,r+=n,g>e&&(this.Zb[g]=this.T.h(ra.Pd,n,"Life.boundaryX"+g,!1),this.$b[g]=
this.T.h(ra.Pd,n,"Life.boundaryY"+g,!1),this.Td=e+=1),k=this.Zb[g],l=this.$b[g]),k[p&q]=E,l[p&q]=c,p+=1),E+=1;c+=1}this.B-=z;this.ga+=z};pa.prototype.Eh=function(a,b){var c,d=this.h,f,e=this.Td,g=0,k=this.Zb[g],l=this.$b[g],p=0,n=y.Cm,q=n-1,m=0,r=n,u=this.Ia,t=this.Ha,v=this.i+this.v-1,B=this.i+this.v-2,w=this.bf,z=0;k[p]=a;l[p]=b;p+=1;d[b][a]===v&&(d[b][a]=B,z+=1);for(;0<p;)for(--p,p<m&&(--g,m-=n,r-=n,k=this.Zb[g],l=this.$b[g]),a=k[p&q],b=l[p&q],c=b-w;c<=b+w;){var E=a-w;for(f=d[c];E<=a+w;)E===(E&
u)&&c===(c&t)&&f[E]===v&&(f[E]=B,z+=1,p===r&&(g+=1,m+=n,r+=n,g>e&&(this.Zb[g]=this.T.h(ra.Pd,n,"Life.boundaryX"+g,!1),this.$b[g]=this.T.h(ra.Pd,n,"Life.boundaryY"+g,!1),this.Td=e+=1),k=this.Zb[g],l=this.$b[g]),k[p&q]=E,l[p&q]=c,p+=1),E+=1;c+=1}this.B-=z;this.ga+=z};pa.prototype.am=function(){var a=this.h,b=a.length,c=a[0].length,d=this.A,f=d.J,e=d.L,g=d.K,k=d.N,l=this.s?this.v:0,p,n;0!==(this.counter&1)&&(a=this.P);if(1>=b-k-1){for(n=b-1-1;n<=k;n+=1){var q=a[n];for(p=f;p<=e;p+=1)q[p]>l&&this.Fh(p,
n)}d.N=b-1}if(1>=g){for(n=g;1>=n;n+=1)for(q=a[n],p=f;p<=e;p+=1)q[p]>l&&this.Fh(p,n);d.K=1}if(1>=f){for(n=g;n<=k;n+=1)for(q=a[n],p=f;1>=p;p+=1)q[p]>l&&this.Fh(p,n);d.J=1}if(1>=c-e-1){for(n=g;n<=k;n+=1)for(q=a[n],p=c-1-1;p<=e;p+=1)q[p]>l&&this.Fh(p,n);d.L=c-1}};pa.prototype.Xl=function(){var a=this.h,b=a.length,c=a[0].length,d=this.A,f=d.J,e=d.L,g=d.K,k=d.N,l,p;0!==(this.counter&1)&&(a=this.P);if(1>=b-k-1){for(p=b-1-1;p<=k;p+=1){var n=a[p];for(l=f;l<=e;l+=1)0<n[l]&&this.fh(l,p)}d.N=b-1}if(1>=g){for(p=
g;1>=p;p+=1)for(n=a[p],l=f;l<=e;l+=1)0<n[l]&&this.fh(l,p);d.K=1}if(1>=f){for(p=g;p<=k;p+=1)for(n=a[p],l=f;1>=l;l+=1)0<n[l]&&this.fh(l,p);d.J=1}if(1>=c-e-1){for(p=g;p<=k;p+=1)for(n=a[p],l=c-1-1;l<=e;l+=1)0<n[l]&&this.fh(l,p);d.L=c-1}};pa.prototype.xl=function(){var a=this.h,b=a.length,c=a[0].length,d=this.A,f=d.J,e=d.L,g=d.K,k=d.N,l=2*this.ca.v+1,p=2*this.ca.s+1,n=2<this.i?this.i+this.v-1:y.xa,q,m;if(b-k-1<=p){for(m=b-p-1;m<=k;m+=1){var r=a[m];for(q=f;q<=e;q+=1)r[q]>=n&&(2===this.i?this.Dh(q,m):this.Eh(q,
m))}d.N=b-p}if(g<=p){for(m=g;m<=p;m+=1)for(r=a[m],q=f;q<=e;q+=1)r[q]>=n&&(2===this.i?this.Dh(q,m):this.Eh(q,m));d.K=p}if(f<=l){for(m=g;m<=k;m+=1)for(r=a[m],q=f;q<=l;q+=1)r[q]>=n&&(2===this.i?this.Dh(q,m):this.Eh(q,m));d.J=l}if(c-e-1<=l){for(m=g;m<=k;m+=1)for(r=a[m],q=c-l-1;q<=e;q+=1)r[q]>=n&&(2===this.i?this.Dh(q,m):this.Eh(q,m));d.L=c-l}};pa.prototype.rn=function(){var a=this.wg,b,c,d,f,e,g=this.V,k,l=this.height,p=this.width,n=p>>4,q=this.A,m=l,r=-1,u=p,t=-1,v=this.I,B=this.F>>4,w=this.aa;var z=
0;var E=v,H=this.ec,L=0,N=0,M=0;if(0!==(this.counter&1)){var V=this.Va;var X=this.va;var I=this.H;var R=this.j;this.eb&&(a=this.zh)}else V=this.va,X=this.Va,I=this.j,R=this.H;g.fill(0);0>z&&(z=0);E>v&&(E=v);var P=z<<4;var S=P+16;R.o.fill(0);for(c=z;c<E;c+=1){var Z=0;var qa=I[c];var ha=R[c];var ca=0<c?R[c-1]:w;var ia=c<v-1?R[c+1]:w;for(d=0;d<B;d+=1)if(f=qa[d]){var na=ha[d];var ja=ca[d];var U=ia[d];for(b=15;0<=b;--b){if(0!==(f&1<<b)){var ma=k=0;var ea=P;var aa=0===ea?this.yd:V[ea-1];var Y=V[ea];z=V[ea+
1];var oa=e=Y[Z];aa=aa[Z-1]<<18|aa[Z]<<2|aa[Z+1]>>14;var Q=Y[Z-1]<<18|e<<2|Y[Z+1]>>14;var F=z[Z-1]<<18|z[Z]<<2|z[Z+1]>>14;var A=a[aa>>7&7936|F>>11&224|Q>>15&31]<<15;A|=a[F>>6&7936|aa>>10&224|Q>>14&31]<<14;A|=a[aa>>5&7936|F>>9&224|Q>>13&31]<<13;A|=a[F>>4&7936|aa>>8&224|Q>>12&31]<<12;A|=a[aa>>3&7936|F>>7&224|Q>>11&31]<<11;A|=a[F>>2&7936|aa>>6&224|Q>>10&31]<<10;A|=a[aa>>1&7936|F>>5&224|Q>>9&31]<<9;A|=a[F>>0&7936|aa>>4&224|Q>>8&31]<<8;A|=a[aa<<1&7936|F>>3&224|Q>>7&31]<<7;A|=a[F<<2&7936|aa>>2&224|Q>>6&
31]<<6;A|=a[aa<<3&7936|F>>1&224|Q>>5&31]<<5;A|=a[F<<4&7936|aa>>0&224|Q>>4&31]<<4;A|=a[aa<<5&7936|F<<1&224|Q>>3&31]<<3;A|=a[F<<6&7936|aa<<2&224|Q>>2&31]<<2;A|=a[aa<<7&7936|F<<3&224|Q>>1&31]<<1;A|=a[F<<8&7936|aa<<4&224|Q>>0&31]<<0;X[ea][Z]=A;L+=H[A];N+=H[A&~e];M+=H[e&~A];A&&(k|=A,ea<m&&(m=ea),ea>r&&(r=ea),0!==(A&49152)&&(ma|=y.Qa),0!==(A&3)&&(ma|=y.Ra),ma|=y.Oa);for(ea+=1;ea<S-1;){e=z[Z];oa|=e;z=V[ea+1];aa=Q;Q=F;F=z[Z-1]<<18|z[Z]<<2|z[Z+1]>>14;0!==(ea&1)&&(Y=aa,aa=F,F=Y);A=a[aa>>7&7936|F>>11&224|Q>>
15&31]<<15;A|=a[F>>6&7936|aa>>10&224|Q>>14&31]<<14;A|=a[aa>>5&7936|F>>9&224|Q>>13&31]<<13;A|=a[F>>4&7936|aa>>8&224|Q>>12&31]<<12;A|=a[aa>>3&7936|F>>7&224|Q>>11&31]<<11;A|=a[F>>2&7936|aa>>6&224|Q>>10&31]<<10;A|=a[aa>>1&7936|F>>5&224|Q>>9&31]<<9;A|=a[F>>0&7936|aa>>4&224|Q>>8&31]<<8;A|=a[aa<<1&7936|F>>3&224|Q>>7&31]<<7;A|=a[F<<2&7936|aa>>2&224|Q>>6&31]<<6;A|=a[aa<<3&7936|F>>1&224|Q>>5&31]<<5;A|=a[F<<4&7936|aa>>0&224|Q>>4&31]<<4;A|=a[aa<<5&7936|F<<1&224|Q>>3&31]<<3;A|=a[F<<6&7936|aa<<2&224|Q>>2&31]<<
2;A|=a[aa<<7&7936|F<<3&224|Q>>1&31]<<1;A|=a[F<<8&7936|aa<<4&224|Q>>0&31]<<0;L+=H[A];N+=H[A&~e];M+=H[e&~A];0!==(ea&1)&&(F=Y=aa);if(X[ea][Z]=A)k|=A,ea<m&&(m=ea),ea>r&&(r=ea);ea+=1}e=z[Z];oa|=e;z=ea===this.height-1?this.yd:V[ea+1];aa=Q;Q=F;F=z[Z-1]<<18|z[Z]<<2|z[Z+1]>>14;0!==(ea&1)&&(Y=aa,aa=F,F=Y);A=a[aa>>7&7936|F>>11&224|Q>>15&31]<<15;A|=a[F>>6&7936|aa>>10&224|Q>>14&31]<<14;A|=a[aa>>5&7936|F>>9&224|Q>>13&31]<<13;A|=a[F>>4&7936|aa>>8&224|Q>>12&31]<<12;A|=a[aa>>3&7936|F>>7&224|Q>>11&31]<<11;A|=a[F>>
2&7936|aa>>6&224|Q>>10&31]<<10;A|=a[aa>>1&7936|F>>5&224|Q>>9&31]<<9;A|=a[F>>0&7936|aa>>4&224|Q>>8&31]<<8;A|=a[aa<<1&7936|F>>3&224|Q>>7&31]<<7;A|=a[F<<2&7936|aa>>2&224|Q>>6&31]<<6;A|=a[aa<<3&7936|F>>1&224|Q>>5&31]<<5;A|=a[F<<4&7936|aa>>0&224|Q>>4&31]<<4;A|=a[aa<<5&7936|F<<1&224|Q>>3&31]<<3;A|=a[F<<6&7936|aa<<2&224|Q>>2&31]<<2;A|=a[aa<<7&7936|F<<3&224|Q>>1&31]<<1;A|=a[F<<8&7936|aa<<4&224|Q>>0&31]<<0;L+=H[A];N+=H[A&~e];M+=H[e&~A];if(X[ea][Z]=A)k|=A,ea<m&&(m=ea),ea>r&&(r=ea),0!==(A&49152)&&(ma|=y.Ta),
0!==(A&3)&&(ma|=y.La),ma|=y.Ma;k&&(0!==(k&49152)&&(ma|=y.Ja),0!==(k&3)&&(ma|=y.Ga));g[Z]|=k;if(k||oa)na|=1<<b,ma&&(0!==(ma&y.Ja)&&(15>b?na|=1<<b+1:0<d&&0<Z&&(ha[d-1]|=1)),0!==(ma&y.Ga)&&(0<b?na|=1<<b-1:d<B-1&&Z<n-1&&(ha[d+1]|=32768)),0!==(ma&y.Oa)&&(ja|=1<<b),0!==(ma&y.Ma)&&(U|=1<<b),0!==(ma&y.Qa)&&(15>b?ja|=1<<b+1:0<d&&0<Z&&(ca[d-1]|=1)),0!==(ma&y.Ra)&&(0<b?ja|=1<<b-1:d<B-1&&Z<n-1&&(ca[d+1]|=32768)),0!==(ma&y.Ta)&&(15>b?U|=1<<b+1:0<d&&0<Z&&(ia[d-1]|=1)),0!==(ma&y.La)&&(0<b?U|=1<<b-1:d<B-1&&Z<n-1&&
(ia[d+1]|=32768)))}Z+=1}ha[d]|=na;0<c&&(ca[d]|=ja);c<v-1&&(ia[d]|=U)}else Z+=16;P+=16;S+=16}for(d=0;d<n;d+=1)g[d]&&(d<u&&(u=d),d>t&&(t=d));u=(u<<4)+this.Rb(g[u]);t=(t<<4)+this.Vb(g[t]);0>r&&(r=l-1);m>=l&&(m=0);u>=p&&(u=0);0>t&&(t=p-1);r>l-1&&(r=l-1);0>m&&(m=0);0>u&&(u=0);t>p-1&&(t=p-1);q.N=r;q.K=m;q.J=u;q.L=t;w.fill(0);this.B=L;this.na=N;this.ga=M};pa.prototype.op=function(){var a=this.we,b,c,d,f=this.ta,e=this.V,g,k=this.height,l=this.width,p=l>>4,n=this.A,q=k,m=-1,r=l,u=-1,t=this.I,v=this.F>>4,
B=this.aa,w=this.ec,z=0,E=0,H=0,L=this.counter&1;this.Tb&&(this.tb=!this.tb,this.Tb=!1);if(0!==L){var N=this.Va;var M=this.va;var V=this.H;var X=this.j;this.tb&&(a=this.Bb)}else N=this.va,M=this.Va,V=this.j,X=this.H,this.eb&&(a=this.mf),this.tb&&(a=this.eb?this.xe:this.Bb);this.tb&&(L=1-L);e.fill(0);var I=1-L;var R=I+16;X.o.fill(0);for(c=0;c<V.length;c+=1){var P=0;var S=V[c];var Z=X[c];var qa=f[c];var ha=0<c?X[c-1]:B;var ca=c<t-1?X[c+1]:B;for(d=0;d<v;d+=1){var ia=S[d];var na=0;if(ia){var ja=Z[d];
var U=ha[d];var ma=ca[d];for(b=15;0<=b;--b){var ea=0===b&&d===v-1?!0:!1;if(0!==(ia&1<<b)){var aa=g=0;if(0!==L){var Y=I;var oa=N[Y][P];var Q=N[Y+1][P];var F=oa|Q;var A=a[oa&65280|Q>>8];var K=A&65280;var O=(A&255)<<8;A=a[(oa&255)<<8|Q&255];K|=A>>8;O|=A&255;M[Y][P]=K;M[Y+1][P]=O;z+=w[K];E+=w[K&~oa];H+=w[oa&~K];z+=w[O];E+=w[O&~Q];H+=w[Q&~O];if(A=K|O)g|=A,K&&(Y<q&&(q=Y),Y>m&&(m=Y)),O&&(Y+1<q&&(q=Y+1),Y+1>m&&(m=Y+1)),0!==(A&49152)&&(aa|=y.Qa),0!==(A&3)&&(aa|=y.Ra),aa|=y.Oa;for(Y+=2;Y<R-2;){oa=N[Y][P];Q=
N[Y+1][P];F|=oa|Q;A=a[oa&65280|Q>>8];K=A&65280;O=(A&255)<<8;A=a[(oa&255)<<8|Q&255];K|=A>>8;O|=A&255;M[Y][P]=K;M[Y+1][P]=O;z+=w[K];E+=w[K&~oa];H+=w[oa&~K];z+=w[O];E+=w[O&~Q];H+=w[Q&~O];if(A=K|O)g|=A,K&&(Y<q&&(q=Y),Y>m&&(m=Y)),O&&(Y+1<q&&(q=Y+1),Y+1>m&&(m=Y+1));Y+=2}oa=N[Y][P];Q=N[Y+1][P];F|=oa|Q;A=a[oa&65280|Q>>8];K=A&65280;O=(A&255)<<8;A=a[(oa&255)<<8|Q&255];K|=A>>8;O|=A&255;M[Y][P]=K;M[Y+1][P]=O;z+=w[K];E+=w[K&~oa];H+=w[oa&~K];z+=w[O];E+=w[O&~Q];H+=w[Q&~O];if(A=K|O)g|=A,K&&(Y<q&&(q=Y),Y>m&&(m=Y)),
O&&(Y+1<q&&(q=Y+1),Y+1>m&&(m=Y+1)),A&&(0!==(A&49152)&&(aa|=y.Ta),0!==(A&3)&&(aa|=y.La),aa|=y.Ma);g&&(0!==(g&49152)&&(aa|=y.Ja),0!==(g&3)&&(aa|=y.Ga),e[P]|=g);if(g||F)aa|=y.La,aa|=y.Ga}else{Y=I;ea?(oa=N[Y][P]<<1&65535,Q=N[Y+1][P]<<1&65535):(oa=(N[Y][P]<<1|N[Y][P+1]>>15)&65535,Q=(N[Y+1][P]<<1|N[Y+1][P+1]>>15)&65535);F=oa|Q;A=a[oa&65280|Q>>8];K=A&65280;O=(A&255)<<8;A=a[(oa&255)<<8|Q&255];K|=A>>8;O|=A&255;ea?(M[Y][P]=M[Y][P]&32768|K>>1,M[Y+1][P]=M[Y+1][P]&32768|O>>1):(M[Y][P]=M[Y][P]&32768|K>>1,M[Y][P+
1]=M[Y][P+1]&32767|(K&1)<<15,M[Y+1][P]=M[Y+1][P]&32768|O>>1,M[Y+1][P+1]=M[Y+1][P+1]&32767|(O&1)<<15);z+=w[K];E+=w[K&~oa];H+=w[oa&~K];z+=w[O];E+=w[O&~Q];H+=w[Q&~O];if(A=K|O)g|=A,K&&(Y<q&&(q=Y),Y>m&&(m=Y)),O&&(Y+1<q&&(q=Y+1),Y+1>m&&(m=Y+1));for(Y+=2;Y<R-2;){ea?(oa=N[Y][P]<<1&65535,Q=N[Y+1][P]<<1&65535):(oa=(N[Y][P]<<1|N[Y][P+1]>>15)&65535,Q=(N[Y+1][P]<<1|N[Y+1][P+1]>>15)&65535);F|=oa|Q;A=a[oa&65280|Q>>8];K=A&65280;O=(A&255)<<8;A=a[(oa&255)<<8|Q&255];K|=A>>8;O|=A&255;ea?(M[Y][P]=M[Y][P]&32768|K>>1,M[Y+
1][P]=M[Y+1][P]&32768|O>>1):(M[Y][P]=M[Y][P]&32768|K>>1,M[Y][P+1]=M[Y][P+1]&32767|(K&1)<<15,M[Y+1][P]=M[Y+1][P]&32768|O>>1,M[Y+1][P+1]=M[Y+1][P+1]&32767|(O&1)<<15);z+=w[K];E+=w[K&~oa];H+=w[oa&~K];z+=w[O];E+=w[O&~Q];H+=w[Q&~O];if(A=K|O)g|=A,K&&(Y<q&&(q=Y),Y>m&&(m=Y)),O&&(Y+1<q&&(q=Y+1),Y+1>m&&(m=Y+1));Y+=2}ea?(oa=N[Y][P]<<1&65535,Q=N[Y+1][P]<<1&65535):(oa=(N[Y][P]<<1|N[Y][P+1]>>15)&65535,Q=(N[Y+1][P]<<1|N[Y+1][P+1]>>15)&65535);F|=oa|Q;A=a[oa&65280|Q>>8];K=A&65280;O=(A&255)<<8;A=a[(oa&255)<<8|Q&255];
K|=A>>8;O|=A&255;ea?(M[Y][P]=M[Y][P]&32768|K>>1,M[Y+1][P]=M[Y+1][P]&32768|O>>1):(M[Y][P]=M[Y][P]&32768|K>>1,M[Y][P+1]=M[Y][P+1]&32767|(K&1)<<15,M[Y+1][P]=M[Y+1][P]&32768|O>>1,M[Y+1][P+1]=M[Y+1][P+1]&32767|(O&1)<<15);z+=w[K];E+=w[K&~oa];H+=w[oa&~K];z+=w[O];E+=w[O&~Q];H+=w[Q&~O];if(A=K|O)g|=A,K&&(Y<q&&(q=Y),Y>m&&(m=Y)),O&&(Y+1<q&&(q=Y+1),Y+1>m&&(m=Y+1)),0!==(A&3)&&(aa|=y.La),aa|=y.Ma;oa|Q&&(0!==((oa|Q)&3)&&(aa|=y.La),aa|=y.Ma);g&&(0!==(g&3)&&(aa|=y.Ga),e[P]|=g>>1,e[P+1]|=(g&1)<<15);0!==(F&3)&&(aa|=
y.Ga)}if(g||F)ja|=1<<b,aa&&(0!==(aa&y.Ja)&&(15>b?ja|=1<<b+1:0<d&&0<P&&(Z[d-1]|=1)),0!==(aa&y.Ga)&&(0<b?ja|=1<<b-1:d<v-1&&P<p-1&&(Z[d+1]|=32768)),0!==(aa&y.Oa)&&(U|=1<<b),0!==(aa&y.Ma)&&(ma|=1<<b),0!==(aa&y.Qa)&&(15>b?U|=1<<b+1:0<d&&0<P&&(ha[d-1]|=1)),0!==(aa&y.Ra)&&(0<b?U|=1<<b-1:d<v-1&&P<p-1&&(ha[d+1]|=32768)),0!==(aa&y.Ta)&&(15>b?ma|=1<<b+1:0<d&&0<P&&(ca[d-1]|=1)),0!==(aa&y.La)&&(0<b?ma|=1<<b-1:d<v-1&&P<p-1&&(ca[d+1]|=32768)));0===g&&F&&(na|=1<<b)}P+=1}Z[d]|=ja;0<c&&(ha[d]|=U);c<t-1&&(ca[d]|=ma)}else P+=
16;qa[d]=na}I+=16;R+=16;R>=k&&(R=k-1)}for(d=0;d<p;d+=1)e[d]&&(d<r&&(r=d),d>u&&(u=d));r=(r<<4)+this.Rb(e[r]);u=(u<<4)+this.Vb(e[u]);0>m&&(m=k-1);q>=k&&(q=0);r>=l&&(r=0);0>u&&(u=l-1);m>k-1&&(m=k-1);0>q&&(q=0);0>r&&(r=0);u>l-1&&(u=l-1);n.N=m;n.K=q;n.J=r;n.L=u;B.fill(0);this.em(N);this.B=z;this.na=E;this.ga=H};pa.prototype.nn=function(){var a=performance.now();W.R&&W.yD&&this.view.i?(va.dl(this.va.o.byteOffset|0,this.Va.o.byteOffset|0,this.va[0].length|0,this.j.o.byteOffset|0,this.H.o.byteOffset|0,this.j[0].length|
0,this.Uf.byteOffset|0,(this.eb?this.lf.byteOffset:0)|0,(this.eb?1:0)|0,this.V.byteOffset|0,this.V.length|0,this.Y.byteOffset|0,this.Y.length|0,this.width|0,this.height|0,2,16,this.I|0,this.F|0,this.aa.byteOffset|0,this.aa.length|0,this.yd.byteOffset|0,this.ba|0,this.$|0,this.S|0,this.counter|0,y.Ra|0,y.Oa|0,y.La|0,y.Ma|0,y.Qa|0,y.Ta|0,y.Ja|0,y.Ga|0,this.j.o.byteLength|0,this.fa.byteOffset|0),this.B=this.fa[0],this.na=this.fa[1],this.ga=this.fa[2],this.A.J=this.fa[3],this.A.K=this.fa[4],this.A.L=
this.fa[5],this.A.N=this.fa[6]):this.pn();a=performance.now()-a;W.wb&&this.view.C.h("nextGeneration",a,W.R&&W.yD&&this.view.i)};pa.prototype.pn=function(){var a=this.Uf,b,c,d,f,e,g,k=this.V,l,p=this.Y,n,q=this.ec,m=0,r=0,u=0,t=this.height,v=this.width,B=v>>4,w=this.A,z=t,E=-1,H=v,L=-1,N=this.I,M=this.F>>4,V=this.aa,X=this.ba,I=this.$,R=Math.round((this.width-X)/2),P=Math.round((this.height-I)/2),S=R+X-1,Z=P+I-1;if(0!==(this.counter&1)){var qa=this.Va;var ha=this.va;var ca=this.H;var ia=this.j;this.eb&&
(a=this.lf)}else qa=this.va,ha=this.Va,ca=this.j,ia=this.H;k.fill(0);p.fill(0);var na=0;var ja=na+16;ia.o.fill(0);for(d=0;d<ca.length;d+=1){var U=0;var ma=ca[d];var ea=ia[d];var aa=0<d?ia[d-1]:V;var Y=d<N-1?ia[d+1]:V;for(f=0;f<M;f+=1)if(e=ma[f]){var oa=ea[f];var Q=aa[f];var F=Y[f];for(b=15;0<=b;--b){if(0!==(e&1<<b)){var A=n=l=0;var K=na;var O=32768;var J=0===K?this.yd:qa[K-1];var x=qa[K];var C=qa[K+1];var la=g=x[U];if(U)if(U>=B-1){J=(J[U-1]&1)<<17|J[U]<<1;x=(x[U-1]&1)<<17|g<<1;var ba=(C[U-1]&1)<<
17|C[U]<<1;if(c=J|x|ba)if(c=a[J>>12|x>>12<<6|ba&258048]<<12,c|=a[J>>8&63|x>>2&4032|ba<<4&258048]<<8,c|=a[J>>4&63|x<<2&4032|ba<<8&258048]<<4,c|=a[J&63|(x&63)<<6|(ba&63)<<12])l|=c,n|=O,m+=q[c],0!==(c&32768)&&(A|=y.Qa),A|=y.Oa;ha[K][U]=c;c|g&&(r+=q[c&~g],u+=q[g&~c]);K+=1;for(O>>=1;K<ja-1;){g=C[U];la|=g;C=qa[K+1];J=x;x=ba;ba=(C[U-1]&1)<<17|C[U]<<1;if(c=J|x|ba)if(c=a[J>>12|x>>12<<6|ba&258048]<<12,c|=a[J>>8&63|x>>2&4032|ba<<4&258048]<<8,c|=a[J>>4&63|x<<2&4032|ba<<8&258048]<<4,c|=a[J&63|(x&63)<<6|(ba&63)<<
12])l|=c,n|=O,m+=q[c];ha[K][U]=c;c|g&&(r+=q[c&~g],u+=q[g&~c]);K+=1;O>>=1}g=C[U];la|=g;C=K===this.height-1?this.yd:qa[K+1];J=x;x=ba;ba=(C[U-1]&1)<<17|C[U]<<1;if(c=J|x|ba)if(c=a[J>>12|x>>12<<6|ba&258048]<<12,c|=a[J>>8&63|x>>2&4032|ba<<4&258048]<<8,c|=a[J>>4&63|x<<2&4032|ba<<8&258048]<<4,c|=a[J&63|(x&63)<<6|(ba&63)<<12])l|=c,n|=O,m+=q[c],0!==(c&32768)&&(A|=y.Ta),A|=y.Ma}else{J=(J[U-1]&1)<<17|J[U]<<1|J[U+1]>>15;x=(x[U-1]&1)<<17|g<<1|x[U+1]>>15;ba=(C[U-1]&1)<<17|C[U]<<1|C[U+1]>>15;if(c=J|x|ba)if(c=a[J>>
12|x>>12<<6|ba&258048]<<12,c|=a[J>>8&63|x>>2&4032|ba<<4&258048]<<8,c|=a[J>>4&63|x<<2&4032|ba<<8&258048]<<4,c|=a[J&63|(x&63)<<6|(ba&63)<<12])l|=c,n|=O,m+=q[c],0!==(c&32768)&&(A|=y.Qa),0!==(c&1)&&(A|=y.Ra),A|=y.Oa;ha[K][U]=c;c|g&&(r+=q[c&~g],u+=q[g&~c]);K+=1;O>>=1;g=C[U];la|=g;C=qa[K+1];J=x;x=ba;ba=(C[U-1]&1)<<17|C[U]<<1|C[U+1]>>15;if(c=J|x|ba)if(c=a[J>>12|x>>12<<6|ba&258048]<<12,c|=a[J>>8&63|x>>2&4032|ba<<4&258048]<<8,c|=a[J>>4&63|x<<2&4032|ba<<8&258048]<<4,c|=a[J&63|(x&63)<<6|(ba&63)<<12])l|=c,n|=
O,m+=q[c];ha[K][U]=c;c|g&&(r+=q[c&~g],u+=q[g&~c]);K+=1;O>>=1;g=C[U];la|=g;C=qa[K+1];J=x;x=ba;ba=(C[U-1]&1)<<17|C[U]<<1|C[U+1]>>15;if(c=J|x|ba)if(c=a[J>>12|x>>12<<6|ba&258048]<<12,c|=a[J>>8&63|x>>2&4032|ba<<4&258048]<<8,c|=a[J>>4&63|x<<2&4032|ba<<8&258048]<<4,c|=a[J&63|(x&63)<<6|(ba&63)<<12])l|=c,n|=O,m+=q[c];ha[K][U]=c;c|g&&(r+=q[c&~g],u+=q[g&~c]);K+=1;O>>=1;g=C[U];la|=g;C=qa[K+1];J=x;x=ba;ba=(C[U-1]&1)<<17|C[U]<<1|C[U+1]>>15;if(c=J|x|ba)if(c=a[J>>12|x>>12<<6|ba&258048]<<12,c|=a[J>>8&63|x>>2&4032|
ba<<4&258048]<<8,c|=a[J>>4&63|x<<2&4032|ba<<8&258048]<<4,c|=a[J&63|(x&63)<<6|(ba&63)<<12])l|=c,n|=O,m+=q[c];ha[K][U]=c;c|g&&(r+=q[c&~g],u+=q[g&~c]);K+=1;O>>=1;g=C[U];la|=g;C=qa[K+1];J=x;x=ba;ba=(C[U-1]&1)<<17|C[U]<<1|C[U+1]>>15;if(c=J|x|ba)if(c=a[J>>12|x>>12<<6|ba&258048]<<12,c|=a[J>>8&63|x>>2&4032|ba<<4&258048]<<8,c|=a[J>>4&63|x<<2&4032|ba<<8&258048]<<4,c|=a[J&63|(x&63)<<6|(ba&63)<<12])l|=c,n|=O,m+=q[c];ha[K][U]=c;c|g&&(r+=q[c&~g],u+=q[g&~c]);K+=1;O>>=1;g=C[U];la|=g;C=qa[K+1];J=x;x=ba;ba=(C[U-1]&
1)<<17|C[U]<<1|C[U+1]>>15;if(c=J|x|ba)if(c=a[J>>12|x>>12<<6|ba&258048]<<12,c|=a[J>>8&63|x>>2&4032|ba<<4&258048]<<8,c|=a[J>>4&63|x<<2&4032|ba<<8&258048]<<4,c|=a[J&63|(x&63)<<6|(ba&63)<<12])l|=c,n|=O,m+=q[c];ha[K][U]=c;c|g&&(r+=q[c&~g],u+=q[g&~c]);K+=1;O>>=1;g=C[U];la|=g;C=qa[K+1];J=x;x=ba;ba=(C[U-1]&1)<<17|C[U]<<1|C[U+1]>>15;if(c=J|x|ba)if(c=a[J>>12|x>>12<<6|ba&258048]<<12,c|=a[J>>8&63|x>>2&4032|ba<<4&258048]<<8,c|=a[J>>4&63|x<<2&4032|ba<<8&258048]<<4,c|=a[J&63|(x&63)<<6|(ba&63)<<12])l|=c,n|=O,m+=
q[c];ha[K][U]=c;c|g&&(r+=q[c&~g],u+=q[g&~c]);K+=1;O>>=1;g=C[U];la|=g;C=qa[K+1];J=x;x=ba;ba=(C[U-1]&1)<<17|C[U]<<1|C[U+1]>>15;if(c=J|x|ba)if(c=a[J>>12|x>>12<<6|ba&258048]<<12,c|=a[J>>8&63|x>>2&4032|ba<<4&258048]<<8,c|=a[J>>4&63|x<<2&4032|ba<<8&258048]<<4,c|=a[J&63|(x&63)<<6|(ba&63)<<12])l|=c,n|=O,m+=q[c];ha[K][U]=c;c|g&&(r+=q[c&~g],u+=q[g&~c]);K+=1;O>>=1;g=C[U];la|=g;C=qa[K+1];J=x;x=ba;ba=(C[U-1]&1)<<17|C[U]<<1|C[U+1]>>15;if(c=J|x|ba)if(c=a[J>>12|x>>12<<6|ba&258048]<<12,c|=a[J>>8&63|x>>2&4032|ba<<
4&258048]<<8,c|=a[J>>4&63|x<<2&4032|ba<<8&258048]<<4,c|=a[J&63|(x&63)<<6|(ba&63)<<12])l|=c,n|=O,m+=q[c];ha[K][U]=c;c|g&&(r+=q[c&~g],u+=q[g&~c]);K+=1;O>>=1;g=C[U];la|=g;C=qa[K+1];J=x;x=ba;ba=(C[U-1]&1)<<17|C[U]<<1|C[U+1]>>15;if(c=J|x|ba)if(c=a[J>>12|x>>12<<6|ba&258048]<<12,c|=a[J>>8&63|x>>2&4032|ba<<4&258048]<<8,c|=a[J>>4&63|x<<2&4032|ba<<8&258048]<<4,c|=a[J&63|(x&63)<<6|(ba&63)<<12])l|=c,n|=O,m+=q[c];ha[K][U]=c;c|g&&(r+=q[c&~g],u+=q[g&~c]);K+=1;O>>=1;g=C[U];la|=g;C=qa[K+1];J=x;x=ba;ba=(C[U-1]&1)<<
17|C[U]<<1|C[U+1]>>15;if(c=J|x|ba)if(c=a[J>>12|x>>12<<6|ba&258048]<<12,c|=a[J>>8&63|x>>2&4032|ba<<4&258048]<<8,c|=a[J>>4&63|x<<2&4032|ba<<8&258048]<<4,c|=a[J&63|(x&63)<<6|(ba&63)<<12])l|=c,n|=O,m+=q[c];ha[K][U]=c;c|g&&(r+=q[c&~g],u+=q[g&~c]);K+=1;O>>=1;g=C[U];la|=g;C=qa[K+1];J=x;x=ba;ba=(C[U-1]&1)<<17|C[U]<<1|C[U+1]>>15;if(c=J|x|ba)if(c=a[J>>12|x>>12<<6|ba&258048]<<12,c|=a[J>>8&63|x>>2&4032|ba<<4&258048]<<8,c|=a[J>>4&63|x<<2&4032|ba<<8&258048]<<4,c|=a[J&63|(x&63)<<6|(ba&63)<<12])l|=c,n|=O,m+=q[c];
ha[K][U]=c;c|g&&(r+=q[c&~g],u+=q[g&~c]);K+=1;O>>=1;g=C[U];la|=g;C=qa[K+1];J=x;x=ba;ba=(C[U-1]&1)<<17|C[U]<<1|C[U+1]>>15;if(c=J|x|ba)if(c=a[J>>12|x>>12<<6|ba&258048]<<12,c|=a[J>>8&63|x>>2&4032|ba<<4&258048]<<8,c|=a[J>>4&63|x<<2&4032|ba<<8&258048]<<4,c|=a[J&63|(x&63)<<6|(ba&63)<<12])l|=c,n|=O,m+=q[c];ha[K][U]=c;c|g&&(r+=q[c&~g],u+=q[g&~c]);K+=1;O>>=1;g=C[U];la|=g;C=qa[K+1];J=x;x=ba;ba=(C[U-1]&1)<<17|C[U]<<1|C[U+1]>>15;if(c=J|x|ba)if(c=a[J>>12|x>>12<<6|ba&258048]<<12,c|=a[J>>8&63|x>>2&4032|ba<<4&258048]<<
8,c|=a[J>>4&63|x<<2&4032|ba<<8&258048]<<4,c|=a[J&63|(x&63)<<6|(ba&63)<<12])l|=c,n|=O,m+=q[c];ha[K][U]=c;c|g&&(r+=q[c&~g],u+=q[g&~c]);K+=1;O>>=1;g=C[U];la|=g;C=qa[K+1];J=x;x=ba;ba=(C[U-1]&1)<<17|C[U]<<1|C[U+1]>>15;if(c=J|x|ba)if(c=a[J>>12|x>>12<<6|ba&258048]<<12,c|=a[J>>8&63|x>>2&4032|ba<<4&258048]<<8,c|=a[J>>4&63|x<<2&4032|ba<<8&258048]<<4,c|=a[J&63|(x&63)<<6|(ba&63)<<12])l|=c,n|=O,m+=q[c];ha[K][U]=c;c|g&&(r+=q[c&~g],u+=q[g&~c]);K+=1;O>>=1;g=C[U];la|=g;C=K===this.height-1?this.yd:qa[K+1];J=x;x=ba;
ba=(C[U-1]&1)<<17|C[U]<<1|C[U+1]>>15;if(c=J|x|ba)if(c=a[J>>12|x>>12<<6|ba&258048]<<12,c|=a[J>>8&63|x>>2&4032|ba<<4&258048]<<8,c|=a[J>>4&63|x<<2&4032|ba<<8&258048]<<4,c|=a[J&63|(x&63)<<6|(ba&63)<<12])l|=c,n|=O,m+=q[c],0!==(c&32768)&&(A|=y.Ta),0!==(c&1)&&(A|=y.La),A|=y.Ma}else{J=J[U]<<1|J[U+1]>>15;x=g<<1|x[U+1]>>15;ba=C[U]<<1|C[U+1]>>15;if(c=J|x|ba)if(c=a[J>>12|x>>12<<6|ba&258048]<<12,c|=a[J>>8&63|x>>2&4032|ba<<4&258048]<<8,c|=a[J>>4&63|x<<2&4032|ba<<8&258048]<<4,c|=a[J&63|(x&63)<<6|(ba&63)<<12])l|=
c,n|=O,0!==(c&1)&&(A|=y.Ra),A|=y.Oa,m+=q[c];ha[K][U]=c;c|g&&(r+=q[c&~g],u+=q[g&~c]);K+=1;for(O>>=1;K<ja-1;){g=C[U];la|=g;C=qa[K+1];J=x;x=ba;ba=C[U]<<1|C[U+1]>>15;if(c=J|x|ba)if(c=a[J>>12|x>>12<<6|ba&258048]<<12,c|=a[J>>8&63|x>>2&4032|ba<<4&258048]<<8,c|=a[J>>4&63|x<<2&4032|ba<<8&258048]<<4,c|=a[J&63|(x&63)<<6|(ba&63)<<12])l|=c,n|=O,m+=q[c];ha[K][U]=c;c|g&&(r+=q[c&~g],u+=q[g&~c]);K+=1;O>>=1}g=C[U];la|=g;C=K===this.height-1?this.yd:qa[K+1];J=x;x=ba;ba=C[U]<<1|C[U+1]>>15;if(c=J|x|ba)if(c=a[J>>12|x>>
12<<6|ba&258048]<<12,c|=a[J>>8&63|x>>2&4032|ba<<4&258048]<<8,c|=a[J>>4&63|x<<2&4032|ba<<8&258048]<<4,c|=a[J&63|(x&63)<<6|(ba&63)<<12])l|=c,n|=O,m+=q[c],0!==(c&1)&&(A|=y.La),A|=y.Ma}ha[K][U]=c;c|g&&(r+=q[c&~g],u+=q[g&~c]);l&&(0!==(l&32768)&&(A|=y.Ja),0!==(l&1)&&(A|=y.Ga));k[U]|=l;if(l||la)oa|=1<<b,A&&(0!==(A&y.Ja)&&(15>b?oa|=1<<b+1:0<f&&0<U&&(ea[f-1]|=1)),0!==(A&y.Ga)&&(0<b?oa|=1<<b-1:f<M-1&&U<B-1&&(ea[f+1]|=32768)),0!==(A&y.Oa)&&(Q|=1<<b),0!==(A&y.Ma)&&(F|=1<<b),0!==(A&y.Qa)&&(15>b?Q|=1<<b+1:0<f&&
0<U&&(aa[f-1]|=1)),0!==(A&y.Ra)&&(0<b?Q|=1<<b-1:f<M-1&&U<B-1&&(aa[f+1]|=32768)),0!==(A&y.Ta)&&(15>b?F|=1<<b+1:0<f&&0<U&&(Y[f-1]|=1)),0!==(A&y.La)&&(0<b?F|=1<<b-1:f<M-1&&U<B-1&&(Y[f+1]|=32768)));p[d]|=n}U+=1}ea[f]|=oa;0<d&&(aa[f]|=Q);d<N-1&&(Y[f]|=F)}else U+=16;na+=16;ja+=16}-1!==this.S&&(0!==X&&(k[R-1>>4]&=~(1<<(~(R-1)&15)),k[S+1>>4]&=~(1<<(~(S+1)&15)),k[R-2>>4]&=~(1<<(~(R-2)&15)),k[S+2>>4]&=~(1<<(~(S+2)&15))),0!==I&&(p[P-1>>4]&=~(1<<(~(P-1)&15)),p[Z+1>>4]&=~(1<<(~(Z+1)&15)),p[P-2>>4]&=~(1<<(~(P-
2)&15)),p[Z+2>>4]&=~(1<<(~(Z+2)&15))));for(f=0;f<B;f+=1)k[f]&&(f<H&&(H=f),f>L&&(L=f));for(d=0;d<p.length;d+=1)p[d]&&(d<z&&(z=d),d>E&&(E=d));H=(H<<4)+this.Rb(k[H]);L=(L<<4)+this.Vb(k[L]);z=(z<<4)+this.Rb(p[z]);E=(E<<4)+this.Vb(p[E]);0>E&&(E=t-1);z>=t&&(z=0);H>=v&&(H=0);0>L&&(L=v-1);E>t-1&&(E=t-1);0>z&&(z=0);0>H&&(H=0);L>v-1&&(L=v-1);w.N=E;w.K=z;w.J=H;w.L=L;V.fill(0);this.B=m;this.na=r;this.ga=u};pa.prototype.pm=function(a,b){var c,d=this.m,f,e,g,k,l=this.I,p=this.F>>4;var n=0;var q=n+16;for(f=0;f<
l;f+=1){var m=0;var r=d[f];for(e=0;e<p;e+=1)if(k=r[e])for(g=15;0<=g;--g){if(0!==(k&1<<g))for(c=n;c<q;c+=2){var u=b[c];var t=a[c];var v=a[c+1];var B=m<<3;var w=t[B];w|=(w&257)<<5;var z=w&255;var E=z-(w>>8);z-=E&E>>255;w=v[B];w|=(w&257)<<5;E=z-(w&255);z-=E&E>>255;E=z-(w>>8);u[B+B]=z-(E&E>>255)&31;B+=1;w=t[B];w|=(w&257)<<5;z=w&255;E=z-(w>>8);z-=E&E>>255;w=v[B];w|=(w&257)<<5;E=z-(w&255);z-=E&E>>255;E=z-(w>>8);u[B+B]=z-(E&E>>255)&31;B+=1;w=t[B];w|=(w&257)<<5;z=w&255;E=z-(w>>8);z-=E&E>>255;w=v[B];w|=(w&
257)<<5;E=z-(w&255);z-=E&E>>255;E=z-(w>>8);u[B+B]=z-(E&E>>255)&31;B+=1;w=t[B];w|=(w&257)<<5;z=w&255;E=z-(w>>8);z-=E&E>>255;w=v[B];w|=(w&257)<<5;E=z-(w&255);z-=E&E>>255;E=z-(w>>8);u[B+B]=z-(E&E>>255)&31;B+=1;w=t[B];w|=(w&257)<<5;z=w&255;E=z-(w>>8);z-=E&E>>255;w=v[B];w|=(w&257)<<5;E=z-(w&255);z-=E&E>>255;E=z-(w>>8);u[B+B]=z-(E&E>>255)&31;B+=1;w=t[B];w|=(w&257)<<5;z=w&255;E=z-(w>>8);z-=E&E>>255;w=v[B];w|=(w&257)<<5;E=z-(w&255);z-=E&E>>255;E=z-(w>>8);u[B+B]=z-(E&E>>255)&31;B+=1;w=t[B];w|=(w&257)<<5;z=
w&255;E=z-(w>>8);z-=E&E>>255;w=v[B];w|=(w&257)<<5;E=z-(w&255);z-=E&E>>255;E=z-(w>>8);u[B+B]=z-(E&E>>255)&31;B+=1;w=t[B];w|=(w&257)<<5;z=w&255;E=z-(w>>8);z-=E&E>>255;w=v[B];w|=(w&257)<<5;E=z-(w&255);z-=E&E>>255;E=z-(w>>8);u[B+B]=z-(E&E>>255)&31}m+=1}else m+=16;n+=16;q+=16}};pa.prototype.Ij=function(a,b){var c,d=this.m,f,e,g,k,l=this.I,p=this.F>>4;var n=0;var q=n+16;for(f=0;f<l;f+=1){var m=0;var r=d[f];for(e=0;e<p;e+=1)if(k=r[e])for(g=15;0<=g;--g){if(0!==(k&1<<g))for(c=n;c<q;c+=2){var u=b[c];var t=
a[c];var v=a[c+1];var B=m<<3;var w=t[B];var z=w&255;var E=z-(w>>8);z-=E&E>>255;w=v[B];E=z-(w&255);z-=E&E>>255;E=z-(w>>8);u[B+B]=z-(E&E>>255);B+=1;w=t[B];z=w&255;E=z-(w>>8);z-=E&E>>255;w=v[B];E=z-(w&255);z-=E&E>>255;E=z-(w>>8);u[B+B]=z-(E&E>>255);B+=1;w=t[B];z=w&255;E=z-(w>>8);z-=E&E>>255;w=v[B];E=z-(w&255);z-=E&E>>255;E=z-(w>>8);u[B+B]=z-(E&E>>255);B+=1;w=t[B];z=w&255;E=z-(w>>8);z-=E&E>>255;w=v[B];E=z-(w&255);z-=E&E>>255;E=z-(w>>8);u[B+B]=z-(E&E>>255);B+=1;w=t[B];z=w&255;E=z-(w>>8);z-=E&E>>255;w=
v[B];E=z-(w&255);z-=E&E>>255;E=z-(w>>8);u[B+B]=z-(E&E>>255);B+=1;w=t[B];z=w&255;E=z-(w>>8);z-=E&E>>255;w=v[B];E=z-(w&255);z-=E&E>>255;E=z-(w>>8);u[B+B]=z-(E&E>>255);B+=1;w=t[B];z=w&255;E=z-(w>>8);z-=E&E>>255;w=v[B];E=z-(w&255);z-=E&E>>255;E=z-(w>>8);u[B+B]=z-(E&E>>255);B+=1;w=t[B];z=w&255;E=z-(w>>8);z-=E&E>>255;w=v[B];E=z-(w&255);z-=E&E>>255;E=z-(w>>8);u[B+B]=z-(E&E>>255)}m+=1}else m+=16;n+=16;q+=16}};pa.prototype.tm=function(a,b){var c,d,f=this.m,e,g,k,l,p,n=this.I,q=this.F>>4;var m=0;var r=m+16;
for(g=0;g<n;g+=1){var u=0;var t=f[g];for(k=0;k<q;k+=1)if(p=t[k])for(l=15;0<=l;--l){if(0!==(p&1<<l))for(c=m;c<r;c+=4){var v=b[c];var B=a[c];var w=a[c+1];var z=a[c+2];var E=a[c+3];var H=u<<2;var L=u<<4;for(d=0;4>d;d+=1){var N=0;if(e=B[H]){var M=N-(e&255|(e&1)<<5);N-=M&M>>255;e>>=8;M=N-(e&255|(e&1)<<5);N-=M&M>>255;e>>=8;M=N-(e&255|(e&1)<<5);N-=M&M>>255;e>>=8;M=N-(e&255|(e&1)<<5);N-=M&M>>255}if(e=w[H])M=N-(e&255|(e&1)<<5),N-=M&M>>255,e>>=8,M=N-(e&255|(e&1)<<5),N-=M&M>>255,e>>=8,M=N-(e&255|(e&1)<<5),N-=
M&M>>255,e>>=8,M=N-(e&255|(e&1)<<5),N-=M&M>>255;if(e=z[H])M=N-(e&255|(e&1)<<5),N-=M&M>>255,e>>=8,M=N-(e&255|(e&1)<<5),N-=M&M>>255,e>>=8,M=N-(e&255|(e&1)<<5),N-=M&M>>255,e>>=8,M=N-(e&255|(e&1)<<5),N-=M&M>>255;if(e=E[H])M=N-(e&255|(e&1)<<5),N-=M&M>>255,e>>=8,M=N-(e&255|(e&1)<<5),N-=M&M>>255,e>>=8,M=N-(e&255|(e&1)<<5),N-=M&M>>255,e>>=8,M=N-(e&255|(e&1)<<5),N-=M&M>>255;v[L]=N&31;H+=1;L+=4}}u+=1}else u+=16;m+=16;r+=16}};pa.prototype.Kj=function(a,b){var c,d,f=this.m,e,g,k,l,p,n=this.I,q=this.F>>4;var m=
0;var r=m+16;for(g=0;g<n;g+=1){var u=0;var t=f[g];for(k=0;k<q;k+=1)if(p=t[k])for(l=15;0<=l;--l){if(0!==(p&1<<l))for(c=m;c<r;c+=4){var v=b[c];var B=a[c];var w=a[c+1];var z=a[c+2];var E=a[c+3];var H=u<<2;var L=u<<4;for(d=0;4>d;d+=1){var N=0;if(e=B[H])N-=N-(e&255)&N-(e&255)>>255,e>>=8,N-=N-(e&255)&N-(e&255)>>255,e>>=8,N-=N-(e&255)&N-(e&255)>>255,e>>=8,N-=N-(e&255)&N-(e&255)>>255;if(e=w[H])N-=N-(e&255)&N-(e&255)>>255,e>>=8,N-=N-(e&255)&N-(e&255)>>255,e>>=8,N-=N-(e&255)&N-(e&255)>>255,e>>=8,N-=N-(e&255)&
N-(e&255)>>255;if(e=z[H])N-=N-(e&255)&N-(e&255)>>255,e>>=8,N-=N-(e&255)&N-(e&255)>>255,e>>=8,N-=N-(e&255)&N-(e&255)>>255,e>>=8,N-=N-(e&255)&N-(e&255)>>255;if(e=E[H])N-=N-(e&255)&N-(e&255)>>255,e>>=8,N-=N-(e&255)&N-(e&255)>>255,e>>=8,N-=N-(e&255)&N-(e&255)>>255,e>>=8,N-=N-(e&255)&N-(e&255)>>255;v[L]=N;H+=1;L+=4}}u+=1}else u+=16;m+=16;r+=16}};pa.prototype.xm=function(a,b){var c,d,f=this.m,e,g,k,l,p,n=this.I,q=this.F>>4;var m=0;var r=m+16;for(g=0;g<n;g+=1){var u=0;var t=f[g];for(k=0;k<q;k+=1)if(p=t[k])for(l=
15;0<=l;--l){if(0!==(p&1<<l))for(c=m;c<r;c+=8){var v=b[c];var B=a[c];var w=a[c+1];var z=a[c+2];var E=a[c+3];var H=a[c+4];var L=a[c+5];var N=a[c+6];var M=a[c+7];var V=u<<2;var X=u<<4;for(d=0;2>d;d+=1){var I=0;if(e=B[V]){var R=I-(e&255|(e&1)<<5);I-=R&R>>255;e>>=8;R=I-(e&255|(e&1)<<5);I-=R&R>>255;e>>=8;R=I-(e&255|(e&1)<<5);I-=R&R>>255;e>>=8;R=I-(e&255|(e&1)<<5);I-=R&R>>255}if(e=B[V+1])R=I-(e&255|(e&1)<<5),I-=R&R>>255,e>>=8,R=I-(e&255|(e&1)<<5),I-=R&R>>255,e>>=8,R=I-(e&255|(e&1)<<5),I-=R&R>>255,e>>=8,
R=I-(e&255|(e&1)<<5),I-=R&R>>255;if(e=w[V])R=I-(e&255|(e&1)<<5),I-=R&R>>255,e>>=8,R=I-(e&255|(e&1)<<5),I-=R&R>>255,e>>=8,R=I-(e&255|(e&1)<<5),I-=R&R>>255,e>>=8,R=I-(e&255|(e&1)<<5),I-=R&R>>255;if(e=w[V+1])R=I-(e&255|(e&1)<<5),I-=R&R>>255,e>>=8,R=I-(e&255|(e&1)<<5),I-=R&R>>255,e>>=8,R=I-(e&255|(e&1)<<5),I-=R&R>>255,e>>=8,R=I-(e&255|(e&1)<<5),I-=R&R>>255;if(e=z[V])R=I-(e&255|(e&1)<<5),I-=R&R>>255,e>>=8,R=I-(e&255|(e&1)<<5),I-=R&R>>255,e>>=8,R=I-(e&255|(e&1)<<5),I-=R&R>>255,e>>=8,R=I-(e&255|(e&1)<<5),
I-=R&R>>255;if(e=z[V+1])R=I-(e&255|(e&1)<<5),I-=R&R>>255,e>>=8,R=I-(e&255|(e&1)<<5),I-=R&R>>255,e>>=8,R=I-(e&255|(e&1)<<5),I-=R&R>>255,e>>=8,R=I-(e&255|(e&1)<<5),I-=R&R>>255;if(e=E[V])R=I-(e&255|(e&1)<<5),I-=R&R>>255,e>>=8,R=I-(e&255|(e&1)<<5),I-=R&R>>255,e>>=8,R=I-(e&255|(e&1)<<5),I-=R&R>>255,e>>=8,R=I-(e&255|(e&1)<<5),I-=R&R>>255;if(e=E[V+1])R=I-(e&255|(e&1)<<5),I-=R&R>>255,e>>=8,R=I-(e&255|(e&1)<<5),I-=R&R>>255,e>>=8,R=I-(e&255|(e&1)<<5),I-=R&R>>255,e>>=8,R=I-(e&255|(e&1)<<5),I-=R&R>>255;if(e=
H[V])R=I-(e&255|(e&1)<<5),I-=R&R>>255,e>>=8,R=I-(e&255|(e&1)<<5),I-=R&R>>255,e>>=8,R=I-(e&255|(e&1)<<5),I-=R&R>>255,e>>=8,R=I-(e&255|(e&1)<<5),I-=R&R>>255;if(e=H[V+1])R=I-(e&255|(e&1)<<5),I-=R&R>>255,e>>=8,R=I-(e&255|(e&1)<<5),I-=R&R>>255,e>>=8,R=I-(e&255|(e&1)<<5),I-=R&R>>255,e>>=8,R=I-(e&255|(e&1)<<5),I-=R&R>>255;if(e=L[V])R=I-(e&255|(e&1)<<5),I-=R&R>>255,e>>=8,R=I-(e&255|(e&1)<<5),I-=R&R>>255,e>>=8,R=I-(e&255|(e&1)<<5),I-=R&R>>255,e>>=8,R=I-(e&255|(e&1)<<5),I-=R&R>>255;if(e=L[V+1])R=I-(e&255|(e&
1)<<5),I-=R&R>>255,e>>=8,R=I-(e&255|(e&1)<<5),I-=R&R>>255,e>>=8,R=I-(e&255|(e&1)<<5),I-=R&R>>255,e>>=8,R=I-(e&255|(e&1)<<5),I-=R&R>>255;if(e=N[V])R=I-(e&255|(e&1)<<5),I-=R&R>>255,e>>=8,R=I-(e&255|(e&1)<<5),I-=R&R>>255,e>>=8,R=I-(e&255|(e&1)<<5),I-=R&R>>255,e>>=8,R=I-(e&255|(e&1)<<5),I-=R&R>>255;if(e=N[V+1])R=I-(e&255|(e&1)<<5),I-=R&R>>255,e>>=8,R=I-(e&255|(e&1)<<5),I-=R&R>>255,e>>=8,R=I-(e&255|(e&1)<<5),I-=R&R>>255,e>>=8,R=I-(e&255|(e&1)<<5),I-=R&R>>255;if(e=M[V])R=I-(e&255|(e&1)<<5),I-=R&R>>255,
e>>=8,R=I-(e&255|(e&1)<<5),I-=R&R>>255,e>>=8,R=I-(e&255|(e&1)<<5),I-=R&R>>255,e>>=8,R=I-(e&255|(e&1)<<5),I-=R&R>>255;if(e=M[V+1])R=I-(e&255|(e&1)<<5),I-=R&R>>255,e>>=8,R=I-(e&255|(e&1)<<5),I-=R&R>>255,e>>=8,R=I-(e&255|(e&1)<<5),I-=R&R>>255,e>>=8,R=I-(e&255|(e&1)<<5),I-=R&R>>255;v[X]=I&31;V+=2;X+=8}}u+=1}else u+=16;m+=16;r+=16}};pa.prototype.Lj=function(a,b){var c,d,f=this.m,e,g,k,l,p,n=this.I,q=this.F>>4;var m=0;var r=m+16;for(g=0;g<n;g+=1){var u=0;var t=f[g];for(k=0;k<q;k+=1)if(p=t[k])for(l=15;0<=
l;--l){if(0!==(p&1<<l))for(c=m;c<r;c+=8){var v=b[c];var B=a[c];var w=a[c+1];var z=a[c+2];var E=a[c+3];var H=a[c+4];var L=a[c+5];var N=a[c+6];var M=a[c+7];var V=u<<2;var X=u<<4;for(d=0;2>d;d+=1){var I=0;if(e=B[V])I-=I-(e&255)&I-(e&255)>>255,e>>=8,I-=I-(e&255)&I-(e&255)>>255,e>>=8,I-=I-(e&255)&I-(e&255)>>255,e>>=8,I-=I-(e&255)&I-(e&255)>>255;if(e=B[V+1])I-=I-(e&255)&I-(e&255)>>255,e>>=8,I-=I-(e&255)&I-(e&255)>>255,e>>=8,I-=I-(e&255)&I-(e&255)>>255,e>>=8,I-=I-(e&255)&I-(e&255)>>255;if(e=w[V])I-=I-(e&
255)&I-(e&255)>>255,e>>=8,I-=I-(e&255)&I-(e&255)>>255,e>>=8,I-=I-(e&255)&I-(e&255)>>255,e>>=8,I-=I-(e&255)&I-(e&255)>>255;if(e=w[V+1])I-=I-(e&255)&I-(e&255)>>255,e>>=8,I-=I-(e&255)&I-(e&255)>>255,e>>=8,I-=I-(e&255)&I-(e&255)>>255,e>>=8,I-=I-(e&255)&I-(e&255)>>255;if(e=z[V])I-=I-(e&255)&I-(e&255)>>255,e>>=8,I-=I-(e&255)&I-(e&255)>>255,e>>=8,I-=I-(e&255)&I-(e&255)>>255,e>>=8,I-=I-(e&255)&I-(e&255)>>255;if(e=z[V+1])I-=I-(e&255)&I-(e&255)>>255,e>>=8,I-=I-(e&255)&I-(e&255)>>255,e>>=8,I-=I-(e&255)&I-(e&
255)>>255,e>>=8,I-=I-(e&255)&I-(e&255)>>255;if(e=E[V])I-=I-(e&255)&I-(e&255)>>255,e>>=8,I-=I-(e&255)&I-(e&255)>>255,e>>=8,I-=I-(e&255)&I-(e&255)>>255,e>>=8,I-=I-(e&255)&I-(e&255)>>255;if(e=E[V+1])I-=I-(e&255)&I-(e&255)>>255,e>>=8,I-=I-(e&255)&I-(e&255)>>255,e>>=8,I-=I-(e&255)&I-(e&255)>>255,e>>=8,I-=I-(e&255)&I-(e&255)>>255;if(e=H[V])I-=I-(e&255)&I-(e&255)>>255,e>>=8,I-=I-(e&255)&I-(e&255)>>255,e>>=8,I-=I-(e&255)&I-(e&255)>>255,e>>=8,I-=I-(e&255)&I-(e&255)>>255;if(e=H[V+1])I-=I-(e&255)&I-(e&255)>>
255,e>>=8,I-=I-(e&255)&I-(e&255)>>255,e>>=8,I-=I-(e&255)&I-(e&255)>>255,e>>=8,I-=I-(e&255)&I-(e&255)>>255;if(e=L[V])I-=I-(e&255)&I-(e&255)>>255,e>>=8,I-=I-(e&255)&I-(e&255)>>255,e>>=8,I-=I-(e&255)&I-(e&255)>>255,e>>=8,I-=I-(e&255)&I-(e&255)>>255;if(e=L[V+1])I-=I-(e&255)&I-(e&255)>>255,e>>=8,I-=I-(e&255)&I-(e&255)>>255,e>>=8,I-=I-(e&255)&I-(e&255)>>255,e>>=8,I-=I-(e&255)&I-(e&255)>>255;if(e=N[V])I-=I-(e&255)&I-(e&255)>>255,e>>=8,I-=I-(e&255)&I-(e&255)>>255,e>>=8,I-=I-(e&255)&I-(e&255)>>255,e>>=8,I-=
I-(e&255)&I-(e&255)>>255;if(e=N[V+1])I-=I-(e&255)&I-(e&255)>>255,e>>=8,I-=I-(e&255)&I-(e&255)>>255,e>>=8,I-=I-(e&255)&I-(e&255)>>255,e>>=8,I-=I-(e&255)&I-(e&255)>>255;if(e=M[V])I-=I-(e&255)&I-(e&255)>>255,e>>=8,I-=I-(e&255)&I-(e&255)>>255,e>>=8,I-=I-(e&255)&I-(e&255)>>255,e>>=8,I-=I-(e&255)&I-(e&255)>>255;if(e=M[V+1])I-=I-(e&255)&I-(e&255)>>255,e>>=8,I-=I-(e&255)&I-(e&255)>>255,e>>=8,I-=I-(e&255)&I-(e&255)>>255,e>>=8,I-=I-(e&255)&I-(e&255)>>255;v[X]=I;V+=2;X+=8}}u+=1}else u+=16;m+=16;r+=16}};pa.prototype.om=
function(a,b){var c=this.m,d,f,e,g,k,l,p=this.I,n=this.F>>4;var q=0;var m=q+16;for(f=0;f<p;f+=1){var r=0;var u=c[f];for(e=0;e<n;e+=1)if(l=u[e])for(g=15;0<=g;--g){if(0!==(l&1<<g)){var t=0;for(k=q;k<m;k+=1){var v=a[k];var B=r<<2;if(d=v[B]){var w=t-(d&255|(d&1)<<5);t-=w&w>>255;d>>=8;w=t-(d&255|(d&1)<<5);t-=w&w>>255;d>>=8;w=t-(d&255|(d&1)<<5);t-=w&w>>255;d>>=8;w=t-(d&255|(d&1)<<5);t-=w&w>>255}if(d=v[B+1])w=t-(d&255|(d&1)<<5),t-=w&w>>255,d>>=8,w=t-(d&255|(d&1)<<5),t-=w&w>>255,d>>=8,w=t-(d&255|(d&1)<<5),
t-=w&w>>255,d>>=8,w=t-(d&255|(d&1)<<5),t-=w&w>>255;if(d=v[B+2])w=t-(d&255|(d&1)<<5),t-=w&w>>255,d>>=8,w=t-(d&255|(d&1)<<5),t-=w&w>>255,d>>=8,w=t-(d&255|(d&1)<<5),t-=w&w>>255,d>>=8,w=t-(d&255|(d&1)<<5),t-=w&w>>255;if(d=v[B+3])w=t-(d&255|(d&1)<<5),t-=w&w>>255,d>>=8,w=t-(d&255|(d&1)<<5),t-=w&w>>255,d>>=8,w=t-(d&255|(d&1)<<5),t-=w&w>>255,d>>=8,w=t-(d&255|(d&1)<<5),t-=w&w>>255}v=b[q];B=r<<4;v[B]=t&31}r+=1}else r+=16;q+=16;m+=16}};pa.prototype.Hj=function(a,b){var c=this.m,d,f,e,g,k,l,p=this.I,n=this.F>>
4;var q=0;var m=q+16;for(f=0;f<p;f+=1){var r=0;var u=c[f];for(e=0;e<n;e+=1)if(l=u[e])for(g=15;0<=g;--g){if(0!==(l&1<<g)){var t=0;for(k=q;k<m;k+=1){var v=a[k];var B=r<<2;if(d=v[B])t-=t-(d&255)&t-(d&255)>>255,d>>=8,t-=t-(d&255)&t-(d&255)>>255,d>>=8,t-=t-(d&255)&t-(d&255)>>255,d>>=8,t-=t-(d&255)&t-(d&255)>>255;if(d=v[B+1])t-=t-(d&255)&t-(d&255)>>255,d>>=8,t-=t-(d&255)&t-(d&255)>>255,d>>=8,t-=t-(d&255)&t-(d&255)>>255,d>>=8,t-=t-(d&255)&t-(d&255)>>255;if(d=v[B+2])t-=t-(d&255)&t-(d&255)>>255,d>>=8,t-=t-
(d&255)&t-(d&255)>>255,d>>=8,t-=t-(d&255)&t-(d&255)>>255,d>>=8,t-=t-(d&255)&t-(d&255)>>255;if(d=v[B+3])t-=t-(d&255)&t-(d&255)>>255,d>>=8,t-=t-(d&255)&t-(d&255)>>255,d>>=8,t-=t-(d&255)&t-(d&255)>>255,d>>=8,t-=t-(d&255)&t-(d&255)>>255}v=b[q];B=r<<4;v[B]=t}r+=1}else r+=16;q+=16;m+=16}};pa.prototype.rm=function(a,b){var c=this.m,d,f,e,g,k,l=this.I,p=this.F>>4;var n=0;var q=n+32;for(f=0;f<l;f+=2){var m=0;var r=c[f];var u=c[f+1];for(e=0;e<p;e+=1){var t=r[e]|u[e];if(0!==t)for(g=49152;0<g;g>>=2){if(0!==(t&
g)){var v=0;for(k=n;k<q;k+=1){var B=a[k];var w=m<<2;if(d=B[w]){var z=v-(d&255|(d&1)<<5);v-=z&z>>255;d>>=8;z=v-(d&255|(d&1)<<5);v-=z&z>>255;d>>=8;z=v-(d&255|(d&1)<<5);v-=z&z>>255;d>>=8;z=v-(d&255|(d&1)<<5);v-=z&z>>255}if(d=B[w+1])z=v-(d&255|(d&1)<<5),v-=z&z>>255,d>>=8,z=v-(d&255|(d&1)<<5),v-=z&z>>255,d>>=8,z=v-(d&255|(d&1)<<5),v-=z&z>>255,d>>=8,z=v-(d&255|(d&1)<<5),v-=z&z>>255;if(d=B[w+2])z=v-(d&255|(d&1)<<5),v-=z&z>>255,d>>=8,z=v-(d&255|(d&1)<<5),v-=z&z>>255,d>>=8,z=v-(d&255|(d&1)<<5),v-=z&z>>255,
d>>=8,z=v-(d&255|(d&1)<<5),v-=z&z>>255;if(d=B[w+3])z=v-(d&255|(d&1)<<5),v-=z&z>>255,d>>=8,z=v-(d&255|(d&1)<<5),v-=z&z>>255,d>>=8,z=v-(d&255|(d&1)<<5),v-=z&z>>255,d>>=8,z=v-(d&255|(d&1)<<5),v-=z&z>>255;if(d=B[w+4])z=v-(d&255|(d&1)<<5),v-=z&z>>255,d>>=8,z=v-(d&255|(d&1)<<5),v-=z&z>>255,d>>=8,z=v-(d&255|(d&1)<<5),v-=z&z>>255,d>>=8,z=v-(d&255|(d&1)<<5),v-=z&z>>255;if(d=B[w+5])z=v-(d&255|(d&1)<<5),v-=z&z>>255,d>>=8,z=v-(d&255|(d&1)<<5),v-=z&z>>255,d>>=8,z=v-(d&255|(d&1)<<5),v-=z&z>>255,d>>=8,z=v-(d&255|
(d&1)<<5),v-=z&z>>255;if(d=B[w+6])z=v-(d&255|(d&1)<<5),v-=z&z>>255,d>>=8,z=v-(d&255|(d&1)<<5),v-=z&z>>255,d>>=8,z=v-(d&255|(d&1)<<5),v-=z&z>>255,d>>=8,z=v-(d&255|(d&1)<<5),v-=z&z>>255;if(d=B[w+7])z=v-(d&255|(d&1)<<5),v-=z&z>>255,d>>=8,z=v-(d&255|(d&1)<<5),v-=z&z>>255,d>>=8,z=v-(d&255|(d&1)<<5),v-=z&z>>255,d>>=8,z=v-(d&255|(d&1)<<5),v-=z&z>>255}B=b[n];w=m<<4;B[w]=v&31}m+=2}else m+=16}n+=32;q+=32}};pa.prototype.Jj=function(a,b){var c=this.m,d,f,e,g,k,l=this.I,p=this.F>>4;var n=0;var q=n+32;for(f=0;f<
l;f+=2){var m=0;var r=c[f];var u=c[f+1];for(e=0;e<p;e+=1){var t=r[e]|u[e];if(0!==t)for(g=49152;0<g;g>>=2){if(0!==(t&g)){var v=0;for(k=n;k<q;k+=1){var B=a[k];var w=m<<2;if(d=B[w])v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255;if(d=B[w+1])v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255;if(d=B[w+2])v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-
(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255;if(d=B[w+3])v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255;if(d=B[w+4])v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255;if(d=B[w+5])v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&
v-(d&255)>>255;if(d=B[w+6])v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255;if(d=B[w+7])v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255}B=b[n];w=m<<4;B[w]=v}m+=2}else m+=16}n+=32;q+=32}};pa.prototype.Oe=function(a){this.Oi&&a.o.fill(0)};pa.prototype.yj=function(a,b,c){var d=performance.now();if(.5<=c&&1>c){var f="max02x02";this.Oe(this.Ba);
this.u?W.R&&W.Jf&&this.view.i?va.iG(b.o.byteOffset|0,this.Ba.o.byteOffset|0,this.m.o.byteOffset|0,2,this.I|0,this.F|0,b[0].length|0):this.pm(a,this.Ba):W.R&&W.Jf&&this.view.i?va.rA(b.o.byteOffset|0,this.Ba.o.byteOffset|0,this.m.o.byteOffset|0,2,this.I|0,this.F|0,b[0].length|0):this.Ij(a,this.Ba)}else.25<=c&&.5>c?(f="max04x04",this.Oe(this.Ba),this.u?W.R&&W.Jf&&this.view.i?va.kG(b.o.byteOffset|0,this.Ba.o.byteOffset|0,this.m.o.byteOffset|0,16,2,this.I|0,this.F|0,b[0].length|0):this.tm(b,this.Ba):W.R&&
W.Jf&&this.view.i?va.tA(b.o.byteOffset|0,this.Ba.o.byteOffset|0,this.m.o.byteOffset|0,16,2,this.I|0,this.F|0,b[0].length|0):this.Kj(b,this.Ba)):.125<=c&&.25>c?(f="max08x08",this.Oe(this.Ba),this.u?W.R&&W.Jf&&this.view.i?va.lG(b.o.byteOffset|0,this.Ba.o.byteOffset|0,this.m.o.byteOffset|0,16,2,this.I|0,this.F|0,b[0].length|0):this.xm(b,this.Ba):W.R&&W.Jf&&this.view.i?va.uA(b.o.byteOffset|0,this.Ba.o.byteOffset|0,this.m.o.byteOffset|0,16,2,this.I|0,this.F|0,b[0].length|0):this.Lj(b,this.Ba)):.0625<=
c&&.125>c?(f="max16x16",this.Oe(this.Ba),this.u?W.R&&W.Jf&&this.view.i?va.hG(b.o.byteOffset|0,this.Ba.o.byteOffset|0,this.m.o.byteOffset|0,2,this.I|0,this.F|0,b[0].length|0):this.om(b,this.Ba):W.R&&W.Jf&&this.view.i?va.qA(b.o.byteOffset|0,this.Ba.o.byteOffset|0,this.m.o.byteOffset|0,2,this.I|0,this.F|0,b[0].length|0):this.Hj(b,this.Ba)):(f="max32x32",this.u?W.R&&W.Jf&&this.view.i?va.jG(b.o.byteOffset|0,this.Ba.o.byteOffset|0,this.m.o.byteOffset|0,16,2,this.I|0,this.F|0,b[0].length|0):this.rm(b,this.Ba):
W.R&&W.Jf&&this.view.i?va.sA(b.o.byteOffset|0,this.Ba.o.byteOffset|0,this.m.o.byteOffset|0,16,2,this.I|0,this.F|0,b[0].length|0):this.Jj(b,this.Ba));this.Dc&&(.5<=c&&1>c?(this.Oe(this.Db),W.R&&W.Jf&&this.view.i?va.rA(this.vc.o.byteOffset|0,this.Db.o.byteOffset|0,this.m.o.byteOffset|0,16,2,this.I|0,this.F|0,this.vc[0].length|0):this.Ij(this.Kg,this.Db)):.25<=c&&.5>c?(this.Oe(this.Db),W.R&&W.Jf&&this.view.i?va.tA(this.vc.o.byteOffset|0,this.Db.o.byteOffset|0,this.m.o.byteOffset|0,16,2,this.I|0,this.F|
0,this.vc[0].length|0):this.Kj(this.vc,this.Db)):.125<=c&&.25>c?(this.Oe(this.Db),W.R&&W.Jf&&this.view.i?va.uA(this.vc.o.byteOffset|0,this.Db.o.byteOffset|0,this.m.o.byteOffset|0,16,2,this.I|0,this.F|0,this.vc[0].length|0):this.Lj(this.vc,this.Db)):.0625<=c&&.125>c?(this.Oe(this.Db),W.R&&W.Jf&&this.view.i?va.qA(this.vc.o.byteOffset|0,this.Db.o.byteOffset|0,this.m.o.byteOffset|0,16,2,this.I|0,this.F|0,this.vc[0].length|0):this.Hj(this.vc,this.Db)):W.R&&W.Jf&&this.view.i?va.sA(this.vc.o.byteOffset|
0,this.Db.o.byteOffset|0,this.m.o.byteOffset|0,16,2,this.I|0,this.F|0,this.vc[0].length|0):this.Jj(this.vc,this.Db));d=performance.now()-d;W.wb&&this.view.C.h(f,d,W.R&&W.Jf&&this.view.i);this.Oi=.0625>c?!0:!1};pa.prototype.cc=function(a,b,c,d,f){var e=-1,g=-1,k,l=this.width,p=this.height;for(k=0;k<a.length;k+=1)a[k]&&(k<c&&(c=k),k>e&&(e=k));for(k=0;k<b.length;k+=1)b[k]&&(k<d&&(d=k),k>g&&(g=k));c=(c<<4)+this.Rb(a[c]);e=(e<<4)+this.Vb(a[e]);d=(d<<4)+this.Rb(b[d]);g=(g<<4)+this.Vb(b[g]);0>g&&(g=p-1);
d>=p&&(d=0);c>=l&&(c=0);0>e&&(e=l-1);g>p-1&&(g=p-1);0>d&&(d=0);0>c&&(c=0);e>l-1&&(e=l-1);f.N=g;f.K=d;f.J=c;f.L=e};pa.prototype.ac=function(a){var b,c,d,f=this.F>>4,e=this.ta,g,k;var l=0;var p=l+16;for(b=0;b<e.length;b+=1){var n=0;var q=e[b];for(c=0;c<f;c+=1)if(g=q[c])for(k=15;0<=k;--k){if(g&1<<k){var m=n>>2;for(d=l;d<p;d+=1){var r=a[d];r[m]=0;r[m+1]=0;r[m+2]=0;r[m+3]=0}}n+=16}else n+=256;l+=16;p+=16}};pa.prototype.em=function(a){var b,c,d,f=this.F>>4,e=this.ta,g,k;var l=0;var p=l+16;for(b=0;b<e.length;b+=
1){var n=0;var q=e[b];for(c=0;c<f;c+=1)if(g=q[c])for(k=15;0<=k;--k){if(g&1<<k){var m=n;for(d=l;d<p;d+=1){var r=a[d];r[m]=0}}n+=1}else n+=16;l+=16;p+=16}};pa.prototype.np=function(){var a=this.ta,b,c,d,f=this.width,e=this.height,g=this.A,k=0,l=0,p=0,n,q,m=this.V,r,u=this.Y,t,v,B=this.I,w=this.F>>4,z=this.aa,E=this.X.j,H=this.Qi;if(0===(this.counter&1)){var L=this.P;var N=this.Pa;var M=this.h;var V=this.H;var X=this.j;this.eb&&(E=this.X.ba)}else L=this.h,N=this.Ua,M=this.P,V=this.j,X=this.H;m.fill(0);
u.fill(0);var I=0;var R=I+16;X.o.fill(0);for(b=0;b<V.length;b+=1){var P=0;var S=P+16;var Z=V[b];var qa=X[b];var ha=a[b];var ca=0<b?X[b-1]:z;var ia=b<B-1?X[b+1]:z;for(c=0;c<w;c+=1){var na=Z[c];var ja=0;if(na){var U=qa[c];var ma=ca[c];var ea=ia[c];for(d=15;0<=d;--d){if(0!==(na&1<<d)){var aa=t=r=n=0;var Y=I;for(v=32768;Y<R;){var oa=0===Y?this.ia:L[Y-1];var Q=L[Y];var F=Y===this.height-1?this.ia:L[Y+1];var A=M[Y];var K=32768;var O=P;var J=0===O?0:Q[O-1];for(q=Q[O];O<S-1;){var x=oa[O];var C=J;J=q;q=Q[O+
1];var la=F[O];if(2<=J)x=H[J];else{var ba=1<<x|1<<C|1<<q|1<<la;1===ba&&0===J?x=0:ba&(J?82124:29440)?x=1-J:J||!(ba&98304)||ba&2?(ba=J?1414486:759126,x=E[(ba>>la&1)<<7|(ba>>C&1)<<5|J<<4|(ba>>q&1)<<3|(ba>>x&1)<<1]):x=0}A[O]=x;C=J?1:0;0<x?(p+=1,k+=1-C):l+=C;0<x&&(t|=v,r|=K);n|=J;K>>=1;O+=1}x=oa[O];C=J;J=q;q=O===f-1?0:Q[O+1];la=F[O];2<=J?x=H[J]:(ba=1<<x|1<<C|1<<q|1<<la,1===ba&&0===J?x=0:ba&(J?82124:29440)?x=1-J:J||!(ba&98304)||ba&2?(ba=J?1414486:759126,x=E[(ba>>la&1)<<7|(ba>>C&1)<<5|J<<4|(ba>>q&1)<<3|
(ba>>x&1)<<1]):x=0);A[O]=x;C=J?1:0;0<x?(p+=1,k+=1-C):l+=C;0<x&&(t|=v,r|=K);n|=J;Y+=1;v>>=1}m[P>>4]|=r;r?(U|=1<<d,t&1&&(aa|=y.Ma,r&32768&&(aa|=y.Ta),r&1&&(aa|=y.La)),t&32768&&(aa|=y.Oa,r&32768&&(aa|=y.Qa),r&1&&(aa|=y.Ra)),r&32768&&(aa|=y.Ja),r&1&&(aa|=y.Ga),aa&&(0!==(aa&y.Ja)&&(15>d?U|=1<<d+1:0<c&&0<P&&(qa[c-1]|=1)),0!==(aa&y.Ga)&&(0<d?U|=1<<d-1:c<w-1&&P<f-1&&(qa[c+1]|=32768)),0!==(aa&y.Oa)&&(ma|=1<<d),0!==(aa&y.Ma)&&(ea|=1<<d),0!==(aa&y.Qa)&&(15>d?ma|=1<<d+1:0<c&&0<P&&(ca[c-1]|=1)),0!==(aa&y.Ra)&&
(0<d?ma|=1<<d-1:c<w-1&&P<f-1&&(ca[c+1]|=32768)),0!==(aa&y.Ta)&&(15>d?ea|=1<<d+1:0<c&&0<P&&(ia[c-1]|=1)),0!==(aa&y.La)&&(0<d?ea|=1<<d-1:c<w-1&&P<f-1&&(ia[c+1]|=32768)))):n&&(ja|=1<<d);u[b]|=t}P+=16;S+=16}qa[c]|=U;0<b&&(ca[c]|=ma);b<B-1&&(ia[c]|=ea)}else P+=256,S+=256;ha[c]=ja}I+=16;R+=16}this.cc(m,u,f,e,g);z.fill(0);this.ac(N);for(Y=0;Y<this.m.o.length;Y+=1)this.m.o[Y]=this.m.o[Y]|V.o[Y]|X.o[Y];this.B=p;this.na=k;this.ga=l};pa.prototype.jp=function(){var a=this.ta,b,c,d,f=this.width,e=this.height,
g=this.A,k=0,l=0,p=0,n,q,m,r=this.V,u,t=this.Y,v,B,w=this.I,z=this.F>>4,E=this.aa,H=this.X.j,L=[0,1,2,3,4,5,7,6,8,9,11,10,13,12,14,15,16,17,18,20,19];if(0===(this.counter&1)){var N=this.P;var M=this.Pa;var V=this.h;var X=this.H;var I=this.j;this.eb&&(H=this.X.j)}else N=this.h,M=this.Ua,V=this.P,X=this.j,I=this.H,this.eb&&(H=this.X.ba);r.fill(0);t.fill(0);var R=0;var P=R+16;I.o.fill(0);for(b=0;b<X.length;b+=1){var S=0;var Z=S+16;var qa=X[b];var ha=I[b];var ca=a[b];var ia=0<b?I[b-1]:E;var na=b<w-1?
I[b+1]:E;for(c=0;c<z;c+=1){var ja=qa[c];var U=0;if(ja){var ma=ha[c];var ea=ia[c];var aa=na[c];for(d=15;0<=d;--d){if(0!==(ja&1<<d)){var Y=v=u=n=0;var oa=R;for(B=32768;oa<P;){var Q=0===oa?this.ia:N[oa-1];var F=N[oa];var A=oa===this.height-1?this.ia:N[oa+1];var K=V[oa];var O=32768;var J=S;if(0===J)var x=q=0;else q=F[J-1],x=Q[J-1];var C=A[J];for(m=F[J];J<Z-1;){var la=x;x=Q[J];var ba=q;q=m;m=F[J+1];var sa=C;C=A[J+1];if(2<=q)la=L[q];else{var ta=1<<la|1<<x|1<<ba|1<<m|1<<sa|1<<C;1===ta&&0===q?la=0:ta&(q?
82124:29440)?la=1-q:q||!(ta&98304)||ta&2?(ta=q?1414486:759126,la=H[(ta>>sa&1)<<7|(ta>>C&1)<<6|(ta>>ba&1)<<5|q<<4|(ta>>m&1)<<3|(ta>>la&1)<<2|(ta>>x&1)<<1]):la=0}K[J]=la;ba=q?1:0;0<la?(p+=1,k+=1-ba):l+=ba;0<la&&(v|=B,u|=O);n|=q;O>>=1;J+=1}la=x;x=Q[J];ba=q;q=m;sa=C;J===f-1?C=m=0:(m=F[J+1],C=A[J+1]);2<=q?la=L[q]:(ta=1<<la|1<<x|1<<ba|1<<m|1<<sa|1<<C,1===ta&&0===q?la=0:ta&(q?82124:29440)?la=1-q:q||!(ta&98304)||ta&2?(ta=q?1414486:759126,la=H[(ta>>sa&1)<<7|(ta>>C&1)<<6|(ta>>ba&1)<<5|q<<4|(ta>>m&1)<<3|(ta>>
la&1)<<2|(ta>>x&1)<<1]):la=0);K[J]=la;ba=q?1:0;0<la?(p+=1,k+=1-ba):l+=ba;0<la&&(v|=B,u|=O);n|=q;oa+=1;B>>=1}r[S>>4]|=u;u?(ma|=1<<d,v&1&&(Y|=y.Ma,u&32768&&(Y|=y.Ta),u&1&&(Y|=y.La)),v&32768&&(Y|=y.Oa,u&32768&&(Y|=y.Qa),u&1&&(Y|=y.Ra)),u&32768&&(Y|=y.Ja),u&1&&(Y|=y.Ga),Y&&(0!==(Y&y.Ja)&&(15>d?ma|=1<<d+1:0<c&&0<S&&(ha[c-1]|=1)),0!==(Y&y.Ga)&&(0<d?ma|=1<<d-1:c<z-1&&S<f-1&&(ha[c+1]|=32768)),0!==(Y&y.Oa)&&(ea|=1<<d),0!==(Y&y.Ma)&&(aa|=1<<d),0!==(Y&y.Qa)&&(15>d?ea|=1<<d+1:0<c&&0<S&&(ia[c-1]|=1)),0!==(Y&y.Ra)&&
(0<d?ea|=1<<d-1:c<z-1&&S<f-1&&(ia[c+1]|=32768)),0!==(Y&y.Ta)&&(15>d?aa|=1<<d+1:0<c&&0<S&&(na[c-1]|=1)),0!==(Y&y.La)&&(0<d?aa|=1<<d-1:c<z-1&&S<f-1&&(na[c+1]|=32768)))):n&&(U|=1<<d);t[b]|=v}S+=16;Z+=16}ha[c]|=ma;0<b&&(ia[c]|=ea);b<w-1&&(na[c]|=aa)}else S+=256,Z+=256;ca[c]=U}R+=16;P+=16}this.cc(r,t,f,e,g);E.fill(0);this.ac(M);for(oa=0;oa<this.m.o.length;oa+=1)this.m.o[oa]=this.m.o[oa]|X.o[oa]|I.o[oa];this.B=p;this.na=k;this.ga=l};pa.prototype.kp=function(){var a=this.ta,b,c,d,f=this.width,e=this.height,
g=this.A,k=0,l=0,p=0,n,q,m,r,u=this.V,t,v=this.Y,B,w,z=this.I,E=this.F>>4,H=this.aa,L=this.X.j,N=[0,1,2,3,4,5,7,6,8,9,11,10,13,12,14,15,16,17,18,20,19];if(0===(this.counter&1)){var M=this.P;var V=this.Pa;var X=this.h;var I=this.H;var R=this.j;this.eb&&(L=this.X.j)}else M=this.h,V=this.Ua,X=this.P,I=this.j,R=this.H,this.eb&&(L=this.X.ba);u.fill(0);v.fill(0);var P=0;var S=P+16;R.o.fill(0);for(b=0;b<I.length;b+=1){var Z=0;var qa=Z+16;var ha=I[b];var ca=R[b];var ia=a[b];var na=0<b?R[b-1]:H;var ja=b<z-
1?R[b+1]:H;for(c=0;c<E;c+=1){var U=ha[c];var ma=0;if(U){var ea=ca[c];var aa=na[c];var Y=ja[c];for(d=15;0<=d;--d){if(0!==(U&1<<d)){var oa=B=t=n=0;var Q=P;for(w=32768;Q<S;){var F=0===Q?this.ia:M[Q-1];var A=M[Q];var K=Q===this.height-1?this.ia:M[Q+1];var O=X[Q];var J=32768;var x=Z;if(0===x)var C=m=q=0;else q=F[x-1],m=A[x-1],C=K[x-1];var la=F[x];var ba=A[x];for(r=K[x];x<qa-1;){var sa=q;var ta=m;var ka=C;q=la;m=ba;C=r;la=F[x+1];ba=A[x+1];r=K[x+1];if(2<=m)sa=N[m];else{var ua=1<<sa|1<<q|1<<la|1<<ta|1<<ba|
1<<ka|1<<C|1<<r;1===ua&&0===m?sa=0:ua&(m?82124:29440)?sa=1-m:m||!(ua&98304)||ua&2?(ua=m?1414486:759126,sa=L[(ua>>ka&1)<<8|(ua>>C&1)<<7|(ua>>r&1)<<6|(ua>>ta&1)<<5|m<<4|(ua>>ba&1)<<3|(ua>>sa&1)<<2|(ua>>q&1)<<1|ua>>la&1]):sa=0}O[x]=sa;ta=m?1:0;0<sa?(p+=1,k+=1-ta):l+=ta;0<sa&&(B|=w,t|=J);n|=m;J>>=1;x+=1}sa=q;ta=m;ka=C;q=la;m=ba;C=r;x===f-1?r=ba=la=0:(la=F[x+1],ba=A[x+1],r=K[x+1]);2<=m?sa=N[m]:(ua=1<<sa|1<<q|1<<la|1<<ta|1<<ba|1<<ka|1<<C|1<<r,1===ua&&0===m?sa=0:ua&(m?82124:29440)?sa=1-m:m||!(ua&98304)||
ua&2?(ua=m?1414486:759126,sa=L[(ua>>ka&1)<<8|(ua>>C&1)<<7|(ua>>r&1)<<6|(ua>>ta&1)<<5|m<<4|(ua>>ba&1)<<3|(ua>>sa&1)<<2|(ua>>q&1)<<1|ua>>la&1]):sa=0);O[x]=sa;ta=m?1:0;0<sa?(p+=1,k+=1-ta):l+=ta;0<sa&&(B|=w,t|=J);n|=m;Q+=1;w>>=1}u[Z>>4]|=t;t?(ea|=1<<d,B&1&&(oa|=y.Ma,t&32768&&(oa|=y.Ta),t&1&&(oa|=y.La)),B&32768&&(oa|=y.Oa,t&32768&&(oa|=y.Qa),t&1&&(oa|=y.Ra)),t&32768&&(oa|=y.Ja),t&1&&(oa|=y.Ga),oa&&(0!==(oa&y.Ja)&&(15>d?ea|=1<<d+1:0<c&&0<Z&&(ca[c-1]|=1)),0!==(oa&y.Ga)&&(0<d?ea|=1<<d-1:c<E-1&&Z<f-1&&(ca[c+
1]|=32768)),0!==(oa&y.Oa)&&(aa|=1<<d),0!==(oa&y.Ma)&&(Y|=1<<d),0!==(oa&y.Qa)&&(15>d?aa|=1<<d+1:0<c&&0<Z&&(na[c-1]|=1)),0!==(oa&y.Ra)&&(0<d?aa|=1<<d-1:c<E-1&&Z<f-1&&(na[c+1]|=32768)),0!==(oa&y.Ta)&&(15>d?Y|=1<<d+1:0<c&&0<Z&&(ja[c-1]|=1)),0!==(oa&y.La)&&(0<d?Y|=1<<d-1:c<E-1&&Z<f-1&&(ja[c+1]|=32768)))):n&&(ma|=1<<d);v[b]|=B}Z+=16;qa+=16}ca[c]|=ea;0<b&&(na[c]|=aa);b<z-1&&(ja[c]|=Y)}else Z+=256,qa+=256;ia[c]=ma}P+=16;S+=16}this.cc(u,v,f,e,g);H.fill(0);this.ac(V);for(Q=0;Q<this.m.o.length;Q+=1)this.m.o[Q]=
this.m.o[Q]|I.o[Q]|R.o[Q];this.B=p;this.na=k;this.ga=l};pa.prototype.gn=function(){var a=this.m,b=this.wa,c=this.ia,d,f,e,g,k=this.width,l=k>>4,p=this.height,n=k,q=-1,m=-1,r=p,u=this.A,t=k,v=-1,B=-1,w=p,z=this.He,E,H=this.V,L=this.Se,N,M,V,X=this.Y,I=this.ef,R;var P=this.I;var S=this.F>>4;var Z=0;var qa=P,ha=this.ec;if(0!==(this.counter&1)){var ca=this.Va;var ia=this.H;var na=this.h;var ja=this.P}else ca=this.va,ia=this.j,na=this.P,ja=this.h;0>Z&&(Z=0);qa>P&&(qa=P);H.fill(0);L.fill(0);X.fill(0);I.fill(0);
P=Z<<4;var U=P+16;for(d=Z;d<qa;d+=1){var ma=0;var ea=ia[d];var aa=b[d];var Y=a[d];for(f=0;f<S;f+=1){if(g=ea[f]|aa[f])for(e=15;0<=e;--e){if(0!==(g&1<<e)){var oa=R=M=N=0;var Q=32768;for(Z=P;Z<U;Z+=1){var F=ca[Z];var A=na[Z];var K=0===Z?c:na[Z-1];var O=Z===this.height-1?c:na[Z+1];var J=ja[Z];var x=ma<<4;if(0===x)var C=E=0;else E=A[x-1],C=K[x-1];var la=O[x];var ba=A[x];var sa=F[ma];for(V=32768;0<V;){var ta=C;C=K[x];var ka=E;E=ba;ba=A[x+1];var ua=la;la=O[x+1];var Ba=E;ta=1<<ta|1<<C|1<<ba|1<<ka|1<<ua|1<<
la;ka=!0;if(0!==(ta&64)){ka=!1;if(7===E||8===E||13<=E)Ba=0;else switch(E){case 1:Ba=2;break;case 3:case 5:Ba=4;break;case 9:Ba=10;break;case 11:Ba=12;break;default:ka=!0}!ka&&0!==(E&1)&&sa&V&&(F[ma]&=~V,this.ga+=1,--this.B)}if(ka)if(0!==(sa&V)){if(0===(E&1))switch(E){case 4:Ba=3;break;case 6:F[ma]&=~V;--this.na;--this.B;break;case 8:Ba=7;break;default:Ba=1,ka=ta&44739072,0===(ta&170)&&1===ha[ka&65535]+ha[ka>>16]?(Ba=0,65535<ka&&(ka>>=16,Ba+=16),255<ka&&(ka>>=8,Ba+=8),15<ka&&(ka>>=4,Ba+=4),3<ka&&(ka>>=
2,Ba+=2),Ba+=ka>>1):(ka=ta&44736512,0!==(ta&8)&&0===(ta&2722)&&1===ha[ka&65535]+ha[ka>>16]?(Ba=0,65535<ka&&(ka>>=16,Ba+=16),255<ka&&(ka>>=8,Ba+=8),15<ka&&(ka>>=4,Ba+=4),3<ka&&(ka>>=2,Ba+=2),Ba+=ka>>1):(ka=ta&2560,0!==(ta&128)&&0===(ta&44736554)&&1===ha[ka&65535]+ha[ka>>16]?(Ba=0,65535<ka&&(ka>>=16,Ba+=16),255<ka&&(ka>>=8,Ba+=8),15<ka&&(ka>>=4,Ba+=4),3<ka&&(ka>>=2,Ba+=2),Ba+=ka>>1):(ka=ta&44736640)&&0===(ta&2602)&&(Ba=13)))}}else if(0!==(E&1))Ba=11>=E?5===E?4:E+1:0;else if(14===E)Ba=0;else if(14<E)switch(E){case 16:0!==
(ta&44755626)&&(Ba=14);break;case 18:0!==(ta&4194304)&&(Ba=22);break;case 20:0!==(ta&262144)&&(Ba=18);break;case 22:0!==(ta&1048576)&&(Ba=20);break;case 24:0!==(ta&45017770)&&(Ba=18)}J[x]=Ba;0<Ba&&(N|=V,R|=Q,Ba&1&&(M|=V,oa|=Q));V>>=1;x+=1}Q>>=1}H[ma]|=N;X[d]|=R;L[ma]|=M;I[d]|=oa}ma+=1}else ma+=16;aa[f]=g|0;Y[f]=Y[f]|g|0}P+=16;U+=16}for(f=0;f<l;f+=1)H[f]&&(f<n&&(n=f),f>q&&(q=f)),L[f]&&(f<t&&(t=f),f>v&&(v=f));for(d=0;d<X.length;d+=1)X[d]&&(d<r&&(r=d),d>m&&(m=d)),I[d]&&(d<w&&(w=d),d>B&&(B=d));n=(n<<
4)+this.Rb(H[n]);q=(q<<4)+this.Vb(H[q]);r=(r<<4)+this.Rb(X[r]);m=(m<<4)+this.Vb(X[m]);0>m&&(m=p-1);r>=p&&(r=0);n>=k&&(n=0);0>q&&(q=k-1);m>p-1&&(m=p-1);0>r&&(r=0);0>n&&(n=0);q>k-1&&(q=k-1);u.N=m;u.K=r;u.J=n;u.L=q;t=(t<<4)+this.Rb(L[t]);v=(v<<4)+this.Vb(L[v]);w=(w<<4)+this.Rb(I[w]);B=(B<<4)+this.Vb(I[B]);0>B&&(B=p-1);w>=p&&(w=0);t>=k&&(t=0);0>v&&(v=k-1);B>p-1&&(B=p-1);0>w&&(w=0);0>t&&(t=0);v>k-1&&(v=k-1);z.N=B;z.K=w;z.J=t;z.L=v};pa.prototype.ln=function(){var a=this.m,b=this.wa,c=this.ia,d,f,e,g,k=
this.width,l=k>>4,p=this.height,n=k,q=-1,m=-1,r=p,u=this.A,t=k,v=-1,B=-1,w=p,z=this.He,E=this.V,H=this.Se,L,N,M,V=this.Y,X=this.ef,I;var R=this.I;var P=this.F>>4;var S=0;var Z=R,qa=this.ec;if(0!==(this.counter&1)){var ha=this.Va;var ca=this.H;var ia=this.h;var na=this.P}else ha=this.va,ca=this.j,ia=this.P,na=this.h;0>S&&(S=0);Z>R&&(Z=R);E.fill(0);H.fill(0);V.fill(0);X.fill(0);R=S<<4;var ja=R+16;for(d=S;d<Z;d+=1){var U=0;var ma=ca[d];var ea=b[d];var aa=a[d];for(f=0;f<P;f+=1){if(g=ma[f]|ea[f])for(e=
15;0<=e;--e){if(0!==(g&1<<e)){var Y=I=N=L=0;var oa=32768;for(S=R;S<ja;S+=1){var Q=ha[S];var F=ia[S];var A=0===S?c:ia[S-1];var K=S===this.height-1?c:ia[S+1];var O=na[S];var J=U<<4;var x=0===J?0:F[J-1];var C=F[J];var la=Q[U];for(M=32768;0<M;){var ba=A[J];var sa=x;x=C;C=F[J+1];var ta=K[J];var ka=x;ba=1<<ba|1<<C|1<<sa|1<<ta;sa=!0;if(0!==(ba&64)){sa=!1;if(7===x||8===x||13<=x)ka=0;else switch(x){case 1:ka=2;break;case 3:case 5:ka=4;break;case 9:ka=10;break;case 11:ka=12;break;default:sa=!0}!sa&&0!==(x&
1)&&la&M&&(Q[U]&=~M,this.ga+=1,--this.B)}if(sa)if(0!==(la&M)){if(0===(x&1))switch(x){case 4:ka=3;break;case 6:Q[U]&=~M;--this.na;--this.B;break;case 8:ka=7;break;default:ka=1,sa=ba&44739072,0===(ba&170)&&1===qa[sa&65535]+qa[sa>>16]?(ka=0,65535<sa&&(sa>>=16,ka+=16),255<sa&&(sa>>=8,ka+=8),15<sa&&(sa>>=4,ka+=4),3<sa&&(sa>>=2,ka+=2),ka+=sa>>1):(sa=ba&44736512,0!==(ba&8)&&0===(ba&2722)&&1===qa[sa&65535]+qa[sa>>16]?(ka=0,65535<sa&&(sa>>=16,ka+=16),255<sa&&(sa>>=8,ka+=8),15<sa&&(sa>>=4,ka+=4),3<sa&&(sa>>=
2,ka+=2),ka+=sa>>1):(sa=ba&2560,0!==(ba&128)&&0===(ba&44736554)&&1===qa[sa&65535]+qa[sa>>16]?(ka=0,65535<sa&&(sa>>=16,ka+=16),255<sa&&(sa>>=8,ka+=8),15<sa&&(sa>>=4,ka+=4),3<sa&&(sa>>=2,ka+=2),ka+=sa>>1):(sa=ba&44736640)&&0===(ba&2602)&&(ka=13)))}}else if(0!==(x&1))ka=11>=x?5===x?4:x+1:0;else if(14===x)ka=0;else if(14<x)switch(x){case 16:0!==(ba&44755626)&&(ka=14);break;case 18:0!==(ba&4194304)&&(ka=22);break;case 20:0!==(ba&262144)&&(ka=18);break;case 22:0!==(ba&1048576)&&(ka=20);break;case 24:0!==
(ba&45017770)&&(ka=18)}O[J]=ka;0<ka&&(L|=M,I|=oa,ka&1&&(N|=M,Y|=oa));M>>=1;J+=1}oa>>=1}E[U]|=L;V[d]|=I;H[U]|=N;X[d]|=Y}U+=1}else U+=16;ea[f]=g|0;aa[f]=aa[f]|g|0}R+=16;ja+=16}for(f=0;f<l;f+=1)E[f]&&(f<n&&(n=f),f>q&&(q=f)),H[f]&&(f<t&&(t=f),f>v&&(v=f));for(d=0;d<V.length;d+=1)V[d]&&(d<r&&(r=d),d>m&&(m=d)),X[d]&&(d<w&&(w=d),d>B&&(B=d));n=(n<<4)+this.Rb(E[n]);q=(q<<4)+this.Vb(E[q]);r=(r<<4)+this.Rb(V[r]);m=(m<<4)+this.Vb(V[m]);0>m&&(m=p-1);r>=p&&(r=0);n>=k&&(n=0);0>q&&(q=k-1);m>p-1&&(m=p-1);0>r&&(r=0);
0>n&&(n=0);q>k-1&&(q=k-1);u.N=m;u.K=r;u.J=n;u.L=q;t=(t<<4)+this.Rb(H[t]);v=(v<<4)+this.Vb(H[v]);w=(w<<4)+this.Rb(X[w]);B=(B<<4)+this.Vb(X[B]);0>B&&(B=p-1);w>=p&&(w=0);t>=k&&(t=0);0>v&&(v=k-1);B>p-1&&(B=p-1);0>w&&(w=0);0>t&&(t=0);v>k-1&&(v=k-1);z.N=B;z.K=w;z.J=t;z.L=v};pa.prototype.jn=function(){var a=this.m,b=this.wa,c=this.ia,d,f,e,g,k=this.width,l=k>>4,p=this.height,n=k,q=-1,m=-1,r=p,u=this.A,t=k,v=-1,B=-1,w=p,z=this.He,E=this.V,H=this.Se,L,N,M,V=this.Y,X=this.ef,I;var R=this.I;var P=this.F>>4;
var S=0;var Z=R;if(0!==(this.counter&1)){var qa=this.Va;var ha=this.H;var ca=this.h;var ia=this.P}else qa=this.va,ha=this.j,ca=this.P,ia=this.h;0>S&&(S=0);Z>R&&(Z=R);E.fill(0);H.fill(0);V.fill(0);X.fill(0);R=S<<4;var na=R+16;for(d=S;d<Z;d+=1){var ja=0;var U=ha[d];var ma=b[d];var ea=a[d];for(f=0;f<P;f+=1){if(g=U[f]|ma[f])for(e=15;0<=e;--e){if(0!==(g&1<<e)){var aa=I=N=L=0;var Y=32768;for(S=R;S<na;S+=1){var oa=qa[S];var Q=ca[S];var F=0===S?c:ca[S-1];var A=S===this.height-1?c:ca[S+1];var K=ia[S];var O=
ja<<4;if(0===O)var J=0;else{var x=Q[O-1];J=1<<F[O-1]|1<<x|1<<A[O-1]}var C=Q[O];var la=1<<C|1<<A[O]|1<<F[O];var ba=oa[ja];for(M=32768;0<M;){O+=1;x=C;C=Q[O];var sa=J;J=la;la=1<<C|1<<A[O]|1<<F[O];var ta=x;sa=sa|J|la;var ka=!0;if(0!==(sa&64)){ka=!1;if(7===x||8===x||13<=x)ta=0;else switch(x){case 1:ta=2;break;case 3:case 5:ta=4;break;case 9:ta=10;break;case 11:ta=12;break;default:ka=!0}!ka&&0!==(x&1)&&ba&M&&(oa[ja]&=~M,this.ga+=1,--this.B)}if(ka)if(0!==(ba&M)){if(0===(x&1))switch(x){case 4:ta=3;break;
case 6:oa[ja]&=~M;--this.na;--this.B;break;case 8:ta=7;break;default:ta=1,x=sa&44739072,0===(sa&170)&&x&&0===(x&x-1)?ta=31-Math.clz32(x):(x=sa&44736512,0!==(sa&8)&&0===(sa&2722)&&x&&0===(x&x-1)?ta=31-Math.clz32(x):(x=sa&2560,0!==(sa&128)&&0===(sa&44736554)&&x&&0===(x&x-1)?ta=31-Math.clz32(x):(x=sa&44736640)&&0===(sa&2602)&&(ta=13)))}}else if(0!==(x&1))ta=11>=x?5===x?4:x+1:0;else if(14<=x)switch(x){case 14:ta=0;break;case 16:0!==(sa&44755626)&&(ta=14);break;case 18:0!==(sa&4194304)&&(ta=22);break;
case 20:0!==(sa&262144)&&(ta=18);break;case 22:0!==(sa&1048576)&&(ta=20);break;case 24:0!==(sa&45017770)&&(ta=18)}K[O-1]=ta;0<ta&&(L|=M,I|=Y,ta&1&&(N|=M,aa|=Y));M>>=1}Y>>=1}E[ja]|=L;V[d]|=I;H[ja]|=N;X[d]|=aa}ja+=1}else ja+=16;ma[f]=g|0;ea[f]=ea[f]|g|0}R+=16;na+=16}for(f=0;f<l;f+=1)E[f]&&(f<n&&(n=f),f>q&&(q=f)),H[f]&&(f<t&&(t=f),f>v&&(v=f));for(d=0;d<V.length;d+=1)V[d]&&(d<r&&(r=d),d>m&&(m=d)),X[d]&&(d<w&&(w=d),d>B&&(B=d));n=(n<<4)+this.Rb(E[n]);q=(q<<4)+this.Vb(E[q]);r=(r<<4)+this.Rb(V[r]);m=(m<<
4)+this.Vb(V[m]);0>m&&(m=p-1);r>=p&&(r=0);n>=k&&(n=0);0>q&&(q=k-1);m>p-1&&(m=p-1);0>r&&(r=0);0>n&&(n=0);q>k-1&&(q=k-1);u.N=m;u.K=r;u.J=n;u.L=q;t=(t<<4)+this.Rb(H[t]);v=(v<<4)+this.Vb(H[v]);w=(w<<4)+this.Rb(X[w]);B=(B<<4)+this.Vb(X[B]);0>B&&(B=p-1);w>=p&&(w=0);t>=k&&(t=0);0>v&&(v=k-1);B>p-1&&(B=p-1);0>w&&(w=0);0>t&&(t=0);v>k-1&&(v=k-1);z.N=B;z.K=w;z.J=t;z.L=v};pa.prototype.zr=function(){var a=this.h,b=this.m,c=this.wa,d,f,e,g,k,l=0,p=0,n=0,q=this.width,m=q>>4,r=this.height,u=q,t=-1,v=-1,B=r,w=this.A,
z=this.V,E,H,L=this.Y;var N=this.I;var M=this.F>>4;var V=0;var X=N,I=this.i+this.v-1,R=this.v,P=0<this.v?1:0;if(0!==(this.counter&1)){var S=this.Va;var Z=this.H}else S=this.va,Z=this.j;0>V&&(V=0);X>N&&(X=N);z.fill(0);L.fill(0);N=V<<4;var qa=N+16;for(f=V;f<X;f+=1){var ha=0;var ca=Z[f];var ia=c[f];var na=b[f];for(e=0;e<M;e+=1){var ja=ca[e]|ia[e];var U=0;if(ja)for(g=15;0<=g;--g){if(0!==(ja&1<<g)){var ma=E=0;var ea=32768;var aa=0;for(V=N;V<qa;V+=1){var Y=S[V];var oa=a[V];var Q=ha<<4;var F=Y[ha];for(k=
H=32768;0<k;){var A=d=oa[Q];(d<=R||d===I)&&0!==(F&k)?d=I:(F&=~k,d>P&&--d);oa[Q]=d;d>P&&(aa=1,d>R&&(E|=H,ma|=ea),d===I&&(l+=1,A!==I&&(p+=1)));A===I&&d!==I&&(n+=1);H>>=1;Q+=1;k>>=1;A=d=oa[Q];(d<=R||d===I)&&0!==(F&k)?d=I:(F&=~k,d>P&&--d);oa[Q]=d;d>P&&(aa=1,d>R&&(E|=H,ma|=ea),d===I&&(l+=1,A!==I&&(p+=1)));A===I&&d!==I&&(n+=1);H>>=1;Q+=1;k>>=1;A=d=oa[Q];(d<=R||d===I)&&0!==(F&k)?d=I:(F&=~k,d>P&&--d);oa[Q]=d;d>P&&(aa=1,d>R&&(E|=H,ma|=ea),d===I&&(l+=1,A!==I&&(p+=1)));A===I&&d!==I&&(n+=1);H>>=1;Q+=1;k>>=1;
A=d=oa[Q];(d<=R||d===I)&&0!==(F&k)?d=I:(F&=~k,d>P&&--d);oa[Q]=d;d>P&&(aa=1,d>R&&(E|=H,ma|=ea),d===I&&(l+=1,A!==I&&(p+=1)));A===I&&d!==I&&(n+=1);H>>=1;Q+=1;k>>=1}Y[ha]=F;ea>>=1}z[ha]|=E;L[f]|=ma;aa&&(U|=1<<g)}ha+=1}else ha+=16;ia[e]=U;na[e]|=U}N+=16;qa+=16}for(e=0;e<m;e+=1)z[e]&&(e<u&&(u=e),e>t&&(t=e));for(f=0;f<L.length;f+=1)L[f]&&(f<B&&(B=f),f>v&&(v=f));u=(u<<4)+this.Rb(z[u]);t=(t<<4)+this.Vb(z[t]);B=(B<<4)+this.Rb(L[B]);v=(v<<4)+this.Vb(L[v]);0>v&&(v=r-1);B>=r&&(B=0);u>=q&&(u=0);0>t&&(t=q-1);v>
r-1&&(v=r-1);0>B&&(B=0);0>u&&(u=0);t>q-1&&(t=q-1);w.N=v;w.K=B;w.J=u;w.L=t;this.B=l;this.na=p;this.ga=n};pa.prototype.Qf=function(){var a=performance.now(),b=this.$a;if(!(this.la||this.s||this.D||this.u||this.G||-1!==this.i)){b!==y.ig||this.pa[this.qb].H(this.O,this.view)||(b=y.If);switch(b){case y.ig:W.R&&W.bs&&this.view.i?0!==(this.counter&1)?va.oA(this.h.o.byteOffset|0,this.m.o.byteOffset|0,this.wa.o.byteOffset|0,16,2,this.I|0,this.F|0,this.Va.o.byteOffset|0,this.H.o.byteOffset|0,this.h[0].length|
0):va.oA(this.h.o.byteOffset|0,this.m.o.byteOffset|0,this.wa.o.byteOffset|0,16,2,this.I|0,this.F|0,this.va.o.byteOffset|0,this.j.o.byteOffset|0,this.h[0].length|0):this.lm();break;case y.tf:this.im();break;case y.jg:W.R&&W.bs&&this.view.i?0!==(this.counter&1)?va.pA(this.h.o.byteOffset|0,this.m.o.byteOffset|0,this.wa.o.byteOffset|0,16,2,this.I|0,this.F|0,this.Va.o.byteOffset|0,this.H.o.byteOffset|0,this.h[0].length|0):va.pA(this.h.o.byteOffset|0,this.m.o.byteOffset|0,this.wa.o.byteOffset|0,16,2,this.I|
0,this.F|0,this.va.o.byteOffset|0,this.j.o.byteOffset|0,this.h[0].length|0):this.Gj();break;case y.If:W.R&&W.bs&&this.view.i?0!==(this.counter&1)?va.nA(this.h.o.byteOffset|0,this.m.o.byteOffset|0,this.wa.o.byteOffset|0,16,2,this.I|0,this.F|0,this.Va.o.byteOffset|0,this.H.o.byteOffset|0,this.h[0].length|0):va.nA(this.h.o.byteOffset|0,this.m.o.byteOffset|0,this.wa.o.byteOffset|0,16,2,this.I|0,this.F|0,this.va.o.byteOffset|0,this.j.o.byteOffset|0,this.h[0].length|0):this.hm()}a=performance.now()-a;W.wb&&
this.view.C.h("convertToPens",a,W.R&&W.bs&&this.view.i);this.qd&&this.hk()}this.qd&&this.Da&&1===this.ca.v&&this.hk()};pa.prototype.jk=function(){var a,b=this.ke,c=this.m,d,f,e,g=0,k,l=this.I,p=this.F>>4;var n=16;for(d=0;d<l;d+=1){var q=0;var m=c[d];for(f=0;f<p;f+=1)if(k=m[f])for(e=15;0<=e;--e){if(0!==(k&1<<e))for(a=g;a<n;){var r=b[a];var u=q<<3;r[u]&=16448;u+=1;r[u]&=16448;u+=1;r[u]&=16448;u+=1;r[u]&=16448;u+=1;r[u]&=16448;u+=1;r[u]&=16448;u+=1;r[u]&=16448;u+=1;r[u]&=16448;a+=1}q+=1}else q+=16;g+=
16;n+=16}};pa.prototype.ip=function(){var a=this.ba,b=this.$,c=this.A;var d=performance.now();this.ha?W.R&&W.os&&this.view.i?va.iI(this.h.o.byteOffset|0,this.P.o.byteOffset|0,this.h[0].length|0,this.j.o.byteOffset|0,this.H.o.byteOffset|0,this.m.o.byteOffset|0,this.j[0].length|0,this.j.o.length|0,this.ta.o.byteOffset|0,this.V.byteOffset|0,this.V.length|0,this.Y.byteOffset|0,this.Y.length|0,this.X.j.byteOffset|0,this.eb?this.X.ba.byteOffset|0:0,this.width|0,this.height|0,16,this.I|0,this.F|0,this.aa.byteOffset|
0,this.aa.length|0,this.ia.byteOffset|0,this.counter|0,this.eb?1:0,this.Bh.byteOffset|0,y.Ra|0,y.Oa|0,y.La|0,y.Ma|0,y.Qa|0,y.Ta|0,y.Ja|0,y.Ga|0,this.fa.byteOffset|0):this.jp():this.ud?W.R&&W.os&&this.view.i?va.kI(this.h.o.byteOffset|0,this.P.o.byteOffset|0,this.h[0].length|0,this.j.o.byteOffset|0,this.H.o.byteOffset|0,this.m.o.byteOffset|0,this.j[0].length|0,this.j.o.length|0,this.ta.o.byteOffset|0,this.V.byteOffset|0,this.V.length|0,this.Y.byteOffset|0,this.Y.length|0,this.X.j.byteOffset|0,this.eb?
this.X.ba.byteOffset|0:0,this.width|0,this.height|0,16,this.I|0,this.F|0,this.aa.byteOffset|0,this.aa.length|0,this.ia.byteOffset|0,this.counter|0,this.eb?1:0,this.Bh.byteOffset|0,y.Ra|0,y.Oa|0,y.La|0,y.Ma|0,y.Qa|0,y.Ta|0,y.Ja|0,y.Ga|0,this.fa.byteOffset|0):this.np():W.R&&W.os&&this.view.i?va.jI(this.h.o.byteOffset|0,this.P.o.byteOffset|0,this.h[0].length|0,this.j.o.byteOffset|0,this.H.o.byteOffset|0,this.m.o.byteOffset|0,this.j[0].length|0,this.j.o.length|0,this.ta.o.byteOffset|0,this.V.byteOffset|
0,this.V.length|0,this.Y.byteOffset|0,this.Y.length|0,this.X.j.byteOffset|0,this.eb?this.X.ba.byteOffset|0:0,this.width|0,this.height|0,16,this.I|0,this.F|0,this.aa.byteOffset|0,this.aa.length|0,this.ia.byteOffset|0,this.counter|0,this.eb?1:0,this.Bh.byteOffset|0,y.Ra|0,y.Oa|0,y.La|0,y.Ma|0,y.Qa|0,y.Ta|0,y.Ja|0,y.Ga|0,this.fa.byteOffset|0):this.kp();W.R&&W.lp&&this.view.i&&(this.B=this.fa[0],this.na=this.fa[1],this.ga=this.fa[2],this.A.J=this.fa[3],this.A.K=this.fa[4],this.A.L=this.fa[5],this.A.N=
this.fa[6]);d=performance.now()-d;W.wb&&this.view.C.h("nextInvestigator",d,W.R&&W.os&&this.view.i);if(-1!==this.S){d=Math.round((this.width-a)/2);var f=Math.round((this.height-b)/2);a=d+a-1;b=f+b-1;c.J<d&&(c.J=d);c.L>a&&(c.L=a);c.K<f&&(c.K=f);c.N>b&&(c.N=b)}};pa.prototype.en=function(){var a=this.ba,b=this.$,c=this.A;var d=performance.now();this.ha?W.R&&W.lp&&this.view.i?va.pI(this.va.o.byteOffset|0,this.Va.o.byteOffset|0,this.va[0].length|0,this.j.o.byteOffset|0,this.H.o.byteOffset|0,this.wa.o.byteOffset|
0,this.m.o.byteOffset|0,this.j[0].length|0,this.h.o.byteOffset|0,this.P.o.byteOffset|0,this.h[0].length|0,this.V.byteOffset|0,this.Se.byteOffset|0,this.V.length|0,this.Y.byteOffset|0,this.ef.byteOffset|0,this.Y.length|0,this.width|0,this.height|0,2,16,this.F|0,this.ia.byteOffset|0,this.counter|0,this.B|0,this.na|0,this.ga|0,this.fa.byteOffset|0):this.gn():this.ud?W.R&&W.lp&&this.view.i?va.rI(this.va.o.byteOffset|0,this.Va.o.byteOffset|0,this.va[0].length|0,this.j.o.byteOffset|0,this.H.o.byteOffset|
0,this.wa.o.byteOffset|0,this.m.o.byteOffset|0,this.j[0].length|0,this.h.o.byteOffset|0,this.P.o.byteOffset|0,this.h[0].length|0,this.V.byteOffset|0,this.Se.byteOffset|0,this.V.length|0,this.Y.byteOffset|0,this.ef.byteOffset|0,this.Y.length|0,this.width|0,this.height|0,2,16,this.F|0,this.ia.byteOffset|0,this.counter|0,this.B|0,this.na|0,this.ga|0,this.fa.byteOffset|0):this.ln():W.R&&W.lp&&this.view.i?va.qI(this.va.o.byteOffset|0,this.Va.o.byteOffset|0,this.va[0].length|0,this.j.o.byteOffset|0,this.H.o.byteOffset|
0,this.wa.o.byteOffset|0,this.m.o.byteOffset|0,this.j[0].length|0,this.h.o.byteOffset|0,this.P.o.byteOffset|0,this.h[0].length|0,this.V.byteOffset|0,this.Se.byteOffset|0,this.V.length|0,this.Y.byteOffset|0,this.ef.byteOffset|0,this.Y.length|0,this.width|0,this.height|0,2,16,this.F|0,this.ia.byteOffset|0,this.counter|0,this.B|0,this.na|0,this.ga|0,this.fa.byteOffset|0):this.jn();W.R&&W.lp&&this.view.i&&(this.B=this.fa[0],this.na=this.fa[1],this.ga=this.fa[2],this.A.J=this.fa[3],this.A.K=this.fa[4],
this.A.L=this.fa[5],this.A.N=this.fa[6],this.He.J=this.fa[7],this.He.K=this.fa[8],this.He.L=this.fa[9],this.He.N=this.fa[10]);d=performance.now()-d;W.wb&&this.view.C.h("nextSuper",d,W.R&&W.lp&&this.view.i);if(-1!==this.S){d=Math.round((this.width-a)/2);var f=Math.round((this.height-b)/2);a=d+a-1;b=f+b-1;c.J<d&&(c.J=d);c.L>a&&(c.L=a);c.K<f&&(c.K=f);c.N>b&&(c.N=b)}};pa.prototype.Xm=function(){var a=performance.now();switch(this.md){case Da.uj:if(W.R&&W.ek&&this.view.i)if(null!==this.ua&&this.Cb&&-1===
this.pb)switch(this.Wc){case 1:va.aC(this.h.o.byteOffset|0,this.P.o.byteOffset|0,this.h[0].length|0,this.j.o.byteOffset|0,this.H.o.byteOffset|0,this.m.o.byteOffset|0,this.j[0].length|0,this.j.o.length|0,this.ta.o.byteOffset|0,this.V.byteOffset|0,this.V.length|0,this.Y.byteOffset|0,this.Y.length|0,this.ua.byteOffset|0,this.width|0,this.height|0,16,this.I|0,this.F|0,this.aa.byteOffset|0,this.aa.length|0,this.ia.byteOffset|0,this.counter|0,y.Ra|0,y.Oa|0,y.La|0,y.Ma|0,y.Qa|0,y.Ta|0,y.Ja|0,y.Ga|0,this.fa.byteOffset|
0);break;case 2:va.bC(this.h.o.byteOffset|0,this.P.o.byteOffset|0,this.h[0].length|0,this.j.o.byteOffset|0,this.H.o.byteOffset|0,this.m.o.byteOffset|0,this.j[0].length|0,this.j.o.length|0,this.ta.o.byteOffset|0,this.V.byteOffset|0,this.V.length|0,this.Y.byteOffset|0,this.Y.length|0,this.ua.byteOffset|0,this.width|0,this.height|0,16,this.I|0,this.F|0,this.aa.byteOffset|0,this.aa.length|0,this.ia.byteOffset|0,this.counter|0,y.Ra|0,y.Oa|0,y.La|0,y.Ma|0,y.Qa|0,y.Ta|0,y.Ja|0,y.Ga|0,this.fa.byteOffset|
0);break;case 3:va.cC(this.h.o.byteOffset|0,this.P.o.byteOffset|0,this.h[0].length|0,this.j.o.byteOffset|0,this.H.o.byteOffset|0,this.m.o.byteOffset|0,this.j[0].length|0,this.j.o.length|0,this.ta.o.byteOffset|0,this.V.byteOffset|0,this.V.length|0,this.Y.byteOffset|0,this.Y.length|0,this.ua.byteOffset|0,this.width|0,this.height|0,16,this.I|0,this.F|0,this.aa.byteOffset|0,this.aa.length|0,this.ia.byteOffset|0,this.counter|0,y.Ra|0,y.Oa|0,y.La|0,y.Ma|0,y.Qa|0,y.Ta|0,y.Ja|0,y.Ga|0,this.fa.byteOffset|
0);break;case 4:va.dC(this.h.o.byteOffset|0,this.P.o.byteOffset|0,this.h[0].length|0,this.j.o.byteOffset|0,this.H.o.byteOffset|0,this.m.o.byteOffset|0,this.j[0].length|0,this.j.o.length|0,this.ta.o.byteOffset|0,this.V.byteOffset|0,this.V.length|0,this.Y.byteOffset|0,this.Y.length|0,this.ua.byteOffset|0,this.width|0,this.height|0,16,this.I|0,this.F|0,this.aa.byteOffset|0,this.aa.length|0,this.ia.byteOffset|0,this.counter|0,y.Ra|0,y.Oa|0,y.La|0,y.Ma|0,y.Qa|0,y.Ta|0,y.Ja|0,y.Ga|0,this.fa.byteOffset|
0);break;case 5:va.eC(this.h.o.byteOffset|0,this.P.o.byteOffset|0,this.h[0].length|0,this.j.o.byteOffset|0,this.H.o.byteOffset|0,this.m.o.byteOffset|0,this.j[0].length|0,this.j.o.length|0,this.ta.o.byteOffset|0,this.V.byteOffset|0,this.V.length|0,this.Y.byteOffset|0,this.Y.length|0,this.ua.byteOffset|0,this.width|0,this.height|0,16,this.I|0,this.F|0,this.aa.byteOffset|0,this.aa.length|0,this.ia.byteOffset|0,this.counter|0,y.Ra|0,y.Oa|0,y.La|0,y.Ma|0,y.Qa|0,y.Ta|0,y.Ja|0,y.Ga|0,this.fa.byteOffset|
0);break;default:va.hC(this.h.o.byteOffset|0,this.P.o.byteOffset|0,this.h[0].length|0,this.j.o.byteOffset|0,this.H.o.byteOffset|0,this.m.o.byteOffset|0,this.j[0].length|0,this.j.o.length|0,this.ta.o.byteOffset|0,this.V.byteOffset|0,this.V.length|0,this.Y.byteOffset|0,this.Y.length|0,this.cd.byteOffset|0,this.cd.length|0,this.vb.byteOffset|0,this.Fc|0,this.width|0,this.height|0,16,this.I|0,this.F|0,this.aa.byteOffset|0,this.aa.length|0,this.ia.byteOffset|0,this.counter|0,y.Ra|0,y.Oa|0,y.La|0,y.Ma|
0,y.Qa|0,y.Ta|0,y.Ja|0,y.Ga|0,this.fa.byteOffset|0)}else va.hC(this.h.o.byteOffset|0,this.P.o.byteOffset|0,this.h[0].length|0,this.j.o.byteOffset|0,this.H.o.byteOffset|0,this.m.o.byteOffset|0,this.j[0].length|0,this.j.o.length|0,this.ta.o.byteOffset|0,this.V.byteOffset|0,this.V.length|0,this.Y.byteOffset|0,this.Y.length|0,this.cd.byteOffset|0,this.cd.length|0,this.vb.byteOffset|0,this.Fc|0,this.width|0,this.height|0,16,this.I|0,this.F|0,this.aa.byteOffset|0,this.aa.length|0,this.ia.byteOffset|0,this.counter|
0,y.Ra|0,y.Oa|0,y.La|0,y.Ma|0,y.Qa|0,y.Ta|0,y.Ja|0,y.Ga|0,this.fa.byteOffset|0);else if(null!==this.ua&&this.Cb&&-1===this.pb)switch(this.Wc){case 1:this.Jk();break;case 2:this.Mk();break;case 3:this.Nk();break;case 4:this.Ok();break;case 5:this.Qk();break;default:this.Pi()}else this.Zm();break;case Da.Wg:if(W.R&&W.ek&&this.view.i)if(null!==this.ua&&this.Cb&&-1===this.pb)switch(this.Wc){case 1:va.YB(this.h.o.byteOffset|0,this.P.o.byteOffset|0,this.h[0].length|0,this.j.o.byteOffset|0,this.H.o.byteOffset|
0,this.m.o.byteOffset|0,this.j[0].length|0,this.j.o.length|0,this.ta.o.byteOffset|0,this.V.byteOffset|0,this.V.length|0,this.Y.byteOffset|0,this.Y.length|0,this.ua.byteOffset|0,this.width|0,this.height|0,16,this.I|0,this.F|0,this.aa.byteOffset|0,this.aa.length|0,this.ia.byteOffset|0,this.counter|0,y.Ra|0,y.Oa|0,y.La|0,y.Ma|0,y.Qa|0,y.Ta|0,y.Ja|0,y.Ga|0,this.fa.byteOffset|0);break;case 2:va.ZB(this.h.o.byteOffset|0,this.P.o.byteOffset|0,this.h[0].length|0,this.j.o.byteOffset|0,this.H.o.byteOffset|
0,this.m.o.byteOffset|0,this.j[0].length|0,this.j.o.length|0,this.ta.o.byteOffset|0,this.V.byteOffset|0,this.V.length|0,this.Y.byteOffset|0,this.Y.length|0,this.ua.byteOffset|0,this.width|0,this.height|0,16,this.I|0,this.F|0,this.aa.byteOffset|0,this.aa.length|0,this.ia.byteOffset|0,this.counter|0,y.Ra|0,y.Oa|0,y.La|0,y.Ma|0,y.Qa|0,y.Ta|0,y.Ja|0,y.Ga|0,this.fa.byteOffset|0);break;case 3:va.$B(this.h.o.byteOffset|0,this.P.o.byteOffset|0,this.h[0].length|0,this.j.o.byteOffset|0,this.H.o.byteOffset|
0,this.m.o.byteOffset|0,this.j[0].length|0,this.j.o.length|0,this.ta.o.byteOffset|0,this.V.byteOffset|0,this.V.length|0,this.Y.byteOffset|0,this.Y.length|0,this.ua.byteOffset|0,this.width|0,this.height|0,16,this.I|0,this.F|0,this.aa.byteOffset|0,this.aa.length|0,this.ia.byteOffset|0,this.counter|0,y.Ra|0,y.Oa|0,y.La|0,y.Ma|0,y.Qa|0,y.Ta|0,y.Ja|0,y.Ga|0,this.fa.byteOffset|0);break;default:va.gC(this.h.o.byteOffset|0,this.P.o.byteOffset|0,this.h[0].length|0,this.j.o.byteOffset|0,this.H.o.byteOffset|
0,this.m.o.byteOffset|0,this.j[0].length|0,this.j.o.length|0,this.ta.o.byteOffset|0,this.V.byteOffset|0,this.V.length|0,this.Y.byteOffset|0,this.Y.length|0,this.cd.byteOffset|0,this.cd.length|0,this.vb.byteOffset|0,this.Fc|0,this.width|0,this.height|0,16,this.I|0,this.F|0,this.aa.byteOffset|0,this.aa.length|0,this.ia.byteOffset|0,this.counter|0,y.Ra|0,y.Oa|0,y.La|0,y.Ma|0,y.Qa|0,y.Ta|0,y.Ja|0,y.Ga|0,this.fa.byteOffset|0)}else va.gC(this.h.o.byteOffset|0,this.P.o.byteOffset|0,this.h[0].length|0,this.j.o.byteOffset|
0,this.H.o.byteOffset|0,this.m.o.byteOffset|0,this.j[0].length|0,this.j.o.length|0,this.ta.o.byteOffset|0,this.V.byteOffset|0,this.V.length|0,this.Y.byteOffset|0,this.Y.length|0,this.cd.byteOffset|0,this.cd.length|0,this.vb.byteOffset|0,this.Fc|0,this.width|0,this.height|0,16,this.I|0,this.F|0,this.aa.byteOffset|0,this.aa.length|0,this.ia.byteOffset|0,this.counter|0,y.Ra|0,y.Oa|0,y.La|0,y.Ma|0,y.Qa|0,y.Ta|0,y.Ja|0,y.Ga|0,this.fa.byteOffset|0);else if(null!==this.ua&&this.Cb&&-1===this.pb)switch(this.Wc){case 1:this.Gk();
break;case 2:this.mk();break;case 3:this.Hk();break;default:this.Wk()}else this.Wk();break;case Da.Vg:if(W.R&&W.ek&&this.view.i)if(null!==this.ua&&this.Cb&&-1===this.pb)switch(this.Wc){case 1:va.lI(this.h.o.byteOffset|0,this.P.o.byteOffset|0,this.h[0].length|0,this.j.o.byteOffset|0,this.H.o.byteOffset|0,this.m.o.byteOffset|0,this.j[0].length|0,this.j.o.length|0,this.ta.o.byteOffset|0,this.V.byteOffset|0,this.V.length|0,this.Y.byteOffset|0,this.Y.length|0,this.ua.byteOffset|0,this.width|0,this.height|
0,16,this.I|0,this.F|0,this.aa.byteOffset|0,this.aa.length|0,this.ia.byteOffset|0,this.counter|0,y.Ra|0,y.Oa|0,y.La|0,y.Ma|0,y.Qa|0,y.Ta|0,y.Ja|0,y.Ga|0,this.fa.byteOffset|0);break;case 2:va.mI(this.h.o.byteOffset|0,this.P.o.byteOffset|0,this.h[0].length|0,this.j.o.byteOffset|0,this.H.o.byteOffset|0,this.m.o.byteOffset|0,this.j[0].length|0,this.j.o.length|0,this.ta.o.byteOffset|0,this.V.byteOffset|0,this.V.length|0,this.Y.byteOffset|0,this.Y.length|0,this.ua.byteOffset|0,this.width|0,this.height|
0,16,this.I|0,this.F|0,this.aa.byteOffset|0,this.aa.length|0,this.ia.byteOffset|0,this.counter|0,y.Ra|0,y.Oa|0,y.La|0,y.Ma|0,y.Qa|0,y.Ta|0,y.Ja|0,y.Ga|0,this.fa.byteOffset|0);break;case 3:va.nI(this.h.o.byteOffset|0,this.P.o.byteOffset|0,this.h[0].length|0,this.j.o.byteOffset|0,this.H.o.byteOffset|0,this.m.o.byteOffset|0,this.j[0].length|0,this.j.o.length|0,this.ta.o.byteOffset|0,this.V.byteOffset|0,this.V.length|0,this.Y.byteOffset|0,this.Y.length|0,this.ua.byteOffset|0,this.width|0,this.height|
0,16,this.I|0,this.F|0,this.aa.byteOffset|0,this.aa.length|0,this.ia.byteOffset|0,this.counter|0,y.Ra|0,y.Oa|0,y.La|0,y.Ma|0,y.Qa|0,y.Ta|0,y.Ja|0,y.Ga|0,this.fa.byteOffset|0);break;default:va.fC(this.h.o.byteOffset|0,this.P.o.byteOffset|0,this.h[0].length|0,this.j.o.byteOffset|0,this.H.o.byteOffset|0,this.m.o.byteOffset|0,this.j[0].length|0,this.j.o.length|0,this.ta.o.byteOffset|0,this.V.byteOffset|0,this.V.length|0,this.Y.byteOffset|0,this.Y.length|0,this.cd.byteOffset|0,this.cd.length|0,this.vb.byteOffset|
0,this.Fc|0,this.width|0,this.height|0,16,this.I|0,this.F|0,this.aa.byteOffset|0,this.aa.length|0,this.ia.byteOffset|0,this.counter|0,y.Ra|0,y.Oa|0,y.La|0,y.Ma|0,y.Qa|0,y.Ta|0,y.Ja|0,y.Ga|0,this.fa.byteOffset|0)}else va.fC(this.h.o.byteOffset|0,this.P.o.byteOffset|0,this.h[0].length|0,this.j.o.byteOffset|0,this.H.o.byteOffset|0,this.m.o.byteOffset|0,this.j[0].length|0,this.j.o.length|0,this.ta.o.byteOffset|0,this.V.byteOffset|0,this.V.length|0,this.Y.byteOffset|0,this.Y.length|0,this.cd.byteOffset|
0,this.cd.length|0,this.vb.byteOffset|0,this.Fc|0,this.width|0,this.height|0,16,this.I|0,this.F|0,this.aa.byteOffset|0,this.aa.length|0,this.ia.byteOffset|0,this.counter|0,y.Ra|0,y.Oa|0,y.La|0,y.Ma|0,y.Qa|0,y.Ta|0,y.Ja|0,y.Ga|0,this.fa.byteOffset|0);else if(null!==this.ua&&this.Cb&&-1===this.pb)switch(this.Wc){case 1:this.qp();break;case 2:this.Vm();break;case 3:this.Wm();break;default:this.Vk()}else this.Vk();break;case Da.Xj:this.Ym()}W.R&&W.ek&&this.view.i&&(this.B=this.fa[0],this.na=this.fa[1],
this.ga=this.fa[2],this.A.J=this.fa[3],this.A.K=this.fa[4],this.A.L=this.fa[5],this.A.N=this.fa[6]);a=performance.now()-a;W.wb&&this.view.C.h("nextRuleTable",a,W.R&&W.ek&&this.view.i)};pa.prototype.Ym=function(){var a=this.Qd;var b=a[0],c=a[1],d=a[2],f=this.vb,e=this.Fc,g,k,l,p,n,q=this.ta,m,r=this.V,u,t=this.Y,v,B,w=0,z=0,E=0,H=this.width,L=this.A,N=this.height,M=this.I,V=this.F>>4,X=this.aa;if(0!==(this.counter&1)){var I=this.P;var R=this.Pa;var P=this.h;var S=this.H;var Z=this.j}else I=this.h,
R=this.Ua,P=this.P,S=this.j,Z=this.H;r.fill(0);t.fill(0);var qa=0;var ha=qa+16;Z.o.fill(0);for(p=0;p<S.length;p+=1){var ca=0;var ia=ca+16;var na=S[p];var ja=Z[p];var U=q[p];var ma=0<p?Z[p-1]:X;var ea=p<M-1?Z[p+1]:X;for(n=0;n<V;n+=1){var aa=na[n];var Y=0;if(aa){var oa=ja[n];var Q=ma[n];var F=ea[n];for(l=15;0<=l;--l){if(0!==(aa&1<<l)){var A=v=u=m=0;var K=qa;for(B=32768;K<ha;){a=I[K];var O=P[K];var J=32768;var x=ca;var C=0===x?0:a[x-1];for(k=a[x];x<ia-1;){var la=C;C=k;k=a[x+1];var ba=b[C];var sa=c[la];
var ta=d[k];var ka=C;for(g=0;g<e;g+=1)if(la=ba[g]&sa[g]&ta[g]){ba=0;for(ta=1;!(la&ta);)ba+=1,ta<<=1;ka=f[(g<<5)+ba];break}O[x]=ka;0<ka?(w+=1,0===C&&(z+=1),v|=B,u|=J):0<C&&(E+=1);m|=C;J>>=1;x+=1}la=C;C=k;k=x===H-1?0:a[x+1];ba=b[C];sa=c[la];ta=d[k];ka=C;for(g=0;g<e;g+=1)if(la=ba[g]&sa[g]&ta[g]){ba=0;for(ta=1;!(la&ta);)ba+=1,ta<<=1;ka=f[(g<<5)+ba];break}O[x]=ka;0<ka?(w+=1,0===C&&(z+=1),v|=B,u|=J):0<C&&(E+=1);m|=C;K+=1;B>>=1}r[ca>>4]|=u;u?(oa|=1<<l,v&1&&(A|=y.Ma,u&32768&&(A|=y.Ta),u&1&&(A|=y.La)),v&32768&&
(A|=y.Oa,u&32768&&(A|=y.Qa),u&1&&(A|=y.Ra)),u&32768&&(A|=y.Ja),u&1&&(A|=y.Ga),A&&(0!==(A&y.Ja)&&(15>l?oa|=1<<l+1:0<n&&0<ca&&(ja[n-1]|=1)),0!==(A&y.Ga)&&(0<l?oa|=1<<l-1:n<V-1&&ca<H-1&&(ja[n+1]|=32768)),0!==(A&y.Oa)&&(Q|=1<<l),0!==(A&y.Ma)&&(F|=1<<l),0!==(A&y.Qa)&&(15>l?Q|=1<<l+1:0<n&&0<ca&&(ma[n-1]|=1)),0!==(A&y.Ra)&&(0<l?Q|=1<<l-1:n<V-1&&ca<H-1&&(ma[n+1]|=32768)),0!==(A&y.Ta)&&(15>l?F|=1<<l+1:0<n&&0<ca&&(ea[n-1]|=1)),0!==(A&y.La)&&(0<l?F|=1<<l-1:n<V-1&&ca<H-1&&(ea[n+1]|=32768)))):m&&(Y|=1<<l);t[p]|=
v}ca+=16;ia+=16}ja[n]|=oa;0<p&&(ma[n]|=Q);p<M-1&&(ea[n]|=F)}else ca+=256,ia+=256;U[n]=Y}qa+=16;ha+=16}this.cc(r,t,H,N,L);X.fill(0);this.ac(R);for(K=0;K<this.m.o.length;K+=1)this.m.o[K]=this.m.o[K]|S.o[K]|Z.o[K];this.B=w;this.na=z;this.ga=E};pa.prototype.Zm=function(){var a=this.Qd;var b=a[0],c=a[1],d=a[2],f=a[3],e=a[4],g=this.vb,k=this.Fc,l,p,n,q,m=this.ta,r,u=this.V,t,v=this.Y,B,w,z=0,E=0,H=0,L=this.width,N=this.A,M=this.height,V=this.I,X=this.F>>4,I=this.aa;if(0!==(this.counter&1)){var R=this.P;
var P=this.Pa;var S=this.h;var Z=this.H;var qa=this.j}else R=this.h,P=this.Ua,S=this.P,Z=this.j,qa=this.H;u.fill(0);v.fill(0);var ha=0;var ca=ha+16;qa.o.fill(0);for(n=0;n<Z.length;n+=1){var ia=0;var na=ia+16;var ja=Z[n];var U=qa[n];var ma=m[n];var ea=0<n?qa[n-1]:I;var aa=n<V-1?qa[n+1]:I;for(q=0;q<X;q+=1){var Y=ja[q];var oa=0;if(Y){var Q=U[q];var F=ea[q];var A=aa[q];for(p=15;0<=p;--p){if(0!==(Y&1<<p)){var K=B=t=r=0;var O=ha;for(w=32768;O<ca;){a=0===O?this.ia:R[O-1];var J=R[O];var x=O===this.height-
1?this.ia:R[O+1];var C=S[O];var la=32768;var ba=ia;var sa=0===ba?0:J[ba-1];for(l=J[ba];ba<na-1;){var ta=sa;sa=l;var ka=a[ba];l=J[ba+1];var ua=x[ba];var Ba=b[sa];ka=c[ka];var Ia=d[l];var Fa=f[ua];var Ra=e[ta];var Sa=sa;for(ua=0;ua<k;ua+=1)if(ta=Ba[ua]&ka[ua])if(ta&=Ia[ua]&Fa[ua]&Ra[ua]){Ba=0;for(ka=1;!(ta&ka);)Ba+=1,ka<<=1;Sa=g[(ua<<5)+Ba];break}C[ba]=Sa;0<Sa?(z+=1,0===sa&&(E+=1),B|=w,t|=la):0<sa&&(H+=1);r|=sa;la>>=1;ba+=1}ta=sa;sa=l;ka=a[ba];l=ba===L-1?0:J[ba+1];ua=x[ba];Ba=b[sa];ka=c[ka];Ia=d[l];
Fa=f[ua];Ra=e[ta];Sa=sa;for(ua=0;ua<k;ua+=1)if(ta=Ba[ua]&ka[ua])if(ta&=Ia[ua]&Fa[ua]&Ra[ua]){Ba=0;for(ka=1;!(ta&ka);)Ba+=1,ka<<=1;Sa=g[(ua<<5)+Ba];break}C[ba]=Sa;0<Sa?(z+=1,0===sa&&(E+=1),B|=w,t|=la):0<sa&&(H+=1);r|=sa;O+=1;w>>=1}u[ia>>4]|=t;t?(Q|=1<<p,B&1&&(K|=y.Ma,t&32768&&(K|=y.Ta),t&1&&(K|=y.La)),B&32768&&(K|=y.Oa,t&32768&&(K|=y.Qa),t&1&&(K|=y.Ra)),t&32768&&(K|=y.Ja),t&1&&(K|=y.Ga),K&&(0!==(K&y.Ja)&&(15>p?Q|=1<<p+1:0<q&&0<ia&&(U[q-1]|=1)),0!==(K&y.Ga)&&(0<p?Q|=1<<p-1:q<X-1&&ia<L-1&&(U[q+1]|=32768)),
0!==(K&y.Oa)&&(F|=1<<p),0!==(K&y.Ma)&&(A|=1<<p),0!==(K&y.Qa)&&(15>p?F|=1<<p+1:0<q&&0<ia&&(ea[q-1]|=1)),0!==(K&y.Ra)&&(0<p?F|=1<<p-1:q<X-1&&ia<L-1&&(ea[q+1]|=32768)),0!==(K&y.Ta)&&(15>p?A|=1<<p+1:0<q&&0<ia&&(aa[q-1]|=1)),0!==(K&y.La)&&(0<p?A|=1<<p-1:q<X-1&&ia<L-1&&(aa[q+1]|=32768)))):r&&(oa|=1<<p);v[n]|=B}ia+=16;na+=16}U[q]|=Q;0<n&&(ea[q]|=F);n<V-1&&(aa[q]|=A)}else ia+=256,na+=256;ma[q]=oa}ha+=16;ca+=16}this.cc(u,v,L,M,N);I.fill(0);this.ac(P);for(O=0;O<this.m.o.length;O+=1)this.m.o[O]=this.m.o[O]|
Z.o[O]|qa.o[O];this.B=z;this.na=E;this.ga=H};pa.prototype.Wk=function(){var a=this.Qd;var b=a[0],c=a[1],d=a[2],f=a[3],e=a[4],g=a[5],k=a[6],l=a[7],p=a[8],n=this.vb,q=this.Fc,m,r,u,t,v,B,w=this.ta,z,E=this.V,H,L=this.Y,N,M,V=0,X=0,I=0,R=this.width,P=this.A,S=this.height,Z=this.I,qa=this.F>>4,ha=this.aa;if(0!==(this.counter&1)){var ca=this.P;var ia=this.Pa;var na=this.h;var ja=this.H;var U=this.j}else ca=this.h,ia=this.Ua,na=this.P,ja=this.j,U=this.H;E.fill(0);L.fill(0);var ma=0;var ea=ma+16;U.o.fill(0);
for(v=0;v<ja.length;v+=1){var aa=0;var Y=aa+16;var oa=ja[v];var Q=U[v];var F=w[v];var A=0<v?U[v-1]:ha;var K=v<Z-1?U[v+1]:ha;for(B=0;B<qa;B+=1){var O=oa[B];var J=0;if(O){var x=Q[B];var C=A[B];var la=K[B];for(t=15;0<=t;--t){if(0!==(O&1<<t)){var ba=N=H=z=0;var sa=ma;for(M=32768;sa<ea;){a=0===sa?this.ia:ca[sa-1];var ta=ca[sa];var ka=sa===this.height-1?this.ia:ca[sa+1];var ua=na[sa];var Ba=32768;var Ia=aa;if(0===Ia)var Fa=u=m=0;else m=a[Ia-1],u=ka[Ia-1],Fa=ta[Ia-1];var Ra=a[Ia];var Sa=ka[Ia];for(r=ta[Ia];Ia<
Y-1;){var Ma=m;m=Ra;Ra=a[Ia+1];var Ha=Fa;Fa=r;r=ta[Ia+1];var ab=u;u=Sa;Sa=ka[Ia+1];var bb=Fa;var kb=b[Fa];var Wa=c[m];var eb=d[Ra];var rb=f[r];var sb=e[Sa];var ob=g[u];ab=k[ab];var lb=l[Ha];var Ta=p[Ma];for(Ha=0;Ha<q;Ha+=1)if(Ma=kb[Ha]&Wa[Ha])if(Ma&=eb[Ha]&rb[Ha])if(Ma&=sb[Ha]&ob[Ha])if(Ma&=ab[Ha]&lb[Ha]&Ta[Ha]){Wa=0;for(eb=1;!(Ma&eb);)Wa+=1,eb<<=1;bb=n[(Ha<<5)+Wa];break}ua[Ia]=bb;0<bb?(V+=1,0===Fa&&(X+=1),N|=M,H|=Ba):0<Fa&&(I+=1);z|=Fa;Ba>>=1;Ia+=1}Ma=m;m=Ra;Ha=Fa;Fa=r;ab=u;u=Sa;Ia===R-1?Sa=r=Ra=
0:(Ra=a[Ia+1],r=ta[Ia+1],Sa=ka[Ia+1]);kb=b[Fa];Wa=c[m];eb=d[Ra];rb=f[r];sb=e[Sa];ob=g[u];ab=k[ab];lb=l[Ha];Ta=p[Ma];bb=Fa;for(Ha=0;Ha<q;Ha+=1)if(Ma=kb[Ha]&Wa[Ha])if(Ma&=eb[Ha]&rb[Ha])if(Ma&=sb[Ha]&ob[Ha])if(Ma&=ab[Ha]&lb[Ha]&Ta[Ha]){Wa=0;for(eb=1;!(Ma&eb);)Wa+=1,eb<<=1;bb=n[(Ha<<5)+Wa];break}ua[Ia]=bb;0<bb?(V+=1,0===Fa&&(X+=1),N|=M,H|=Ba):0<Fa&&(I+=1);z|=Fa;sa+=1;M>>=1}E[aa>>4]|=H;H?(x|=1<<t,N&1&&(ba|=y.Ma,H&32768&&(ba|=y.Ta),H&1&&(ba|=y.La)),N&32768&&(ba|=y.Oa,H&32768&&(ba|=y.Qa),H&1&&(ba|=y.Ra)),
H&32768&&(ba|=y.Ja),H&1&&(ba|=y.Ga),ba&&(0!==(ba&y.Ja)&&(15>t?x|=1<<t+1:0<B&&0<aa&&(Q[B-1]|=1)),0!==(ba&y.Ga)&&(0<t?x|=1<<t-1:B<qa-1&&aa<R-1&&(Q[B+1]|=32768)),0!==(ba&y.Oa)&&(C|=1<<t),0!==(ba&y.Ma)&&(la|=1<<t),0!==(ba&y.Qa)&&(15>t?C|=1<<t+1:0<B&&0<aa&&(A[B-1]|=1)),0!==(ba&y.Ra)&&(0<t?C|=1<<t-1:B<qa-1&&aa<R-1&&(A[B+1]|=32768)),0!==(ba&y.Ta)&&(15>t?la|=1<<t+1:0<B&&0<aa&&(K[B-1]|=1)),0!==(ba&y.La)&&(0<t?la|=1<<t-1:B<qa-1&&aa<R-1&&(K[B+1]|=32768)))):z&&(J|=1<<t);L[v]|=N}aa+=16;Y+=16}Q[B]|=x;0<v&&(A[B]|=
C);v<Z-1&&(K[B]|=la)}else aa+=256,Y+=256;F[B]=J}ma+=16;ea+=16}this.cc(E,L,R,S,P);ha.fill(0);this.ac(ia);for(sa=0;sa<this.m.o.length;sa+=1)this.m.o[sa]=this.m.o[sa]|ja.o[sa]|U.o[sa];this.B=V;this.na=X;this.ga=I};pa.prototype.Vk=function(){var a=this.Qd;var b=a[0],c=a[1],d=a[2],f=a[3],e=a[4],g=a[5],k=a[6],l=this.vb,p=this.Fc,n,q,m,r,u,t=this.ta,v,B=this.V,w,z=this.Y,E,H,L=0,N=0,M=0,V=this.width,X=this.A,I=this.height,R=this.I,P=this.F>>4,S=this.aa;if(0!==(this.counter&1)){var Z=this.P;var qa=this.Pa;
var ha=this.h;var ca=this.H;var ia=this.j}else Z=this.h,qa=this.Ua,ha=this.P,ca=this.j,ia=this.H;B.fill(0);z.fill(0);var na=0;var ja=na+16;ia.o.fill(0);for(r=0;r<ca.length;r+=1){var U=0;var ma=U+16;var ea=ca[r];var aa=ia[r];var Y=t[r];var oa=0<r?ia[r-1]:S;var Q=r<R-1?ia[r+1]:S;for(u=0;u<P;u+=1){var F=ea[u];var A=0;if(F){var K=aa[u];var O=oa[u];var J=Q[u];for(m=15;0<=m;--m){if(0!==(F&1<<m)){var x=E=w=v=0;var C=na;for(H=32768;C<ja;){a=0===C?this.ia:Z[C-1];var la=Z[C];var ba=C===this.height-1?this.ia:
Z[C+1];var sa=ha[C];var ta=32768;var ka=U;if(0===ka)var ua=n=0;else n=a[ka-1],ua=la[ka-1];var Ba=ba[ka];for(q=la[ka];ka<ma-1;){var Ia=n;n=a[ka];var Fa=ua;ua=q;q=la[ka+1];var Ra=Ba;Ba=ba[ka+1];var Sa=b[ua];var Ma=c[n];var Ha=d[q];var ab=f[Ba];Ra=e[Ra];var bb=g[Fa];var kb=k[Ia];var Wa=ua;for(Fa=0;Fa<p;Fa+=1)if(Ia=Sa[Fa]&Ma[Fa])if(Ia&=Ha[Fa]&ab[Fa])if(Ia&=Ra[Fa]&bb[Fa]&kb[Fa]){Ma=0;for(Ha=1;!(Ia&Ha);)Ma+=1,Ha<<=1;Wa=l[(Fa<<5)+Ma];break}sa[ka]=Wa;0<Wa?(L+=1,0===ua&&(N+=1),E|=H,w|=ta):0<ua&&(M+=1);v|=
ua;ta>>=1;ka+=1}Ia=n;n=a[ka];Fa=ua;ua=q;Ra=Ba;ka===V-1?Ba=q=0:(q=la[ka+1],Ba=ba[ka+1]);Sa=b[ua];Ma=c[n];Ha=d[q];ab=f[Ba];Ra=e[Ra];bb=g[Fa];kb=k[Ia];Wa=ua;for(Fa=0;Fa<p;Fa+=1)if(Ia=Sa[Fa]&Ma[Fa])if(Ia&=Ha[Fa]&ab[Fa])if(Ia&=Ra[Fa]&bb[Fa]&kb[Fa]){Ma=0;for(Ha=1;!(Ia&Ha);)Ma+=1,Ha<<=1;Wa=l[(Fa<<5)+Ma];break}sa[ka]=Wa;0<Wa?(L+=1,0===ua&&(N+=1),E|=H,w|=ta):0<ua&&(M+=1);v|=ua;C+=1;H>>=1}B[U>>4]|=w;w?(K|=1<<m,E&1&&(x|=y.Ma,w&32768&&(x|=y.Ta),w&1&&(x|=y.La)),E&32768&&(x|=y.Oa,w&32768&&(x|=y.Qa),w&1&&(x|=y.Ra)),
w&32768&&(x|=y.Ja),w&1&&(x|=y.Ga),x&&(0!==(x&y.Ja)&&(15>m?K|=1<<m+1:0<u&&0<U&&(aa[u-1]|=1)),0!==(x&y.Ga)&&(0<m?K|=1<<m-1:u<P-1&&U<V-1&&(aa[u+1]|=32768)),0!==(x&y.Oa)&&(O|=1<<m),0!==(x&y.Ma)&&(J|=1<<m),0!==(x&y.Qa)&&(15>m?O|=1<<m+1:0<u&&0<U&&(oa[u-1]|=1)),0!==(x&y.Ra)&&(0<m?O|=1<<m-1:u<P-1&&U<V-1&&(oa[u+1]|=32768)),0!==(x&y.Ta)&&(15>m?J|=1<<m+1:0<u&&0<U&&(Q[u-1]|=1)),0!==(x&y.La)&&(0<m?J|=1<<m-1:u<P-1&&U<V-1&&(Q[u+1]|=32768)))):v&&(A|=1<<m);z[r]|=E}U+=16;ma+=16}aa[u]|=K;0<r&&(oa[u]|=O);r<R-1&&(Q[u]|=
J)}else U+=256,ma+=256;Y[u]=A}na+=16;ja+=16}this.cc(B,z,V,I,X);S.fill(0);this.ac(qa);for(C=0;C<this.m.o.length;C+=1)this.m.o[C]=this.m.o[C]|ca.o[C]|ia.o[C];this.B=L;this.na=N;this.ga=M};pa.prototype.an=function(){var a=performance.now();if(4===this.Rd)if(W.R&&W.ek&&this.view.i)if(null!==this.ua&&this.Cb&&-1===this.pb)switch(this.Wc){case 1:va.aC(this.h.o.byteOffset|0,this.P.o.byteOffset|0,this.h[0].length|0,this.j.o.byteOffset|0,this.H.o.byteOffset|0,this.m.o.byteOffset|0,this.j[0].length|0,this.j.o.length|
0,this.ta.o.byteOffset|0,this.V.byteOffset|0,this.V.length|0,this.Y.byteOffset|0,this.Y.length|0,this.ua.byteOffset|0,this.width|0,this.height|0,16,this.I|0,this.F|0,this.aa.byteOffset|0,this.aa.length|0,this.ia.byteOffset|0,this.counter|0,y.Ra|0,y.Oa|0,y.La|0,y.Ma|0,y.Qa|0,y.Ta|0,y.Ja|0,y.Ga|0,this.fa.byteOffset|0);break;case 2:va.bC(this.h.o.byteOffset|0,this.P.o.byteOffset|0,this.h[0].length|0,this.j.o.byteOffset|0,this.H.o.byteOffset|0,this.m.o.byteOffset|0,this.j[0].length|0,this.j.o.length|
0,this.ta.o.byteOffset|0,this.V.byteOffset|0,this.V.length|0,this.Y.byteOffset|0,this.Y.length|0,this.ua.byteOffset|0,this.width|0,this.height|0,16,this.I|0,this.F|0,this.aa.byteOffset|0,this.aa.length|0,this.ia.byteOffset|0,this.counter|0,y.Ra|0,y.Oa|0,y.La|0,y.Ma|0,y.Qa|0,y.Ta|0,y.Ja|0,y.Ga|0,this.fa.byteOffset|0);break;case 3:va.cC(this.h.o.byteOffset|0,this.P.o.byteOffset|0,this.h[0].length|0,this.j.o.byteOffset|0,this.H.o.byteOffset|0,this.m.o.byteOffset|0,this.j[0].length|0,this.j.o.length|
0,this.ta.o.byteOffset|0,this.V.byteOffset|0,this.V.length|0,this.Y.byteOffset|0,this.Y.length|0,this.ua.byteOffset|0,this.width|0,this.height|0,16,this.I|0,this.F|0,this.aa.byteOffset|0,this.aa.length|0,this.ia.byteOffset|0,this.counter|0,y.Ra|0,y.Oa|0,y.La|0,y.Ma|0,y.Qa|0,y.Ta|0,y.Ja|0,y.Ga|0,this.fa.byteOffset|0);break;case 4:va.dC(this.h.o.byteOffset|0,this.P.o.byteOffset|0,this.h[0].length|0,this.j.o.byteOffset|0,this.H.o.byteOffset|0,this.m.o.byteOffset|0,this.j[0].length|0,this.j.o.length|
0,this.ta.o.byteOffset|0,this.V.byteOffset|0,this.V.length|0,this.Y.byteOffset|0,this.Y.length|0,this.ua.byteOffset|0,this.width|0,this.height|0,16,this.I|0,this.F|0,this.aa.byteOffset|0,this.aa.length|0,this.ia.byteOffset|0,this.counter|0,y.Ra|0,y.Oa|0,y.La|0,y.Ma|0,y.Qa|0,y.Ta|0,y.Ja|0,y.Ga|0,this.fa.byteOffset|0);break;case 5:va.eC(this.h.o.byteOffset|0,this.P.o.byteOffset|0,this.h[0].length|0,this.j.o.byteOffset|0,this.H.o.byteOffset|0,this.m.o.byteOffset|0,this.j[0].length|0,this.j.o.length|
0,this.ta.o.byteOffset|0,this.V.byteOffset|0,this.V.length|0,this.Y.byteOffset|0,this.Y.length|0,this.ua.byteOffset|0,this.width|0,this.height|0,16,this.I|0,this.F|0,this.aa.byteOffset|0,this.aa.length|0,this.ia.byteOffset|0,this.counter|0,y.Ra|0,y.Oa|0,y.La|0,y.Ma|0,y.Qa|0,y.Ta|0,y.Ja|0,y.Ga|0,this.fa.byteOffset|0);break;default:va.jC(this.h.o.byteOffset|0,this.P.o.byteOffset|0,this.h[0].length|0,this.j.o.byteOffset|0,this.H.o.byteOffset|0,this.m.o.byteOffset|0,this.j[0].length|0,this.j.o.length|
0,this.ta.o.byteOffset|0,this.V.byteOffset|0,this.V.length|0,this.Y.byteOffset|0,this.Y.length|0,this.nd.byteOffset|0,this.od.byteOffset|0,this.fe|0,this.width|0,this.height|0,16,this.I|0,this.F|0,this.aa.byteOffset|0,this.aa.length|0,this.ia.byteOffset|0,this.counter|0,y.Ra|0,y.Oa|0,y.La|0,y.Ma|0,y.Qa|0,y.Ta|0,y.Ja|0,y.Ga|0,this.fa.byteOffset|0)}else va.jC(this.h.o.byteOffset|0,this.P.o.byteOffset|0,this.h[0].length|0,this.j.o.byteOffset|0,this.H.o.byteOffset|0,this.m.o.byteOffset|0,this.j[0].length|
0,this.j.o.length|0,this.ta.o.byteOffset|0,this.V.byteOffset|0,this.V.length|0,this.Y.byteOffset|0,this.Y.length|0,this.nd.byteOffset|0,this.od.byteOffset|0,this.fe|0,this.width|0,this.height|0,16,this.I|0,this.F|0,this.aa.byteOffset|0,this.aa.length|0,this.ia.byteOffset|0,this.counter|0,y.Ra|0,y.Oa|0,y.La|0,y.Ma|0,y.Qa|0,y.Ta|0,y.Ja|0,y.Ga|0,this.fa.byteOffset|0);else if(null!==this.ua&&this.Cb&&-1===this.pb)switch(this.Wc){case 1:this.Jk();break;case 2:this.Mk();break;case 3:this.Nk();break;case 4:this.Ok();
break;case 5:this.Qk();break;default:this.Pi()}else this.Pi();else if(W.R&&W.ek&&this.view.i)if(null!==this.ua&&this.Cb&&-1===this.pb)switch(this.Wc){case 1:va.YB(this.h.o.byteOffset|0,this.P.o.byteOffset|0,this.h[0].length|0,this.j.o.byteOffset|0,this.H.o.byteOffset|0,this.m.o.byteOffset|0,this.j[0].length|0,this.j.o.length|0,this.ta.o.byteOffset|0,this.V.byteOffset|0,this.V.length|0,this.Y.byteOffset|0,this.Y.length|0,this.ua.byteOffset|0,this.width|0,this.height|0,16,this.I|0,this.F|0,this.aa.byteOffset|
0,this.aa.length|0,this.ia.byteOffset|0,this.counter|0,y.Ra|0,y.Oa|0,y.La|0,y.Ma|0,y.Qa|0,y.Ta|0,y.Ja|0,y.Ga|0,this.fa.byteOffset|0);break;case 2:va.ZB(this.h.o.byteOffset|0,this.P.o.byteOffset|0,this.h[0].length|0,this.j.o.byteOffset|0,this.H.o.byteOffset|0,this.m.o.byteOffset|0,this.j[0].length|0,this.j.o.length|0,this.ta.o.byteOffset|0,this.V.byteOffset|0,this.V.length|0,this.Y.byteOffset|0,this.Y.length|0,this.ua.byteOffset|0,this.width|0,this.height|0,16,this.I|0,this.F|0,this.aa.byteOffset|
0,this.aa.length|0,this.ia.byteOffset|0,this.counter|0,y.Ra|0,y.Oa|0,y.La|0,y.Ma|0,y.Qa|0,y.Ta|0,y.Ja|0,y.Ga|0,this.fa.byteOffset|0);break;case 3:va.$B(this.h.o.byteOffset|0,this.P.o.byteOffset|0,this.h[0].length|0,this.j.o.byteOffset|0,this.H.o.byteOffset|0,this.m.o.byteOffset|0,this.j[0].length|0,this.j.o.length|0,this.ta.o.byteOffset|0,this.V.byteOffset|0,this.V.length|0,this.Y.byteOffset|0,this.Y.length|0,this.ua.byteOffset|0,this.width|0,this.height|0,16,this.I|0,this.F|0,this.aa.byteOffset|
0,this.aa.length|0,this.ia.byteOffset|0,this.counter|0,y.Ra|0,y.Oa|0,y.La|0,y.Ma|0,y.Qa|0,y.Ta|0,y.Ja|0,y.Ga|0,this.fa.byteOffset|0);break;default:va.iC(this.h.o.byteOffset|0,this.P.o.byteOffset|0,this.h[0].length|0,this.j.o.byteOffset|0,this.H.o.byteOffset|0,this.m.o.byteOffset|0,this.j[0].length|0,this.j.o.length|0,this.ta.o.byteOffset|0,this.V.byteOffset|0,this.V.length|0,this.Y.byteOffset|0,this.Y.length|0,this.nd.byteOffset|0,this.od.byteOffset|0,this.fe|0,this.width|0,this.height|0,16,this.I|
0,this.F|0,this.aa.byteOffset|0,this.aa.length|0,this.ia.byteOffset|0,this.counter|0,y.Ra|0,y.Oa|0,y.La|0,y.Ma|0,y.Qa|0,y.Ta|0,y.Ja|0,y.Ga|0,this.fa.byteOffset|0)}else null!==this.Yd&&this.Cb?va.oI(this.h.o.byteOffset|0,this.P.o.byteOffset|0,this.h[0].length|0,this.j.o.byteOffset|0,this.H.o.byteOffset|0,this.m.o.byteOffset|0,this.j[0].length|0,this.j.o.length|0,this.ta.o.byteOffset|0,this.V.byteOffset|0,this.V.length|0,this.Y.byteOffset|0,this.Y.length|0,this.nd.byteOffset|0,this.od.byteOffset|0,
this.Yd.byteOffset|0,this.width|0,this.height|0,16,this.I|0,this.F|0,this.aa.byteOffset|0,this.aa.length|0,this.ia.byteOffset|0,this.counter|0,y.Ra|0,y.Oa|0,y.La|0,y.Ma|0,y.Qa|0,y.Ta|0,y.Ja|0,y.Ga|0,this.fa.byteOffset|0):va.iC(this.h.o.byteOffset|0,this.P.o.byteOffset|0,this.h[0].length|0,this.j.o.byteOffset|0,this.H.o.byteOffset|0,this.m.o.byteOffset|0,this.j[0].length|0,this.j.o.length|0,this.ta.o.byteOffset|0,this.V.byteOffset|0,this.V.length|0,this.Y.byteOffset|0,this.Y.length|0,this.nd.byteOffset|
0,this.od.byteOffset|0,this.fe|0,this.width|0,this.height|0,16,this.I|0,this.F|0,this.aa.byteOffset|0,this.aa.length|0,this.ia.byteOffset|0,this.counter|0,y.Ra|0,y.Oa|0,y.La|0,y.Ma|0,y.Qa|0,y.Ta|0,y.Ja|0,y.Ga|0,this.fa.byteOffset|0);else if(null!==this.ua&&this.Cb&&-1===this.pb)switch(this.Wc){case 1:this.Gk();break;case 2:this.mk();break;case 3:this.Hk();break;default:this.Xk()}else null!==this.Yd&&this.Cb?this.cn():this.Xk();W.R&&W.ek&&this.view.i&&(this.B=this.fa[0],this.na=this.fa[1],this.ga=
this.fa[2],this.A.J=this.fa[3],this.A.K=this.fa[4],this.A.L=this.fa[5],this.A.N=this.fa[6]);a=performance.now()-a;W.wb&&this.view.C.h("nextRuleTree",a,W.R&&W.ek&&this.view.i)};pa.prototype.Pi=function(){var a=this.nd,b=this.od,c=this.fe,d,f,e,g=this.ta,k,l=this.V,p,n=this.Y,q,m,r=0,u=0,t=0,v=this.width,B=this.A,w=this.height,z=this.I,E=this.F>>4,H=this.aa;if(0!==(this.counter&1)){var L=this.P;var N=this.Pa;var M=this.Ua;var V=this.H;var X=this.j}else L=this.h,N=this.Ua,M=this.Pa,V=this.j,X=this.H;
l.fill(0);n.fill(0);var I=0;var R=I+16;X.o.fill(0);for(f=0;f<V.length;f+=1){var P=0;var S=V[f];var Z=X[f];var qa=g[f];var ha=0<f?X[f-1]:H;var ca=f<z-1?X[f+1]:H;for(e=0;e<E;e+=1){var ia=S[e];var na=0;if(ia){var ja=Z[e];var U=ha[e];var ma=ca[e];for(d=15;0<=d;--d){if(0!==(ia&1<<d)){var ea=q=p=k=0;var aa=I;for(m=32768;aa<R;){var Y=0===aa?this.ia:L[aa-1];var oa=L[aa];var Q=aa===this.height-1?this.ia:L[aa+1];var F=M[aa];var A=32768;var K=0;var O=P;var J=0===O?0:oa[O-1];var x=oa[O];var C=J;J=x;var la=Y[O];
x=oa[O+1];var ba=Q[O];var sa=la=b[a[a[a[a[c+la]+C]+x]+ba]+J];0<la?(r+=1,0===J&&(u+=1),K|=A):0<J&&(t+=1);k|=J;A>>=1;O+=1;C=J;J=x;la=Y[O];x=oa[O+1];ba=Q[O];la=b[a[a[a[a[c+la]+C]+x]+ba]+J];sa|=la<<8;0<la?(r+=1,0===J&&(u+=1),K|=A):0<J&&(t+=1);k|=J;A>>=1;O+=1;C=J;J=x;la=Y[O];x=oa[O+1];ba=Q[O];la=b[a[a[a[a[c+la]+C]+x]+ba]+J];sa|=la<<16;0<la?(r+=1,0===J&&(u+=1),K|=A):0<J&&(t+=1);k|=J;A>>=1;O+=1;C=J;J=x;la=Y[O];x=oa[O+1];ba=Q[O];la=b[a[a[a[a[c+la]+C]+x]+ba]+J];sa|=la<<24;F[O>>2]=sa;0<la?(r+=1,0===J&&(u+=
1),K|=A):0<J&&(t+=1);k|=J;A>>=1;O+=1;C=J;J=x;la=Y[O];x=oa[O+1];ba=Q[O];sa=la=b[a[a[a[a[c+la]+C]+x]+ba]+J];0<la?(r+=1,0===J&&(u+=1),K|=A):0<J&&(t+=1);k|=J;A>>=1;O+=1;C=J;J=x;la=Y[O];x=oa[O+1];ba=Q[O];la=b[a[a[a[a[c+la]+C]+x]+ba]+J];sa|=la<<8;0<la?(r+=1,0===J&&(u+=1),K|=A):0<J&&(t+=1);k|=J;A>>=1;O+=1;C=J;J=x;la=Y[O];x=oa[O+1];ba=Q[O];la=b[a[a[a[a[c+la]+C]+x]+ba]+J];sa|=la<<16;0<la?(r+=1,0===J&&(u+=1),K|=A):0<J&&(t+=1);k|=J;A>>=1;O+=1;C=J;J=x;la=Y[O];x=oa[O+1];ba=Q[O];la=b[a[a[a[a[c+la]+C]+x]+ba]+J];
sa|=la<<24;F[O>>2]=sa;0<la?(r+=1,0===J&&(u+=1),K|=A):0<J&&(t+=1);k|=J;A>>=1;O+=1;C=J;J=x;la=Y[O];x=oa[O+1];ba=Q[O];sa=la=b[a[a[a[a[c+la]+C]+x]+ba]+J];0<la?(r+=1,0===J&&(u+=1),K|=A):0<J&&(t+=1);k|=J;A>>=1;O+=1;C=J;J=x;la=Y[O];x=oa[O+1];ba=Q[O];la=b[a[a[a[a[c+la]+C]+x]+ba]+J];sa|=la<<8;0<la?(r+=1,0===J&&(u+=1),K|=A):0<J&&(t+=1);k|=J;A>>=1;O+=1;C=J;J=x;la=Y[O];x=oa[O+1];ba=Q[O];la=b[a[a[a[a[c+la]+C]+x]+ba]+J];sa|=la<<16;0<la?(r+=1,0===J&&(u+=1),K|=A):0<J&&(t+=1);k|=J;A>>=1;O+=1;C=J;J=x;la=Y[O];x=oa[O+
1];ba=Q[O];la=b[a[a[a[a[c+la]+C]+x]+ba]+J];sa|=la<<24;F[O>>2]=sa;0<la?(r+=1,0===J&&(u+=1),K|=A):0<J&&(t+=1);k|=J;A>>=1;O+=1;C=J;J=x;la=Y[O];x=oa[O+1];ba=Q[O];sa=la=b[a[a[a[a[c+la]+C]+x]+ba]+J];0<la?(r+=1,0===J&&(u+=1),K|=A):0<J&&(t+=1);k|=J;A>>=1;O+=1;C=J;J=x;la=Y[O];x=oa[O+1];ba=Q[O];la=b[a[a[a[a[c+la]+C]+x]+ba]+J];sa|=la<<8;0<la?(r+=1,0===J&&(u+=1),K|=A):0<J&&(t+=1);k|=J;A>>=1;O+=1;C=J;J=x;la=Y[O];x=oa[O+1];ba=Q[O];la=b[a[a[a[a[c+la]+C]+x]+ba]+J];sa|=la<<16;0<la?(r+=1,0===J&&(u+=1),K|=A):0<J&&(t+=
1);k|=J;A>>=1;O+=1;C=J;J=x;la=Y[O];x=O===v-1?0:oa[O+1];ba=Q[O];la=b[a[a[a[a[c+la]+C]+x]+ba]+J];sa|=la<<24;F[O>>2]=sa;0<la?(r+=1,0===J&&(u+=1),K|=A):0<J&&(t+=1);k|=J;K&&(p|=K,q|=m);aa+=1;m>>=1}l[P>>4]|=p;p?(ja|=1<<d,q&1&&(ea|=y.Ma,p&32768&&(ea|=y.Ta),p&1&&(ea|=y.La)),q&32768&&(ea|=y.Oa,p&32768&&(ea|=y.Qa),p&1&&(ea|=y.Ra)),p&32768&&(ea|=y.Ja),p&1&&(ea|=y.Ga),ea&&(0!==(ea&y.Ja)&&(15>d?ja|=1<<d+1:0<e&&0<P&&(Z[e-1]|=1)),0!==(ea&y.Ga)&&(0<d?ja|=1<<d-1:e<E-1&&P<v-1&&(Z[e+1]|=32768)),0!==(ea&y.Oa)&&(U|=1<<
d),0!==(ea&y.Ma)&&(ma|=1<<d),0!==(ea&y.Qa)&&(15>d?U|=1<<d+1:0<e&&0<P&&(ha[e-1]|=1)),0!==(ea&y.Ra)&&(0<d?U|=1<<d-1:e<E-1&&P<v-1&&(ha[e+1]|=32768)),0!==(ea&y.Ta)&&(15>d?ma|=1<<d+1:0<e&&0<P&&(ca[e-1]|=1)),0!==(ea&y.La)&&(0<d?ma|=1<<d-1:e<E-1&&P<v-1&&(ca[e+1]|=32768)))):k&&(na|=1<<d);n[f]|=q}P+=16}Z[e]|=ja;0<f&&(ha[e]|=U);f<z-1&&(ca[e]|=ma)}else P+=256;qa[e]=na}I+=16;R+=16}this.cc(l,n,v,w,B);H.fill(0);this.ac(N);for(aa=0;aa<this.m.o.length;aa+=1)this.m.o[aa]=this.m.o[aa]|V.o[aa]|X.o[aa];this.B=r;this.na=
u;this.ga=t};pa.prototype.kq=function(){var a="MAP",b=this.Qd,c=this.vb,d=this.Fc,f,e=0;switch(this.md){case Da.Wg:var g=b[0];var k=b[1];var l=b[2];var p=b[3];var n=b[4];var q=b[5];var m=b[6];var r=b[7];b=b[8];for(f=0;512>f;f+=1){var u=(f&256)>>8;var t=(f&128)>>7;var v=(f&64)>>6;var B=(f&32)>>5;var w=(f&16)>>4;var z=(f&8)>>3;var E=(f&4)>>2;var H=(f&2)>>1;var L=f&1;var N=w;w=g[w];t=k[t];v=l[v];z=p[z];L=n[L];H=q[H];E=m[E];var M=r[B];var V=b[u];for(B=0;B<d;B+=1)if(u=w[B]&t[B])if(u&=v[B]&z[B])if(u&=L[B]&
H[B])if(u&=E[B]&M[B]&V[B]){N=0;for(w=1;!(u&w);)N+=1,w<<=1;N=c[(B<<5)+N];break}e=e<<1|N&1;5===f%6&&(a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[e],e=0)}a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[e<<6-f%6];break;case Da.uj:g=b[0];k=b[1];l=b[2];p=b[3];n=b[4];for(f=0;32>f;f+=1){t=(f&16)>>4;B=(f&8)>>3;w=(f&4)>>2;z=(f&2)>>1;H=f&1;N=w;w=g[w];t=k[t];z=l[z];H=p[H];M=n[B];for(B=0;B<d;B+=1)if(u=w[B]&t[B])if(u&=z[B]&H[B]&M[B]){N=0;for(w=1;!(u&w);)N+=1,w<<=
1;N=c[(B<<5)+N];break}e=e<<1|N&1;5===f%6&&(a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[e],e=0)}a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[e<<6-f%6];break;case Da.Vg:g=b[0];k=b[1];l=b[2];p=b[3];n=b[4];q=b[5];m=b[6];for(f=0;128>f;f+=1){H=(f&64)>>6;L=(f&32)>>5;B=(f&16)>>4;w=(f&8)>>3;z=(f&4)>>2;u=(f&2)>>1;t=f&1;N=w;w=g[w];t=k[t];z=l[z];L=p[L];H=n[H];M=q[B];V=m[u];for(B=0;B<d;B+=1)if(u=w[B]&t[B])if(u&=z[B]&L[B])if(u&=H[B]&M[B]&V[B]){N=0;for(w=1;!(u&
w);)N+=1,w<<=1;N=c[(B<<5)+N];break}e=e<<1|N&1;5===f%6&&(a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[e],e=0)}a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[e<<6-f%6]}return a};pa.prototype.uq=function(){var a="MAP",b=this.nd,c=this.od,d=this.fe,f,e=0;if(8===this.Rd)for(f=0;512>f;f+=1){var g=(f&256)>>8;var k=(f&128)>>7;var l=(f&64)>>6;var p=(f&32)>>5;var n=(f&16)>>4;var q=(f&8)>>3;var m=(f&4)>>2;var r=(f&2)>>1;var u=f&1;k=c[b[b[b[b[b[b[b[b[d+g]+l]+m]+
u]+k]+p]+q]+r]+n];e=e<<1|k&1;5===f%6&&(a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[e],e=0)}else for(f=0;32>f;f+=1)k=(f&16)>>4,p=(f&8)>>3,n=(f&4)>>2,q=(f&2)>>1,r=f&1,k=c[b[b[b[b[d+k]+p]+q]+r]+n],e=e<<1|k&1,5===f%6&&(a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[e],e=0);return a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[e<<6-f%6]};pa.prototype.jq=function(){return null===this.vb?this.uq():this.kq()};pa.prototype.cn=function(){var a=
this.nd,b=this.od,c=this.Yd,d,f,e,g,k,l=this.ta,p,n=this.V,q,m=this.Y,r,u,t=0,v=0,B=0,w=this.width,z=this.A,E=this.height,H=this.I,L=this.F>>4,N=this.aa;if(0!==(this.counter&1)){var M=this.P;var V=this.Pa;var X=this.h;var I=this.H;var R=this.j}else M=this.h,V=this.Ua,X=this.P,I=this.j,R=this.H;n.fill(0);m.fill(0);var P=0;var S=P+16;R.o.fill(0);for(g=0;g<I.length;g+=1){var Z=0;var qa=I[g];var ha=R[g];var ca=l[g];var ia=0<g?R[g-1]:N;var na=g<H-1?R[g+1]:N;for(k=0;k<L;k+=1){var ja=qa[k];var U=0;if(ja){var ma=
ha[k];var ea=ia[k];var aa=na[k];for(e=15;0<=e;--e){if(0!==(ja&1<<e)){var Y=r=q=p=0;var oa=P;for(u=32768;oa<S;){var Q=0===oa?this.ia:M[oa-1];var F=M[oa];var A=oa===this.height-1?this.ia:M[oa+1];var K=X[oa];var O=32768;var J=0;var x=Z;if(0===x)var C=f=d=0;else d=Q[x-1],f=A[x-1],C=F[x-1];var la=Q[x];var ba=A[x];var sa=F[x];var ta=d;d=la;la=Q[x+1];var ka=C;C=sa;sa=F[x+1];var ua=f;f=ba;ba=A[x+1];ka=ka|d<<4|ba<<8|ua<<12|la<<16|ta<<20;ka=b[a[a[c[ka]+sa]+f]+C];K[x]=ka;0<ka?(t+=1,0===C&&(v+=1),J|=O):0<C&&
(B+=1);p|=C;O>>=1;x+=1;ta=d;d=la;la=Q[x+1];ka=C;C=sa;sa=F[x+1];ua=f;f=ba;ba=A[x+1];ka=ka|d<<4|ba<<8|ua<<12|la<<16|ta<<20;ka=b[a[a[c[ka]+sa]+f]+C];K[x]=ka;0<ka?(t+=1,0===C&&(v+=1),J|=O):0<C&&(B+=1);p|=C;O>>=1;x+=1;ta=d;d=la;la=Q[x+1];ka=C;C=sa;sa=F[x+1];ua=f;f=ba;ba=A[x+1];ka=ka|d<<4|ba<<8|ua<<12|la<<16|ta<<20;ka=b[a[a[c[ka]+sa]+f]+C];K[x]=ka;0<ka?(t+=1,0===C&&(v+=1),J|=O):0<C&&(B+=1);p|=C;O>>=1;x+=1;ta=d;d=la;la=Q[x+1];ka=C;C=sa;sa=F[x+1];ua=f;f=ba;ba=A[x+1];ka=ka|d<<4|ba<<8|ua<<12|la<<16|ta<<20;
ka=b[a[a[c[ka]+sa]+f]+C];K[x]=ka;0<ka?(t+=1,0===C&&(v+=1),J|=O):0<C&&(B+=1);p|=C;O>>=1;x+=1;ta=d;d=la;la=Q[x+1];ka=C;C=sa;sa=F[x+1];ua=f;f=ba;ba=A[x+1];ka=ka|d<<4|ba<<8|ua<<12|la<<16|ta<<20;ka=b[a[a[c[ka]+sa]+f]+C];K[x]=ka;0<ka?(t+=1,0===C&&(v+=1),J|=O):0<C&&(B+=1);p|=C;O>>=1;x+=1;ta=d;d=la;la=Q[x+1];ka=C;C=sa;sa=F[x+1];ua=f;f=ba;ba=A[x+1];ka=ka|d<<4|ba<<8|ua<<12|la<<16|ta<<20;ka=b[a[a[c[ka]+sa]+f]+C];K[x]=ka;0<ka?(t+=1,0===C&&(v+=1),J|=O):0<C&&(B+=1);p|=C;O>>=1;x+=1;ta=d;d=la;la=Q[x+1];ka=C;C=sa;
sa=F[x+1];ua=f;f=ba;ba=A[x+1];ka=ka|d<<4|ba<<8|ua<<12|la<<16|ta<<20;ka=b[a[a[c[ka]+sa]+f]+C];K[x]=ka;0<ka?(t+=1,0===C&&(v+=1),J|=O):0<C&&(B+=1);p|=C;O>>=1;x+=1;ta=d;d=la;la=Q[x+1];ka=C;C=sa;sa=F[x+1];ua=f;f=ba;ba=A[x+1];ka=ka|d<<4|ba<<8|ua<<12|la<<16|ta<<20;ka=b[a[a[c[ka]+sa]+f]+C];K[x]=ka;0<ka?(t+=1,0===C&&(v+=1),J|=O):0<C&&(B+=1);p|=C;O>>=1;x+=1;ta=d;d=la;la=Q[x+1];ka=C;C=sa;sa=F[x+1];ua=f;f=ba;ba=A[x+1];ka=ka|d<<4|ba<<8|ua<<12|la<<16|ta<<20;ka=b[a[a[c[ka]+sa]+f]+C];K[x]=ka;0<ka?(t+=1,0===C&&(v+=
1),J|=O):0<C&&(B+=1);p|=C;O>>=1;x+=1;ta=d;d=la;la=Q[x+1];ka=C;C=sa;sa=F[x+1];ua=f;f=ba;ba=A[x+1];ka=ka|d<<4|ba<<8|ua<<12|la<<16|ta<<20;ka=b[a[a[c[ka]+sa]+f]+C];K[x]=ka;0<ka?(t+=1,0===C&&(v+=1),J|=O):0<C&&(B+=1);p|=C;O>>=1;x+=1;ta=d;d=la;la=Q[x+1];ka=C;C=sa;sa=F[x+1];ua=f;f=ba;ba=A[x+1];ka=ka|d<<4|ba<<8|ua<<12|la<<16|ta<<20;ka=b[a[a[c[ka]+sa]+f]+C];K[x]=ka;0<ka?(t+=1,0===C&&(v+=1),J|=O):0<C&&(B+=1);p|=C;O>>=1;x+=1;ta=d;d=la;la=Q[x+1];ka=C;C=sa;sa=F[x+1];ua=f;f=ba;ba=A[x+1];ka=ka|d<<4|ba<<8|ua<<12|
la<<16|ta<<20;ka=b[a[a[c[ka]+sa]+f]+C];K[x]=ka;0<ka?(t+=1,0===C&&(v+=1),J|=O):0<C&&(B+=1);p|=C;O>>=1;x+=1;ta=d;d=la;la=Q[x+1];ka=C;C=sa;sa=F[x+1];ua=f;f=ba;ba=A[x+1];ka=ka|d<<4|ba<<8|ua<<12|la<<16|ta<<20;ka=b[a[a[c[ka]+sa]+f]+C];K[x]=ka;0<ka?(t+=1,0===C&&(v+=1),J|=O):0<C&&(B+=1);p|=C;O>>=1;x+=1;ta=d;d=la;la=Q[x+1];ka=C;C=sa;sa=F[x+1];ua=f;f=ba;ba=A[x+1];ka=ka|d<<4|ba<<8|ua<<12|la<<16|ta<<20;ka=b[a[a[c[ka]+sa]+f]+C];K[x]=ka;0<ka?(t+=1,0===C&&(v+=1),J|=O):0<C&&(B+=1);p|=C;O>>=1;x+=1;ta=d;d=la;la=Q[x+
1];ka=C;C=sa;sa=F[x+1];ua=f;f=ba;ba=A[x+1];ka=ka|d<<4|ba<<8|ua<<12|la<<16|ta<<20;ka=b[a[a[c[ka]+sa]+f]+C];K[x]=ka;0<ka?(t+=1,0===C&&(v+=1),J|=O):0<C&&(B+=1);p|=C;O>>=1;x+=1;ta=d;d=la;ka=C;C=sa;ua=f;f=ba;x===w-1?ba=sa=la=0:(la=Q[x+1],sa=F[x+1],ba=A[x+1]);ka=ka|d<<4|ba<<8|ua<<12|la<<16|ta<<20;ka=b[a[a[c[ka]+sa]+f]+C];K[x]=ka;0<ka?(t+=1,0===C&&(v+=1),J|=O):0<C&&(B+=1);p|=C;J&&(q|=J,r|=u);oa+=1;u>>=1}n[Z>>4]|=q;q?(ma|=1<<e,r&1&&(Y|=y.Ma,q&32768&&(Y|=y.Ta),q&1&&(Y|=y.La)),r&32768&&(Y|=y.Oa,q&32768&&(Y|=
y.Qa),q&1&&(Y|=y.Ra)),q&32768&&(Y|=y.Ja),q&1&&(Y|=y.Ga),Y&&(0!==(Y&y.Ja)&&(15>e?ma|=1<<e+1:0<k&&0<Z&&(ha[k-1]|=1)),0!==(Y&y.Ga)&&(0<e?ma|=1<<e-1:k<L-1&&Z<w-1&&(ha[k+1]|=32768)),0!==(Y&y.Oa)&&(ea|=1<<e),0!==(Y&y.Ma)&&(aa|=1<<e),0!==(Y&y.Qa)&&(15>e?ea|=1<<e+1:0<k&&0<Z&&(ia[k-1]|=1)),0!==(Y&y.Ra)&&(0<e?ea|=1<<e-1:k<L-1&&Z<w-1&&(ia[k+1]|=32768)),0!==(Y&y.Ta)&&(15>e?aa|=1<<e+1:0<k&&0<Z&&(na[k-1]|=1)),0!==(Y&y.La)&&(0<e?aa|=1<<e-1:k<L-1&&Z<w-1&&(na[k+1]|=32768)))):p&&(U|=1<<e);m[g]|=r}Z+=16}ha[k]|=ma;0<
g&&(ia[k]|=ea);g<H-1&&(na[k]|=aa)}else Z+=256;ca[k]=U}P+=16;S+=16}this.cc(n,m,w,E,z);N.fill(0);this.ac(V);for(oa=0;oa<this.m.o.length;oa+=1)this.m.o[oa]=this.m.o[oa]|I.o[oa]|R.o[oa];this.B=t;this.na=v;this.ga=B};pa.prototype.Xk=function(){var a=this.nd,b=this.od,c=this.fe,d,f,e,g,k,l=this.ta,p,n=this.V,q,m=this.Y,r,u,t=0,v=0,B=0,w=this.width,z=this.A,E=this.height,H=this.I,L=this.F>>4,N=this.aa;if(0!==(this.counter&1)){var M=this.P;var V=this.Pa;var X=this.h;var I=this.H;var R=this.j}else M=this.h,
V=this.Ua,X=this.P,I=this.j,R=this.H;n.fill(0);m.fill(0);var P=0;var S=P+16;R.o.fill(0);for(g=0;g<I.length;g+=1){var Z=0;var qa=I[g];var ha=R[g];var ca=l[g];var ia=0<g?R[g-1]:N;var na=g<H-1?R[g+1]:N;for(k=0;k<L;k+=1){var ja=qa[k];var U=0;if(ja){var ma=ha[k];var ea=ia[k];var aa=na[k];for(e=15;0<=e;--e){if(0!==(ja&1<<e)){var Y=r=q=p=0;var oa=P;for(u=32768;oa<S;){var Q=0===oa?this.ia:M[oa-1];var F=M[oa];var A=oa===this.height-1?this.ia:M[oa+1];var K=X[oa];var O=32768;var J=0;var x=Z;if(0===x)var C=f=
d=0;else d=Q[x-1],f=A[x-1],C=F[x-1];var la=Q[x];var ba=A[x];var sa=F[x];var ta=d;d=la;la=Q[x+1];var ka=C;C=sa;sa=F[x+1];var ua=f;f=ba;ba=A[x+1];ka=b[a[a[a[a[a[a[a[a[c+ta]+la]+ua]+ba]+d]+ka]+sa]+f]+C];K[x]=ka;0<ka?(t+=1,0===C&&(v+=1),J|=O):0<C&&(B+=1);p|=C;O>>=1;x+=1;ta=d;d=la;la=Q[x+1];ka=C;C=sa;sa=F[x+1];ua=f;f=ba;ba=A[x+1];ka=b[a[a[a[a[a[a[a[a[c+ta]+la]+ua]+ba]+d]+ka]+sa]+f]+C];K[x]=ka;0<ka?(t+=1,0===C&&(v+=1),J|=O):0<C&&(B+=1);p|=C;O>>=1;x+=1;ta=d;d=la;la=Q[x+1];ka=C;C=sa;sa=F[x+1];ua=f;f=ba;ba=
A[x+1];ka=b[a[a[a[a[a[a[a[a[c+ta]+la]+ua]+ba]+d]+ka]+sa]+f]+C];K[x]=ka;0<ka?(t+=1,0===C&&(v+=1),J|=O):0<C&&(B+=1);p|=C;O>>=1;x+=1;ta=d;d=la;la=Q[x+1];ka=C;C=sa;sa=F[x+1];ua=f;f=ba;ba=A[x+1];ka=b[a[a[a[a[a[a[a[a[c+ta]+la]+ua]+ba]+d]+ka]+sa]+f]+C];K[x]=ka;0<ka?(t+=1,0===C&&(v+=1),J|=O):0<C&&(B+=1);p|=C;O>>=1;x+=1;ta=d;d=la;la=Q[x+1];ka=C;C=sa;sa=F[x+1];ua=f;f=ba;ba=A[x+1];ka=b[a[a[a[a[a[a[a[a[c+ta]+la]+ua]+ba]+d]+ka]+sa]+f]+C];K[x]=ka;0<ka?(t+=1,0===C&&(v+=1),J|=O):0<C&&(B+=1);p|=C;O>>=1;x+=1;ta=d;
d=la;la=Q[x+1];ka=C;C=sa;sa=F[x+1];ua=f;f=ba;ba=A[x+1];ka=b[a[a[a[a[a[a[a[a[c+ta]+la]+ua]+ba]+d]+ka]+sa]+f]+C];K[x]=ka;0<ka?(t+=1,0===C&&(v+=1),J|=O):0<C&&(B+=1);p|=C;O>>=1;x+=1;ta=d;d=la;la=Q[x+1];ka=C;C=sa;sa=F[x+1];ua=f;f=ba;ba=A[x+1];ka=b[a[a[a[a[a[a[a[a[c+ta]+la]+ua]+ba]+d]+ka]+sa]+f]+C];K[x]=ka;0<ka?(t+=1,0===C&&(v+=1),J|=O):0<C&&(B+=1);p|=C;O>>=1;x+=1;ta=d;d=la;la=Q[x+1];ka=C;C=sa;sa=F[x+1];ua=f;f=ba;ba=A[x+1];ka=b[a[a[a[a[a[a[a[a[c+ta]+la]+ua]+ba]+d]+ka]+sa]+f]+C];K[x]=ka;0<ka?(t+=1,0===C&&
(v+=1),J|=O):0<C&&(B+=1);p|=C;O>>=1;x+=1;ta=d;d=la;la=Q[x+1];ka=C;C=sa;sa=F[x+1];ua=f;f=ba;ba=A[x+1];ka=b[a[a[a[a[a[a[a[a[c+ta]+la]+ua]+ba]+d]+ka]+sa]+f]+C];K[x]=ka;0<ka?(t+=1,0===C&&(v+=1),J|=O):0<C&&(B+=1);p|=C;O>>=1;x+=1;ta=d;d=la;la=Q[x+1];ka=C;C=sa;sa=F[x+1];ua=f;f=ba;ba=A[x+1];ka=b[a[a[a[a[a[a[a[a[c+ta]+la]+ua]+ba]+d]+ka]+sa]+f]+C];K[x]=ka;0<ka?(t+=1,0===C&&(v+=1),J|=O):0<C&&(B+=1);p|=C;O>>=1;x+=1;ta=d;d=la;la=Q[x+1];ka=C;C=sa;sa=F[x+1];ua=f;f=ba;ba=A[x+1];ka=b[a[a[a[a[a[a[a[a[c+ta]+la]+ua]+
ba]+d]+ka]+sa]+f]+C];K[x]=ka;0<ka?(t+=1,0===C&&(v+=1),J|=O):0<C&&(B+=1);p|=C;O>>=1;x+=1;ta=d;d=la;la=Q[x+1];ka=C;C=sa;sa=F[x+1];ua=f;f=ba;ba=A[x+1];ka=b[a[a[a[a[a[a[a[a[c+ta]+la]+ua]+ba]+d]+ka]+sa]+f]+C];K[x]=ka;0<ka?(t+=1,0===C&&(v+=1),J|=O):0<C&&(B+=1);p|=C;O>>=1;x+=1;ta=d;d=la;la=Q[x+1];ka=C;C=sa;sa=F[x+1];ua=f;f=ba;ba=A[x+1];ka=b[a[a[a[a[a[a[a[a[c+ta]+la]+ua]+ba]+d]+ka]+sa]+f]+C];K[x]=ka;0<ka?(t+=1,0===C&&(v+=1),J|=O):0<C&&(B+=1);p|=C;O>>=1;x+=1;ta=d;d=la;la=Q[x+1];ka=C;C=sa;sa=F[x+1];ua=f;f=
ba;ba=A[x+1];ka=b[a[a[a[a[a[a[a[a[c+ta]+la]+ua]+ba]+d]+ka]+sa]+f]+C];K[x]=ka;0<ka?(t+=1,0===C&&(v+=1),J|=O):0<C&&(B+=1);p|=C;O>>=1;x+=1;ta=d;d=la;la=Q[x+1];ka=C;C=sa;sa=F[x+1];ua=f;f=ba;ba=A[x+1];ka=b[a[a[a[a[a[a[a[a[c+ta]+la]+ua]+ba]+d]+ka]+sa]+f]+C];K[x]=ka;0<ka?(t+=1,0===C&&(v+=1),J|=O):0<C&&(B+=1);p|=C;O>>=1;x+=1;ta=d;d=la;ka=C;C=sa;ua=f;f=ba;x===w-1?ba=sa=la=0:(la=Q[x+1],sa=F[x+1],ba=A[x+1]);ka=b[a[a[a[a[a[a[a[a[c+ta]+la]+ua]+ba]+d]+ka]+sa]+f]+C];K[x]=ka;0<ka?(t+=1,0===C&&(v+=1),J|=O):0<C&&(B+=
1);p|=C;J&&(q|=J,r|=u);oa+=1;u>>=1}n[Z>>4]|=q;q?(ma|=1<<e,r&1&&(Y|=y.Ma,q&32768&&(Y|=y.Ta),q&1&&(Y|=y.La)),r&32768&&(Y|=y.Oa,q&32768&&(Y|=y.Qa),q&1&&(Y|=y.Ra)),q&32768&&(Y|=y.Ja),q&1&&(Y|=y.Ga),Y&&(0!==(Y&y.Ja)&&(15>e?ma|=1<<e+1:0<k&&0<Z&&(ha[k-1]|=1)),0!==(Y&y.Ga)&&(0<e?ma|=1<<e-1:k<L-1&&Z<w-1&&(ha[k+1]|=32768)),0!==(Y&y.Oa)&&(ea|=1<<e),0!==(Y&y.Ma)&&(aa|=1<<e),0!==(Y&y.Qa)&&(15>e?ea|=1<<e+1:0<k&&0<Z&&(ia[k-1]|=1)),0!==(Y&y.Ra)&&(0<e?ea|=1<<e-1:k<L-1&&Z<w-1&&(ia[k+1]|=32768)),0!==(Y&y.Ta)&&(15>e?
aa|=1<<e+1:0<k&&0<Z&&(na[k-1]|=1)),0!==(Y&y.La)&&(0<e?aa|=1<<e-1:k<L-1&&Z<w-1&&(na[k+1]|=32768)))):p&&(U|=1<<e);m[g]|=r}Z+=16}ha[k]|=ma;0<g&&(ia[k]|=ea);g<H-1&&(na[k]|=aa)}else Z+=256;ca[k]=U}P+=16;S+=16}this.cc(n,m,w,E,z);N.fill(0);this.ac(V);for(oa=0;oa<this.m.o.length;oa+=1)this.m.o[oa]=this.m.o[oa]|I.o[oa]|R.o[oa];this.B=t;this.na=v;this.ga=B};pa.prototype.qp=function(){var a=this.ua,b,c,d,f=this.ta,e,g=this.V,k,l=this.Y,p,n,q=0,m=0,r=0,u=this.width,t=this.A,v=this.height,B=this.I,w=this.F>>4,
z=this.aa;if(0!==(this.counter&1)){var E=this.P;var H=this.Pa;var L=this.Ua;var N=this.H;var M=this.j}else E=this.h,H=this.Ua,L=this.Pa,N=this.j,M=this.H;g.fill(0);l.fill(0);var V=0;var X=V+16;M.o.fill(0);for(c=0;c<N.length;c+=1){var I=0;var R=N[c];var P=M[c];var S=f[c];var Z=0<c?M[c-1]:z;var qa=c<B-1?M[c+1]:z;for(d=0;d<w;d+=1){var ha=R[d];var ca=0;if(ha){var ia=P[d];var na=Z[d];var ja=qa[d];for(b=15;0<=b;--b){if(0!==(ha&1<<b)){var U=p=k=e=0;var ma=V;for(n=32768;ma<X;){var ea=0===ma?this.ia:E[ma-
1];var aa=E[ma];var Y=ma===this.height-1?this.ia:E[ma+1];var oa=L[ma];var Q=32768;var F=I;var A=aa[F+1];var K=Y[F+1];var O=ea[F];var J=aa[F];var x=Y[F];var C=0===F?J|x<<1|A<<2|O<<4|K<<5:ea[F-1]<<6|aa[F-1]<<3|J|x<<1|A<<2|O<<4|K<<5;var la=a[C];0<la?(q+=1,0===(C&1)&&(m+=1),p|=n,k|=Q):0!==(C&1)&&(r+=1);e|=J;Q>>=1;F+=1;C=O;O=ea[F];var ba=J;J=A;A=aa[F+1];x=K;K=Y[F+1];C=J|x<<1|A<<2|ba<<3|O<<4|K<<5|C<<6;x=a[C];la|=x<<8;0<x?(q+=1,0===(C&1)&&(m+=1),p|=n,k|=Q):0!==(C&1)&&(r+=1);e|=J;Q>>=1;F+=1;C=O;O=ea[F];ba=
J;J=A;A=aa[F+1];x=K;K=Y[F+1];C=J|x<<1|A<<2|ba<<3|O<<4|K<<5|C<<6;x=a[C];la|=x<<16;0<x?(q+=1,0===(C&1)&&(m+=1),p|=n,k|=Q):0!==(C&1)&&(r+=1);e|=J;Q>>=1;F+=1;C=O;O=ea[F];ba=J;J=A;A=aa[F+1];x=K;K=Y[F+1];C=J|x<<1|A<<2|ba<<3|O<<4|K<<5|C<<6;x=a[C];la|=x<<24;oa[F>>2]=la;0<x?(q+=1,0===(C&1)&&(m+=1),p|=n,k|=Q):0!==(C&1)&&(r+=1);e|=J;Q>>=1;F+=1;C=O;O=ea[F];ba=J;J=A;A=aa[F+1];x=K;K=Y[F+1];C=J|x<<1|A<<2|ba<<3|O<<4|K<<5|C<<6;la=a[C];0<la?(q+=1,0===(C&1)&&(m+=1),p|=n,k|=Q):0!==(C&1)&&(r+=1);e|=J;Q>>=1;F+=1;C=O;O=
ea[F];ba=J;J=A;A=aa[F+1];x=K;K=Y[F+1];C=J|x<<1|A<<2|ba<<3|O<<4|K<<5|C<<6;x=a[C];la|=x<<8;0<x?(q+=1,0===(C&1)&&(m+=1),p|=n,k|=Q):0!==(C&1)&&(r+=1);e|=J;Q>>=1;F+=1;C=O;O=ea[F];ba=J;J=A;A=aa[F+1];x=K;K=Y[F+1];C=J|x<<1|A<<2|ba<<3|O<<4|K<<5|C<<6;x=a[C];la|=x<<16;0<x?(q+=1,0===(C&1)&&(m+=1),p|=n,k|=Q):0!==(C&1)&&(r+=1);e|=J;Q>>=1;F+=1;C=O;O=ea[F];ba=J;J=A;A=aa[F+1];x=K;K=Y[F+1];C=J|x<<1|A<<2|ba<<3|O<<4|K<<5|C<<6;x=a[C];la|=x<<24;oa[F>>2]=la;0<x?(q+=1,0===(C&1)&&(m+=1),p|=n,k|=Q):0!==(C&1)&&(r+=1);e|=J;
Q>>=1;F+=1;C=O;O=ea[F];ba=J;J=A;A=aa[F+1];x=K;K=Y[F+1];C=J|x<<1|A<<2|ba<<3|O<<4|K<<5|C<<6;la=a[C];0<la?(q+=1,0===(C&1)&&(m+=1),p|=n,k|=Q):0!==(C&1)&&(r+=1);e|=J;Q>>=1;F+=1;C=O;O=ea[F];ba=J;J=A;A=aa[F+1];x=K;K=Y[F+1];C=J|x<<1|A<<2|ba<<3|O<<4|K<<5|C<<6;x=a[C];la|=x<<8;0<x?(q+=1,0===(C&1)&&(m+=1),p|=n,k|=Q):0!==(C&1)&&(r+=1);e|=J;Q>>=1;F+=1;C=O;O=ea[F];ba=J;J=A;A=aa[F+1];x=K;K=Y[F+1];C=J|x<<1|A<<2|ba<<3|O<<4|K<<5|C<<6;x=a[C];la|=x<<16;0<x?(q+=1,0===(C&1)&&(m+=1),p|=n,k|=Q):0!==(C&1)&&(r+=1);e|=J;Q>>=
1;F+=1;C=O;O=ea[F];ba=J;J=A;A=aa[F+1];x=K;K=Y[F+1];C=J|x<<1|A<<2|ba<<3|O<<4|K<<5|C<<6;x=a[C];la|=x<<24;oa[F>>2]=la;0<x?(q+=1,0===(C&1)&&(m+=1),p|=n,k|=Q):0!==(C&1)&&(r+=1);e|=J;Q>>=1;F+=1;C=O;O=ea[F];ba=J;J=A;A=aa[F+1];x=K;K=Y[F+1];C=J|x<<1|A<<2|ba<<3|O<<4|K<<5|C<<6;la=a[C];0<la?(q+=1,0===(C&1)&&(m+=1),p|=n,k|=Q):0!==(C&1)&&(r+=1);e|=J;Q>>=1;F+=1;C=O;O=ea[F];ba=J;J=A;A=aa[F+1];x=K;K=Y[F+1];C=J|x<<1|A<<2|ba<<3|O<<4|K<<5|C<<6;x=a[C];la|=x<<8;0<x?(q+=1,0===(C&1)&&(m+=1),p|=n,k|=Q):0!==(C&1)&&(r+=1);
e|=J;Q>>=1;F+=1;C=O;O=ea[F];ba=J;J=A;A=aa[F+1];x=K;K=Y[F+1];C=J|x<<1|A<<2|ba<<3|O<<4|K<<5|C<<6;x=a[C];la|=x<<16;0<x?(q+=1,0===(C&1)&&(m+=1),p|=n,k|=Q):0!==(C&1)&&(r+=1);e|=J;Q>>=1;F+=1;C=O;O=ea[F];ba=J;J=A;x=K;F===u-1?K=A=0:(A=aa[F+1],K=Y[F+1]);C=J|x<<1|A<<2|ba<<3|O<<4|K<<5|C<<6;x=a[C];la|=x<<24;oa[F>>2]=la;0<x?(q+=1,0===(C&1)&&(m+=1),p|=n,k|=Q):0!==(C&1)&&(r+=1);e|=J;ma+=1;n>>=1}g[I>>4]|=k;k?(ia|=1<<b,p&1&&(U|=y.Ma,k&32768&&(U|=y.Ta),k&1&&(U|=y.La)),p&32768&&(U|=y.Oa,k&32768&&(U|=y.Qa),k&1&&(U|=
y.Ra)),k&32768&&(U|=y.Ja),k&1&&(U|=y.Ga),U&&(0!==(U&y.Ja)&&(15>b?ia|=1<<b+1:0<d&&0<I&&(P[d-1]|=1)),0!==(U&y.Ga)&&(0<b?ia|=1<<b-1:d<w-1&&I<u-1&&(P[d+1]|=32768)),0!==(U&y.Oa)&&(na|=1<<b),0!==(U&y.Ma)&&(ja|=1<<b),0!==(U&y.Qa)&&(15>b?na|=1<<b+1:0<d&&0<I&&(Z[d-1]|=1)),0!==(U&y.Ra)&&(0<b?na|=1<<b-1:d<w-1&&I<u-1&&(Z[d+1]|=32768)),0!==(U&y.Ta)&&(15>b?ja|=1<<b+1:0<d&&0<I&&(qa[d-1]|=1)),0!==(U&y.La)&&(0<b?ja|=1<<b-1:d<w-1&&I<u-1&&(qa[d+1]|=32768)))):e&&(ca|=1<<b);l[c]|=p}I+=16}P[d]|=ia;0<c&&(Z[d]|=na);c<B-
1&&(qa[d]|=ja)}else I+=256;S[d]=ca}V+=16;X+=16}this.cc(g,l,u,v,t);z.fill(0);this.ac(H);for(ma=0;ma<this.m.o.length;ma+=1)this.m.o[ma]=this.m.o[ma]|N.o[ma]|M.o[ma];this.B=q;this.na=m;this.ga=r};pa.prototype.Vm=function(){var a=this.ua,b,c,d,f=this.ta,e,g=this.V,k,l=this.Y,p,n,q=0,m=0,r=0,u=this.width,t=this.A,v=this.height,B=this.I,w=this.F>>4,z=this.aa;if(0!==(this.counter&1)){var E=this.P;var H=this.Pa;var L=this.Ua;var N=this.H;var M=this.j}else E=this.h,H=this.Ua,L=this.Pa,N=this.j,M=this.H;g.fill(0);
l.fill(0);var V=0;var X=V+16;M.o.fill(0);for(c=0;c<N.length;c+=1){var I=0;var R=N[c];var P=M[c];var S=f[c];var Z=0<c?M[c-1]:z;var qa=c<B-1?M[c+1]:z;for(d=0;d<w;d+=1){var ha=R[d];var ca=0;if(ha){var ia=P[d];var na=Z[d];var ja=qa[d];for(b=15;0<=b;--b){if(0!==(ha&1<<b)){var U=p=k=e=0;var ma=V;for(n=32768;ma<X;){var ea=0===ma?this.ia:E[ma-1];var aa=E[ma];var Y=ma===this.height-1?this.ia:E[ma+1];var oa=L[ma];var Q=32768;var F=I;var A=aa[F+1];var K=Y[F+1];var O=ea[F];var J=aa[F];var x=Y[F];var C=0===F?
J|x<<2|A<<4|O<<8|K<<10:ea[F-1]<<12|aa[F-1]<<6|J|x<<2|A<<4|O<<8|K<<10;var la=a[C];0<la?(q+=1,0===(C&3)&&(m+=1),p|=n,k|=Q):0!==(C&3)&&(r+=1);e|=J;Q>>=1;F+=1;C=O;O=ea[F];var ba=J;J=A;A=aa[F+1];x=K;K=Y[F+1];C=J|x<<2|A<<4|ba<<6|O<<8|K<<10|C<<12;x=a[C];la|=x<<8;0<x?(q+=1,0===(C&3)&&(m+=1),p|=n,k|=Q):0!==(C&3)&&(r+=1);e|=J;Q>>=1;F+=1;C=O;ba=J;J=A;x=K;O=ea[F];A=aa[F+1];K=Y[F+1];C=J|x<<2|A<<4|ba<<6|O<<8|K<<10|C<<12;x=a[C];la|=x<<16;0<x?(q+=1,0===(C&3)&&(m+=1),p|=n,k|=Q):0!==(C&3)&&(r+=1);e|=J;Q>>=1;F+=1;C=
O;ba=J;J=A;x=K;O=ea[F];A=aa[F+1];K=Y[F+1];C=J|x<<2|A<<4|ba<<6|O<<8|K<<10|C<<12;x=a[C];la|=x<<24;oa[F>>2]=la;0<x?(q+=1,0===(C&3)&&(m+=1),p|=n,k|=Q):0!==(C&3)&&(r+=1);e|=J;Q>>=1;F+=1;C=O;ba=J;J=A;x=K;O=ea[F];A=aa[F+1];K=Y[F+1];C=J|x<<2|A<<4|ba<<6|O<<8|K<<10|C<<12;la=a[C];0<la?(q+=1,0===(C&3)&&(m+=1),p|=n,k|=Q):0!==(C&3)&&(r+=1);e|=J;Q>>=1;F+=1;C=O;ba=J;J=A;x=K;O=ea[F];A=aa[F+1];K=Y[F+1];C=J|x<<2|A<<4|ba<<6|O<<8|K<<10|C<<12;x=a[C];la|=x<<8;0<x?(q+=1,0===(C&3)&&(m+=1),p|=n,k|=Q):0!==(C&3)&&(r+=1);e|=
J;Q>>=1;F+=1;C=O;ba=J;J=A;x=K;O=ea[F];A=aa[F+1];K=Y[F+1];C=J|x<<2|A<<4|ba<<6|O<<8|K<<10|C<<12;x=a[C];la|=x<<16;0<x?(q+=1,0===(C&3)&&(m+=1),p|=n,k|=Q):0!==(C&3)&&(r+=1);e|=J;Q>>=1;F+=1;C=O;ba=J;J=A;x=K;O=ea[F];A=aa[F+1];K=Y[F+1];C=J|x<<2|A<<4|ba<<6|O<<8|K<<10|C<<12;x=a[C];la|=x<<24;oa[F>>2]=la;0<x?(q+=1,0===(C&3)&&(m+=1),p|=n,k|=Q):0!==(C&3)&&(r+=1);e|=J;Q>>=1;F+=1;C=O;ba=J;J=A;x=K;O=ea[F];A=aa[F+1];K=Y[F+1];C=J|x<<2|A<<4|ba<<6|O<<8|K<<10|C<<12;la=a[C];0<la?(q+=1,0===(C&3)&&(m+=1),p|=n,k|=Q):0!==(C&
3)&&(r+=1);e|=J;Q>>=1;F+=1;C=O;ba=J;J=A;x=K;O=ea[F];A=aa[F+1];K=Y[F+1];C=J|x<<2|A<<4|ba<<6|O<<8|K<<10|C<<12;x=a[C];la|=x<<8;0<x?(q+=1,0===(C&3)&&(m+=1),p|=n,k|=Q):0!==(C&3)&&(r+=1);e|=J;Q>>=1;F+=1;C=O;ba=J;J=A;x=K;O=ea[F];A=aa[F+1];K=Y[F+1];C=J|x<<2|A<<4|ba<<6|O<<8|K<<10|C<<12;x=a[C];la|=x<<16;0<x?(q+=1,0===(C&3)&&(m+=1),p|=n,k|=Q):0!==(C&3)&&(r+=1);e|=J;Q>>=1;F+=1;C=O;ba=J;J=A;x=K;O=ea[F];A=aa[F+1];K=Y[F+1];C=J|x<<2|A<<4|ba<<6|O<<8|K<<10|C<<12;x=a[C];la|=x<<24;oa[F>>2]=la;0<x?(q+=1,0===(C&3)&&(m+=
1),p|=n,k|=Q):0!==(C&3)&&(r+=1);e|=J;Q>>=1;F+=1;C=O;ba=J;J=A;x=K;O=ea[F];A=aa[F+1];K=Y[F+1];C=J|x<<2|A<<4|ba<<6|O<<8|K<<10|C<<12;la=a[C];0<la?(q+=1,0===(C&3)&&(m+=1),p|=n,k|=Q):0!==(C&3)&&(r+=1);e|=J;Q>>=1;F+=1;C=O;ba=J;J=A;x=K;O=ea[F];A=aa[F+1];K=Y[F+1];C=J|x<<2|A<<4|ba<<6|O<<8|K<<10|C<<12;x=a[C];la|=x<<8;0<x?(q+=1,0===(C&3)&&(m+=1),p|=n,k|=Q):0!==(C&3)&&(r+=1);e|=J;Q>>=1;F+=1;C=O;ba=J;J=A;x=K;O=ea[F];A=aa[F+1];K=Y[F+1];C=J|x<<2|A<<4|ba<<6|O<<8|K<<10|C<<12;x=a[C];la|=x<<16;0<x?(q+=1,0===(C&3)&&(m+=
1),p|=n,k|=Q):0!==(C&3)&&(r+=1);e|=J;Q>>=1;F+=1;C=O;O=ea[F];ba=J;J=A;x=K;F===u-1?K=A=0:(A=aa[F+1],K=Y[F+1]);C=J|x<<2|A<<4|ba<<6|O<<8|K<<10|C<<12;x=a[C];la|=x<<24;oa[F>>2]=la;0<x?(q+=1,0===(C&3)&&(m+=1),p|=n,k|=Q):0!==(C&3)&&(r+=1);e|=J;ma+=1;n>>=1}g[I>>4]|=k;k?(ia|=1<<b,p&1&&(U|=y.Ma,k&32768&&(U|=y.Ta),k&1&&(U|=y.La)),p&32768&&(U|=y.Oa,k&32768&&(U|=y.Qa),k&1&&(U|=y.Ra)),k&32768&&(U|=y.Ja),k&1&&(U|=y.Ga),U&&(0!==(U&y.Ja)&&(15>b?ia|=1<<b+1:0<d&&0<I&&(P[d-1]|=1)),0!==(U&y.Ga)&&(0<b?ia|=1<<b-1:d<w-1&&
I<u-1&&(P[d+1]|=32768)),0!==(U&y.Oa)&&(na|=1<<b),0!==(U&y.Ma)&&(ja|=1<<b),0!==(U&y.Qa)&&(15>b?na|=1<<b+1:0<d&&0<I&&(Z[d-1]|=1)),0!==(U&y.Ra)&&(0<b?na|=1<<b-1:d<w-1&&I<u-1&&(Z[d+1]|=32768)),0!==(U&y.Ta)&&(15>b?ja|=1<<b+1:0<d&&0<I&&(qa[d-1]|=1)),0!==(U&y.La)&&(0<b?ja|=1<<b-1:d<w-1&&I<u-1&&(qa[d+1]|=32768)))):e&&(ca|=1<<b);l[c]|=p}I+=16}P[d]|=ia;0<c&&(Z[d]|=na);c<B-1&&(qa[d]|=ja)}else I+=256;S[d]=ca}V+=16;X+=16}this.cc(g,l,u,v,t);z.fill(0);this.ac(H);for(ma=0;ma<this.m.o.length;ma+=1)this.m.o[ma]=this.m.o[ma]|
N.o[ma]|M.o[ma];this.B=q;this.na=m;this.ga=r};pa.prototype.Wm=function(){var a=this.ua,b,c,d,f=this.ta,e,g=this.V,k,l=this.Y,p,n,q=0,m=0,r=0,u=this.width,t=this.A,v=this.height,B=this.I,w=this.F>>4,z=this.aa;if(0!==(this.counter&1)){var E=this.P;var H=this.Pa;var L=this.Ua;var N=this.H;var M=this.j}else E=this.h,H=this.Ua,L=this.Pa,N=this.j,M=this.H;g.fill(0);l.fill(0);var V=0;var X=V+16;M.o.fill(0);for(c=0;c<N.length;c+=1){var I=0;var R=N[c];var P=M[c];var S=f[c];var Z=0<c?M[c-1]:z;var qa=c<B-1?
M[c+1]:z;for(d=0;d<w;d+=1){var ha=R[d];var ca=0;if(ha){var ia=P[d];var na=Z[d];var ja=qa[d];for(b=15;0<=b;--b){if(0!==(ha&1<<b)){var U=p=k=e=0;var ma=V;for(n=32768;ma<X;){var ea=0===ma?this.ia:E[ma-1];var aa=E[ma];var Y=ma===this.height-1?this.ia:E[ma+1];var oa=L[ma];var Q=32768;var F=I;var A=aa[F+1];var K=Y[F+1];var O=ea[F];var J=aa[F];var x=Y[F];var C=0===F?J|x<<3|A<<6|O<<12|K<<15:ea[F-1]<<18|aa[F-1]<<9|J|x<<3|A<<6|O<<12|K<<15;var la=a[C];0<la?(q+=1,0===(C&7)&&(m+=1),p|=n,k|=Q):0!==(C&7)&&(r+=1);
e|=J;Q>>=1;F+=1;C=O;O=ea[F];var ba=J;J=A;A=aa[F+1];x=K;K=Y[F+1];C=J|x<<3|A<<6|ba<<9|O<<12|K<<15|C<<18;x=a[C];la|=x<<8;0<x?(q+=1,0===(C&7)&&(m+=1),p|=n,k|=Q):0!==(C&7)&&(r+=1);e|=J;Q>>=1;F+=1;C=O;ba=J;J=A;x=K;O=ea[F];A=aa[F+1];K=Y[F+1];C=J|x<<3|A<<6|ba<<9|O<<12|K<<15|C<<18;x=a[C];la|=x<<16;0<x?(q+=1,0===(C&7)&&(m+=1),p|=n,k|=Q):0!==(C&7)&&(r+=1);e|=J;Q>>=1;F+=1;C=O;ba=J;J=A;x=K;O=ea[F];A=aa[F+1];K=Y[F+1];C=J|x<<3|A<<6|ba<<9|O<<12|K<<15|C<<18;x=a[C];la|=x<<24;oa[F>>2]=la;0<x?(q+=1,0===(C&7)&&(m+=1),
p|=n,k|=Q):0!==(C&7)&&(r+=1);e|=J;Q>>=1;F+=1;C=O;ba=J;J=A;x=K;O=ea[F];A=aa[F+1];K=Y[F+1];C=J|x<<3|A<<6|ba<<9|O<<12|K<<15|C<<18;la=a[C];0<la?(q+=1,0===(C&7)&&(m+=1),p|=n,k|=Q):0!==(C&7)&&(r+=1);e|=J;Q>>=1;F+=1;C=O;ba=J;J=A;x=K;O=ea[F];A=aa[F+1];K=Y[F+1];C=J|x<<3|A<<6|ba<<9|O<<12|K<<15|C<<18;x=a[C];la|=x<<8;0<x?(q+=1,0===(C&7)&&(m+=1),p|=n,k|=Q):0!==(C&7)&&(r+=1);e|=J;Q>>=1;F+=1;C=O;ba=J;J=A;x=K;O=ea[F];A=aa[F+1];K=Y[F+1];C=J|x<<3|A<<6|ba<<9|O<<12|K<<15|C<<18;x=a[C];la|=x<<16;0<x?(q+=1,0===(C&7)&&(m+=
1),p|=n,k|=Q):0!==(C&7)&&(r+=1);e|=J;Q>>=1;F+=1;C=O;ba=J;J=A;x=K;O=ea[F];A=aa[F+1];K=Y[F+1];C=J|x<<3|A<<6|ba<<9|O<<12|K<<15|C<<18;x=a[C];la|=x<<24;oa[F>>2]=la;0<x?(q+=1,0===(C&7)&&(m+=1),p|=n,k|=Q):0!==(C&7)&&(r+=1);e|=J;Q>>=1;F+=1;C=O;ba=J;J=A;x=K;O=ea[F];A=aa[F+1];K=Y[F+1];C=J|x<<3|A<<6|ba<<9|O<<12|K<<15|C<<18;la=a[C];0<la?(q+=1,0===(C&7)&&(m+=1),p|=n,k|=Q):0!==(C&7)&&(r+=1);e|=J;Q>>=1;F+=1;C=O;ba=J;J=A;x=K;O=ea[F];A=aa[F+1];K=Y[F+1];C=J|x<<3|A<<6|ba<<9|O<<12|K<<15|C<<18;x=a[C];la|=x<<8;0<x?(q+=
1,0===(C&7)&&(m+=1),p|=n,k|=Q):0!==(C&7)&&(r+=1);e|=J;Q>>=1;F+=1;C=O;ba=J;J=A;x=K;O=ea[F];A=aa[F+1];K=Y[F+1];C=J|x<<3|A<<6|ba<<9|O<<12|K<<15|C<<18;x=a[C];la|=x<<16;0<x?(q+=1,0===(C&7)&&(m+=1),p|=n,k|=Q):0!==(C&7)&&(r+=1);e|=J;Q>>=1;F+=1;C=O;ba=J;J=A;x=K;O=ea[F];A=aa[F+1];K=Y[F+1];C=J|x<<3|A<<6|ba<<9|O<<12|K<<15|C<<18;x=a[C];la|=x<<24;oa[F>>2]=la;0<x?(q+=1,0===(C&7)&&(m+=1),p|=n,k|=Q):0!==(C&7)&&(r+=1);e|=J;Q>>=1;F+=1;C=O;ba=J;J=A;x=K;O=ea[F];A=aa[F+1];K=Y[F+1];C=J|x<<3|A<<6|ba<<9|O<<12|K<<15|C<<18;
la=a[C];0<la?(q+=1,0===(C&7)&&(m+=1),p|=n,k|=Q):0!==(C&7)&&(r+=1);e|=J;Q>>=1;F+=1;C=O;ba=J;J=A;x=K;O=ea[F];A=aa[F+1];K=Y[F+1];C=J|x<<3|A<<6|ba<<9|O<<12|K<<15|C<<18;x=a[C];la|=x<<8;0<x?(q+=1,0===(C&7)&&(m+=1),p|=n,k|=Q):0!==(C&7)&&(r+=1);e|=J;Q>>=1;F+=1;C=O;ba=J;J=A;x=K;O=ea[F];A=aa[F+1];K=Y[F+1];C=J|x<<3|A<<6|ba<<9|O<<12|K<<15|C<<18;x=a[C];la|=x<<16;0<x?(q+=1,0===(C&7)&&(m+=1),p|=n,k|=Q):0!==(C&7)&&(r+=1);e|=J;Q>>=1;F+=1;C=O;O=ea[F];ba=J;J=A;x=K;F===u-1?K=A=0:(A=aa[F+1],K=Y[F+1]);C=J|x<<3|A<<6|ba<<
9|O<<12|K<<15|C<<18;x=a[C];la|=x<<24;oa[F>>2]=la;0<x?(q+=1,0===(C&7)&&(m+=1),p|=n,k|=Q):0!==(C&7)&&(r+=1);e|=J;ma+=1;n>>=1}g[I>>4]|=k;k?(ia|=1<<b,p&1&&(U|=y.Ma,k&32768&&(U|=y.Ta),k&1&&(U|=y.La)),p&32768&&(U|=y.Oa,k&32768&&(U|=y.Qa),k&1&&(U|=y.Ra)),k&32768&&(U|=y.Ja),k&1&&(U|=y.Ga),U&&(0!==(U&y.Ja)&&(15>b?ia|=1<<b+1:0<d&&0<I&&(P[d-1]|=1)),0!==(U&y.Ga)&&(0<b?ia|=1<<b-1:d<w-1&&I<u-1&&(P[d+1]|=32768)),0!==(U&y.Oa)&&(na|=1<<b),0!==(U&y.Ma)&&(ja|=1<<b),0!==(U&y.Qa)&&(15>b?na|=1<<b+1:0<d&&0<I&&(Z[d-1]|=
1)),0!==(U&y.Ra)&&(0<b?na|=1<<b-1:d<w-1&&I<u-1&&(Z[d+1]|=32768)),0!==(U&y.Ta)&&(15>b?ja|=1<<b+1:0<d&&0<I&&(qa[d-1]|=1)),0!==(U&y.La)&&(0<b?ja|=1<<b-1:d<w-1&&I<u-1&&(qa[d+1]|=32768)))):e&&(ca|=1<<b);l[c]|=p}I+=16}P[d]|=ia;0<c&&(Z[d]|=na);c<B-1&&(qa[d]|=ja)}else I+=256;S[d]=ca}V+=16;X+=16}this.cc(g,l,u,v,t);z.fill(0);this.ac(H);for(ma=0;ma<this.m.o.length;ma+=1)this.m.o[ma]=this.m.o[ma]|N.o[ma]|M.o[ma];this.B=q;this.na=m;this.ga=r};pa.prototype.Gk=function(){var a=this.ua,b,c,d,f=this.ta,e,g=this.V,
k,l=this.Y,p,n,q=0,m=0,r=0,u=this.width,t=this.A,v=this.height,B=this.I,w=this.F>>4,z=this.aa;if(0!==(this.counter&1)){var E=this.P;var H=this.Pa;var L=this.Ua;var N=this.H;var M=this.j}else E=this.h,H=this.Ua,L=this.Pa,N=this.j,M=this.H;g.fill(0);l.fill(0);var V=0;var X=V+16;M.o.fill(0);for(c=0;c<N.length;c+=1){var I=0;var R=N[c];var P=M[c];var S=f[c];var Z=0<c?M[c-1]:z;var qa=c<B-1?M[c+1]:z;for(d=0;d<w;d+=1){var ha=R[d];var ca=0;if(ha){var ia=P[d];var na=Z[d];var ja=qa[d];for(b=15;0<=b;--b){if(0!==
(ha&1<<b)){var U=p=k=e=0;var ma=V;for(n=32768;ma<X;){var ea=0===ma?this.ia:E[ma-1];var aa=E[ma];var Y=ma===this.height-1?this.ia:E[ma+1];var oa=L[ma];var Q=32768;var F=I;var A=ea[F+1];var K=aa[F+1];var O=Y[F+1];var J=ea[F];var x=aa[F];var C=Y[F];C=0===F?J<<3|x<<4|C<<5|A<<6|K<<7|O<<8:ea[F-1]|aa[F-1]<<1|Y[F-1]<<2|J<<3|x<<4|C<<5|A<<6|K<<7|O<<8;J=a[C];0<J?(q+=1,0===(C&16)&&(m+=1),p|=n,k|=Q):0!==(C&16)&&(r+=1);e|=x;Q>>=1;F+=1;x=K;A=ea[F+1];K=aa[F+1];O=Y[F+1];C=C>>3|A<<6|K<<7|O<<8;A=a[C];J|=A<<8;0<A?(q+=
1,0===(C&16)&&(m+=1),p|=n,k|=Q):0!==(C&16)&&(r+=1);e|=x;Q>>=1;F+=1;x=K;A=ea[F+1];K=aa[F+1];O=Y[F+1];C=C>>3|A<<6|K<<7|O<<8;A=a[C];J|=A<<16;0<A?(q+=1,0===(C&16)&&(m+=1),p|=n,k|=Q):0!==(C&16)&&(r+=1);e|=x;Q>>=1;F+=1;x=K;A=ea[F+1];K=aa[F+1];O=Y[F+1];C=C>>3|A<<6|K<<7|O<<8;A=a[C];J|=A<<24;oa[F>>2]=J;0<A?(q+=1,0===(C&16)&&(m+=1),p|=n,k|=Q):0!==(C&16)&&(r+=1);e|=x;Q>>=1;F+=1;x=K;A=ea[F+1];K=aa[F+1];O=Y[F+1];C=C>>3|A<<6|K<<7|O<<8;J=a[C];0<J?(q+=1,0===(C&16)&&(m+=1),p|=n,k|=Q):0!==(C&16)&&(r+=1);e|=x;Q>>=1;
F+=1;x=K;A=ea[F+1];K=aa[F+1];O=Y[F+1];C=C>>3|A<<6|K<<7|O<<8;A=a[C];J|=A<<8;0<A?(q+=1,0===(C&16)&&(m+=1),p|=n,k|=Q):0!==(C&16)&&(r+=1);e|=x;Q>>=1;F+=1;x=K;A=ea[F+1];K=aa[F+1];O=Y[F+1];C=C>>3|A<<6|K<<7|O<<8;A=a[C];J|=A<<16;0<A?(q+=1,0===(C&16)&&(m+=1),p|=n,k|=Q):0!==(C&16)&&(r+=1);e|=x;Q>>=1;F+=1;x=K;A=ea[F+1];K=aa[F+1];O=Y[F+1];C=C>>3|A<<6|K<<7|O<<8;A=a[C];J|=A<<24;oa[F>>2]=J;0<A?(q+=1,0===(C&16)&&(m+=1),p|=n,k|=Q):0!==(C&16)&&(r+=1);e|=x;Q>>=1;F+=1;x=K;A=ea[F+1];K=aa[F+1];O=Y[F+1];C=C>>3|A<<6|K<<
7|O<<8;J=a[C];0<J?(q+=1,0===(C&16)&&(m+=1),p|=n,k|=Q):0!==(C&16)&&(r+=1);e|=x;Q>>=1;F+=1;x=K;A=ea[F+1];K=aa[F+1];O=Y[F+1];C=C>>3|A<<6|K<<7|O<<8;A=a[C];J|=A<<8;0<A?(q+=1,0===(C&16)&&(m+=1),p|=n,k|=Q):0!==(C&16)&&(r+=1);e|=x;Q>>=1;F+=1;x=K;A=ea[F+1];K=aa[F+1];O=Y[F+1];C=C>>3|A<<6|K<<7|O<<8;A=a[C];J|=A<<16;0<A?(q+=1,0===(C&16)&&(m+=1),p|=n,k|=Q):0!==(C&16)&&(r+=1);e|=x;Q>>=1;F+=1;x=K;A=ea[F+1];K=aa[F+1];O=Y[F+1];C=C>>3|A<<6|K<<7|O<<8;A=a[C];J|=A<<24;oa[F>>2]=J;0<A?(q+=1,0===(C&16)&&(m+=1),p|=n,k|=Q):
0!==(C&16)&&(r+=1);e|=x;Q>>=1;F+=1;x=K;A=ea[F+1];K=aa[F+1];O=Y[F+1];C=C>>3|A<<6|K<<7|O<<8;J=a[C];0<J?(q+=1,0===(C&16)&&(m+=1),p|=n,k|=Q):0!==(C&16)&&(r+=1);e|=x;Q>>=1;F+=1;x=K;A=ea[F+1];K=aa[F+1];O=Y[F+1];C=C>>3|A<<6|K<<7|O<<8;A=a[C];J|=A<<8;0<A?(q+=1,0===(C&16)&&(m+=1),p|=n,k|=Q):0!==(C&16)&&(r+=1);e|=x;Q>>=1;F+=1;x=K;A=ea[F+1];K=aa[F+1];O=Y[F+1];C=C>>3|A<<6|K<<7|O<<8;A=a[C];J|=A<<16;0<A?(q+=1,0===(C&16)&&(m+=1),p|=n,k|=Q):0!==(C&16)&&(r+=1);e|=x;Q>>=1;F+=1;x=K;F===u-1?O=K=A=0:(A=ea[F+1],K=aa[F+
1],O=Y[F+1]);C=C>>3|A<<6|K<<7|O<<8;A=a[C];J|=A<<24;oa[F>>2]=J;0<A?(q+=1,0===(C&16)&&(m+=1),p|=n,k|=Q):0!==(C&16)&&(r+=1);e|=x;ma+=1;n>>=1}g[I>>4]|=k;k?(ia|=1<<b,p&1&&(U|=y.Ma,k&32768&&(U|=y.Ta),k&1&&(U|=y.La)),p&32768&&(U|=y.Oa,k&32768&&(U|=y.Qa),k&1&&(U|=y.Ra)),k&32768&&(U|=y.Ja),k&1&&(U|=y.Ga),U&&(0!==(U&y.Ja)&&(15>b?ia|=1<<b+1:0<d&&0<I&&(P[d-1]|=1)),0!==(U&y.Ga)&&(0<b?ia|=1<<b-1:d<w-1&&I<u-1&&(P[d+1]|=32768)),0!==(U&y.Oa)&&(na|=1<<b),0!==(U&y.Ma)&&(ja|=1<<b),0!==(U&y.Qa)&&(15>b?na|=1<<b+1:0<d&&
0<I&&(Z[d-1]|=1)),0!==(U&y.Ra)&&(0<b?na|=1<<b-1:d<w-1&&I<u-1&&(Z[d+1]|=32768)),0!==(U&y.Ta)&&(15>b?ja|=1<<b+1:0<d&&0<I&&(qa[d-1]|=1)),0!==(U&y.La)&&(0<b?ja|=1<<b-1:d<w-1&&I<u-1&&(qa[d+1]|=32768)))):e&&(ca|=1<<b);l[c]|=p}I+=16}P[d]|=ia;0<c&&(Z[d]|=na);c<B-1&&(qa[d]|=ja)}else I+=256;S[d]=ca}V+=16;X+=16}this.cc(g,l,u,v,t);z.fill(0);this.ac(H);for(ma=0;ma<this.m.o.length;ma+=1)this.m.o[ma]=this.m.o[ma]|N.o[ma]|M.o[ma];this.B=q;this.na=m;this.ga=r};pa.prototype.mk=function(){var a=this.ua,b,c,d,f=this.ta,
e,g=this.V,k,l=this.Y,p,n,q=0,m=0,r=0,u=this.width,t=this.A,v=this.height,B=this.I,w=this.F>>4,z=this.aa;if(0!==(this.counter&1)){var E=this.P;var H=this.Pa;var L=this.Ua;var N=this.H;var M=this.j}else E=this.h,H=this.Ua,L=this.Pa,N=this.j,M=this.H;g.fill(0);l.fill(0);var V=0;var X=V+16;M.o.fill(0);for(c=0;c<N.length;c+=1){var I=0;var R=N[c];var P=M[c];var S=f[c];var Z=0<c?M[c-1]:z;var qa=c<B-1?M[c+1]:z;for(d=0;d<w;d+=1){var ha=R[d];var ca=0;if(ha){var ia=P[d];var na=Z[d];var ja=qa[d];for(b=15;0<=
b;--b){if(0!==(ha&1<<b)){var U=p=k=e=0;var ma=V;for(n=32768;ma<X;){var ea=0===ma?this.ia:E[ma-1];var aa=E[ma];var Y=ma===this.height-1?this.ia:E[ma+1];var oa=L[ma];var Q=32768;var F=I;var A=ea[F+1];var K=aa[F+1];var O=Y[F+1];var J=ea[F];var x=aa[F];var C=Y[F];C=0===F?J<<6|x<<8|C<<10|A<<12|K<<14|O<<16:ea[F-1]|aa[F-1]<<2|Y[F-1]<<4|J<<6|x<<8|C<<10|A<<12|K<<14|O<<16;J=a[C];0<J?(q+=1,0===(C&768)&&(m+=1),p|=n,k|=Q):0!==(C&768)&&(r+=1);e|=x;Q>>=1;F+=1;x=K;A=ea[F+1];K=aa[F+1];O=Y[F+1];C=C>>6|A<<12|K<<14|
O<<16;A=a[C];J|=A<<8;0<A?(q+=1,0===(C&768)&&(m+=1),p|=n,k|=Q):0!==(C&768)&&(r+=1);e|=x;Q>>=1;F+=1;x=K;A=ea[F+1];K=aa[F+1];O=Y[F+1];C=C>>6|A<<12|K<<14|O<<16;A=a[C];J|=A<<16;0<A?(q+=1,0===(C&768)&&(m+=1),p|=n,k|=Q):0!==(C&768)&&(r+=1);e|=x;Q>>=1;F+=1;x=K;A=ea[F+1];K=aa[F+1];O=Y[F+1];C=C>>6|A<<12|K<<14|O<<16;A=a[C];J|=A<<24;oa[F>>2]=J;0<A?(q+=1,0===(C&768)&&(m+=1),p|=n,k|=Q):0!==(C&768)&&(r+=1);e|=x;Q>>=1;F+=1;x=K;A=ea[F+1];K=aa[F+1];O=Y[F+1];C=C>>6|A<<12|K<<14|O<<16;J=a[C];0<J?(q+=1,0===(C&768)&&(m+=
1),p|=n,k|=Q):0!==(C&768)&&(r+=1);e|=x;Q>>=1;F+=1;x=K;A=ea[F+1];K=aa[F+1];O=Y[F+1];C=C>>6|A<<12|K<<14|O<<16;A=a[C];J|=A<<8;0<A?(q+=1,0===(C&768)&&(m+=1),p|=n,k|=Q):0!==(C&768)&&(r+=1);e|=x;Q>>=1;F+=1;x=K;A=ea[F+1];K=aa[F+1];O=Y[F+1];C=C>>6|A<<12|K<<14|O<<16;A=a[C];J|=A<<16;0<A?(q+=1,0===(C&768)&&(m+=1),p|=n,k|=Q):0!==(C&768)&&(r+=1);e|=x;Q>>=1;F+=1;x=K;A=ea[F+1];K=aa[F+1];O=Y[F+1];C=C>>6|A<<12|K<<14|O<<16;A=a[C];J|=A<<24;oa[F>>2]=J;0<A?(q+=1,0===(C&768)&&(m+=1),p|=n,k|=Q):0!==(C&768)&&(r+=1);e|=x;
Q>>=1;F+=1;x=K;A=ea[F+1];K=aa[F+1];O=Y[F+1];C=C>>6|A<<12|K<<14|O<<16;J=a[C];0<J?(q+=1,0===(C&768)&&(m+=1),p|=n,k|=Q):0!==(C&768)&&(r+=1);e|=x;Q>>=1;F+=1;x=K;A=ea[F+1];K=aa[F+1];O=Y[F+1];C=C>>6|A<<12|K<<14|O<<16;A=a[C];J|=A<<8;0<A?(q+=1,0===(C&768)&&(m+=1),p|=n,k|=Q):0!==(C&768)&&(r+=1);e|=x;Q>>=1;F+=1;x=K;A=ea[F+1];K=aa[F+1];O=Y[F+1];C=C>>6|A<<12|K<<14|O<<16;A=a[C];J|=A<<16;0<A?(q+=1,0===(C&768)&&(m+=1),p|=n,k|=Q):0!==(C&768)&&(r+=1);e|=x;Q>>=1;F+=1;x=K;A=ea[F+1];K=aa[F+1];O=Y[F+1];C=C>>6|A<<12|K<<
14|O<<16;A=a[C];J|=A<<24;oa[F>>2]=J;0<A?(q+=1,0===(C&768)&&(m+=1),p|=n,k|=Q):0!==(C&768)&&(r+=1);e|=x;Q>>=1;F+=1;x=K;A=ea[F+1];K=aa[F+1];O=Y[F+1];C=C>>6|A<<12|K<<14|O<<16;J=a[C];0<J?(q+=1,0===(C&768)&&(m+=1),p|=n,k|=Q):0!==(C&768)&&(r+=1);e|=x;Q>>=1;F+=1;x=K;A=ea[F+1];K=aa[F+1];O=Y[F+1];C=C>>6|A<<12|K<<14|O<<16;A=a[C];J|=A<<8;0<A?(q+=1,0===(C&768)&&(m+=1),p|=n,k|=Q):0!==(C&768)&&(r+=1);e|=x;Q>>=1;F+=1;x=K;A=ea[F+1];K=aa[F+1];O=Y[F+1];C=C>>6|A<<12|K<<14|O<<16;A=a[C];J|=A<<16;0<A?(q+=1,0===(C&768)&&
(m+=1),p|=n,k|=Q):0!==(C&768)&&(r+=1);e|=x;Q>>=1;F+=1;x=K;F===u-1?O=K=A=0:(A=ea[F+1],K=aa[F+1],O=Y[F+1]);C=C>>6|A<<12|K<<14|O<<16;A=a[C];J|=A<<24;oa[F>>2]=J;0<A?(q+=1,0===(C&768)&&(m+=1),p|=n,k|=Q):0!==(C&768)&&(r+=1);e|=x;ma+=1;n>>=1}g[I>>4]|=k;k?(ia|=1<<b,p&1&&(U|=y.Ma,k&32768&&(U|=y.Ta),k&1&&(U|=y.La)),p&32768&&(U|=y.Oa,k&32768&&(U|=y.Qa),k&1&&(U|=y.Ra)),k&32768&&(U|=y.Ja),k&1&&(U|=y.Ga),U&&(0!==(U&y.Ja)&&(15>b?ia|=1<<b+1:0<d&&0<I&&(P[d-1]|=1)),0!==(U&y.Ga)&&(0<b?ia|=1<<b-1:d<w-1&&I<u-1&&(P[d+
1]|=32768)),0!==(U&y.Oa)&&(na|=1<<b),0!==(U&y.Ma)&&(ja|=1<<b),0!==(U&y.Qa)&&(15>b?na|=1<<b+1:0<d&&0<I&&(Z[d-1]|=1)),0!==(U&y.Ra)&&(0<b?na|=1<<b-1:d<w-1&&I<u-1&&(Z[d+1]|=32768)),0!==(U&y.Ta)&&(15>b?ja|=1<<b+1:0<d&&0<I&&(qa[d-1]|=1)),0!==(U&y.La)&&(0<b?ja|=1<<b-1:d<w-1&&I<u-1&&(qa[d+1]|=32768)))):e&&(ca|=1<<b);l[c]|=p}I+=16}P[d]|=ia;0<c&&(Z[d]|=na);c<B-1&&(qa[d]|=ja)}else I+=256;S[d]=ca}V+=16;X+=16}this.cc(g,l,u,v,t);z.fill(0);this.ac(H);for(ma=0;ma<this.m.o.length;ma+=1)this.m.o[ma]=this.m.o[ma]|N.o[ma]|
M.o[ma];this.B=q;this.na=m;this.ga=r};pa.prototype.Hk=function(){var a=this.ua,b,c,d,f=this.ta,e,g=this.V,k,l=this.Y,p,n,q=0,m=0,r=0,u=this.width,t=this.A,v=this.height,B=this.I,w=this.F>>4,z=this.aa;if(0!==(this.counter&1)){var E=this.P;var H=this.Pa;var L=this.Ua;var N=this.H;var M=this.j}else E=this.h,H=this.Ua,L=this.Pa,N=this.j,M=this.H;g.fill(0);l.fill(0);var V=0;var X=V+16;M.o.fill(0);for(c=0;c<N.length;c+=1){var I=0;var R=N[c];var P=M[c];var S=f[c];var Z=0<c?M[c-1]:z;var qa=c<B-1?M[c+1]:z;
for(d=0;d<w;d+=1){var ha=R[d];var ca=0;if(ha){var ia=P[d];var na=Z[d];var ja=qa[d];for(b=15;0<=b;--b){if(0!==(ha&1<<b)){var U=p=k=e=0;var ma=V;for(n=32768;ma<X;){var ea=0===ma?this.ia:E[ma-1];var aa=E[ma];var Y=ma===this.height-1?this.ia:E[ma+1];var oa=L[ma];var Q=32768;var F=I;var A=ea[F+1];var K=aa[F+1];var O=Y[F+1];var J=ea[F];var x=aa[F];var C=Y[F];C=0===F?J<<9|x<<12|C<<15|A<<18|K<<21|O<<24:ea[F-1]|aa[F-1]<<3|Y[F-1]<<6|J<<9|x<<12|C<<15|A<<18|K<<21|O<<24;J=a[C];0<J?(q+=1,0===(C&45056)&&(m+=1),
p|=n,k|=Q):0!==(C&45056)&&(r+=1);e|=x;Q>>=1;F+=1;x=K;A=ea[F+1];K=aa[F+1];O=Y[F+1];C=C>>9|A<<18|K<<21|O<<24;A=a[C];J|=A<<8;0<A?(q+=1,0===(C&45056)&&(m+=1),p|=n,k|=Q):0!==(C&45056)&&(r+=1);e|=x;Q>>=1;F+=1;x=K;A=ea[F+1];K=aa[F+1];O=Y[F+1];C=C>>9|A<<18|K<<21|O<<24;A=a[C];J|=A<<16;0<A?(q+=1,0===(C&45056)&&(m+=1),p|=n,k|=Q):0!==(C&45056)&&(r+=1);e|=x;Q>>=1;F+=1;x=K;A=ea[F+1];K=aa[F+1];O=Y[F+1];C=C>>9|A<<18|K<<21|O<<24;A=a[C];J|=A<<24;oa[F>>2]=J;0<A?(q+=1,0===(C&45056)&&(m+=1),p|=n,k|=Q):0!==(C&45056)&&
(r+=1);e|=x;Q>>=1;F+=1;x=K;A=ea[F+1];K=aa[F+1];O=Y[F+1];C=C>>9|A<<18|K<<21|O<<24;J=a[C];0<J?(q+=1,0===(C&45056)&&(m+=1),p|=n,k|=Q):0!==(C&45056)&&(r+=1);e|=x;Q>>=1;F+=1;x=K;A=ea[F+1];K=aa[F+1];O=Y[F+1];C=C>>9|A<<18|K<<21|O<<24;A=a[C];J|=A<<8;0<A?(q+=1,0===(C&45056)&&(m+=1),p|=n,k|=Q):0!==(C&45056)&&(r+=1);e|=x;Q>>=1;F+=1;x=K;A=ea[F+1];K=aa[F+1];O=Y[F+1];C=C>>9|A<<18|K<<21|O<<24;A=a[C];J|=A<<16;0<A?(q+=1,0===(C&45056)&&(m+=1),p|=n,k|=Q):0!==(C&45056)&&(r+=1);e|=x;Q>>=1;F+=1;x=K;A=ea[F+1];K=aa[F+1];
O=Y[F+1];C=C>>9|A<<18|K<<21|O<<24;A=a[C];J|=A<<24;oa[F>>2]=J;0<A?(q+=1,0===(C&45056)&&(m+=1),p|=n,k|=Q):0!==(C&45056)&&(r+=1);e|=x;Q>>=1;F+=1;x=K;A=ea[F+1];K=aa[F+1];O=Y[F+1];C=C>>9|A<<18|K<<21|O<<24;J=a[C];0<J?(q+=1,0===(C&45056)&&(m+=1),p|=n,k|=Q):0!==(C&45056)&&(r+=1);e|=x;Q>>=1;F+=1;x=K;A=ea[F+1];K=aa[F+1];O=Y[F+1];C=C>>9|A<<18|K<<21|O<<24;A=a[C];J|=A<<8;0<A?(q+=1,0===(C&45056)&&(m+=1),p|=n,k|=Q):0!==(C&45056)&&(r+=1);e|=x;Q>>=1;F+=1;x=K;A=ea[F+1];K=aa[F+1];O=Y[F+1];C=C>>9|A<<18|K<<21|O<<24;A=
a[C];J|=A<<16;0<A?(q+=1,0===(C&45056)&&(m+=1),p|=n,k|=Q):0!==(C&45056)&&(r+=1);e|=x;Q>>=1;F+=1;x=K;A=ea[F+1];K=aa[F+1];O=Y[F+1];C=C>>9|A<<18|K<<21|O<<24;A=a[C];J|=A<<24;oa[F>>2]=J;0<A?(q+=1,0===(C&45056)&&(m+=1),p|=n,k|=Q):0!==(C&45056)&&(r+=1);e|=x;Q>>=1;F+=1;x=K;A=ea[F+1];K=aa[F+1];O=Y[F+1];C=C>>9|A<<18|K<<21|O<<24;J=a[C];0<J?(q+=1,0===(C&45056)&&(m+=1),p|=n,k|=Q):0!==(C&45056)&&(r+=1);e|=x;Q>>=1;F+=1;x=K;A=ea[F+1];K=aa[F+1];O=Y[F+1];C=C>>9|A<<18|K<<21|O<<24;A=a[C];J|=A<<8;0<A?(q+=1,0===(C&45056)&&
(m+=1),p|=n,k|=Q):0!==(C&45056)&&(r+=1);e|=x;Q>>=1;F+=1;x=K;A=ea[F+1];K=aa[F+1];O=Y[F+1];C=C>>9|A<<18|K<<21|O<<24;A=a[C];J|=A<<16;0<A?(q+=1,0===(C&45056)&&(m+=1),p|=n,k|=Q):0!==(C&45056)&&(r+=1);e|=x;Q>>=1;F+=1;x=K;F===u-1?O=K=A=0:(A=ea[F+1],K=aa[F+1],O=Y[F+1]);C=C>>9|A<<18|K<<21|O<<24;A=a[C];J|=A<<24;oa[F>>2]=J;0<A?(q+=1,0===(C&45056)&&(m+=1),p|=n,k|=Q):0!==(C&45056)&&(r+=1);e|=x;ma+=1;n>>=1}g[I>>4]|=k;k?(ia|=1<<b,p&1&&(U|=y.Ma,k&32768&&(U|=y.Ta),k&1&&(U|=y.La)),p&32768&&(U|=y.Oa,k&32768&&(U|=y.Qa),
k&1&&(U|=y.Ra)),k&32768&&(U|=y.Ja),k&1&&(U|=y.Ga),U&&(0!==(U&y.Ja)&&(15>b?ia|=1<<b+1:0<d&&0<I&&(P[d-1]|=1)),0!==(U&y.Ga)&&(0<b?ia|=1<<b-1:d<w-1&&I<u-1&&(P[d+1]|=32768)),0!==(U&y.Oa)&&(na|=1<<b),0!==(U&y.Ma)&&(ja|=1<<b),0!==(U&y.Qa)&&(15>b?na|=1<<b+1:0<d&&0<I&&(Z[d-1]|=1)),0!==(U&y.Ra)&&(0<b?na|=1<<b-1:d<w-1&&I<u-1&&(Z[d+1]|=32768)),0!==(U&y.Ta)&&(15>b?ja|=1<<b+1:0<d&&0<I&&(qa[d-1]|=1)),0!==(U&y.La)&&(0<b?ja|=1<<b-1:d<w-1&&I<u-1&&(qa[d+1]|=32768)))):e&&(ca|=1<<b);l[c]|=p}I+=16}P[d]|=ia;0<c&&(Z[d]|=
na);c<B-1&&(qa[d]|=ja)}else I+=256;S[d]=ca}V+=16;X+=16}this.cc(g,l,u,v,t);z.fill(0);this.ac(H);for(ma=0;ma<this.m.o.length;ma+=1)this.m.o[ma]=this.m.o[ma]|N.o[ma]|M.o[ma];this.B=q;this.na=m;this.ga=r};pa.prototype.Jk=function(){var a=this.ua,b,c,d,f=this.ta,e,g=this.V,k,l=this.Y,p,n,q=0,m=0,r=0,u=this.width,t=this.A,v=this.height,B=this.I,w=this.F>>4,z=this.aa;if(0!==(this.counter&1)){var E=this.P;var H=this.Pa;var L=this.Ua;var N=this.H;var M=this.j}else E=this.h,H=this.Ua,L=this.Pa,N=this.j,M=this.H;
g.fill(0);l.fill(0);var V=0;var X=V+16;M.o.fill(0);for(c=0;c<N.length;c+=1){var I=0;var R=N[c];var P=M[c];var S=f[c];var Z=0<c?M[c-1]:z;var qa=c<B-1?M[c+1]:z;for(d=0;d<w;d+=1){var ha=R[d];var ca=0;if(ha){var ia=P[d];var na=Z[d];var ja=qa[d];for(b=15;0<=b;--b){if(0!==(ha&1<<b)){var U=p=k=e=0;var ma=V;for(n=32768;ma<X;){var ea=0===ma?this.ia:E[ma-1];var aa=E[ma];var Y=ma===this.height-1?this.ia:E[ma+1];var oa=L[ma];var Q=32768;var F=I;var A=ea[F];var K=aa[F+1];var O=Y[F];var J=aa[F];var x=0===F?J<<
3|K<<2|A<<1|O:aa[F-1]<<4|J<<3|K<<2|A<<1|O;var C=a[x];0<C?(q+=1,0===(x&8)&&(m+=1),p|=n,k|=Q):0!==(x&8)&&(r+=1);e|=J;Q>>=1;F+=1;J=K;A=ea[F];K=aa[F+1];O=Y[F];x=x<<1&24|K<<2|A<<1|O;A=a[x];C|=A<<8;0<A?(q+=1,0===(x&8)&&(m+=1),p|=n,k|=Q):0!==(x&8)&&(r+=1);e|=J;Q>>=1;F+=1;J=K;A=ea[F];K=aa[F+1];O=Y[F];x=x<<1&24|K<<2|A<<1|O;A=a[x];C|=A<<16;0<A?(q+=1,0===(x&8)&&(m+=1),p|=n,k|=Q):0!==(x&8)&&(r+=1);e|=J;Q>>=1;F+=1;J=K;A=ea[F];K=aa[F+1];O=Y[F];x=x<<1&24|K<<2|A<<1|O;A=a[x];C|=A<<24;oa[F>>2]=C;0<A?(q+=1,0===(x&8)&&
(m+=1),p|=n,k|=Q):0!==(x&8)&&(r+=1);e|=J;Q>>=1;F+=1;J=K;A=ea[F];K=aa[F+1];O=Y[F];x=x<<1&24|K<<2|A<<1|O;C=a[x];0<C?(q+=1,0===(x&8)&&(m+=1),p|=n,k|=Q):0!==(x&8)&&(r+=1);e|=J;Q>>=1;F+=1;J=K;A=ea[F];K=aa[F+1];O=Y[F];x=x<<1&24|K<<2|A<<1|O;A=a[x];C|=A<<8;0<A?(q+=1,0===(x&8)&&(m+=1),p|=n,k|=Q):0!==(x&8)&&(r+=1);e|=J;Q>>=1;F+=1;J=K;A=ea[F];K=aa[F+1];O=Y[F];x=x<<1&24|K<<2|A<<1|O;A=a[x];C|=A<<16;0<A?(q+=1,0===(x&8)&&(m+=1),p|=n,k|=Q):0!==(x&8)&&(r+=1);e|=J;Q>>=1;F+=1;J=K;A=ea[F];K=aa[F+1];O=Y[F];x=x<<1&24|
K<<2|A<<1|O;A=a[x];C|=A<<24;oa[F>>2]=C;0<A?(q+=1,0===(x&8)&&(m+=1),p|=n,k|=Q):0!==(x&8)&&(r+=1);e|=J;Q>>=1;F+=1;J=K;A=ea[F];K=aa[F+1];O=Y[F];x=x<<1&24|K<<2|A<<1|O;C=a[x];0<C?(q+=1,0===(x&8)&&(m+=1),p|=n,k|=Q):0!==(x&8)&&(r+=1);e|=J;Q>>=1;F+=1;J=K;A=ea[F];K=aa[F+1];O=Y[F];x=x<<1&24|K<<2|A<<1|O;A=a[x];C|=A<<8;0<A?(q+=1,0===(x&8)&&(m+=1),p|=n,k|=Q):0!==(x&8)&&(r+=1);e|=J;Q>>=1;F+=1;J=K;A=ea[F];K=aa[F+1];O=Y[F];x=x<<1&24|K<<2|A<<1|O;A=a[x];C|=A<<16;0<A?(q+=1,0===(x&8)&&(m+=1),p|=n,k|=Q):0!==(x&8)&&(r+=
1);e|=J;Q>>=1;F+=1;J=K;A=ea[F];K=aa[F+1];O=Y[F];x=x<<1&24|K<<2|A<<1|O;A=a[x];C|=A<<24;oa[F>>2]=C;0<A?(q+=1,0===(x&8)&&(m+=1),p|=n,k|=Q):0!==(x&8)&&(r+=1);e|=J;Q>>=1;F+=1;J=K;A=ea[F];K=aa[F+1];O=Y[F];x=x<<1&24|K<<2|A<<1|O;C=a[x];0<C?(q+=1,0===(x&8)&&(m+=1),p|=n,k|=Q):0!==(x&8)&&(r+=1);e|=J;Q>>=1;F+=1;J=K;A=ea[F];K=aa[F+1];O=Y[F];x=x<<1&24|K<<2|A<<1|O;A=a[x];C|=A<<8;0<A?(q+=1,0===(x&8)&&(m+=1),p|=n,k|=Q):0!==(x&8)&&(r+=1);e|=J;Q>>=1;F+=1;J=K;A=ea[F];K=aa[F+1];O=Y[F];x=x<<1&24|K<<2|A<<1|O;A=a[x];C|=
A<<16;0<A?(q+=1,0===(x&8)&&(m+=1),p|=n,k|=Q):0!==(x&8)&&(r+=1);e|=J;Q>>=1;F+=1;J=K;A=ea[F];K=F===u-1?0:aa[F+1];O=Y[F];x=x<<1&24|K<<2|A<<1|O;A=a[x];C|=A<<24;oa[F>>2]=C;0<A?(q+=1,0===(x&8)&&(m+=1),p|=n,k|=Q):0!==(x&8)&&(r+=1);e|=J;ma+=1;n>>=1}g[I>>4]|=k;k?(ia|=1<<b,p&1&&(U|=y.Ma,k&32768&&(U|=y.Ta),k&1&&(U|=y.La)),p&32768&&(U|=y.Oa,k&32768&&(U|=y.Qa),k&1&&(U|=y.Ra)),k&32768&&(U|=y.Ja),k&1&&(U|=y.Ga),U&&(0!==(U&y.Ja)&&(15>b?ia|=1<<b+1:0<d&&0<I&&(P[d-1]|=1)),0!==(U&y.Ga)&&(0<b?ia|=1<<b-1:d<w-1&&I<u-1&&
(P[d+1]|=32768)),0!==(U&y.Oa)&&(na|=1<<b),0!==(U&y.Ma)&&(ja|=1<<b),0!==(U&y.Qa)&&(15>b?na|=1<<b+1:0<d&&0<I&&(Z[d-1]|=1)),0!==(U&y.Ra)&&(0<b?na|=1<<b-1:d<w-1&&I<u-1&&(Z[d+1]|=32768)),0!==(U&y.Ta)&&(15>b?ja|=1<<b+1:0<d&&0<I&&(qa[d-1]|=1)),0!==(U&y.La)&&(0<b?ja|=1<<b-1:d<w-1&&I<u-1&&(qa[d+1]|=32768)))):e&&(ca|=1<<b);l[c]|=p}I+=16}P[d]|=ia;0<c&&(Z[d]|=na);c<B-1&&(qa[d]|=ja)}else I+=256;S[d]=ca}V+=16;X+=16}this.cc(g,l,u,v,t);z.fill(0);this.ac(H);for(ma=0;ma<this.m.o.length;ma+=1)this.m.o[ma]=this.m.o[ma]|
N.o[ma]|M.o[ma];this.B=q;this.na=m;this.ga=r};pa.prototype.Mk=function(){var a=this.ua,b,c,d,f=this.ta,e,g=this.V,k,l=this.Y,p,n,q=0,m=0,r=0,u=this.width,t=this.A,v=this.height,B=this.I,w=this.F>>4,z=this.aa;if(0!==(this.counter&1)){var E=this.P;var H=this.Pa;var L=this.Ua;var N=this.H;var M=this.j}else E=this.h,H=this.Ua,L=this.Pa,N=this.j,M=this.H;g.fill(0);l.fill(0);var V=0;var X=V+16;M.o.fill(0);for(c=0;c<N.length;c+=1){var I=0;var R=N[c];var P=M[c];var S=f[c];var Z=0<c?M[c-1]:z;var qa=c<B-1?
M[c+1]:z;for(d=0;d<w;d+=1){var ha=R[d];var ca=0;if(ha){var ia=P[d];var na=Z[d];var ja=qa[d];for(b=15;0<=b;--b){if(0!==(ha&1<<b)){var U=p=k=e=0;var ma=V;for(n=32768;ma<X;){var ea=0===ma?this.ia:E[ma-1];var aa=E[ma];var Y=ma===this.height-1?this.ia:E[ma+1];var oa=L[ma];var Q=32768;var F=I;var A=ea[F];var K=aa[F+1];var O=Y[F];var J=aa[F];var x=0===F?J<<6|K<<4|A<<2|O:aa[F-1]<<8|J<<6|K<<4|A<<2|O;var C=a[x];0<C?(q+=1,0===(x&192)&&(m+=1),p|=n,k|=Q):0!==(x&192)&&(r+=1);e|=J;Q>>=1;F+=1;J=K;A=ea[F];K=aa[F+
1];O=Y[F];x=x<<2&960|K<<4|A<<2|O;A=a[x];C|=A<<8;0<A?(q+=1,0===(x&192)&&(m+=1),p|=n,k|=Q):0!==(x&192)&&(r+=1);e|=J;Q>>=1;F+=1;J=K;A=ea[F];K=aa[F+1];O=Y[F];x=x<<2&960|K<<4|A<<2|O;A=a[x];C|=A<<16;0<A?(q+=1,0===(x&192)&&(m+=1),p|=n,k|=Q):0!==(x&192)&&(r+=1);e|=J;Q>>=1;F+=1;J=K;A=ea[F];K=aa[F+1];O=Y[F];x=x<<2&960|K<<4|A<<2|O;A=a[x];C|=A<<24;oa[F>>2]=C;0<A?(q+=1,0===(x&192)&&(m+=1),p|=n,k|=Q):0!==(x&192)&&(r+=1);e|=J;Q>>=1;F+=1;J=K;A=ea[F];K=aa[F+1];O=Y[F];x=x<<2&960|K<<4|A<<2|O;C=a[x];0<C?(q+=1,0===(x&
192)&&(m+=1),p|=n,k|=Q):0!==(x&192)&&(r+=1);e|=J;Q>>=1;F+=1;J=K;A=ea[F];K=aa[F+1];O=Y[F];x=x<<2&960|K<<4|A<<2|O;A=a[x];C|=A<<8;0<A?(q+=1,0===(x&192)&&(m+=1),p|=n,k|=Q):0!==(x&192)&&(r+=1);e|=J;Q>>=1;F+=1;J=K;A=ea[F];K=aa[F+1];O=Y[F];x=x<<2&960|K<<4|A<<2|O;A=a[x];C|=A<<16;0<A?(q+=1,0===(x&192)&&(m+=1),p|=n,k|=Q):0!==(x&192)&&(r+=1);e|=J;Q>>=1;F+=1;J=K;A=ea[F];K=aa[F+1];O=Y[F];x=x<<2&960|K<<4|A<<2|O;A=a[x];C|=A<<24;oa[F>>2]=C;0<A?(q+=1,0===(x&192)&&(m+=1),p|=n,k|=Q):0!==(x&192)&&(r+=1);e|=J;Q>>=1;F+=
1;J=K;A=ea[F];K=aa[F+1];O=Y[F];x=x<<2&960|K<<4|A<<2|O;C=a[x];0<C?(q+=1,0===(x&192)&&(m+=1),p|=n,k|=Q):0!==(x&192)&&(r+=1);e|=J;Q>>=1;F+=1;J=K;A=ea[F];K=aa[F+1];O=Y[F];x=x<<2&960|K<<4|A<<2|O;A=a[x];C|=A<<8;0<A?(q+=1,0===(x&192)&&(m+=1),p|=n,k|=Q):0!==(x&192)&&(r+=1);e|=J;Q>>=1;F+=1;J=K;A=ea[F];K=aa[F+1];O=Y[F];x=x<<2&960|K<<4|A<<2|O;A=a[x];C|=A<<16;0<A?(q+=1,0===(x&192)&&(m+=1),p|=n,k|=Q):0!==(x&192)&&(r+=1);e|=J;Q>>=1;F+=1;J=K;A=ea[F];K=aa[F+1];O=Y[F];x=x<<2&960|K<<4|A<<2|O;A=a[x];C|=A<<24;oa[F>>
2]=C;0<A?(q+=1,0===(x&192)&&(m+=1),p|=n,k|=Q):0!==(x&192)&&(r+=1);e|=J;Q>>=1;F+=1;J=K;A=ea[F];K=aa[F+1];O=Y[F];x=x<<2&960|K<<4|A<<2|O;C=a[x];0<C?(q+=1,0===(x&192)&&(m+=1),p|=n,k|=Q):0!==(x&192)&&(r+=1);e|=J;Q>>=1;F+=1;J=K;A=ea[F];K=aa[F+1];O=Y[F];x=x<<2&960|K<<4|A<<2|O;A=a[x];C|=A<<8;0<A?(q+=1,0===(x&192)&&(m+=1),p|=n,k|=Q):0!==(x&192)&&(r+=1);e|=J;Q>>=1;F+=1;J=K;A=ea[F];K=aa[F+1];O=Y[F];x=x<<2&960|K<<4|A<<2|O;A=a[x];C|=A<<16;0<A?(q+=1,0===(x&192)&&(m+=1),p|=n,k|=Q):0!==(x&192)&&(r+=1);e|=J;Q>>=1;
F+=1;J=K;A=ea[F];K=F===u-1?0:aa[F+1];O=Y[F];x=x<<2&960|K<<4|A<<2|O;A=a[x];C|=A<<24;oa[F>>2]=C;0<A?(q+=1,0===(x&192)&&(m+=1),p|=n,k|=Q):0!==(x&192)&&(r+=1);e|=J;ma+=1;n>>=1}g[I>>4]|=k;k?(ia|=1<<b,p&1&&(U|=y.Ma,k&32768&&(U|=y.Ta),k&1&&(U|=y.La)),p&32768&&(U|=y.Oa,k&32768&&(U|=y.Qa),k&1&&(U|=y.Ra)),k&32768&&(U|=y.Ja),k&1&&(U|=y.Ga),U&&(0!==(U&y.Ja)&&(15>b?ia|=1<<b+1:0<d&&0<I&&(P[d-1]|=1)),0!==(U&y.Ga)&&(0<b?ia|=1<<b-1:d<w-1&&I<u-1&&(P[d+1]|=32768)),0!==(U&y.Oa)&&(na|=1<<b),0!==(U&y.Ma)&&(ja|=1<<b),0!==
(U&y.Qa)&&(15>b?na|=1<<b+1:0<d&&0<I&&(Z[d-1]|=1)),0!==(U&y.Ra)&&(0<b?na|=1<<b-1:d<w-1&&I<u-1&&(Z[d+1]|=32768)),0!==(U&y.Ta)&&(15>b?ja|=1<<b+1:0<d&&0<I&&(qa[d-1]|=1)),0!==(U&y.La)&&(0<b?ja|=1<<b-1:d<w-1&&I<u-1&&(qa[d+1]|=32768)))):e&&(ca|=1<<b);l[c]|=p}I+=16}P[d]|=ia;0<c&&(Z[d]|=na);c<B-1&&(qa[d]|=ja)}else I+=256;S[d]=ca}V+=16;X+=16}this.cc(g,l,u,v,t);z.fill(0);this.ac(H);for(ma=0;ma<this.m.o.length;ma+=1)this.m.o[ma]=this.m.o[ma]|N.o[ma]|M.o[ma];this.B=q;this.na=m;this.ga=r};pa.prototype.Nk=function(){var a=
this.ua,b,c,d,f=this.ta,e,g=this.V,k,l=this.Y,p,n,q=0,m=0,r=0,u=this.width,t=this.A,v=this.height,B=this.I,w=this.F>>4,z=this.aa;if(0!==(this.counter&1)){var E=this.P;var H=this.Pa;var L=this.Ua;var N=this.H;var M=this.j}else E=this.h,H=this.Ua,L=this.Pa,N=this.j,M=this.H;g.fill(0);l.fill(0);var V=0;var X=V+16;M.o.fill(0);for(c=0;c<N.length;c+=1){var I=0;var R=N[c];var P=M[c];var S=f[c];var Z=0<c?M[c-1]:z;var qa=c<B-1?M[c+1]:z;for(d=0;d<w;d+=1){var ha=R[d];var ca=0;if(ha){var ia=P[d];var na=Z[d];
var ja=qa[d];for(b=15;0<=b;--b){if(0!==(ha&1<<b)){var U=p=k=e=0;var ma=V;for(n=32768;ma<X;){var ea=0===ma?this.ia:E[ma-1];var aa=E[ma];var Y=ma===this.height-1?this.ia:E[ma+1];var oa=L[ma];var Q=32768;var F=I;var A=ea[F];var K=aa[F+1];var O=Y[F];var J=aa[F];var x=0===F?J<<9|K<<6|A<<3|O:aa[F-1]<<12|J<<9|K<<6|A<<3|O;var C=a[x];0<C?(q+=1,0===(x&3584)&&(m+=1),p|=n,k|=Q):0!==(x&3584)&&(r+=1);e|=J;Q>>=1;F+=1;J=K;A=ea[F];K=aa[F+1];O=Y[F];x=x<<3&32256|K<<6|A<<3|O;A=a[x];C|=A<<8;0<A?(q+=1,0===(x&3584)&&(m+=
1),p|=n,k|=Q):0!==(x&3584)&&(r+=1);e|=J;Q>>=1;F+=1;J=K;A=ea[F];K=aa[F+1];O=Y[F];x=x<<3&32256|K<<6|A<<3|O;A=a[x];C|=A<<16;0<A?(q+=1,0===(x&3584)&&(m+=1),p|=n,k|=Q):0!==(x&3584)&&(r+=1);e|=J;Q>>=1;F+=1;J=K;A=ea[F];K=aa[F+1];O=Y[F];x=x<<3&32256|K<<6|A<<3|O;A=a[x];C|=A<<24;oa[F>>2]=C;0<A?(q+=1,0===(x&3584)&&(m+=1),p|=n,k|=Q):0!==(x&3584)&&(r+=1);e|=J;Q>>=1;F+=1;J=K;A=ea[F];K=aa[F+1];O=Y[F];x=x<<3&32256|K<<6|A<<3|O;C=a[x];0<C?(q+=1,0===(x&3584)&&(m+=1),p|=n,k|=Q):0!==(x&3584)&&(r+=1);e|=J;Q>>=1;F+=1;J=
K;A=ea[F];K=aa[F+1];O=Y[F];x=x<<3&32256|K<<6|A<<3|O;A=a[x];C|=A<<8;0<A?(q+=1,0===(x&3584)&&(m+=1),p|=n,k|=Q):0!==(x&3584)&&(r+=1);e|=J;Q>>=1;F+=1;J=K;A=ea[F];K=aa[F+1];O=Y[F];x=x<<3&32256|K<<6|A<<3|O;A=a[x];C|=A<<16;0<A?(q+=1,0===(x&3584)&&(m+=1),p|=n,k|=Q):0!==(x&3584)&&(r+=1);e|=J;Q>>=1;F+=1;J=K;A=ea[F];K=aa[F+1];O=Y[F];x=x<<3&32256|K<<6|A<<3|O;A=a[x];C|=A<<24;oa[F>>2]=C;0<A?(q+=1,0===(x&3584)&&(m+=1),p|=n,k|=Q):0!==(x&3584)&&(r+=1);e|=J;Q>>=1;F+=1;J=K;A=ea[F];K=aa[F+1];O=Y[F];x=x<<3&32256|K<<6|
A<<3|O;C=a[x];0<C?(q+=1,0===(x&3584)&&(m+=1),p|=n,k|=Q):0!==(x&3584)&&(r+=1);e|=J;Q>>=1;F+=1;J=K;A=ea[F];K=aa[F+1];O=Y[F];x=x<<3&32256|K<<6|A<<3|O;A=a[x];C|=A<<8;0<A?(q+=1,0===(x&3584)&&(m+=1),p|=n,k|=Q):0!==(x&3584)&&(r+=1);e|=J;Q>>=1;F+=1;J=K;A=ea[F];K=aa[F+1];O=Y[F];x=x<<3&32256|K<<6|A<<3|O;A=a[x];C|=A<<16;0<A?(q+=1,0===(x&3584)&&(m+=1),p|=n,k|=Q):0!==(x&3584)&&(r+=1);e|=J;Q>>=1;F+=1;J=K;A=ea[F];K=aa[F+1];O=Y[F];x=x<<3&32256|K<<6|A<<3|O;A=a[x];C|=A<<24;oa[F>>2]=C;0<A?(q+=1,0===(x&3584)&&(m+=1),
p|=n,k|=Q):0!==(x&3584)&&(r+=1);e|=J;Q>>=1;F+=1;J=K;A=ea[F];K=aa[F+1];O=Y[F];x=x<<3&32256|K<<6|A<<3|O;C=a[x];0<C?(q+=1,0===(x&3584)&&(m+=1),p|=n,k|=Q):0!==(x&3584)&&(r+=1);e|=J;Q>>=1;F+=1;J=K;A=ea[F];K=aa[F+1];O=Y[F];x=x<<3&32256|K<<6|A<<3|O;A=a[x];C|=A<<8;0<A?(q+=1,0===(x&3584)&&(m+=1),p|=n,k|=Q):0!==(x&3584)&&(r+=1);e|=J;Q>>=1;F+=1;J=K;A=ea[F];K=aa[F+1];O=Y[F];x=x<<3&32256|K<<6|A<<3|O;A=a[x];C|=A<<16;0<A?(q+=1,0===(x&3584)&&(m+=1),p|=n,k|=Q):0!==(x&3584)&&(r+=1);e|=J;Q>>=1;F+=1;J=K;A=ea[F];K=F===
u-1?0:aa[F+1];O=Y[F];x=x<<3&32256|K<<6|A<<3|O;A=a[x];C|=A<<24;oa[F>>2]=C;0<A?(q+=1,0===(x&3584)&&(m+=1),p|=n,k|=Q):0!==(x&3584)&&(r+=1);e|=J;ma+=1;n>>=1}g[I>>4]|=k;k?(ia|=1<<b,p&1&&(U|=y.Ma,k&32768&&(U|=y.Ta),k&1&&(U|=y.La)),p&32768&&(U|=y.Oa,k&32768&&(U|=y.Qa),k&1&&(U|=y.Ra)),k&32768&&(U|=y.Ja),k&1&&(U|=y.Ga),U&&(0!==(U&y.Ja)&&(15>b?ia|=1<<b+1:0<d&&0<I&&(P[d-1]|=1)),0!==(U&y.Ga)&&(0<b?ia|=1<<b-1:d<w-1&&I<u-1&&(P[d+1]|=32768)),0!==(U&y.Oa)&&(na|=1<<b),0!==(U&y.Ma)&&(ja|=1<<b),0!==(U&y.Qa)&&(15>b?
na|=1<<b+1:0<d&&0<I&&(Z[d-1]|=1)),0!==(U&y.Ra)&&(0<b?na|=1<<b-1:d<w-1&&I<u-1&&(Z[d+1]|=32768)),0!==(U&y.Ta)&&(15>b?ja|=1<<b+1:0<d&&0<I&&(qa[d-1]|=1)),0!==(U&y.La)&&(0<b?ja|=1<<b-1:d<w-1&&I<u-1&&(qa[d+1]|=32768)))):e&&(ca|=1<<b);l[c]|=p}I+=16}P[d]|=ia;0<c&&(Z[d]|=na);c<B-1&&(qa[d]|=ja)}else I+=256;S[d]=ca}V+=16;X+=16}this.cc(g,l,u,v,t);z.fill(0);this.ac(H);for(ma=0;ma<this.m.o.length;ma+=1)this.m.o[ma]=this.m.o[ma]|N.o[ma]|M.o[ma];this.B=q;this.na=m;this.ga=r};pa.prototype.Ok=function(){var a=this.ua,
b,c,d,f=this.ta,e,g=this.V,k,l=this.Y,p,n,q=0,m=0,r=0,u=this.width,t=this.A,v=this.height,B=this.I,w=this.F>>4,z=this.aa;if(0!==(this.counter&1)){var E=this.P;var H=this.Pa;var L=this.Ua;var N=this.H;var M=this.j}else E=this.h,H=this.Ua,L=this.Pa,N=this.j,M=this.H;g.fill(0);l.fill(0);var V=0;var X=V+16;M.o.fill(0);for(c=0;c<N.length;c+=1){var I=0;var R=N[c];var P=M[c];var S=f[c];var Z=0<c?M[c-1]:z;var qa=c<B-1?M[c+1]:z;for(d=0;d<w;d+=1){var ha=R[d];var ca=0;if(ha){var ia=P[d];var na=Z[d];var ja=qa[d];
for(b=15;0<=b;--b){if(0!==(ha&1<<b)){var U=p=k=e=0;var ma=V;for(n=32768;ma<X;){var ea=0===ma?this.ia:E[ma-1];var aa=E[ma];var Y=ma===this.height-1?this.ia:E[ma+1];var oa=L[ma];var Q=32768;var F=I;var A=ea[F];var K=aa[F+1];var O=Y[F];var J=aa[F];var x=0===F?J<<12|K<<8|A<<4|O:aa[F-1]<<16|J<<12|K<<8|A<<4|O;var C=a[x];0<C?(q+=1,0===(x&61440)&&(m+=1),p|=n,k|=Q):0!==(x&61440)&&(r+=1);e|=J;Q>>=1;F+=1;J=K;A=ea[F];K=aa[F+1];O=Y[F];x=x<<4&1044480|K<<8|A<<4|O;A=a[x];C|=A<<8;0<A?(q+=1,0===(x&61440)&&(m+=1),p|=
n,k|=Q):0!==(x&61440)&&(r+=1);e|=J;Q>>=1;F+=1;J=K;A=ea[F];K=aa[F+1];O=Y[F];x=x<<4&1044480|K<<8|A<<4|O;A=a[x];C|=A<<16;0<A?(q+=1,0===(x&61440)&&(m+=1),p|=n,k|=Q):0!==(x&61440)&&(r+=1);e|=J;Q>>=1;F+=1;J=K;A=ea[F];K=aa[F+1];O=Y[F];x=x<<4&1044480|K<<8|A<<4|O;A=a[x];C|=A<<24;oa[F>>2]=C;0<A?(q+=1,0===(x&61440)&&(m+=1),p|=n,k|=Q):0!==(x&61440)&&(r+=1);e|=J;Q>>=1;F+=1;J=K;A=ea[F];K=aa[F+1];O=Y[F];x=x<<4&1044480|K<<8|A<<4|O;C=a[x];0<C?(q+=1,0===(x&61440)&&(m+=1),p|=n,k|=Q):0!==(x&61440)&&(r+=1);e|=J;Q>>=1;
F+=1;J=K;A=ea[F];K=aa[F+1];O=Y[F];x=x<<4&1044480|K<<8|A<<4|O;A=a[x];C|=A<<8;0<A?(q+=1,0===(x&61440)&&(m+=1),p|=n,k|=Q):0!==(x&61440)&&(r+=1);e|=J;Q>>=1;F+=1;J=K;A=ea[F];K=aa[F+1];O=Y[F];x=x<<4&1044480|K<<8|A<<4|O;A=a[x];C|=A<<16;0<A?(q+=1,0===(x&61440)&&(m+=1),p|=n,k|=Q):0!==(x&61440)&&(r+=1);e|=J;Q>>=1;F+=1;J=K;A=ea[F];K=aa[F+1];O=Y[F];x=x<<4&1044480|K<<8|A<<4|O;A=a[x];C|=A<<24;oa[F>>2]=C;0<A?(q+=1,0===(x&61440)&&(m+=1),p|=n,k|=Q):0!==(x&61440)&&(r+=1);e|=J;Q>>=1;F+=1;J=K;A=ea[F];K=aa[F+1];O=Y[F];
x=x<<4&1044480|K<<8|A<<4|O;C=a[x];0<C?(q+=1,0===(x&61440)&&(m+=1),p|=n,k|=Q):0!==(x&61440)&&(r+=1);e|=J;Q>>=1;F+=1;J=K;A=ea[F];K=aa[F+1];O=Y[F];x=x<<4&1044480|K<<8|A<<4|O;A=a[x];C|=A<<8;0<A?(q+=1,0===(x&61440)&&(m+=1),p|=n,k|=Q):0!==(x&61440)&&(r+=1);e|=J;Q>>=1;F+=1;J=K;A=ea[F];K=aa[F+1];O=Y[F];x=x<<4&1044480|K<<8|A<<4|O;A=a[x];C|=A<<16;0<A?(q+=1,0===(x&61440)&&(m+=1),p|=n,k|=Q):0!==(x&61440)&&(r+=1);e|=J;Q>>=1;F+=1;J=K;A=ea[F];K=aa[F+1];O=Y[F];x=x<<4&1044480|K<<8|A<<4|O;A=a[x];C|=A<<24;oa[F>>2]=
C;0<A?(q+=1,0===(x&61440)&&(m+=1),p|=n,k|=Q):0!==(x&61440)&&(r+=1);e|=J;Q>>=1;F+=1;J=K;A=ea[F];K=aa[F+1];O=Y[F];x=x<<4&1044480|K<<8|A<<4|O;C=a[x];0<C?(q+=1,0===(x&61440)&&(m+=1),p|=n,k|=Q):0!==(x&61440)&&(r+=1);e|=J;Q>>=1;F+=1;J=K;A=ea[F];K=aa[F+1];O=Y[F];x=x<<4&1044480|K<<8|A<<4|O;A=a[x];C|=A<<8;0<A?(q+=1,0===(x&61440)&&(m+=1),p|=n,k|=Q):0!==(x&61440)&&(r+=1);e|=J;Q>>=1;F+=1;J=K;A=ea[F];K=aa[F+1];O=Y[F];x=x<<4&1044480|K<<8|A<<4|O;A=a[x];C|=A<<16;0<A?(q+=1,0===(x&61440)&&(m+=1),p|=n,k|=Q):0!==(x&
61440)&&(r+=1);e|=J;Q>>=1;F+=1;J=K;A=ea[F];K=F===u-1?0:aa[F+1];O=Y[F];x=x<<4&1044480|K<<8|A<<4|O;A=a[x];C|=A<<24;oa[F>>2]=C;0<A?(q+=1,0===(x&61440)&&(m+=1),p|=n,k|=Q):0!==(x&61440)&&(r+=1);e|=J;ma+=1;n>>=1}g[I>>4]|=k;k?(ia|=1<<b,p&1&&(U|=y.Ma,k&32768&&(U|=y.Ta),k&1&&(U|=y.La)),p&32768&&(U|=y.Oa,k&32768&&(U|=y.Qa),k&1&&(U|=y.Ra)),k&32768&&(U|=y.Ja),k&1&&(U|=y.Ga),U&&(0!==(U&y.Ja)&&(15>b?ia|=1<<b+1:0<d&&0<I&&(P[d-1]|=1)),0!==(U&y.Ga)&&(0<b?ia|=1<<b-1:d<w-1&&I<u-1&&(P[d+1]|=32768)),0!==(U&y.Oa)&&(na|=
1<<b),0!==(U&y.Ma)&&(ja|=1<<b),0!==(U&y.Qa)&&(15>b?na|=1<<b+1:0<d&&0<I&&(Z[d-1]|=1)),0!==(U&y.Ra)&&(0<b?na|=1<<b-1:d<w-1&&I<u-1&&(Z[d+1]|=32768)),0!==(U&y.Ta)&&(15>b?ja|=1<<b+1:0<d&&0<I&&(qa[d-1]|=1)),0!==(U&y.La)&&(0<b?ja|=1<<b-1:d<w-1&&I<u-1&&(qa[d+1]|=32768)))):e&&(ca|=1<<b);l[c]|=p}I+=16}P[d]|=ia;0<c&&(Z[d]|=na);c<B-1&&(qa[d]|=ja)}else I+=256;S[d]=ca}V+=16;X+=16}this.cc(g,l,u,v,t);z.fill(0);this.ac(H);for(ma=0;ma<this.m.o.length;ma+=1)this.m.o[ma]=this.m.o[ma]|N.o[ma]|M.o[ma];this.B=q;this.na=
m;this.ga=r};pa.prototype.Qk=function(){var a=this.ua,b,c,d,f=this.ta,e,g=this.V,k,l=this.Y,p,n,q=0,m=0,r=0,u=this.width,t=this.A,v=this.height,B=this.I,w=this.F>>4,z=this.aa;if(0!==(this.counter&1)){var E=this.P;var H=this.Pa;var L=this.Ua;var N=this.H;var M=this.j}else E=this.h,H=this.Ua,L=this.Pa,N=this.j,M=this.H;g.fill(0);l.fill(0);var V=0;var X=V+16;M.o.fill(0);for(c=0;c<N.length;c+=1){var I=0;var R=N[c];var P=M[c];var S=f[c];var Z=0<c?M[c-1]:z;var qa=c<B-1?M[c+1]:z;for(d=0;d<w;d+=1){var ha=
R[d];var ca=0;if(ha){var ia=P[d];var na=Z[d];var ja=qa[d];for(b=15;0<=b;--b){if(0!==(ha&1<<b)){var U=p=k=e=0;var ma=V;for(n=32768;ma<X;){var ea=0===ma?this.ia:E[ma-1];var aa=E[ma];var Y=ma===this.height-1?this.ia:E[ma+1];var oa=L[ma];var Q=32768;var F=I;var A=ea[F];var K=aa[F+1];var O=Y[F];var J=aa[F];var x=0===F?J<<15|K<<10|A<<5|O:aa[F-1]<<20|J<<15|K<<10|A<<5|O;var C=a[x];0<C?(q+=1,0===(x&1015808)&&(m+=1),p|=n,k|=Q):0!==(x&1015808)&&(r+=1);e|=J;Q>>=1;F+=1;J=K;A=ea[F];K=aa[F+1];O=Y[F];x=x<<5&33521664|
K<<10|A<<5|O;A=a[x];C|=A<<8;0<A?(q+=1,0===(x&1015808)&&(m+=1),p|=n,k|=Q):0!==(x&1015808)&&(r+=1);e|=J;Q>>=1;F+=1;J=K;A=ea[F];K=aa[F+1];O=Y[F];x=x<<5&33521664|K<<10|A<<5|O;A=a[x];C|=A<<16;0<A?(q+=1,0===(x&1015808)&&(m+=1),p|=n,k|=Q):0!==(x&1015808)&&(r+=1);e|=J;Q>>=1;F+=1;J=K;A=ea[F];K=aa[F+1];O=Y[F];x=x<<5&33521664|K<<10|A<<5|O;A=a[x];C|=A<<24;oa[F>>2]=C;0<A?(q+=1,0===(x&1015808)&&(m+=1),p|=n,k|=Q):0!==(x&1015808)&&(r+=1);e|=J;Q>>=1;F+=1;J=K;A=ea[F];K=aa[F+1];O=Y[F];x=x<<5&33521664|K<<10|A<<5|O;C=
a[x];0<C?(q+=1,0===(x&1015808)&&(m+=1),p|=n,k|=Q):0!==(x&1015808)&&(r+=1);e|=J;Q>>=1;F+=1;J=K;A=ea[F];K=aa[F+1];O=Y[F];x=x<<5&33521664|K<<10|A<<5|O;A=a[x];C|=A<<8;0<A?(q+=1,0===(x&1015808)&&(m+=1),p|=n,k|=Q):0!==(x&1015808)&&(r+=1);e|=J;Q>>=1;F+=1;J=K;A=ea[F];K=aa[F+1];O=Y[F];x=x<<5&33521664|K<<10|A<<5|O;A=a[x];C|=A<<16;0<A?(q+=1,0===(x&1015808)&&(m+=1),p|=n,k|=Q):0!==(x&1015808)&&(r+=1);e|=J;Q>>=1;F+=1;J=K;A=ea[F];K=aa[F+1];O=Y[F];x=x<<5&33521664|K<<10|A<<5|O;A=a[x];C|=A<<24;oa[F>>2]=C;0<A?(q+=1,
0===(x&1015808)&&(m+=1),p|=n,k|=Q):0!==(x&1015808)&&(r+=1);e|=J;Q>>=1;F+=1;J=K;A=ea[F];K=aa[F+1];O=Y[F];x=x<<5&33521664|K<<10|A<<5|O;C=a[x];0<C?(q+=1,0===(x&1015808)&&(m+=1),p|=n,k|=Q):0!==(x&1015808)&&(r+=1);e|=J;Q>>=1;F+=1;J=K;A=ea[F];K=aa[F+1];O=Y[F];x=x<<5&33521664|K<<10|A<<5|O;A=a[x];C|=A<<8;0<A?(q+=1,0===(x&1015808)&&(m+=1),p|=n,k|=Q):0!==(x&1015808)&&(r+=1);e|=J;Q>>=1;F+=1;J=K;A=ea[F];K=aa[F+1];O=Y[F];x=x<<5&33521664|K<<10|A<<5|O;A=a[x];C|=A<<16;0<A?(q+=1,0===(x&1015808)&&(m+=1),p|=n,k|=Q):
0!==(x&1015808)&&(r+=1);e|=J;Q>>=1;F+=1;J=K;A=ea[F];K=aa[F+1];O=Y[F];x=x<<5&33521664|K<<10|A<<5|O;A=a[x];C|=A<<24;oa[F>>2]=C;0<A?(q+=1,0===(x&1015808)&&(m+=1),p|=n,k|=Q):0!==(x&1015808)&&(r+=1);e|=J;Q>>=1;F+=1;J=K;A=ea[F];K=aa[F+1];O=Y[F];x=x<<5&33521664|K<<10|A<<5|O;C=a[x];0<C?(q+=1,0===(x&1015808)&&(m+=1),p|=n,k|=Q):0!==(x&1015808)&&(r+=1);e|=J;Q>>=1;F+=1;J=K;A=ea[F];K=aa[F+1];O=Y[F];x=x<<5&33521664|K<<10|A<<5|O;A=a[x];C|=A<<8;0<A?(q+=1,0===(x&1015808)&&(m+=1),p|=n,k|=Q):0!==(x&1015808)&&(r+=1);
e|=J;Q>>=1;F+=1;J=K;A=ea[F];K=aa[F+1];O=Y[F];x=x<<5&33521664|K<<10|A<<5|O;A=a[x];C|=A<<16;0<A?(q+=1,0===(x&1015808)&&(m+=1),p|=n,k|=Q):0!==(x&1015808)&&(r+=1);e|=J;Q>>=1;F+=1;J=K;A=ea[F];K=F===u-1?0:aa[F+1];O=Y[F];x=x<<5&33521664|K<<10|A<<5|O;A=a[x];C|=A<<24;oa[F>>2]=C;0<A?(q+=1,0===(x&1015808)&&(m+=1),p|=n,k|=Q):0!==(x&1015808)&&(r+=1);e|=J;ma+=1;n>>=1}g[I>>4]|=k;k?(ia|=1<<b,p&1&&(U|=y.Ma,k&32768&&(U|=y.Ta),k&1&&(U|=y.La)),p&32768&&(U|=y.Oa,k&32768&&(U|=y.Qa),k&1&&(U|=y.Ra)),k&32768&&(U|=y.Ja),k&
1&&(U|=y.Ga),U&&(0!==(U&y.Ja)&&(15>b?ia|=1<<b+1:0<d&&0<I&&(P[d-1]|=1)),0!==(U&y.Ga)&&(0<b?ia|=1<<b-1:d<w-1&&I<u-1&&(P[d+1]|=32768)),0!==(U&y.Oa)&&(na|=1<<b),0!==(U&y.Ma)&&(ja|=1<<b),0!==(U&y.Qa)&&(15>b?na|=1<<b+1:0<d&&0<I&&(Z[d-1]|=1)),0!==(U&y.Ra)&&(0<b?na|=1<<b-1:d<w-1&&I<u-1&&(Z[d+1]|=32768)),0!==(U&y.Ta)&&(15>b?ja|=1<<b+1:0<d&&0<I&&(qa[d-1]|=1)),0!==(U&y.La)&&(0<b?ja|=1<<b-1:d<w-1&&I<u-1&&(qa[d+1]|=32768)))):e&&(ca|=1<<b);l[c]|=p}I+=16}P[d]|=ia;0<c&&(Z[d]|=na);c<B-1&&(qa[d]|=ja)}else I+=256;S[d]=
ca}V+=16;X+=16}this.cc(g,l,u,v,t);z.fill(0);this.ac(H);for(ma=0;ma<this.m.o.length;ma+=1)this.m.o[ma]=this.m.o[ma]|N.o[ma]|M.o[ma];this.B=q;this.na=m;this.ga=r};pa.prototype.pp=function(){var a=this.we,b=this.A,c=this.mb,d=c.J;var f=c.K;var e=c.L,g=c.N,k=0,l=0,p=0,n=this.width,q=this.height,m=0,r=0,u=this.width,t=this.height,v=0,B=0,w=this.m,z,E=this.ec,H=this.v,L=0<this.v?1:0;var N=this.ba;var M=this.$;var V=Math.round((this.width-N)/2);var X=Math.round((this.height-M)/2);N=V+N-1;M=X+M-1;-1!==this.S&&
(0===this.ba&&(V=0,N=this.width-1),0===this.$&&(X=0,M=this.height-1),d=V+1,f=X+1,e=N-1,g=M-1);this.Tb&&(this.tb=!this.tb,this.Tb=!1);0!==(this.counter&1)?(V=this.P,X=this.h,this.tb&&(a=this.eb?this.xe:this.Bb)):(V=this.h,X=this.P,this.eb&&(a=this.mf),this.tb&&(a=this.Bb));2>f&&(f=2);g>this.height-3&&(g=this.height-3);1>d&&(d=1);e>this.width-3&&(e=this.width-3);for(--f;f<=g+1;f+=1){N=V[f-1];var I=V[f];var R=V[f+1];var P=w[f>>4];var S=X[f];var Z=z=!1;var qa=I[d-2];for(M=d-1;M<=e+1;M+=1){var ha=R[M];
var ca=I[M+1];var ia=N[M];0<H&&(ha=ha<=H?0:ha-H,ca=ca<=H?0:ca-H,ia=ia<=H?0:ia-H,qa=qa<=H?0:qa-H);qa=qa|ha<<4|ca<<8|ia<<12;ha=a[qa];qa=I[M];0<ha?(k+=E[ha],S[M]=ha+H,z=!0,P[M>>8]=65535,M<n&&(n=M),M>m&&(m=M)):(ha=qa,ha>H?ha=H:ha>L&&--ha,S[M]=ha,0<ha&&(z=!0,M<n&&(n=M),M>m&&(m=M)),ha=0);qa>H?(qa-=H,l+=E[ha&~qa],p+=E[qa&~ha],qa+=H):l+=E[ha];0<ha&&(M<u&&(u=M),M>v&&(v=M),Z=!0)}z&&(f<q&&(q=f),f>r&&(r=f));Z&&(f<t&&(t=f),f>B&&(B=f))}this.B=k;this.na=l;this.ga=p;c.J=n;c.K=q;c.L=m;c.N=r;b.J=u;b.K=t;b.L=v;b.N=
B};pa.prototype.lm=function(){var a=this.ke,b=this.m,c=this.wa,d=this.lk,f,e,g;var k=this.I;var l=this.F>>4;var p=0;var n=k;if(0!==(this.counter&1)){var q=this.Va;var m=this.H}else q=this.va,m=this.j;0>p&&(p=0);n>k&&(n=k);k=p<<4;var r=k+16;for(f=p;f<n;f+=1){var u=0;var t=m[f];var v=c[f];var B=b[f];for(e=0;e<l;e+=1){var w=t[e]|v[e];var z=0;if(w)for(g=15;0<=g;--g){if(0!==(w&1<<g)){var E=0;for(p=k;p<r;){var H=q[p];var L=a[p];var N=u<<3;H=H[u];var M=d[L[N]|(H&49152)<<1];E|=M;L[N]=M;N+=1;M=d[L[N]|(H&12288)<<
3];E|=M;L[N]=M;N+=1;M=d[L[N]|(H&3072)<<5];E|=M;L[N]=M;N+=1;M=d[L[N]|(H&768)<<7];E|=M;L[N]=M;N+=1;M=d[L[N]|(H&192)<<9];E|=M;L[N]=M;N+=1;M=d[L[N]|(H&48)<<11];E|=M;L[N]=M;N+=1;M=d[L[N]|(H&12)<<13];E|=M;L[N]=M;N+=1;M=d[L[N]|(H&3)<<15];E|=M;L[N]=M;p+=1}0!==(E&65278)&&(z|=1<<g)}u+=1}else u+=16;v[e]=z;B[e]|=z}k+=16;r+=16}};pa.prototype.hm=function(){var a=this.Re,b=this.ke,c=this.m,d=this.wa,f,e,g;var k=this.I;var l=this.F>>4;var p=0;var n=k;if(0!==(this.counter&1)){var q=this.Va;var m=this.H}else q=this.va,
m=this.j;0>p&&(p=0);n>k&&(n=k);k=p<<4;var r=k+16;for(f=p;f<n;f+=1){var u=0;var t=m[f];var v=d[f];var B=c[f];for(e=0;e<l;e+=1){var w=t[e]|v[e];var z=0;if(w)for(g=15;0<=g;--g){if(0!==(w&1<<g)){var E=0;for(p=k;p<r;){var H=q[p];var L=b[p];var N=u<<3;if(H=H[u]){var M=a[H>>14&3];E|=M;L[N]=M;N+=1;M=a[H>>12&3];E|=M;L[N]=M;N+=1;M=a[H>>10&3];E|=M;L[N]=M;N+=1;M=a[H>>8&3];E|=M;L[N]=M;N+=1;M=a[H>>6&3];E|=M;L[N]=M;N+=1;M=a[H>>4&3];E|=M;L[N]=M;N+=1;M=a[H>>2&3];E|=M;L[N]=M;N+=1;M=a[H&3];E|=M;L[N]=M}else L[N]=0,L[N+
1]=0,L[N+2]=0,L[N+3]=0,L[N+4]=0,L[N+5]=0,L[N+6]=0,L[N+7]=0;p+=1}0!==E&&(z|=1<<g)}u+=1}else u+=16;v[e]=z;B[e]|=z}k+=16;r+=16}};pa.prototype.Gj=function(){var a,b,c=this.h,d=this.m,f=this.wa,e=this.yd,g,k,l,p=y.xa,n=this.F>>4,q=this.I;if(0!==(this.counter&1)){var m=this.Va;var r=this.H}else m=this.va,r=this.j;var u=0;var t=u+16;for(g=0;g<q;g+=1){var v=0;var B=r[g];var w=f[g];var z=d[g];for(k=0;k<n;k+=1){var E=B[k]|w[k];var H=0;if(E)for(l=15;0<=l;--l){if(0!==(E&1<<l)){var L=0;for(a=u;a<t;){var N=m[a];
var M=0===a?e:m[a-1];var V=a>=this.height-1?e:m[a+1];var X=c[a];var I=v<<4;if(b=N[v]){var R=M[v];var P=V[v];var S=15;if(0!==(b&1<<S)){var Z=5*(b&1<<S-1?1:0)+5*(N[v-1]&1)+(R&1<<S-1?1:0)+5*(R&1<<S?1:0)+(M[v-1]&1)+(P&1<<S-1?1:0)+5*(P&1<<S?1:0)+(V[v-1]&1);Z=p+Z;L|=Z}else Z=0;X[I]=Z;I+=1;for(S=14;1<=S;--S)0!==(b&1<<S)?(Z=5*(b&1<<S-1?1:0)+5*(b&1<<S+1?1:0)+(R&1<<S-1?1:0)+5*(R&1<<S?1:0)+(R&1<<S+1?1:0)+(P&1<<S-1?1:0)+5*(P&1<<S?1:0)+(P&1<<S+1?1:0),Z=p+Z,L|=Z):Z=0,X[I]=Z,I+=1;0!==(b&1<<S)?(Z=5*(N[v+1]>>15)+
5*(b&1<<S+1?1:0)+(M[v+1]>>15)+5*(R&1<<S?1:0)+(R&1<<S+1?1:0)+(V[v+1]>>15)+5*(P&1<<S?1:0)+(P&1<<S+1?1:0),Z=p+Z,L|=Z):Z=0;X[I]=Z}else for(S=0;4>S;S+=1)X[I]=0,X[I+1]=0,X[I+2]=0,X[I+3]=0,I+=4;a+=1}L&&(H|=1<<l)}v+=1}else v+=16;w[k]=H;z[k]|=H}u+=16;t+=16}};pa.prototype.im=function(){var a=this.ke,b=this.m,c=this.wa,d=this.Re,f,e,g;var k=this.I;var l=this.F>>4;var p=0;var n=k;if(0!==(this.counter&1)){var q=this.Va;var m=this.H}else q=this.va,m=this.j;0>p&&(p=0);n>k&&(n=k);k=p<<4;var r=k+16;for(f=p;f<n;f+=
1){var u=0;var t=m[f];var v=c[f];var B=b[f];for(e=0;e<l;e+=1){var w=t[e]|v[e];var z=0;if(w)for(g=15;0<=g;--g){if(0!==(w&1<<g)){var E=0;for(p=k;p<r;){var H=q[p];var L=a[p];var N=u<<3;if(H=H[u]){var M=d[(H&49152)>>7|p+N+N&127];E|=M;L[N]=M;N+=1;M=d[(H&12288)>>5|p+N+N&127];E|=M;L[N]=M;N+=1;M=d[(H&3072)>>3|p+N+N&127];E|=M;L[N]=M;N+=1;M=d[(H&768)>>1|p+N+N&127];E|=M;L[N]=M;N+=1;M=d[(H&192)<<1|p+N+N&127];E|=M;L[N]=M;N+=1;M=d[(H&48)<<3|p+N+N&127];E|=M;L[N]=M;N+=1;M=d[(H&12)<<5|p+N+N&127];E|=M;L[N]=M;N+=1;
M=d[(H&3)<<7|p+N+N&127];E|=M;L[N]=M}else L[N]=0,L[N+1]=0,L[N+2]=0,L[N+3]=0,L[N+4]=0,L[N+5]=0,L[N+6]=0,L[N+7]=0;p+=1}if(1<(E&255)||1<E>>8)z|=1<<g}u+=1}else u+=16;v[e]=z;B[e]|=z}k+=16;r+=16}};pa.prototype.rk=function(a,b,c,d,f,e,g,k,l,p){var n=this.xb;d=d*a+n.N;c=c*a+n.L;b=b*a+n.K;f=f*a+n.J;n=c-f+1;a=d-b+1;this.ha&&(n=c-b/2-(f-d/2)+1);0===n&&(n=1);0===a&&(a=1);e/=n;g/=a;p=Math.round(2E4*(e>g?g:e)/p)/2E4;p<k?p=k:p>l&&(p=l);return p};pa.prototype.So=function(a){var b=a;1>a&&(b=1/a);var c=Math.round(b);
(c<b?c/b:b/c)>=G.wH&&(a=1>a?1/c:c);return a};pa.prototype.Zj=function(a,b,c,d,f,e,g,k,l,p,n,q,m){var r=this.A,u=this.xb,t=this.mb,v=this.h,B=0,w=0,z=0;(this.s||this.D||this.u||this.G)&&0!==(this.counter&1)&&(v=this.P);var E=2>=this.i&&!this.D?y.xa:this.v+1;n?r=t:this.Da&&(r=this.ya);if(a===G.Lp){t=b.J;var H=b.L;var L=b.N;b=b.K}else t=r.J,H=r.L,L=r.N,b=r.K,this.O&&!q&&(u.J<t&&(t=u.J),u.L>H&&(H=u.L),u.N>L&&(L=u.N),u.K<b&&(b=u.K)),-1!==this.S&&(B=this.ba+2,w=this.$+2,2<B?(t=this.width/2-B/2+(B&1)/2,
H=this.width/2+B/2):B=H-t+1,2<w?(b=this.height/2-w/2+(w&1)/2,L=this.height/2+w/2):w=L-b+1);p?(B=k,w=l,t=this.width/2-B/2,H=this.width/2+B/2,L=this.height/2+w/2,b=this.height/2-w/2):-1===this.S&&(B=H-t+1,w=L-b+1);if(this.ha){if(a===G.Lp)t-=L/2,H-=b/2;else{B=2*(this.width+this.height);k=-B;b|=0;L|=0;t|=0;H|=0;-1!==this.S&&this.kf(v,this.hc);n&&(E=1);for(p=b;p<=L;p+=1)for(n=v[p],l=t;l<=H;l+=1)q=n[l],q>=E&&(z+=1,q=l-p/2,q<B&&(B=q),q>k&&(k=q));0===z?(t-=b/2,H=t+1):(t=B,H=k,t>H&&(v=t,t=H,H=v))}B=H-t+1}0===
B&&(B=1);0===w&&(w=1);c/=B;d/=w;this.Z&&(d/=G.bk);this.ha&&(d/=G.Sj);g=Math.round(2E4*(c>d?d:c)/g)/2E4;g/=this.cb;g<f?g=f:g>e&&(g=e);f=b-this.za+w/2;e=t-this.Ka+B/2;m||(g=this.So(g));a===G.tu&&(g=this.zoom);this.ja&&-1!==this.S&&(--e,--f);return[g,e,f]};pa.prototype.Dj=function(a,b,c,d){var f=this.Nc,e=this.displayWidth,g=this.displayHeight;if(a>b){var k=b;b=a;a=k}0>a?a=0:a>=e&&(a=e-1);0>b?b=0:b>=e&&(b=e-1);0<=c&&c<g&&f.fill(d,c*e+a,c*e+b+1)};pa.prototype.si=function(a,b,c,d){var f=this.Nc,e=this.displayWidth,
g=this.displayHeight;if(b>c){var k=c;c=b;b=k}0>b?b=0:b>=g&&(b=g-1);0>c?c=0:c>=g&&(c=g-1);b=b*e+a;c=c*e+a;g=c-15*e;if(0<=a&&a<e){for(;b<=g;)f[b]=d,b+=e,f[b]=d,b+=e,f[b]=d,b+=e,f[b]=d,b+=e,f[b]=d,b+=e,f[b]=d,b+=e,f[b]=d,b+=e,f[b]=d,b+=e,f[b]=d,b+=e,f[b]=d,b+=e,f[b]=d,b+=e,f[b]=d,b+=e,f[b]=d,b+=e,f[b]=d,b+=e,f[b]=d,b+=e,f[b]=d,b+=e;for(;b<=c;)f[b]=d,b+=e}};pa.prototype.bn=function(a,b,c,d,f){var e=Math.abs(c-a),g=Math.abs(d-b),k=a<c?1:-1,l=b<d?1:-1,p=e-g,n=this.displayWidth,q=this.displayHeight,m=this.Nc;
if(!(0>a&&0>c||a>=n&&c>=n||0>b&&0>d||b>=q&&d>=q))if(0<=a&&a<n&&0<=b&&b<q&&0<=c&&c<n&&0<=d&&d<q)for(m[b*n+a]=f;a!==c||b!==d;){var r=p+p;r>-g&&(p-=g,a+=k);r<e&&(p+=e,b+=l);m[b*n+a]=f}else for(0<=a&&a<n&&0<=b&&b<q&&(m[b*n+a]=f);a!==c||b!==d;)r=p+p,r>-g&&(p-=g,a+=k),r<e&&(p+=e,b+=l),0<=a&&a<n&&0<=b&&b<q&&(m[b*n+a]=f)};pa.prototype.rh=function(a,b,c,d,f){var e=this.displayWidth/2,g=this.displayHeight/2;if(0!==this.Ea){a-=e;b-=g;var k=Math.sqrt(a*a+b*b);var l=180/Math.PI*Math.atan2(b,a);l+=this.Ea;a=Math.round(k*
Math.cos(Math.PI/180*l)+e);b=Math.round(k*Math.sin(Math.PI/180*l)+g);c-=e;d-=g;k=Math.sqrt(c*c+d*d);l=180/Math.PI*Math.atan2(d,c);l+=this.Ea;c=Math.round(k*Math.cos(Math.PI/180*l)+e);d=Math.round(k*Math.sin(Math.PI/180*l)+g)}a===c?this.si(a,b,d,f):b===d?this.Dj(a,c,b,f):this.bn(a,b,c,d,f)};pa.prototype.qn=function(a,b,c,d,f){var e=a.Ec,g=a.Dc,k=0,l=0,p,n=this.oa;var q=this.zoom;var m=this.rc(this.zoom);var r=a.H-a.aa;var u=a.F-a.ba;var t=a.F-this.ka,v=a.H-this.ma-(this.ha?this.ka/2:0),B=0!==this.angle?
1:0,w=[0,0];switch(d){case G.wC:b-=e>>1;break;case G.xC:b-=e-1;break;case G.BC:c-=g>>1;break;case G.vC:b-=e>>1;c-=g>>1;break;case G.uC:b-=e-1;c-=g>>1;break;case G.AC:c-=g-1;break;case G.yC:b-=e>>1;c-=g-1;break;case G.zC:b-=e-1,c-=g-1}d=c;var z=c+g;a.mc&&(r+=2*a.bc,u+=2*a.qc);var E=q*(d-u+t-this.za+a.F)+a.displayHeight/2;d=m*(d-u+t-this.za+a.F)+a.displayHeight/2;E=q*(b-r+v-this.Ka+a.H)+a.displayWidth/2+(this.ha?(a.displayHeight/2-E)/2:0);var H=q*(z-u+t-this.za+a.F)+a.displayHeight/2;z=m*(z-u+t-this.za+
a.F)+a.displayHeight/2;H=q*(b+e-r+v-this.Ka+a.H)+a.displayWidth/2+(this.ha?(a.displayHeight/2-H)/2:0);n.fillStyle=f;n.globalAlpha=.5;if(this.ha)if(!this.Fa&&4<=this.zoom)a.mc&&(r-=2*a.bc,u-=2*a.qc),this.wk(b,c,b+e-1,c+g-1,r,u);else{n.beginPath();for(p=0;p<g;p+=1)n.moveTo(E,d),n.lineTo(E+e*q+1,d),n.lineTo(E+e*q+1,d+m+1),n.lineTo(E,d+m+1),E-=q/2,d+=m;n.fill()}else!this.Fa&&this.Z&&4<=this.zoom?(a.mc&&(r-=2*a.bc,u-=2*a.qc),this.yk(b,c,b+e-1,c+g-1,r,u)):(0!==this.angle?(n.beginPath(),this.Ee(E,d,w),n.moveTo(w[0],
w[1]),this.Ee(H+B,d,w),n.lineTo(w[0],w[1]),this.Ee(H+B,z+B,w),n.lineTo(w[0],w[1]),this.Ee(E,z+B,w),n.lineTo(w[0],w[1])):(n.beginPath(),n.moveTo(this.Gc(E),this.Gc(d)),n.lineTo(this.Gc(H),this.Gc(d)),n.lineTo(this.Gc(H),this.Gc(z)),n.lineTo(this.Gc(E),this.Gc(z))),n.fill());if(1<=this.zoom){if(0<this.Ea){f=Math.cos(this.Ea/180*Math.PI)*this.da;var L=Math.sin(this.Ea/180*Math.PI)*this.da;B=Math.cos((this.Ea+90)/180*Math.PI)*this.da;var N=Math.sin((this.Ea+90)/180*Math.PI)*this.da}else f=q,B=L=0,N=m;
E=q*(c+l-u+t-this.za+a.F)+a.displayHeight/2;d=m*(c+l-u+t-this.za+a.F)+a.displayHeight/2;E=q*(b+k-r+v-this.Ka+a.H)+a.displayWidth/2+(this.ha?(a.displayHeight/2-E)/2:0);0!==this.Ea&&(this.Ee(E,d,w),E=w[0],d=w[1]);H=E;z=d;n.fillStyle=this.dj;if(this.ha&&!this.Fa&&4<=this.zoom)this.on(b,c,b+e-1,c+g-1,r,u,a.ea);else if(!this.Fa&&this.Z&&4<=this.zoom)this.un(b,c,b+e-1,c+g-1,r,u,a.ea);else{n.beginPath();for(l=p=0;l<g;l+=1){E=H;for(k=0;k<e;k+=1)b=a.ea[p],p+=1,b&&(b=E+f,c=d+L,q=b+B,m=c+N,r=q-f,u=m-L,0>E&&
0>b&&0>q&&0>r||E>=a.displayWidth&&b>=a.displayWidth&&q>=a.displayWidth&&r>=a.displayWidth||0>d&&0>c&&0>m&&0>u||d>=a.displayHeight&&c>=a.displayHeight&&m>=a.displayHeight&&u>=a.displayHeight||(n.moveTo(E,d),n.lineTo(b,c),n.lineTo(q,m),n.lineTo(r,u))),E+=f,d+=L;H+=B;d=z+=N;this.ha&&(H-=f/2)}n.fill()}}};pa.prototype.Ee=function(a,b,c){var d=this.displayWidth/2,f=this.displayHeight/2;if(0!==this.Ea){a-=d;b-=f;var e=Math.sqrt(a*a+b*b);b=180/Math.PI*Math.atan2(b,a);b+=this.Ea;a=Math.round(e*Math.cos(Math.PI/
180*b)+d);b=Math.round(e*Math.sin(Math.PI/180*b)+f)}c[0]=a;c[1]=b};pa.prototype.sn=function(a){var b=a.oc+.5|0,c=a.H-a.aa,d=a.F-a.ba;(a.P||a.Hc)&&this.$m(a,a.fa,this.cj);if(a.na){var f=a.C.Y;var e=a.C.Z;-1!==f&&(a.Nj(f,e),this.qn(a,a.Bc-c,a.Fc-d,b,this.pi))}};pa.prototype.Gc=function(a){var b=a,c=a|0;a!==c&&(b=c+1);return b};pa.prototype.$m=function(a,b,c){var d=this.oa,f=this.zoom,e=this.rc(this.zoom),g=b.J,k=b.K,l=b.L;b=b.N;var p=a.F-a.ba,n=a.H-a.aa,q=a.F-this.ka,m=a.H-this.ma-(this.ha?this.ka/
2:0),r=[0,0],u=0!==this.angle?1:0,t=a.fa;if(g>l){var v=g;g=l;l=v}k>b&&(v=k,k=b,b=v);v=l-g+1;var B=b-k+1;a.mc&&-1!==a.g.S&&(n+=Math.floor(a.xd/2),p+=Math.floor(a.wd/2));var w=f*(k-p+q-this.za+a.F)+a.displayHeight/2;k=e*(k-p+q-this.za+a.F)+a.displayHeight/2;g=f*(g-n+m-this.Ka+a.H)+a.displayWidth/2+(this.ha?(a.displayHeight/2-w)/2:0);w=f*(b+1-p+q-this.za+a.F)+a.displayHeight/2;b=e*(b+1-p+q-this.za+a.F)+a.displayHeight/2;l=f*(l+1-n+m-this.Ka+a.H)+a.displayWidth/2+(this.ha?(a.displayHeight/2-w)/2:0);d.fillStyle=
c;d.globalAlpha=.5;if(this.ha)if(!this.Fa&&4<=this.zoom)a.mc&&(n+=2*a.bc,p+=2*a.qc),this.wk(t.J,t.K,t.L,t.N,n,p);else{d.beginPath();v*=f;for(a=0;a<B;a+=1)d.moveTo(g,k),d.lineTo(g+v+1,k),d.lineTo(g+v+1,k+e+1),d.lineTo(g,k+e+1),g-=f/2,k+=e;d.fill()}else this.Z&&!this.Fa&&4<=this.zoom?(a.mc&&(n+=2*a.bc,p+=2*a.qc),this.yk(t.J,t.K,t.L,t.N,n,p)):(0!==this.angle?(d.beginPath(),this.Ee(g,k,r),d.moveTo(r[0],r[1]),this.Ee(l+u,k,r),d.lineTo(r[0],r[1]),this.Ee(l+u,b+u,r),d.lineTo(r[0],r[1]),this.Ee(g,b+u,r),
d.lineTo(r[0],r[1])):(d.beginPath(),d.moveTo(this.Gc(g),this.Gc(k)),d.lineTo(this.Gc(l),this.Gc(k)),d.lineTo(this.Gc(l),this.Gc(b)),d.lineTo(this.Gc(g),this.Gc(b))),d.fill());d.globalAlpha=1};pa.prototype.ti=function(a){return this.jc?"rgb("+(a&255)+","+(a>>8&255)+","+(a>>16&255)+")":"rgb("+(a>>24)+","+(a>>16&255)+","+(a>>8&255)+")"};pa.prototype.mn=function(){var a,b=this.displayWidth,c=this.displayHeight,d=this.fd,f=this.sd,e=this.da,g=this.rc(this.da),k=d,l,p=0<this.lb&&this.yc,n=this.counter&
1,q=Math.abs(b-c),m=((this.height/2-(this.ka+this.za))*g+c/2)%g,r=((this.width/2-(this.ma+this.Ka))*e+b/2)%e,u=this.view.S/2|0,t=this.view.V/2|0;if(this.Ya)var v=p?2:1;else v=1,p=!1,k=d=this.Za[0];var B=d;for(this.ja&&2===this.lb&&this.xd||(n=0);v;){var w=-(b/2/e)-(this.width/2-this.ma-this.Ka)|0;w+=u-2;var z=-e*q;var E=b+e+e*q;var H=m-g*q;var L=c+g*q;var N=-b/1.5;var M=b+b/1.5;var V=-c/1.5;for(l=c+c/1.5;z<=E;z+=e)if(p&&(k=0===(w+n)%this.lb?f:d),w+=1,k===B)if(this.ha){var X=-(c/2/g)-(this.height/
2-this.ka-this.za)|0;for(a=H;a<L;a+=g)(X&1)===(q&1)?this.rh(Math.round(z+r),Math.round(a),Math.round(z+r),Math.round(a+g-1),k):this.rh(Math.round(z+r+e/2),Math.round(a),Math.round(z+r+e/2),Math.round(a+g-1),k),X+=1}else this.rh(Math.round(z+r),V,Math.round(z+r),l-1,k);w=-(c/2/g)-(this.height/2-this.ka-this.za)|0;w+=t-2;for(a=H;a<L;a+=g)p&&(k=0===(w+n)%this.lb?f:d),w+=1,k===B&&this.rh(N,Math.round(a),M-1,Math.round(a),k);--v;B=f}};pa.prototype.je=function(){return 4<=this.da};pa.prototype.Dl=function(a,
b,c){var d=this.ba,f=this.$,e=this.ja?-1:0,g=Math.round((this.width-d)/2-1)+e,k=g+d+1,l=Math.round((this.height-f)/2-1)+e;e=l+f+1;l&=~c;e&=~c;g&=~c;k&=~c;if(0===d){d=a[e];for(c=0;c<this.width;c+=1)0===d[c]&&(d[c]=b);d=a[l];for(c=0;c<this.width;c+=1)0===d[c]&&(d[c]=b)}else if(0===f)for(c=0;c<this.height;c+=1)l=a[c],0===l[g]&&(l[g]=b),0===l[k]&&(l[k]=b);else{d=a[e];for(c=g;c<=k;c+=1)0===d[c]&&(d[c]=b);d=a[l];for(c=g;c<=k;c+=1)0===d[c]&&(d[c]=b);for(c=l+1;c<=e-1;c+=1)l=a[c],0===l[g]&&(l[g]=b),0===l[k]&&
(l[k]=b)}};pa.prototype.kf=function(a,b){var c=this.ba,d=this.$,f=this.ja?-1:0,e=Math.round((this.width-c)/2-1)+f,g=e+c+1,k=Math.round((this.height-d)/2-1)+f;f=k+d+1;var l=a[k],p=a[f];if(0===c)l.fill(b,0,this.width),p.fill(b,0,this.width);else if(0===d)for(c=0;c<this.height;c+=1)a[c][e]=b,a[c][g]=b,this.Z&&(0<e&&(a[c][e-1]=b),g<this.width-1&&(a[c][g+1]=b));else for(l.fill(b,e,g+1),p.fill(b,e,g+1),this.Z&&0<e&&(l[e-1]=b,p[e-1]=b),c=k+1;c<=f-1;c+=1)a[c][e]=b,a[c][g]=b,this.Z&&(0<e&&(a[c][e-1]=b),g<
this.width-1&&(a[c][g+1]=b))};pa.prototype.th=function(a,b){a=2<this.i?this.u||this.G||this.D?1:0===this.v?this.i/this.Aa*b|0:b<a/2?this.v/this.Aa*b*2|0:this.v+this.i/this.Aa*b|0:this.$a===y.tf||this.D?1:(this.Ke+1)/this.Aa*b|0;1>a&&(a=1);return a};pa.prototype.zk=function(a){var b=0;.0625>a?b=31:.125>a?b=15:.25>a?b=7:.5>a?b=3:1>a&&(b=1);return b};pa.prototype.Xi=function(a,b){var c=this.Za[0],d=this.Nc,f=this.h,e=this.ke,g=this.Ua;this.tg=!0;(this.s||this.D||this.u||this.G)&&0!==(this.counter&1)&&
(f=this.P,e=this.Af,g=this.Pa);this.Od&&(this.vj(),c=this.Za[0],--this.Od,this.Od||(this.ge.set(this.wd),this.kd.set(this.ed),this.Ge.set(this.ae),this.Lf.set(this.xf),this.me.set(this.Vd),this.eg.set(this.Df)));this.da=this.zoom*this.cb;this.da<G.Ab?this.da=G.Ab:this.da>G.Pb&&(this.da=G.Pb);this.Hb=this.ma+this.Ka;this.Ib=this.ka+this.za;this.Ca=this.mc/2+1;var k=this.da;this.Ea=this.ha||this.Z||this.view.td?0:this.angle;-1!==this.S&&1<=this.da&&this.kf(f,this.hc);4<=k&&(!this.Fa&&this.ha||!this.Fa&&
this.Z)?(d.fill(c),this.kb(1)):(1>k&&(-1!==this.S&&this.kf(f,0),this.yj(e,g,this.da),-1!==this.S&&this.Dl(this.Ba,this.hc,this.zk(this.da))),.0625>k?this.Dc?this.Yf(this.Db,this.Ba,31,a,b):this.Zf(this.Ba,this.Ba,31,a,b):.125>k?this.Dc?this.Yf(this.Db,this.Ba,15,a,b):this.Zf(this.Ba,this.Ba,15,a,b):.25>k?this.Dc?this.Yf(this.Db,this.Ba,7,a,b):this.Zf(this.Ba,this.Ba,7,a,b):.5>k?this.Dc?this.Yf(this.Db,this.Ba,3,a,b):this.Zf(this.Ba,this.Ba,3,a,b):1>k?this.Dc?this.Yf(this.Db,this.Ba,1,a,b):this.Zf(this.Ba,
this.Ba,1,a,b):this.Dc?this.Yf(this.Wa,f,0,a,b):this.Zf(f,f,0,a,b))};pa.prototype.rd=function(a){a&&(this.je()&&this.jb&&!this.Ya||this.ug());(this.Ya||this.jb)&&this.je()&&this.mn();a&&this.je()&&this.jb&&!this.Ya&&this.ug()};pa.prototype.af=function(a,b,c,d){var f=this.zk(a);if(-1!==this.S&&b){d=this.h;b=this.ke;var e=this.Ua;(this.s||this.D||this.u||this.G)&&0!==(this.counter&1)&&(d=this.P,b=this.Af,e=this.Pa);this.kf(d,0);0!==f&&(this.Oi=!0,this.yj(b,e,a),d=this.Ba);f=c}f!==c&&(d=this.h,b=this.ke,
e=this.Ua,(this.s||this.D||this.u||this.G)&&0!==(this.counter&1)&&(d=this.P,b=this.Af,e=this.Pa),0!==f&&(this.yj(b,e,a),d=this.Ba));return[f,d]};pa.prototype.to=function(a,b,c,d){var f=this.displayWidth>>3,e=this.Za,g=this.Nc,k=0,l=0;var p=this.width;var n=this.height;var q=1,m=1,r=0,u=this.ea,t=this.Ia&~c,v=this.Ha&~c,B=~c,w=~c,z=this.pd,E,H=a,L=this.da,N=!0;1<this.Ca&&(q=this.Aa);a=Math.sin(this.Ea/180*Math.PI)/this.da;var M=Math.cos(this.Ea/180*Math.PI)/this.da;var V=-(this.displayWidth/2*-a+this.displayHeight/
2*M)+this.Ib;var X=-(this.displayWidth/2*M+this.displayHeight/2*a)+this.Hb;1<this.Aa&&1<this.Ca&&(r=.4/(this.Aa-1),m=.6);this.kb(m);for(E=this.Za[0];p<u;)k+=p>>1,p<<=1;for(;n<u;)l+=n>>1,n<<=1;var I=0;var R=V;for(p=0;p<this.displayHeight;p+=1){var P=X;for(n=0;n<f;n+=1){if(0<=P&&(P&B)===(P&t)&&0<R&&(R&w)===(R&v)){var S=H[R&v][P&t]|0;g[I]=e[S]}else g[I]=0<=P+k&&P+k<u&&0<=R+l&&R+l<u?E:z;I+=1;P+=M;R-=a;0<=P&&(P&B)===(P&t)&&0<R&&(R&w)===(R&v)?(S=H[R&v][P&t]|0,g[I]=e[S]):g[I]=0<=P+k&&P+k<u&&0<=R+l&&R+l<
u?E:z;I+=1;P+=M;R-=a;0<=P&&(P&B)===(P&t)&&0<R&&(R&w)===(R&v)?(S=H[R&v][P&t]|0,g[I]=e[S]):g[I]=0<=P+k&&P+k<u&&0<=R+l&&R+l<u?E:z;I+=1;P+=M;R-=a;0<=P&&(P&B)===(P&t)&&0<R&&(R&w)===(R&v)?(S=H[R&v][P&t]|0,g[I]=e[S]):g[I]=0<=P+k&&P+k<u&&0<=R+l&&R+l<u?E:z;I+=1;P+=M;R-=a;0<=P&&(P&B)===(P&t)&&0<R&&(R&w)===(R&v)?(S=H[R&v][P&t]|0,g[I]=e[S]):g[I]=0<=P+k&&P+k<u&&0<=R+l&&R+l<u?E:z;I+=1;P+=M;R-=a;0<=P&&(P&B)===(P&t)&&0<R&&(R&w)===(R&v)?(S=H[R&v][P&t]|0,g[I]=e[S]):g[I]=0<=P+k&&P+k<u&&0<=R+l&&R+l<u?E:z;I+=1;P+=M;R-=
a;0<=P&&(P&B)===(P&t)&&0<R&&(R&w)===(R&v)?(S=H[R&v][P&t]|0,g[I]=e[S]):g[I]=0<=P+k&&P+k<u&&0<=R+l&&R+l<u?E:z;I+=1;P+=M;R-=a;0<=P&&(P&B)===(P&t)&&0<R&&(R&w)===(R&v)?(S=H[R&v][P&t]|0,g[I]=e[S]):g[I]=0<=P+k&&P+k<u&&0<=R+l&&R+l<u?E:z;I+=1;P+=M;R-=a}X+=a;R=V+=M}this.rd(d);H=b;for(b=1;b<q;b+=1)for(d=this.th(q,b),m+=r,this.kb(m),a/=this.Ca,M/=this.Ca,L*=this.Ca,t=this.af(L,N,c,H),c=t[0],H=t[1],N=!1,t=this.Ia&~c,v=this.Ha&~c,B=~c,w=~c,V=-(this.displayWidth/2*-a+this.displayHeight/2*M)+this.Ib,X=-(this.displayWidth/
2*M+this.displayHeight/2*a)+this.Hb,I=0,R=V,p=0;p<this.displayHeight;p+=1){P=X;for(n=0;n<f;n+=1)0<=P&&(P&B)===(P&t)&&0<R&&(R&w)===(R&v)&&(S=H[R&v][P&t]|0,S>=d&&(g[I]=e[S])),I+=1,P+=M,R-=a,0<=P&&(P&B)===(P&t)&&0<R&&(R&w)===(R&v)&&(S=H[R&v][P&t]|0,S>=d&&(g[I]=e[S])),I+=1,P+=M,R-=a,0<=P&&(P&B)===(P&t)&&0<R&&(R&w)===(R&v)&&(S=H[R&v][P&t]|0,S>=d&&(g[I]=e[S])),I+=1,P+=M,R-=a,0<=P&&(P&B)===(P&t)&&0<R&&(R&w)===(R&v)&&(S=H[R&v][P&t]|0,S>=d&&(g[I]=e[S])),I+=1,P+=M,R-=a,0<=P&&(P&B)===(P&t)&&0<R&&(R&w)===(R&
v)&&(S=H[R&v][P&t]|0,S>=d&&(g[I]=e[S])),I+=1,P+=M,R-=a,0<=P&&(P&B)===(P&t)&&0<R&&(R&w)===(R&v)&&(S=H[R&v][P&t]|0,S>=d&&(g[I]=e[S])),I+=1,P+=M,R-=a,0<=P&&(P&B)===(P&t)&&0<R&&(R&w)===(R&v)&&(S=H[R&v][P&t]|0,S>=d&&(g[I]=e[S])),I+=1,P+=M,R-=a,0<=P&&(P&B)===(P&t)&&0<R&&(R&w)===(R&v)&&(S=H[R&v][P&t]|0,S>=d&&(g[I]=e[S])),I+=1,P+=M,R-=a;X+=a;R=V+=M}};pa.prototype.vo=function(a,b,c,d){var f=this.displayWidth>>3,e=this.Za,g=this.Nc,k=0,l=0;var p=this.width;var n=this.height;var q=1,m=1,r=0,u=this.ea,t=this.Ia&
~c,v=this.Ha&~c,B=~c,w=~c,z=this.pd,E,H=a,L=this.da,N=!0;1<this.Ca&&(q=this.Aa);a=1/this.da;this.Z&&(a/=G.bk);this.ha&&(a/=G.Sj);var M=1/this.da;var V=-(this.displayHeight/2*a)+this.Ib;var X=-(this.displayWidth/2*M)+this.Hb;1<this.Aa&&1<this.Ca&&(r=.4/(this.Aa-1),m=.6);this.kb(m);for(E=this.Za[0];p<u;)k+=p>>1,p<<=1;for(;n<u;)l+=n>>1,n<<=1;var I=0;var R=V;for(p=0;p<this.displayHeight;p+=1){if(0<=R&&(R&w)===(R&v)){var P=H[R&v];var S=X;this.ha&&(S+=.5*(R|0));for(n=0;n<f;n+=1){if(0<=S&&(S&B)===(S&t)){var Z=
P[S&t]|0;g[I]=e[Z]}else g[I]=0<=S+k&&S+k<u?E:z;I+=1;S+=M;0<=S&&(S&B)===(S&t)?(Z=P[S&t]|0,g[I]=e[Z]):g[I]=0<=S+k&&S+k<u?E:z;I+=1;S+=M;0<=S&&(S&B)===(S&t)?(Z=P[S&t]|0,g[I]=e[Z]):g[I]=0<=S+k&&S+k<u?E:z;I+=1;S+=M;0<=S&&(S&B)===(S&t)?(Z=P[S&t]|0,g[I]=e[Z]):g[I]=0<=S+k&&S+k<u?E:z;I+=1;S+=M;0<=S&&(S&B)===(S&t)?(Z=P[S&t]|0,g[I]=e[Z]):g[I]=0<=S+k&&S+k<u?E:z;I+=1;S+=M;0<=S&&(S&B)===(S&t)?(Z=P[S&t]|0,g[I]=e[Z]):g[I]=0<=S+k&&S+k<u?E:z;I+=1;S+=M;0<=S&&(S&B)===(S&t)?(Z=P[S&t]|0,g[I]=e[Z]):g[I]=0<=S+k&&S+k<u?E:
z;I+=1;S+=M;0<=S&&(S&B)===(S&t)?(Z=P[S&t]|0,g[I]=e[Z]):g[I]=0<=S+k&&S+k<u?E:z;I+=1;S+=M}}else if(0<=R+l&&R+l<u)for(S=X,this.ha&&(S+=.5*(R|0)),n=0;n<this.displayWidth;n+=1)g[I]=0<=S+k&&S+k<u?E:z,I+=1,S+=M;else g.fill(z,I,I+this.displayWidth+1),I+=this.displayWidth;R=V+=a}this.rd(d);H=b;for(b=1;b<q;b+=1)for(d=this.th(q,b),m+=r,this.kb(m),a/=this.Ca,M/=this.Ca,L*=this.Ca,t=this.af(L,N,c,H),c=t[0],H=t[1],N=!1,t=this.Ia&~c,v=this.Ha&~c,B=~c,w=~c,V=-(this.displayHeight/2*a)+this.Ib,X=-(this.displayWidth/
2*M)+this.Hb,I=0,R=V,p=0;p<this.displayHeight;p+=1){if(0<=R&&(R&w)===(R&v))for(P=H[R&v],S=X,this.ha&&(S+=.5*(R|0)),n=0;n<f;n+=1)0<=S&&(S&B)===(S&t)&&(Z=P[S&t]|0,Z>=d&&(g[I]=e[Z])),I+=1,S+=M,0<=S&&(S&B)===(S&t)&&(Z=H[R&v][S&t]|0,Z>=d&&(g[I]=e[Z])),I+=1,S+=M,0<=S&&(S&B)===(S&t)&&(Z=H[R&v][S&t]|0,Z>=d&&(g[I]=e[Z])),I+=1,S+=M,0<=S&&(S&B)===(S&t)&&(Z=H[R&v][S&t]|0,Z>=d&&(g[I]=e[Z])),I+=1,S+=M,0<=S&&(S&B)===(S&t)&&(Z=H[R&v][S&t]|0,Z>=d&&(g[I]=e[Z])),I+=1,S+=M,0<=S&&(S&B)===(S&t)&&(Z=H[R&v][S&t]|0,Z>=d&&
(g[I]=e[Z])),I+=1,S+=M,0<=S&&(S&B)===(S&t)&&(Z=H[R&v][S&t]|0,Z>=d&&(g[I]=e[Z])),I+=1,S+=M,0<=S&&(S&B)===(S&t)&&(Z=H[R&v][S&t]|0,Z>=d&&(g[I]=e[Z])),I+=1,S+=M;else I+=f<<3;R=V+=a}};pa.prototype.xo=function(a,b,c,d){var f=this.displayWidth>>3,e=this.Za,g=this.Nc,k,l,p=1,n=1,q=0,m=this.Ia&~c,r=this.Ha&~c,u=a,t=this.da,v=!0;1<this.Ca&&(p=this.Aa);a=Math.sin(this.Ea/180*Math.PI)/this.da;var B=Math.cos(this.Ea/180*Math.PI)/this.da;var w=-(this.displayWidth/2*-a+this.displayHeight/2*B)+this.Ib;var z=-(this.displayWidth/
2*B+this.displayHeight/2*a)+this.Hb;1<this.Aa&&1<this.Ca&&(q=.4/(this.Aa-1),n=.6);this.kb(n);var E=0;var H=w;for(k=0;k<this.displayHeight;k+=1){var L=z;for(l=0;l<f;l+=1){var N=u[H&r][L&m]|0;g[E]=e[N];E+=1;L+=B;H-=a;N=u[H&r][L&m]|0;g[E]=e[N];E+=1;L+=B;H-=a;N=u[H&r][L&m]|0;g[E]=e[N];E+=1;L+=B;H-=a;N=u[H&r][L&m]|0;g[E]=e[N];E+=1;L+=B;H-=a;N=u[H&r][L&m]|0;g[E]=e[N];E+=1;L+=B;H-=a;N=u[H&r][L&m]|0;g[E]=e[N];E+=1;L+=B;H-=a;N=u[H&r][L&m]|0;g[E]=e[N];E+=1;L+=B;H-=a;N=u[H&r][L&m]|0;g[E]=e[N];E+=1;L+=B;H-=a}z+=
a;H=w+=B}this.rd(d);u=b;for(b=1;b<p;b+=1)for(d=this.th(p,b),n+=q,this.kb(n),a/=this.Ca,B/=this.Ca,t*=this.Ca,m=this.af(t,v,c,u),c=m[0],u=m[1],v=!1,m=this.Ia&~c,r=this.Ha&~c,w=-(this.displayWidth/2*-a+this.displayHeight/2*B)+this.Ib,z=-(this.displayWidth/2*B+this.displayHeight/2*a)+this.Hb,E=0,H=w,k=0;k<this.displayHeight;k+=1){L=z;for(l=0;l<f;l+=1)N=u[H&r][L&m]|0,N>=d&&(g[E]=e[N]),E+=1,L+=B,H-=a,N=u[H&r][L&m]|0,N>=d&&(g[E]=e[N]),E+=1,L+=B,H-=a,N=u[H&r][L&m]|0,N>=d&&(g[E]=e[N]),E+=1,L+=B,H-=a,N=u[H&
r][L&m]|0,N>=d&&(g[E]=e[N]),E+=1,L+=B,H-=a,N=u[H&r][L&m]|0,N>=d&&(g[E]=e[N]),E+=1,L+=B,H-=a,N=u[H&r][L&m]|0,N>=d&&(g[E]=e[N]),E+=1,L+=B,H-=a,N=u[H&r][L&m]|0,N>=d&&(g[E]=e[N]),E+=1,L+=B,H-=a,N=u[H&r][L&m]|0,N>=d&&(g[E]=e[N]),E+=1,L+=B,H-=a;z+=a;H=w+=B}};pa.prototype.Do=function(a,b,c,d){var f=this.displayWidth>>3,e=this.Za,g=this.Nc,k,l=1,p=1,n=0,q=this.Ia&~c,m=this.Ha&~c,r=a,u=this.da,t=!0;1<this.Ca&&(l=this.Aa);a=1/this.da;this.Z&&(a/=G.bk);this.ha&&(a/=G.Sj);var v=1/this.da;var B=-(this.displayHeight/
2*a)+this.Ib;var w=-(this.displayWidth/2*v)+this.Hb;1<this.Aa&&1<this.Ca&&(n=.4/(this.Aa-1),p=.6);this.kb(p);var z=0;var E=B;for(k=0;k<this.displayHeight;k+=1){var H=r[E&m];var L=w;this.ha&&(L+=.5*(E|0));for(E=0;E<f;E+=1){var N=H[L&q];g[z]=e[N];z+=1;L+=v;N=H[L&q];g[z]=e[N];z+=1;L+=v;N=H[L&q];g[z]=e[N];z+=1;L+=v;N=H[L&q];g[z]=e[N];z+=1;L+=v;N=H[L&q];g[z]=e[N];z+=1;L+=v;N=H[L&q];g[z]=e[N];z+=1;L+=v;N=H[L&q];g[z]=e[N];z+=1;L+=v;N=H[L&q];g[z]=e[N];z+=1;L+=v}E=B+=a}this.rd(d);r=b;for(b=1;b<l;b+=1)for(d=
this.th(l,b),p+=n,this.kb(p),a/=this.Ca,v/=this.Ca,u*=this.Ca,q=this.af(u,t,c,r),c=q[0],r=q[1],t=!1,q=this.Ia&~c,m=this.Ha&~c,B=-(this.displayHeight/2*a)+this.Ib,w=-(this.displayWidth/2*v)+this.Hb,z=0,E=B,k=0;k<this.displayHeight;k+=1){H=r[E&m];L=w;this.ha&&(L+=.5*(E|0));for(E=0;E<f;E+=1)N=H[L&q]|0,N>=d&&(g[z]=e[N]),z+=1,L+=v,N=H[L&q]|0,N>=d&&(g[z]=e[N]),z+=1,L+=v,N=H[L&q]|0,N>=d&&(g[z]=e[N]),z+=1,L+=v,N=H[L&q]|0,N>=d&&(g[z]=e[N]),z+=1,L+=v,N=H[L&q]|0,N>=d&&(g[z]=e[N]),z+=1,L+=v,N=H[L&q]|0,N>=d&&
(g[z]=e[N]),z+=1,L+=v,N=H[L&q]|0,N>=d&&(g[z]=e[N]),z+=1,L+=v,N=H[L&q]|0,N>=d&&(g[z]=e[N]),z+=1,L+=v;E=B+=a}};pa.prototype.Zf=function(a,b,c,d,f){var e=Math.sin(this.Ea/180*Math.PI)/this.da,g=Math.cos(this.Ea/180*Math.PI)/this.da,k=this.uh(),l=this.displayWidth,p=this.displayHeight,n=-(this.displayWidth/2*-e+this.displayHeight/2*g/k)+this.Ib,q=-(this.displayWidth/2*g+this.displayHeight/2*e)+this.Hb,m=n+l*-e,r=q+l*g;k=n+p*g/k;p=q+p*e;e=k+l*-e;g=p+l*g;l=k;var u=p,t=performance.now();g<u&&(u=g);q<u&&
(u=q);r<u&&(u=r);g>p&&(p=g);q>p&&(p=q);r>p&&(p=r);e>l&&(l=e);n>l&&(l=n);m>l&&(l=m);e<k&&(k=e);n<k&&(k=n);m<k&&(k=m);this.ha&&(u+=k/2,p+=l/2);0>(u|0)||(p|0)>=this.width||0>(k|0)||(l|0)>=this.height?0===this.Ea?8<=this.da&&this.Wd&&this.view.td?this.hl(a,u,k,p,l,d,f):this.Vc&&!this.ha&&1<=this.da&&1===this.Aa&&0===this.Gb?(this.kb(1),this.il(a,u,k,p,l,d,f)):(1<this.Aa&&1<this.Ca||this.ha||!(W.R&&W.sl&&this.view.i)?this.vo(a,b,c,d):(this.kb(1),va.YI(a.o.byteOffset|0,c|0,this.Za.byteOffset|0,this.Nc.byteOffset|
0,this.displayWidth|0,this.displayHeight|0,this.Hb,this.Ib,this.Ia|0,this.Ha|0,a[0].length|0,this.da,this.Z?G.bk:this.ha?G.Sj:1,this.ea|0,this.width|0,this.height|0,this.pd|0,this.Qg.byteOffset|0,this.sj.byteOffset|0),this.rd(d)),t=performance.now()-t,W.wb&&this.view.C.h("renderGridClip",t,W.R&&W.sl&&this.view.i&&!this.ha)):this.to(a,b,c,d):0===this.Ea?8<=this.da&&this.Wd&&this.view.td?this.hl(a,u,k,p,l,d,f):this.Vc&&!this.ha&&1<=this.da&&1===this.Aa&&0===this.Gb?(this.kb(1),this.il(a,u,k,p,l,d,f)):
(1<this.Aa&&1<this.Ca||this.ha||!(W.R&&W.sl&&this.view.i)?this.Do(a,b,c,d):(this.kb(1),va.ZI(a.o.byteOffset|0,c|0,this.Za.byteOffset|0,this.Nc.byteOffset|0,this.displayWidth|0,this.displayHeight|0,this.Hb,this.Ib,this.Ia|0,this.Ha|0,a[0].length|0,this.da,this.Z?G.bk:this.ha?G.Sj:1,this.Qg.byteOffset|0),this.rd(d)),t=performance.now()-t,W.wb&&this.view.C.h("renderGridNoClip",t,W.R&&W.sl&&this.view.i&&!this.ha)):this.xo(a,b,c,d)};pa.prototype.hl=function(a,b,c,d,f,e,g){var k=this.Yb,l=this.uf,p=this.wh,
n=new Uint32Array(p.data.buffer),q=this.oa,m=null,r=d-b,u=f-c,t=this.rc(this.da),v=0>b?-(b-Math.ceil(b))*this.da:-(b-Math.floor(b))*this.da,B=0>c?-(c-Math.ceil(c))*t:-(c-Math.floor(c))*t,w=this.da,z,E=this.ea,H=this.width-1,L=this.height-1,N=this.pd;d=this.width;f=this.height;for(var M=0,V=0,X=(this.Ya||this.jb)&&this.je(),I=[],R=[],P=0<this.lb&&this.yc,S=this.lb,Z=this.fd,qa=this.sd,ha,ca,ia,na=this.Za[this.v],ja=k.width,U,ma;d<E;)M+=d>>1,d<<=1;for(;f<E;)V+=f>>1,f<<=1;c|=0;b|=0;r=(r|0)+2;u=(u|0)+
2;d=b+r;f=c+u;this.s?(this.kb(1),this.uk(null)):-1!==this.S&&this.kb(1);if(16>w){var ea=this.zf;var aa=this.nh;ha=7}else 32>w?(ea=this.yf,aa=this.qg,ha=15):(ea=this.Ud,aa=this.mh,ha=31);aa=new Uint32Array(aa.data.buffer);ca=ha+1;var Y=ea.height/ea.width;var oa=0;for(ea=c;ea<f;ea+=1){(ea&L)===ea&&(m=a[ea]);var Q=oa*w|0;I[I.length]=Q;var F=0;for(Q=b;Q<d;Q+=1){var A=F*w|0;ea===c&&(R[R.length]=A);A=oa*ca*ja+F*ca;if(0>Q+M||Q+M>=E||0>ea+V||ea+V>=E)for(ia=0;ia<ca;ia+=1){for(z=0;z<ca;z+=4)n[A]=N,A+=1,n[A]=
N,A+=1,n[A]=N,A+=1,n[A]=N,A+=1;A+=ja-ca}else if((Q&H)===Q&&(ea&L)===ea)if(z=m[Q],-1!==this.S&&z===this.hc)for(ma=this.Za[this.hc],ia=0;ia<ca;ia+=1){for(z=0;z<ca;z+=4)n[A]=ma,A+=1,n[A]=ma,A+=1,n[A]=ma,A+=1,n[A]=ma,A+=1;A+=ja-ca}else if(this.s)if(z<=this.v)for(ma=this.Za[z],ia=0;ia<ca;ia+=1){for(z=0;z<ca;z+=4)n[A]=ma,A+=1,n[A]=ma,A+=1,n[A]=ma,A+=1,n[A]=ma,A+=1;A+=ja-ca}else{z-=this.v;U=(z-1)*ha*ha;for(ia=0;ia<ha;ia+=1){for(z=0;z<ha-3;z+=4)n[A]=aa[U],A+=1,U+=1,n[A]=aa[U],A+=1,U+=1,n[A]=aa[U],A+=1,U+=
1,n[A]=aa[U],A+=1,U+=1;n[A]=aa[U];A+=1;U+=1;n[A]=aa[U];A+=1;U+=1;n[A]=aa[U];A+=1;U+=1;n[A]=na;A+=ja-ha}for(z=0;z<ca;z+=4)n[A]=na,A+=1,n[A]=na,A+=1,n[A]=na,A+=1,n[A]=na,A+=1}else if(0===z||z>Y)for(ma=this.Za[z],ia=0;ia<ca;ia+=1){for(z=0;z<ca;z+=4)n[A]=ma,A+=1,n[A]=ma,A+=1,n[A]=ma,A+=1,n[A]=ma,A+=1;A+=ja-ca}else{z-=this.v;ma=this.Za[0];U=(z-1)*ha*ha;for(ia=0;ia<ha;ia+=1){for(z=0;z<ha-3;z+=4)n[A]=aa[U],A+=1,U+=1,n[A]=aa[U],A+=1,U+=1,n[A]=aa[U],A+=1,U+=1,n[A]=aa[U],A+=1,U+=1;n[A]=aa[U];A+=1;U+=1;n[A]=
aa[U];A+=1;U+=1;n[A]=aa[U];A+=1;U+=1;n[A]=ma;A+=ja-ha}for(z=0;z<ca;z+=4)n[A]=ma,A+=1,n[A]=ma,A+=1,n[A]=ma,A+=1,n[A]=ma,A+=1}else for(ma=this.Za[0],ia=0;ia<ca;ia+=1){for(z=0;z<ca;z+=4)n[A]=ma,A+=1,n[A]=ma,A+=1,n[A]=ma,A+=1,n[A]=ma,A+=1;A+=ja-ca}F+=1}oa+=1}l.putImageData(p,0,0);l.imageSmoothingEnabled=!0;l.imageSmoothingQuality="high";q.drawImage(k,0,0,r*ca,u*ca,v,B,r*this.da,u*t);l.imageSmoothingEnabled=!1;if(X){this.jb&&!this.Ya?(q.strokeStyle=this.ti(this.Za[0]),P=!1):q.strokeStyle=this.ti(Z);q.lineWidth=
1;q.beginPath();for(ea=0;ea<I.length;ea+=1)oa=(I[ea]+B|0)+.5,q.moveTo(0,oa),q.lineTo(this.displayWidth,oa);for(Q=0;Q<R.length;Q+=1)F=(R[Q]+v|0)+.5,q.moveTo(F,0),q.lineTo(F,this.displayHeight);q.stroke();if(P){ia=-(this.displayHeight/2/this.rc(this.da))-(this.height/2-this.ka-this.za)|0;ia+=(this.view.V/2|0)-7;z=-(this.displayWidth/2/this.da)-(this.width/2-this.ma-this.Ka)|0;z+=(this.view.S/2|0)-7;q.strokeStyle=this.ti(qa);q.beginPath();for(ea=0;ea<I.length;ea+=1)0===ia%S&&(oa=(I[ea]+B|0)+.5,q.moveTo(0,
oa),q.lineTo(this.displayWidth,oa)),ia+=1;for(Q=0;Q<R.length;Q+=1)0===z%S&&(F=(R[Q]+v|0)+.5,q.moveTo(F,0),q.lineTo(F,this.displayHeight)),z+=1;q.stroke()}}e||g?(this.Kc=this.oa.getImageData(0,0,this.oa.canvas.width,this.oa.canvas.height),this.Nc=new Uint32Array(this.Kc.data.buffer),e&&this.ug()):this.tg=!1};pa.prototype.il=function(a,b,c,d,f,e,g){var k=this.Za,l=this.Lh,p=this.bh,n=this.eh,q=(this.da|0)<<1,m=this.Jd.width,r=m*q,u=null,t=d-b,v=f-c,B=this.rc(this.da),w=0>b?-(b-Math.ceil(b))*this.da:
-(b-Math.floor(b))*this.da,z=0>c?-(c-Math.ceil(c))*B:-(c-Math.floor(c))*B,E,H=0,L,N=this.ea,M=this.width-1,V=this.height-1,X=this.fd,I=this.sd,R=this.Za[0],P=this.pd,S=0<this.lb&&this.yc&&!this.jb,Z=0,qa=0;var ha=this.counter&1;var ca=q>>1;f=this.width;d=this.height;var ia=0,na=0,ja=(this.Ya||this.jb)&&this.je(),U=[],ma=[];this.jb&&!this.Ya&&this.je()&&(X=R,S=!1);for(;f<N;)ia+=f>>1,f<<=1;for(;d<N;)na+=d>>1,d<<=1;c|=0;b|=0;t=(t|0)+2;v=(v|0)+2;d=b+t;f=c+v;switch(ca){case 1:var ea=r;var aa=t<<1;for(ha=
c;ha<f;ha+=1){(ha&V)===ha&&(u=a[ha]);var Y=H;for(E=b;E<d;E+=1){var oa=0>E+ia||E+ia>=N||0>ha+na||ha+na>=N?P:(E&M)!==E||(ha&V)!==ha?R:k[u[E]];l[H]=oa;l[H+1]=oa;H+=2}H=Y+m;l.copyWithin(H,Y,Y+aa);H=ea;ea+=r}break;case 2:ea=r;aa=t<<2;for(ha=c;ha<f;ha+=1){(ha&V)===ha&&(u=a[ha]);Y=H;for(E=b;E<d;E+=1)oa=0>E+ia||E+ia>=N||0>ha+na||ha+na>=N?P:(E&M)!==E||(ha&V)!==ha?R:k[u[E]],l[H]=oa,l[H+1]=oa,l[H+2]=oa,l[H+3]=oa,H+=4;H=Y+m;l.copyWithin(H,Y,Y+aa);H+=m;Y+=m;l.copyWithin(H,Y,Y+aa);H+=m;Y+=m;l.copyWithin(H,Y,Y+
aa);H=ea;ea+=r}break;default:for(ea=r,aa=t*q,S&&(this.ja&&2===this.lb&&this.xd||(ha=0),qa=-(this.displayWidth/2/this.da)-(this.width/2-this.ma-this.Ka)+this.view.S/2+.05|0,qa+=ha,Z=-(this.displayHeight/2/this.da)-(this.height/2-this.ka-this.za)+this.view.V/2+.05|0,Z+=ha),ha=c;ha<f;ha+=1){(ha&V)===ha&&(u=a[ha]);Y=H;var Q=qa;for(E=b;E<d;E+=1){oa=0>E+ia||E+ia>=N||0>ha+na||ha+na>=N?P:(E&M)!==E||(ha&V)!==ha?R:k[u[E]];for(L=0;L<ca;L+=1)l[H]=oa,l[H+1]=oa,H+=2;ja&&ha===c&&(U[U.length]=S&&0===Q%this.lb?I:
X);Q+=1}H=Y+m;for(E=1;E<q;E+=1)l.copyWithin(H,Y,Y+aa),Y+=m,H+=m;ja&&(ma[ma.length]=S&&0===Z%this.lb?I:X);H=ea;ea+=r;Z+=1}}p.putImageData(n,0,0,0,0,t*q,v*q);this.oa.imageSmoothingEnabled=!0;this.oa.drawImage(this.Jd,0,0,t*q,v*q,w,z,t*this.da,v*B);this.oa.imageSmoothingEnabled=!1;if(e||g||ja){this.Kc=this.oa.getImageData(0,0,this.oa.canvas.width,this.oa.canvas.height);this.Nc=new Uint32Array(this.Kc.data.buffer);if(ja){H=0;a=((this.width/2-(this.ma+this.Ka))*this.da+this.displayWidth/2)%this.da;E=-this.da+
a;for(ea=b;ea<=d;ea+=1)this.si(E|0,0,this.displayHeight-1,U[H]),E+=this.da,H+=1;H=0;b=((this.height/2-(this.ka+this.za))*this.da+this.displayHeight/2)%this.da;ha=-this.da+b;for(ea=c;ea<=f;ea+=1)this.Dj(0,this.displayWidth-1,ha|0,ma[H]),ha+=this.da,H+=1}e&&this.ug()}else this.tg=!1};pa.prototype.gl=function(a,b,c,d,f,e,g,k){var l=this.Za,p=this.Lh,n=this.bh,q=this.eh,m=(this.da|0)<<1,r=this.Jd.width,u=r*m,t=null,v=null,B=f-c,w=e-d,z=this.rc(this.da),E=-(c-Math.floor(c))*this.da,H=-(d-Math.floor(d))*
z,L,N=0,M=this.ea,V=this.width-1,X=this.height-1,I=this.fd,R=this.sd,P=this.Za[0],S=this.pd,Z=0<this.lb&&this.yc&&!this.jb,qa=0,ha=0;var ca=this.counter&1;var ia=m>>1;e=this.width;f=this.height;var na=0,ja=0,U=G.sb[3]+128,ma=G.sb[4]+128,ea=G.sb[5]+128,aa=G.sb[6]+128,Y=this.xa,oa=(this.Ya||this.jb)&&this.je(),Q=[],F=[];this.jb&&!this.Ya&&this.je()&&(I=P,Z=!1);for(;e<M;)na+=e>>1,e<<=1;for(;f<M;)ja+=f>>1,f<<=1;d|=0;c|=0;B=(B|0)+2;w=(w|0)+2;f=c+B;e=d+w;switch(ia){case 1:var A=u;var K=B<<1;for(ca=d;ca<
e;ca+=1){(ca&X)===ca&&(t=b[ca],v=a[ca]);var O=N;for(L=c;L<f;L+=1){if(0>L+na||L+na>=M||0>ca+ja||ca+ja>=M)var J=S;else if((L&V)!==L||(ca&X)!==ca)J=P;else{J=t[L];var x=v[L];x===ma||x===aa?(J>=Y&&(x=U),J=l[x]):x===U||x===ea?(J<Y&&(x=ma),J=l[x]):J=l[J]}p[N]=J;p[N+1]=J;N+=2}N=O+r;p.copyWithin(N,O,O+K);N=A;A+=u}break;case 2:A=u;K=B<<2;for(ca=d;ca<e;ca+=1){(ca&X)===ca&&(t=b[ca],v=a[ca]);O=N;for(L=c;L<f;L+=1)0>L+na||L+na>=M||0>ca+ja||ca+ja>=M?J=S:(L&V)!==L||(ca&X)!==ca?J=P:(J=t[L],x=v[L],x===ma||x===aa?(J>=
Y&&(x=U),J=l[x]):x===U||x===ea?(J<Y&&(x=ma),J=l[x]):J=l[J]),p[N]=J,p[N+1]=J,p[N+2]=J,p[N+3]=J,N+=4;N=O+r;p.copyWithin(N,O,O+K);N+=r;O+=r;p.copyWithin(N,O,O+K);N+=r;O+=r;p.copyWithin(N,O,O+K);N=A;A+=u}break;default:for(A=u,K=B*m,Z&&(this.ja&&2===this.lb&&this.xd||(ca=0),ha=-(this.displayWidth/2/this.da)-(this.width/2-this.ma-this.Ka)+this.view.S/2+.05|0,ha+=ca,qa=-(this.displayHeight/2/this.da)-(this.height/2-this.ka-this.za)+this.view.V/2+.05|0,qa+=ca),ca=d;ca<e;ca+=1){(ca&X)===ca&&(t=b[ca],v=a[ca]);
O=N;var C=ha;for(L=c;L<f;L+=1){0>L+na||L+na>=M||0>ca+ja||ca+ja>=M?J=S:(L&V)!==L||(ca&X)!==ca?J=P:(J=t[L],x=v[L],x===ma||x===aa?(J>=Y&&(x=U),J=l[x]):x===U||x===ea?(J<Y&&(x=ma),J=l[x]):J=l[J]);for(x=0;x<ia;x+=1)p[N]=J,p[N+1]=J,N+=2;oa&&ca===d&&(Q[Q.length]=Z&&0===C%this.lb?R:I);C+=1}N=O+r;for(L=1;L<m;L+=1)p.copyWithin(N,O,O+K),O+=r,N+=r;oa&&(F[F.length]=Z&&0===qa%this.lb?R:I);N=A;A+=u;qa+=1}}n.putImageData(q,0,0,0,0,B*m,w*m);this.oa.imageSmoothingEnabled=!0;this.oa.drawImage(this.Jd,0,0,B*m,w*m,E,H,
B*this.da,w*z);this.oa.imageSmoothingEnabled=!1;if(g||k||oa){this.Kc=this.oa.getImageData(0,0,this.oa.canvas.width,this.oa.canvas.height);this.Nc=new Uint32Array(this.Kc.data.buffer);if(oa){N=0;a=((this.width/2-(this.ma+this.Ka))*this.da+this.displayWidth/2)%this.da;L=-this.da+a;for(A=c;A<=f;A+=1)this.si(L|0,0,this.displayHeight-1,Q[N]),L+=this.da,N+=1;N=0;c=((this.height/2-(this.ka+this.za))*this.da+this.displayHeight/2)%this.da;ca=-this.da+c;for(A=d;A<=e;A+=1)this.Dj(0,this.displayWidth-1,ca|0,
F[N]),ca+=this.da,N+=1}g&&this.ug()}else this.tg=!1};pa.prototype.io=function(a,b,c,d){var f=this.displayWidth>>3,e=this.Za,g=this.Nc,k=0,l=0;var p=this.width;var n=this.height;var q=G.sb[3]+128,m=G.sb[4]+128,r=G.sb[5]+128,u=G.sb[6]+128,t=1,v=1,B=0,w=this.ea,z=this.xa,E=this.Ia&~c,H=this.Ha&~c,L=~c,N=~c,M=this.pd,V,X=b,I=this.da,R=!0;1<this.Ca&&(t=this.Aa);var P=Math.sin(this.Ea/180*Math.PI)/this.da;var S=Math.cos(this.Ea/180*Math.PI)/this.da;var Z=-(this.displayWidth/2*-P+this.displayHeight/2*S)+
this.Ib;var qa=-(this.displayWidth/2*S+this.displayHeight/2*P)+this.Hb;1<this.Aa&&1<this.Ca&&(B=.4/(this.Aa-1),v=.6);this.kb(v);for(V=this.Za[0];p<w;)k+=p>>1,p<<=1;for(;n<w;)l+=n>>1,n<<=1;var ha=0;var ca=Z;for(p=0;p<this.displayHeight;p+=1){var ia=qa;for(n=0;n<f;n+=1){if(0<=ia&&(ia&L)===(ia&E)&&0<=ca&&(ca&N)===(ca&H)){var na=X[ca&H][ia&E];var ja=a[ca&H][ia&E];ja===m||ja===u?(na>=z&&(ja=q),na=e[ja]|0):ja===q||ja===r?(na<z&&(ja=m),na=e[ja]|0):na=e[na]|0;g[ha]=na}else g[ha]=0<=ia+k&&ia+k<w&&0<=ca+l&&
ca+l<w?V:M;ha+=1;ia+=S;ca-=P;0<=ia&&(ia&L)===(ia&E)&&0<=ca&&(ca&N)===(ca&H)?(na=X[ca&H][ia&E],ja=a[ca&H][ia&E],ja===m||ja===u?(na>=z&&(ja=q),na=e[ja]|0):ja===q||ja===r?(na<z&&(ja=m),na=e[ja]|0):na=e[na]|0,g[ha]=na):g[ha]=0<=ia+k&&ia+k<w&&0<=ca+l&&ca+l<w?V:M;ha+=1;ia+=S;ca-=P;0<=ia&&(ia&L)===(ia&E)&&0<=ca&&(ca&N)===(ca&H)?(na=X[ca&H][ia&E],ja=a[ca&H][ia&E],ja===m||ja===u?(na>=z&&(ja=q),na=e[ja]|0):ja===q||ja===r?(na<z&&(ja=m),na=e[ja]|0):na=e[na]|0,g[ha]=na):g[ha]=0<=ia+k&&ia+k<w&&0<=ca+l&&ca+l<w?
V:M;ha+=1;ia+=S;ca-=P;0<=ia&&(ia&L)===(ia&E)&&0<=ca&&(ca&N)===(ca&H)?(na=X[ca&H][ia&E],ja=a[ca&H][ia&E],ja===m||ja===u?(na>=z&&(ja=q),na=e[ja]|0):ja===q||ja===r?(na<z&&(ja=m),na=e[ja]|0):na=e[na]|0,g[ha]=na):g[ha]=0<=ia+k&&ia+k<w&&0<=ca+l&&ca+l<w?V:M;ha+=1;ia+=S;ca-=P;0<=ia&&(ia&L)===(ia&E)&&0<=ca&&(ca&N)===(ca&H)?(na=X[ca&H][ia&E],ja=a[ca&H][ia&E],ja===m||ja===u?(na>=z&&(ja=q),na=e[ja]|0):ja===q||ja===r?(na<z&&(ja=m),na=e[ja]|0):na=e[na]|0,g[ha]=na):g[ha]=0<=ia+k&&ia+k<w&&0<=ca+l&&ca+l<w?V:M;ha+=
1;ia+=S;ca-=P;0<=ia&&(ia&L)===(ia&E)&&0<=ca&&(ca&N)===(ca&H)?(na=X[ca&H][ia&E],ja=a[ca&H][ia&E],ja===m||ja===u?(na>=z&&(ja=q),na=e[ja]|0):ja===q||ja===r?(na<z&&(ja=m),na=e[ja]|0):na=e[na]|0,g[ha]=na):g[ha]=0<=ia+k&&ia+k<w&&0<=ca+l&&ca+l<w?V:M;ha+=1;ia+=S;ca-=P;0<=ia&&(ia&L)===(ia&E)&&0<=ca&&(ca&N)===(ca&H)?(na=X[ca&H][ia&E],ja=a[ca&H][ia&E],ja===m||ja===u?(na>=z&&(ja=q),na=e[ja]|0):ja===q||ja===r?(na<z&&(ja=m),na=e[ja]|0):na=e[na]|0,g[ha]=na):g[ha]=0<=ia+k&&ia+k<w&&0<=ca+l&&ca+l<w?V:M;ha+=1;ia+=S;
ca-=P;0<=ia&&(ia&L)===(ia&E)&&0<=ca&&(ca&N)===(ca&H)?(na=X[ca&H][ia&E],ja=a[ca&H][ia&E],ja===m||ja===u?(na>=z&&(ja=q),na=e[ja]|0):ja===q||ja===r?(na<z&&(ja=m),na=e[ja]|0):na=e[na]|0,g[ha]=na):g[ha]=0<=ia+k&&ia+k<w&&0<=ca+l&&ca+l<w?V:M;ha+=1;ia+=S;ca-=P}qa+=P;ca=Z+=S}this.rd(d);X=b;for(a=1;a<t;a+=1)for(b=2<this.i?0===this.v?this.i/this.Aa*a|0:a<t/2?this.v/this.Aa*a*2|0:this.v+this.i/this.Aa*a|0:this.$a===y.tf?1:(this.Ke+1)/this.Aa*a|0,v+=B,this.kb(v),P/=this.Ca,S/=this.Ca,I*=this.Ca,Z=this.af(I,R,
c,X),c=Z[0],X=Z[1],R=!1,E=this.Ia&~c,H=this.Ha&~c,L=~c,N=~c,Z=-(this.displayWidth/2*-P+this.displayHeight/2*S)+this.Ib,qa=-(this.displayWidth/2*S+this.displayHeight/2*P)+this.Hb,ha=0,ca=Z,p=0;p<this.displayHeight;p+=1){ia=qa;for(n=0;n<f;n+=1)0<=ia&&(ia&L)===(ia&E)&&0<=ca&&(ca&N)===(ca&H)&&(na=X[ca&H][ia&E]|0,na>=b&&(g[ha]=e[na])),ha+=1,ia+=S,ca-=P,0<=ia&&(ia&L)===(ia&E)&&0<=ca&&(ca&N)===(ca&H)&&(na=X[ca&H][ia&E]|0,na>=b&&(g[ha]=e[na])),ha+=1,ia+=S,ca-=P,0<=ia&&(ia&L)===(ia&E)&&0<=ca&&(ca&N)===(ca&
H)&&(na=X[ca&H][ia&E]|0,na>=b&&(g[ha]=e[na])),ha+=1,ia+=S,ca-=P,0<=ia&&(ia&L)===(ia&E)&&0<=ca&&(ca&N)===(ca&H)&&(na=X[ca&H][ia&E]|0,na>=b&&(g[ha]=e[na])),ha+=1,ia+=S,ca-=P,0<=ia&&(ia&L)===(ia&E)&&0<=ca&&(ca&N)===(ca&H)&&(na=X[ca&H][ia&E]|0,na>=b&&(g[ha]=e[na])),ha+=1,ia+=S,ca-=P,0<=ia&&(ia&L)===(ia&E)&&0<=ca&&(ca&N)===(ca&H)&&(na=X[ca&H][ia&E]|0,na>=b&&(g[ha]=e[na])),ha+=1,ia+=S,ca-=P,0<=ia&&(ia&L)===(ia&E)&&0<=ca&&(ca&N)===(ca&H)&&(na=X[ca&H][ia&E]|0,na>=b&&(g[ha]=e[na])),ha+=1,ia+=S,ca-=P,0<=ia&&
(ia&L)===(ia&E)&&0<=ca&&(ca&N)===(ca&H)&&(na=X[ca&H][ia&E]|0,na>=b&&(g[ha]=e[na])),ha+=1,ia+=S,ca-=P;qa+=P;ca=Z+=S}};pa.prototype.oo=function(a,b,c,d){var f=this.displayWidth>>3,e=this.Za,g=this.Nc,k,l,p=G.sb[3]+128,n=G.sb[4]+128,q=G.sb[5]+128,m=G.sb[6]+128,r=1,u=1,t=0,v=this.xa,B=this.Ia&~c,w=this.Ha&~c,z=b,E=this.da,H=!0;1<this.Ca&&(r=this.Aa);var L=Math.sin(this.Ea/180*Math.PI)/this.da;var N=Math.cos(this.Ea/180*Math.PI)/this.da;var M=-(this.displayWidth/2*-L+this.displayHeight/2*N)+this.Ib;var V=
-(this.displayWidth/2*N+this.displayHeight/2*L)+this.Hb;1<this.Aa&&1<this.Ca&&(t=.4/(this.Aa-1),u=.6);this.kb(u);var X=0;var I=M;for(k=0;k<this.displayHeight;k+=1){var R=V;for(l=0;l<f;l+=1){var P=z[I&w][R&B];var S=a[I&w][R&B];S===n||S===m?(P>=v&&(S=p),P=e[S]|0):S===p||S===q?(P<v&&(S=n),P=e[S]|0):P=e[P]|0;g[X]=P;X+=1;R+=N;I-=L;P=z[I&w][R&B];S=a[I&w][R&B];S===n||S===m?(P>=v&&(S=p),P=e[S]|0):S===p||S===q?(P<v&&(S=n),P=e[S]|0):P=e[P]|0;g[X]=P;X+=1;R+=N;I-=L;P=z[I&w][R&B];S=a[I&w][R&B];S===n||S===m?(P>=
v&&(S=p),P=e[S]|0):S===p||S===q?(P<v&&(S=n),P=e[S]|0):P=e[P]|0;g[X]=P;X+=1;R+=N;I-=L;P=z[I&w][R&B];S=a[I&w][R&B];S===n||S===m?(P>=v&&(S=p),P=e[S]|0):S===p||S===q?(P<v&&(S=n),P=e[S]|0):P=e[P]|0;g[X]=P;X+=1;R+=N;I-=L;P=z[I&w][R&B];S=a[I&w][R&B];S===n||S===m?(P>=v&&(S=p),P=e[S]|0):S===p||S===q?(P<v&&(S=n),P=e[S]|0):P=e[P]|0;g[X]=P;X+=1;R+=N;I-=L;P=z[I&w][R&B];S=a[I&w][R&B];S===n||S===m?(P>=v&&(S=p),P=e[S]|0):S===p||S===q?(P<v&&(S=n),P=e[S]|0):P=e[P]|0;g[X]=P;X+=1;R+=N;I-=L;P=z[I&w][R&B];S=a[I&w][R&B];
S===n||S===m?(P>=v&&(S=p),P=e[S]|0):S===p||S===q?(P<v&&(S=n),P=e[S]|0):P=e[P]|0;g[X]=P;X+=1;R+=N;I-=L;P=z[I&w][R&B];S=a[I&w][R&B];S===n||S===m?(P>=v&&(S=p),P=e[S]|0):S===p||S===q?(P<v&&(S=n),P=e[S]|0):P=e[P]|0;g[X]=P;X+=1;R+=N;I-=L}V+=L;I=M+=N}this.rd(d);z=b;for(a=1;a<r;a+=1)for(b=2<this.i?0===this.v?this.i/this.Aa*a|0:a<r/2?this.v/this.Aa*a*2|0:this.v+this.i/this.Aa*a|0:this.$a===y.tf?1:(this.Ke+1)/this.Aa*a|0,u+=t,this.kb(u),L/=this.Ca,N/=this.Ca,E*=this.Ca,k=this.af(E,H,c,z),c=k[0],z=k[1],H=!1,
B=this.Ia&~c,w=this.Ha&~c,M=-(this.displayWidth/2*-L+this.displayHeight/2*N)+this.Ib,V=-(this.displayWidth/2*N+this.displayHeight/2*L)+this.Hb,X=0,I=M,k=0;k<this.displayHeight;k+=1){R=V;for(l=0;l<f;l+=1)P=z[I&w][R&B]|0,P>=b&&(g[X]=e[P]),X+=1,R+=N,I-=L,P=z[I&w][R&B]|0,P>=b&&(g[X]=e[P]),X+=1,R+=N,I-=L,P=z[I&w][R&B]|0,P>=b&&(g[X]=e[P]),X+=1,R+=N,I-=L,P=z[I&w][R&B]|0,P>=b&&(g[X]=e[P]),X+=1,R+=N,I-=L,P=z[I&w][R&B]|0,P>=b&&(g[X]=e[P]),X+=1,R+=N,I-=L,P=z[I&w][R&B]|0,P>=b&&(g[X]=e[P]),X+=1,R+=N,I-=L,P=z[I&
w][R&B]|0,P>=b&&(g[X]=e[P]),X+=1,R+=N,I-=L,P=z[I&w][R&B]|0,P>=b&&(g[X]=e[P]),X+=1,R+=N,I-=L;V+=L;I=M+=N}};pa.prototype.qo=function(a,b,c,d){var f=this.displayWidth>>3,e=this.Za,g=this.Nc,k,l=G.sb[3]+128,p=G.sb[4]+128,n=G.sb[5]+128,q=G.sb[6]+128,m=1,r=1,u=0,t=this.xa,v=this.Ia&~c,B=this.Ha&~c,w=b,z=this.da,E=!0;1<this.Ca&&(m=this.Aa);var H=1/this.da;this.Z&&(H/=G.bk);this.ha&&(H/=G.Sj);var L=1/this.da;var N=-(this.displayHeight/2*H)+this.Ib;var M=-(this.displayWidth/2*L)+this.Hb;1<this.Aa&&1<this.Ca&&
(u=.4/(this.Aa-1),r=.6);this.kb(r);var V=0;var X=N;for(k=0;k<this.displayHeight;k+=1){var I=w[X&B];var R=a[X&B];var P=M;this.ha&&(P+=.5*(X|0));for(X=0;X<f;X+=1){var S=I[P&v];var Z=R[P&v];Z===p||Z===q?(S>=t&&(Z=l),S=e[Z]|0):Z===l||Z===n?(S<t&&(Z=p),S=e[Z]|0):S=e[S]|0;g[V]=S;V+=1;P+=L;S=I[P&v];Z=R[P&v];Z===p||Z===q?(S>=t&&(Z=l),S=e[Z]|0):Z===l||Z===n?(S<t&&(Z=p),S=e[Z]|0):S=e[S]|0;g[V]=S;V+=1;P+=L;S=I[P&v];Z=R[P&v];Z===p||Z===q?(S>=t&&(Z=l),S=e[Z]|0):Z===l||Z===n?(S<t&&(Z=p),S=e[Z]|0):S=e[S]|0;g[V]=
S;V+=1;P+=L;S=I[P&v];Z=R[P&v];Z===p||Z===q?(S>=t&&(Z=l),S=e[Z]|0):Z===l||Z===n?(S<t&&(Z=p),S=e[Z]|0):S=e[S]|0;g[V]=S;V+=1;P+=L;S=I[P&v];Z=R[P&v];Z===p||Z===q?(S>=t&&(Z=l),S=e[Z]|0):Z===l||Z===n?(S<t&&(Z=p),S=e[Z]|0):S=e[S]|0;g[V]=S;V+=1;P+=L;S=I[P&v];Z=R[P&v];Z===p||Z===q?(S>=t&&(Z=l),S=e[Z]|0):Z===l||Z===n?(S<t&&(Z=p),S=e[Z]|0):S=e[S]|0;g[V]=S;V+=1;P+=L;S=I[P&v];Z=R[P&v];Z===p||Z===q?(S>=t&&(Z=l),S=e[Z]|0):Z===l||Z===n?(S<t&&(Z=p),S=e[Z]|0):S=e[S]|0;g[V]=S;V+=1;P+=L;S=I[P&v];Z=R[P&v];Z===p||Z===
q?(S>=t&&(Z=l),S=e[Z]|0):Z===l||Z===n?(S<t&&(Z=p),S=e[Z]|0):S=e[S]|0;g[V]=S;V+=1;P+=L}X=N+=H}this.rd(d);w=b;for(a=1;a<m;a+=1)for(b=2<this.i?0===this.v?this.i/this.Aa*a|0:a<m/2?this.v/this.Aa*a*2|0:this.v+this.i/this.Aa*a|0:this.$a===y.tf?1:(this.Ke+1)/this.Aa*a|0,r+=u,this.kb(r),H/=this.Ca,L/=this.Ca,z*=this.Ca,k=this.af(z,E,c,w),c=k[0],w=k[1],E=!1,v=this.Ia&~c,B=this.Ha&~c,N=-(this.displayHeight/2*H)+this.Ib,M=-(this.displayWidth/2*L)+this.Hb,V=0,X=N,k=0;k<this.displayHeight;k+=1){I=w[X&B];P=M;this.ha&&
(P+=.5*(X|0));for(X=0;X<f;X+=1)S=I[P&v]|0,S>=b&&(g[V]=e[S]),V+=1,P+=L,S=I[P&v]|0,S>=b&&(g[V]=e[S]),V+=1,P+=L,S=I[P&v]|0,S>=b&&(g[V]=e[S]),V+=1,P+=L,S=I[P&v]|0,S>=b&&(g[V]=e[S]),V+=1,P+=L,S=I[P&v]|0,S>=b&&(g[V]=e[S]),V+=1,P+=L,S=I[P&v]|0,S>=b&&(g[V]=e[S]),V+=1,P+=L,S=I[P&v]|0,S>=b&&(g[V]=e[S]),V+=1,P+=L,S=I[P&v]|0,S>=b&&(g[V]=e[S]),V+=1,P+=L;X=N+=H}};pa.prototype.ko=function(a,b,c,d){var f=this.displayWidth>>3,e=this.Za,g=this.Nc,k=0,l=0;var p=this.width;var n=this.height;var q=G.sb[3]+128,m=G.sb[4]+
128,r=G.sb[5]+128,u=G.sb[6]+128,t=1,v=1,B=0,w=this.ea,z=this.pd,E,H=this.xa,L=this.Ia&~c,N=this.Ha&~c,M=~c,V=~c,X=b,I=this.da,R=!0;1<this.Ca&&(t=this.Aa);var P=1/this.da;this.Z&&(P/=G.bk);this.ha&&(P/=G.Sj);var S=1/this.da;var Z=-(this.displayHeight/2*P)+this.Ib;var qa=-(this.displayWidth/2*S)+this.Hb;1<this.Aa&&1<this.Ca&&(B=.4/(this.Aa-1),v=.6);this.kb(v);for(E=this.Za[0];p<w;)k+=p>>1,p<<=1;for(;n<w;)l+=n>>1,n<<=1;var ha=0;var ca=Z;for(p=0;p<this.displayHeight;p+=1){if(0<=ca&&(ca&V)===(ca&N)){var ia=
X[ca&N];var na=a[ca&N];n=qa;this.ha&&(n+=.5*(ca|0));for(ca=0;ca<f;ca+=1){if(0<=n&&(n&M)===(n&L)){var ja=ia[n&L];var U=na[n&L];U===m||U===u?(ja>=H&&(U=q),ja=e[U]|0):U===q||U===r?(ja<H&&(U=m),ja=e[U]|0):ja=e[ja]|0}else ja=0<=n+k&&n+k<w?E:z;g[ha]=ja;ha+=1;n+=S;0<=n&&(n&M)===(n&L)?(ja=ia[n&L],U=na[n&L],U===m||U===u?(ja>=H&&(U=q),ja=e[U]|0):U===q||U===r?(ja<H&&(U=m),ja=e[U]|0):ja=e[ja]|0):ja=0<=n+k&&n+k<w?E:z;g[ha]=ja;ha+=1;n+=S;0<=n&&(n&M)===(n&L)?(ja=ia[n&L],U=na[n&L],U===m||U===u?(ja>=H&&(U=q),ja=e[U]|
0):U===q||U===r?(ja<H&&(U=m),ja=e[U]|0):ja=e[ja]|0):ja=0<=n+k&&n+k<w?E:z;g[ha]=ja;ha+=1;n+=S;0<=n&&(n&M)===(n&L)?(ja=ia[n&L],U=na[n&L],U===m||U===u?(ja>=H&&(U=q),ja=e[U]|0):U===q||U===r?(ja<H&&(U=m),ja=e[U]|0):ja=e[ja]|0):ja=0<=n+k&&n+k<w?E:z;g[ha]=ja;ha+=1;n+=S;0<=n&&(n&M)===(n&L)?(ja=ia[n&L],U=na[n&L],U===m||U===u?(ja>=H&&(U=q),ja=e[U]|0):U===q||U===r?(ja<H&&(U=m),ja=e[U]|0):ja=e[ja]|0):ja=0<=n+k&&n+k<w?E:z;g[ha]=ja;ha+=1;n+=S;0<=n&&(n&M)===(n&L)?(ja=ia[n&L],U=na[n&L],U===m||U===u?(ja>=H&&(U=q),
ja=e[U]|0):U===q||U===r?(ja<H&&(U=m),ja=e[U]|0):ja=e[ja]|0):ja=0<=n+k&&n+k<w?E:z;g[ha]=ja;ha+=1;n+=S;0<=n&&(n&M)===(n&L)?(ja=ia[n&L],U=na[n&L],U===m||U===u?(ja>=H&&(U=q),ja=e[U]|0):U===q||U===r?(ja<H&&(U=m),ja=e[U]|0):ja=e[ja]|0):ja=0<=n+k&&n+k<w?E:z;g[ha]=ja;ha+=1;n+=S;0<=n&&(n&M)===(n&L)?(ja=ia[n&L],U=na[n&L],U===m||U===u?(ja>=H&&(U=q),ja=e[U]|0):U===q||U===r?(ja<H&&(U=m),ja=e[U]|0):ja=e[ja]|0):ja=0<=n+k&&n+k<w?E:z;g[ha]=ja;ha+=1;n+=S}}else if(0<=ca+l&&ca+l<w)for(n=qa,this.ha&&(n+=.5*(ca|0)),ca=
0;ca<this.displayWidth;ca+=1)g[ha]=0<=n+k&&n+k<w?E:z,ha+=1,n+=S;else g.fill(z,ha,ha+this.displayWidth+1),ha+=this.displayWidth;ca=Z+=P}this.rd(d);X=b;for(a=1;a<t;a+=1)for(b=2<this.i?0===this.v?this.i/this.Aa*a|0:a<t/2?this.v/this.Aa*a*2|0:this.v+this.i/this.Aa*a|0:this.$a===y.tf?1:(this.Ke+1)/this.Aa*a|0,v+=B,this.kb(v),P/=this.Ca,S/=this.Ca,I*=this.Ca,Z=this.af(I,R,c,X),c=Z[0],X=Z[1],R=!1,L=this.Ia&~c,N=this.Ha&~c,M=~c,V=~c,Z=-(this.displayHeight/2*P)+this.Ib,qa=-(this.displayWidth/2*S)+this.Hb,
ha=0,ca=Z,p=0;p<this.displayHeight;p+=1){if(0<=ca&&(ca&V)===(ca&N))for(ia=X[ca&N],n=qa,this.ha&&(n+=.5*(ca|0)),ca=0;ca<f;ca+=1)0<=n&&(n&M)===(n&L)&&(ja=ia[n&L]|0,ja>=b&&(g[ha]=e[ja])),ha+=1,n+=S,0<=n&&(n&M)===(n&L)&&(ja=ia[n&L]|0,ja>=b&&(g[ha]=e[ja])),ha+=1,n+=S,0<=n&&(n&M)===(n&L)&&(ja=ia[n&L]|0,ja>=b&&(g[ha]=e[ja])),ha+=1,n+=S,0<=n&&(n&M)===(n&L)&&(ja=ia[n&L]|0,ja>=b&&(g[ha]=e[ja])),ha+=1,n+=S,0<=n&&(n&M)===(n&L)&&(ja=ia[n&L]|0,ja>=b&&(g[ha]=e[ja])),ha+=1,n+=S,0<=n&&(n&M)===(n&L)&&(ja=ia[n&L]|0,
ja>=b&&(g[ha]=e[ja])),ha+=1,n+=S,0<=n&&(n&M)===(n&L)&&(ja=ia[n&L]|0,ja>=b&&(g[ha]=e[ja])),ha+=1,n+=S,0<=n&&(n&M)===(n&L)&&(ja=ia[n&L]|0,ja>=b&&(g[ha]=e[ja])),ha+=1,n+=S;else ha+=f<<3;ca=Z+=P}};pa.prototype.Yf=function(a,b,c,d,f){var e=Math.sin(this.Ea/180*Math.PI)/this.da,g=Math.cos(this.Ea/180*Math.PI)/this.da,k=this.displayWidth,l=this.displayHeight,p=-(this.displayWidth/2*-e+this.displayHeight/2*g)+this.Ib,n=-(this.displayWidth/2*g+this.displayHeight/2*e)+this.Hb,q=p+k*-e,m=n+k*g,r=p+l*g;l=n+l*
e;e=r+k*-e;g=l+k*g;k=r;var u=l,t=performance.now();g<u&&(u=g);n<u&&(u=n);m<u&&(u=n);g>l&&(l=g);n>l&&(l=n);m>l&&(l=m);e>k&&(k=e);p>k&&(k=p);q>k&&(k=q);e<r&&(r=e);p<r&&(r=p);q<r&&(r=q);0>(u|0)||(l|0)>=this.width||0>(r|0)||(k|0)>=this.height?0===this.Ea?this.Vc&&1<=this.da&&1===this.Aa&&0===this.Gb?(this.kb(1),this.gl(a,b,u,r,l,k,d,f)):(1<this.Aa&&1<this.Ca||this.ha||this.Z||!(W.R&&W.sl&&this.view.i)?this.ko(a,b,c,d):(this.kb(1),va.eJ(b.o.byteOffset|0,a[0].length|0,a.o.byteOffset|0,c|0,this.Za.byteOffset|
0,this.Nc.byteOffset|0,this.displayWidth|0,this.displayHeight|0,this.Hb,this.Ib,this.Ia|0,this.Ha|0,this.da,G.sb[3]+128|0,G.sb[4]+128|0,G.sb[5]+128|0,G.sb[6]+128|0,y.xa|0,this.ea|0,this.width|0,this.height|0,this.pd|0,this.Qg.byteOffset|0,this.sj.byteOffset|0),this.rd(d)),t=performance.now()-t,W.wb&&this.view.C.h("renderGridClip",t,W.R&&W.sl&&this.view.i)):this.io(a,b,c,d):0===this.Ea?this.Vc&&1<=this.da&&1===this.Aa&&0===this.Gb?(this.kb(1),this.gl(a,b,u,r,l,k,d,f)):(1<this.Aa&&1<this.Ca||this.ha||
this.Z||!(W.R&&W.sl&&this.view.i)?this.qo(a,b,c,d):(this.kb(1),va.fJ(b.o.byteOffset|0,a[0].length|0,a.o.byteOffset|0,c|0,this.Za.byteOffset|0,this.Nc.byteOffset|0,this.displayWidth|0,this.displayHeight|0,this.Hb,this.Ib,this.Ia|0,this.Ha|0,this.da,G.sb[3]+128|0,G.sb[4]+128|0,G.sb[5]+128|0,G.sb[6]+128|0,y.xa|0,this.Qg.byteOffset|0),this.rd(d)),t=performance.now()-t,W.wb&&this.view.C.h("renderGridNoClip",t,W.R&&W.sl&&this.view.i)):this.oo(a,b,c,d)};pa.prototype.Vo=function(a,b){a.set(b)};pa.prototype.Cj=
function(a){var b;if(this.tg){if(!this.Kc.data.buffer){var c=this.Kc.data;var d=this.Zn;var f=d.length;for(b=0;b<f;)c[b]=d[b],b+=1,c[b]=d[b],b+=1,c[b]=d[b],b+=1,c[b]=d[b],b+=1}if(0!==this.Gb&&a){var e;a=this.oa.canvas.width;b=this.oa.canvas.height;f=this.Nc;c=this.Fg;d=a>>1;var g=b>>1;var k=this.Gb-1;var l=this.pd,p=(2*k+2)/b;null===this.Fg&&(c=this.Fg=this.T.h(ra.lc,a*b,"Life.tiltBuffer",!1));var n=-k;for(k=0;k<b;k+=1){var q=k-g;var m=0>=n?b:q/n+g|0;q=k*a;if(0>m||m>=b)for(e=0;e<a;e+=1)c[q+e]=l;else{var r=
m*a;m=-d/n+d;e=d/n+d;var u=(e-m)/a;for(e=0;e<a;e+=1){var t=m|0;c[q+e]=0>t||t>=a?l:f[r+t];m+=u}}n+=p}this.Vo(f,c)}this.oa.putImageData(this.Kc,0,0)}};pa.prototype.$l=function(a){this.Nc.fill(a)};Pa.prototype.aa=function(a,b){return 0>a||a>=this.s.length||0>b||b>=this.s.length||a>b?"":this.source.substring(this.s[a],this.s[b]+this.B[b])};Pa.prototype.P=function(){0<this.current&&--this.current};Pa.prototype.u=function(){for(;this.current<this.s.length&&10!==this.source.charCodeAt(this.s[this.current]);)this.current+=
1;this.current<this.s.length&&(this.current+=1)};Pa.prototype.G=function(){for(;this.current<this.s.length&&10===this.source.charCodeAt(this.s[this.current]);)this.current+=1};Pa.prototype.ba=function(){var a=!1;this.current<this.s.length&&10!==this.source.charCodeAt(this.s[this.current])&&(a=!0);return a};Pa.prototype.D=function(){var a=!1;this.current<this.s.length&&10===this.source.charCodeAt(this.s[this.current])&&(a=!0);return a};Pa.prototype.j=function(){var a="";this.current<this.s.length&&
(a=this.source.substring(this.s[this.current],this.s[this.current]+this.B[this.current]),this.current+=1);return a};Pa.prototype.$=function(){var a="";if(this.current<this.s.length){a=this.source.indexOf("\n",this.s[this.current]);if(-1===a)a=this.source.substring(this.s[this.current]);else{var b=this.source.indexOf("\r",this.s[this.current]);-1!==b&&b<a&&(a=b);a=this.source.substring(this.s[this.current],a)}this.u()}return a};Pa.prototype.Y=function(){var a;for(a=this.j();"\n"===a;)a=this.j();return a};
Pa.prototype.m=function(){var a="";this.current<this.s.length&&(a=this.source.substring(this.s[this.current],this.s[this.current]+this.B[this.current]));return a};Pa.prototype.S=function(a){return this.V(a,-1,!1)};Pa.prototype.A=function(a,b){return this.V(a,b,!0)};Pa.prototype.V=function(a,b,c){var d=-1,f=this.current;for(-1!==b&&0<=b&&b<this.s.length&&(f=b);f<this.s.length&&-1===d;){if(a.length===this.B[f]){var e=0;for(b=!0;b&&e<a.length;)a[e]!==this.source[this.s[f]+e]?b=!1:e+=1}else b=!1;b&&(c&&
0!==f&&10!==this.source.charCodeAt(this.s[f-1])&&(b=!1),b&&(d=f));f+=1}-1!==d&&(this.current=f);return d};Pa.prototype.v=function(a){return!isNaN(parseFloat(a))&&isFinite(Number(a))};Pa.prototype.O=function(a){var b=!1,c=a.indexOf("/");-1!==c&&(b=a.substring(0,c),a=a.substring(c+1),b=this.v(b)&&this.v(a));return b};Pa.prototype.H=function(a){var b=0;if(this.O(a)){var c=a.indexOf("/");var d=a.substring(0,c);a=a.substring(c+1);0!==Number(a)&&(b=Number(d)/Number(a))}else this.v(a)&&(b=parseFloat(a));
return b};Pa.prototype.h=function(){var a=0;this.current<this.s.length&&(0!==this.F[this.current]?(a=this.F[this.current]>>1,this.current+=1):(a=this.j(),a=this.H(a)));return a};Pa.prototype.i=function(){var a=!1;this.current<this.s.length&&(this.F[this.current]?a=!0:(a=this.source.substring(this.s[this.current],this.s[this.current]+this.B[this.current]),a=this.O(a)?!0:this.v(a)));return a};Pa.prototype.I=function(){var a=!1,b=this.current+1;b<this.s.length&&(this.F[b]?a=!0:(a=this.source.substring(this.s[b],
this.s[b]+this.B[b]),a=this.O(a)?!0:this.v(a)));return a};Pa.prototype.Z=function(){this.current=this.s.length};var Va={ww:0,play:1,stop:2,cq:12,IC:0,HC:200};jb.prototype.set=function(a){this.ro=a.ro;this.Sg=a.Sg;this.j=a.j;this.h=a.h;this.i=a.i;this.uc=a.uc;this.Sb=a.Sb;this.x=a.x;this.y=a.y;this.Zg=a.Zg;this.ah=a.ah;this.dh=a.dh;this.Qe=a.Qe;this.angle=a.angle;this.Gb=a.Gb;this.zoom=a.zoom;this.Aa=a.Aa;this.depth=a.depth;this.Lc=a.Lc;this.bd=a.bd;this.step=a.step;this.Ac=a.Ac;this.vd=a.vd;this.te=
a.te;this.nl=a.nl;this.grid=a.grid};jb.prototype.s=function(){var a="";switch(this.h){case Va.play:a=D.Qo;break;case Va.stop:a=D.Ro}return a};jb.prototype.AJ=function(a){this.Sg?(this.h!==Va.ww&&(a[a.length]=[D.Qo,"overwrites "+this.s()]),this.h=Va.play):a[a.length]=[D.Qo,"only valid at POI"]};jb.prototype.CJ=function(a){this.Sg?(this.h!==Va.ww&&(a[a.length]=[D.Ro,"overwrites "+this.s()]),this.h=Va.stop):a[a.length]=[D.Ro,"only valid at POI"]};jb.prototype.BJ=function(a){this.Sg?(this.j&&(a[a.length]=
[D.eq,"already defined"]),this.j=!0):a[a.length]=[D.eq,"only valid at POI"]};jb.prototype.DJ=function(a,b){this.Sg?(this.i!==Va.cq&&(b[b.length]=[D.fq+" "+a,"overwrites "+this.i]),this.i=a):b[b.length]=[D.fq,"only valid at POI"]};jb.prototype.u=function(a,b,c){var d=a.vd,f=b.vd,e=a.angle,g=b.angle,k=1,l=1;c>f&&(c=f);f-d===G.FJ&&(d=f);f!==d&&(k=Math.round((c-d)/(f-d)*1E6)/1E6,l=this.X.Y(k));d=b.Zg||b.Qe?k:l;f=b.ah||b.Qe?k:l;var p=b.dh||b.Qe?k:l;this.x=a.x+d*(b.x-a.x);this.y=a.y+f*(b.y-a.y);this.zoom=
a.zoom*Math.pow(b.zoom/a.zoom,p);180<g-e?e+=360:-180>g-e&&(g+=360);this.angle=(e+l*(g-e))%360;this.Gb=a.Gb+l*(b.Gb-a.Gb);this.Aa=a.Aa+k*(b.Aa-a.Aa)|0;this.depth=a.depth+k*(b.depth-a.depth);this.Lc=b.Lc;this.bd=b.bd;this.step=b.step;this.Ac=a.Ac+k*(b.Ac-a.Ac)|0;this.vd=c;this.te=b.te;this.Qe=b.Qe;this.ro=b.ro};Ca.prototype.pa=function(a,b,c,d,f,e,g,k,l,p,n,q,m,r,u,t,v,B){return new xc(a,b,c,d,f,e,g,k,l,p,n,q,m,r,u,t,v,B)};Ca.prototype.la=function(){this.u=[]};Ca.prototype.da=function(a){this.u[this.u.length]=
a};Ca.prototype.na=function(a,b,c,d,f,e,g,k,l,p,n,q,m,r,u,t,v,B,w,z,E){return new yc(a,b,c,d,f,e,g,k,l,p,n,q,m,r,u,t,v,B,w,z,E)};Ca.prototype.ja=function(){this.s=[]};Ca.prototype.ca=function(a){this.s[this.s.length]=a};Ca.prototype.oa=function(a,b,c,d,f,e,g,k,l,p,n,q,m,r,u,t,v,B,w,z){return new zc(a,b,c,d,f,e,g,k,l,p,n,q,m,r,u,t,v,B,w,z)};Ca.prototype.ka=function(){this.m=[]};Ca.prototype.S=function(a){a.u=a.message.indexOf("#P");a.F=a.message.indexOf("#G");a.m=a.message.indexOf("#H");a.j=a.message.indexOf("#I");
a.h=a.message.indexOf("#J");this.m[this.m.length]=a};Ca.prototype.B=function(){return this.m.length+this.s.length+this.u.length};Ca.prototype.ia=function(){this.ka();this.ja();this.la()};Ca.prototype.Sa=function(a){var b="",c="";0<=a&&a<this.u.length&&(a=this.u[a],a.D&&(c="*"),b=a.u?"FILL\t":"LINE\t",b+="X1"+c+" "+a.coords[0]+"\tY1"+c+" "+a.coords[1]);return b};Ca.prototype.Ua=function(a){var b="",c="";0<=a&&a<this.u.length&&(b=this.u[a],a=b.zoom,0<=a&&1>a&&(a=-1/a),b.v&&(c="*"),b="Z "+a.toFixed(1)+
"\tA"+c+" "+b.angle.toFixed(1));return b};Ca.prototype.Va=function(a){var b="";0<=a&&a<this.u.length&&(a=this.u[a],b="Alpha "+a.alpha.toFixed(1),-1!==a.h&&(b+="\tT1 "+a.h+"\tT2 "+a.m,0<a.i&&(b+="\tFade "+a.i)));return b};Ca.prototype.Wa=function(a){var b="";0<=a&&a<this.u.length&&(b=this.u[a].s);return b};Ca.prototype.ea=function(a){var b="",c="";0<=a&&a<this.s.length&&(a=this.s[a],a.B&&(c="*"),b="X1"+c+" "+a.D+"\tY1"+c+" "+a.G,b+="\tX2"+c+" "+a.F+"\tY2"+c+" "+a.H);return b};Ca.prototype.fa=function(a){var b=
"",c="";0<=a&&a<this.s.length&&(b=this.s[a],a=b.zoom,0<=a&&1>a&&(a=-1/a),b.s&&(c="*"),b="Z "+a.toFixed(1)+"\tA"+c+" "+b.angle.toFixed(1));return b};Ca.prototype.ga=function(a){var b="";0<=a&&a<this.s.length&&(a=this.s[a],b="Alpha "+a.alpha.toFixed(1),-1!==a.h&&(b+="\tT1 "+a.h+"\tT2 "+a.m,0<a.i&&(b+="\tFade "+a.i)));return b};Ca.prototype.Iq=function(a){var b="";0<=a&&a<this.s.length&&(b=this.s[a].u);return b};Ca.prototype.ya=function(a){var b="",c="",d="";if(0<=a&&a<this.m.length){var f=this.m[a];
a=f.zoom;0<=a&&1>a&&(a=-1/a);f.O&&(c="*");f.G&&(d="*");b="X"+c+" "+f.x+"\tY"+c+" "+f.y;b+="\tZ "+a.toFixed(1)+"\tA"+d+" "+f.angle.toFixed(1)}return b};Ca.prototype.za=function(a){var b="";0<=a&&a<this.m.length&&(a=this.m[a],b="Alpha "+a.alpha.toFixed(1),-1!==a.i&&(b+="\tT1 "+a.i+"\tT2 "+a.D,0<a.s&&(b+="\tFade "+a.s)));return b};Ca.prototype.Ba=function(a){var b="";0<=a&&a<this.m.length&&(a=this.m[a],b="Size "+a.size+'\t"'+a.message+'"');return b};Ca.prototype.Ca=function(a){var b="";0<=a&&a<this.m.length&&
(b=this.m[a].v);return b};Ca.prototype.cb=function(){this.m.sort(function(a,b){return a.zoom-b.zoom})};Ca.prototype.ab=function(){this.s.sort(function(a,b){return a.zoom-b.zoom})};Ca.prototype.eb=function(){this.u.sort(function(a,b){return a.zoom-b.zoom})};Ca.prototype.$a=function(){this.cb();this.ab();this.eb()};Ca.prototype.Z=function(a,b){var c,d=a.g,f=d.oa,e=d.width/2-d.ma-d.Ka,g=d.height/2-d.ka-d.za,k=d.zoom*d.cb,l=d.rc(d.zoom),p=d.displayWidth/2,n=d.displayHeight/2,q=a.g.counter,m=d.ha?-(d.height>>
2):0,r=0,u=d.Gb,t=u-1,v=1,B=0,w=0,z=0,E=0,H=a.ja/a.tc;d.ha&&(e+=g/2);b&&(f.strokeStyle=G.WF);for(c=0;c<this.s.length;c+=1){var L=this.s[c];var N=L.D;var M=L.G;var V=L.F;var X=L.H;-1!==a.g.S&&(N+=a.S>>1,M+=a.V>>1,V+=a.S>>1,X+=a.V>>1);if(!b||L.O){var I=!0;-1!==L.h&&(q<L.h||q>L.m)&&(I=!1);if(I){var R=L.size*k/L.zoom;b&&(r=1,24<=R&&(r=2,48<=R&&(r=3)));if(k>=L.Ab&&k<=L.Pb){var P=Math.log(k/L.Ab)/Math.log(L.Pb/L.Ab);P=.25>=P?4*P:.75<=P?4*(1-P):1;var S=1;-1!==L.h&&0<L.i&&(q-L.h<L.i?S=(q-L.h+1)/L.i:L.m-q<
L.i&&(S=(L.m-q+1)/L.i));I=!0;var Z=1;if(-1!==L.j){var qa=a.et(N,M);qa>L.j?I=!1:0<L.j&&.75<qa/L.j&&(Z=4*(1-qa/L.j))}I&&(f.globalAlpha=P*L.alpha*S*Z,P=M+g-(a.V>>1)+.5,S=N+e+m-(a.S>>1)+.5,L.B||(S+=d.Ka,P+=d.za),-1!==L.h?(S+=L.v*(H-L.h),P+=L.A*(H-L.h)):(S+=L.v*H,P+=L.A*H),0!==d.Ea&&(Z=Math.sqrt(S*S+P*P),P=180/Math.PI*Math.atan2(P,S),P+=d.Ea,S=Z*Math.cos(Math.PI/180*P),P=Z*Math.sin(Math.PI/180*P)),d.ha&&(S-=P/2),P=P*l+n,S=S*k+p,N=(V-N)*k,M=(X-M)*l,d.ha&&(N-=M/2),X=0===L.I?0:Math.sqrt(N*N+M*M)*L.I,0!==
u&&(v=-t+(2*t+2)/d.displayHeight*(d.displayHeight-P),P=(P-n)/v+n,S=(S-p)/v+p),0<=v&&(f.save(),f.translate(S,P),f.scale(1/v,1/v),P=L.angle,L.s||(P+=d.Ea),f.rotate(P/180*Math.PI),f.lineWidth=R,b||(f.strokeStyle=L.u),f.lineCap="round",f.lineJoin="round",0<X&&(L=Math.atan2(M,N),B=Math.cos(.85*Math.PI+L),w=Math.sin(.85*Math.PI+L),z=Math.cos(.85*-Math.PI+L),E=Math.sin(.85*-Math.PI+L)),0<r&&f.translate(r,r),f.beginPath(),f.moveTo(0,0),f.lineTo(N,M),0<X&&(f.moveTo(N,M),f.lineTo(N+X*B,M+X*w),f.moveTo(N,M),
f.lineTo(N+X*z,M+X*E)),f.stroke(),f.restore()))}}}}f.globalAlpha=1};Ca.prototype.sa=function(a){this.Z(a,!0);this.Z(a,!1)};Ca.prototype.$=function(a,b){var c,d=a.g,f=d.oa,e=d.width/2-d.ma-d.Ka,g=d.height/2-d.ka-d.za,k=d.zoom*d.cb,l=d.rc(d.zoom),p=d.displayWidth/2,n=d.displayHeight/2,q=a.g.counter,m=d.ha?-(d.height>>2):0,r=d.Gb,u=r-1,t=1,v=0,B=0,w=0,z=a.ja/a.tc;b&&(f.strokeStyle=G.KC,f.fillStyle=G.KC);d.ha&&(e+=g/2);-1!==a.g.S&&(B=a.S>>1,w=a.V>>1);for(c=0;c<this.u.length;c+=1){var E=this.u[c];var H=
E.coords;var L=H.length;if(!b||E.F){var N=!0;-1!==E.h&&(q<E.h||q>E.m)&&(N=!1);if(N){var M=E.size*k/E.zoom;b&&(v=1,24<=M&&(v=2,48<=M&&(v=3)));if(k>=E.Ab&&k<=E.Pb){var V=Math.log(k/E.Ab)/Math.log(E.Pb/E.Ab);V=.25>=V?4*V:.75<=V?4*(1-V):1;var X=1;-1!==E.h&&0<E.i&&(q-E.h<E.i?X=(q-E.h+1)/E.i:E.m-q<E.i&&(X=(E.m-q+1)/E.i));N=!0;var I=1;if(-1!==E.j){var R=a.et(E.coords[0]+B,E.coords[1]+w);R>E.j?N=!1:0<E.j&&.75<R/E.j&&(I=4*(1-R/E.j))}if(N&&(f.globalAlpha=V*E.alpha*X*I,V=0,I=H[V]+B+e+m-(a.S>>1)+.5,X=H[V+1]+
w+g-(a.V>>1)+.5,V+=2,E.D||(I+=d.Ka,X+=d.za),-1!==E.h?(I+=E.A*(z-E.h),X+=E.B*(z-E.h)):(I+=E.A*z,X+=E.B*z),0!==d.Ea&&(N=Math.sqrt(I*I+X*X),X=180/Math.PI*Math.atan2(X,I),X+=d.Ea,I=N*Math.cos(Math.PI/180*X),X=N*Math.sin(Math.PI/180*X)),d.ha&&(I-=X/2),X=X*l+n,R=I*k+p,0!==r&&(t=-u+(2*u+2)/d.displayHeight*(d.displayHeight-X),X=(X-n)/t+n,R=(R-p)/t+p),0<=t)){I=(H[V]-H[0])*k/t;N=(H[V+1]-H[1])*l/t;d.ha&&(I-=N/2);V+=2;f.save();f.translate(R,X);f.scale(1/t,1/t);X=E.angle;E.v||(X+=d.Ea);f.rotate(X/180*Math.PI);
f.lineWidth=M;b||(E.u?f.fillStyle=E.s:f.strokeStyle=E.s);f.lineCap="round";f.lineJoin="round";0<v&&f.translate(v,v);f.beginPath();f.moveTo(0,0);for(f.lineTo(I,N);V<L;)I=(H[V]-H[0])*k/t,N=(H[V+1]-H[1])*l/t,d.ha&&(I-=N/2),V+=2,f.lineTo(I,N);E.u?f.fill():f.stroke();f.restore()}}}}}f.globalAlpha=1};Ca.prototype.ua=function(a){this.$(a,!0);this.$(a,!1)};Ca.prototype.ta=function(a){var b,c=a.g,d=c.oa,f=c.width/2-c.ma-c.Ka,e=c.height/2-c.ka-c.za,g=c.zoom*c.cb,k=c.rc(c.zoom),l=c.displayWidth/2,p=c.displayHeight/
2,n=G.JH,q="px "+G.HH,m=a.g.counter,r=c.Gb,u=r-1,t=1,v=c.ha?-(c.height>>2):0,B=a.ja/a.tc;c.ha&&(f+=e/2);for(b=0;b<this.m.length;b+=1){var w=this.m[b];var z=w.x;var E=w.y;var H=w.P;-1!==a.g.S&&(z+=a.S>>1,E+=a.V>>1);var L=!0;-1!==w.i&&(m<w.i||m>w.D)&&(L=!1);if(L){var N=w.S?w.size:w.size*g/w.zoom;var M=1;24<=N&&(M=2,48<=N&&(M=3));if(g>=w.Ab&&g<=w.Pb){var V=Math.log(g/w.Ab)/Math.log(w.Pb/w.Ab);d.font=N+q;V=.25>=V?4*V:.75<=V?4*(1-V):1;var X=1;-1!==w.i&&0<w.s&&(m-w.i<w.s?X=(m-w.i+1)/w.s:w.D-m<w.s&&(X=(w.D-
m+1)/w.s));L=!0;var I=1;if(-1!==w.A){var R=a.et(z,E);R>w.A?L=!1:0<w.A&&.75<R/w.A&&(I=4*(1-R/w.A))}if(L&&(d.globalAlpha=V*w.alpha*X*I,X=z+f+v-(a.S>>1)+.5,V=E+e-(a.V>>1)+.5,w.O||(X+=c.Ka,V+=c.za),-1!==w.i?(X+=w.H*(B-w.i),V+=w.I*(B-w.i)):(X+=w.H*B,V+=w.I*B),0!==c.Ea&&(E=Math.sqrt(X*X+V*V),V=180/Math.PI*Math.atan2(V,X),V+=c.Ea,X=E*Math.cos(Math.PI/180*V),V=E*Math.sin(Math.PI/180*V)),c.ha&&(X-=V/2),z=w.message,-1!==w.F&&(z=z.substring(0,w.F)+a.g.counter+z.substring(w.F+2),-1!==w.u&&(w.u=z.indexOf("#P")),
-1!==w.m&&(w.m=z.indexOf("#H")),-1!==w.j&&(w.j=z.indexOf("#I")),-1!==w.h&&(w.h=z.indexOf("#J"))),-1!==w.u&&(z=z.substring(0,w.u)+a.g.B+z.substring(w.u+2),-1!==w.m&&(w.m=z.indexOf("#H")),-1!==w.j&&(w.j=z.indexOf("#I")),-1!==w.h&&(w.h=z.indexOf("#J"))),-1!==w.m&&(z=a.g.ja||a.g.s?z.substring(0,w.m)+a.g.Xb+z.substring(w.m+2):z.substring(0,w.m)+a.g.counter+z.substring(w.m+2),-1!==w.j&&(w.j=z.indexOf("#I")),-1!==w.h&&(w.h=z.indexOf("#J"))),-1!==w.j&&(z=z.substring(0,w.j)+(a.g.counter+a.Ha)+z.substring(w.j+
2),-1!==w.h&&(w.h=z.indexOf("#J"))),-1!==w.h&&(z=a.g.ja||a.g.s?z.substring(0,w.h)+(a.g.Xb+a.Ha)+z.substring(w.h+2):z.substring(0,w.h)+(a.g.counter+a.Ha)+z.substring(w.h+2)),E=z.indexOf("\\n"),V=V*k+p,X=X*g+l,0!==r&&(t=-u+(2*u+2)/c.displayHeight*(c.displayHeight-V),V=(V-p)/t+p,X=(X-l)/t+l),0<=t)){d.save();d.translate(X,V);d.scale(1/t,1/t);V=w.angle;w.G||(V+=c.Ea);d.rotate(V/180*Math.PI);V=0;if(H===G.hv){for(;-1!==E;)L=z.substring(0,E),z=z.substring(E+2),X=d.measureText(L).width>>1,w.B&&(d.fillStyle=
n,d.fillText(L,-X+M,V+M)),d.fillStyle=w.v,d.fillText(L,-X,V),V+=N,E=z.indexOf("\\n");X=d.measureText(z).width>>1;w.B&&(d.fillStyle=n,d.fillText(z,-X+M,V+M));d.fillStyle=w.v;d.fillText(z,-X,V)}else{for(I=0;-1!==E;)L=z.substring(0,E),z=z.substring(E+2),X=d.measureText(L).width>>1,X>I&&(I=X),E=z.indexOf("\\n");X=d.measureText(z).width>>1;X>I&&(I=X);z=w.message;for(E=z.indexOf("\\n");-1!==E;)L=z.substring(0,E),z=z.substring(E+2),H===G.jv&&(X=d.measureText(L).width),w.B&&(d.fillStyle=n,H===G.Sp?d.fillText(L,
-I+M,V+M):d.fillText(L,I-X+M,V+M)),d.fillStyle=w.v,H===G.Sp?d.fillText(L,-I,V):d.fillText(L,I-X,V),V+=N,E=z.indexOf("\\n");H===G.jv&&(X=d.measureText(z).width);w.B&&(d.fillStyle=n,H===G.Sp?d.fillText(z,-I+M,V+M):d.fillText(z,I-X+M,V+M));d.fillStyle=w.v;H===G.Sp?d.fillText(z,-I,V):d.fillText(z,I-X,V)}d.restore()}}}}d.globalAlpha=1};Ca.prototype.ra=function(a){this.ua(a);this.sa(a);this.ta(a)};Ca.prototype.fb=function(a){var b;for(b=this.h.length-1;0<=b;--b){var c=this.h[b];c.vd>a&&c.m&&(this.v=b,c.m=
!1)}};Ca.prototype.Za=function(){var a;for(a=0;a<this.h.length;a+=1)this.h[a].m=!1;this.v=0;this.P=!1};Ca.prototype.D=function(){return new jb(this)};Ca.prototype.Y=function(a){return-2*Math.pow(a,3)+3*Math.pow(a,2)+0*a};Ca.prototype.reset=function(){this.h=[];this.i=[];this.I=!1;this.v=0};Ca.prototype.Ea=function(){return this.h[this.h.length-1]};Ca.prototype.va=function(a){var b=this.aa(a),c=this.h[b];a>c.Ac?a=c.vd+1E3*(a-c.Ac)/(c.bd*c.step):0<b?(b=this.h[b-1],a=b.vd+1E3*(a-b.Ac)/(c.bd*c.step)):
a=1E3*a/(c.bd*c.step);return a};Ca.prototype.qa=function(a,b,c,d,f,e,g,k,l,p,n,q){var m=this.ba;m.x=a;m.y=b;m.zoom=c;m.angle=d;m.Gb=f;m.bd=l;m.step=p;m.Aa=e;m.depth=g;m.Lc=k;m.Ac=n;this.I&&(q=this.G.vd);m.vd=q-1E3;this.O(null,q,n,!0);this.G.set(this.current);this.G.Qe=!1;this.G.vd=q;this.I=!0;return m.vd};Ca.prototype.F=function(){return this.h[0]};Ca.prototype.add=function(a,b){if(a.Sg)this.i[this.i.length]=a;else{this.h[this.h.length]=a;if(a.wf||a.hf||a.pe||a.Rg||a.Yg||a.Qe)this.H=!0;if(a.qf||a.Be)a.qf&&
!a.Be&&(a.step=G.Ug),a.Be&&(a.bd=b.tc)}};Ca.prototype.V=function(a){var b=!1;this.v>=this.h.length-1&&a>=this.h[this.v].vd&&(b=!0);return b};Ca.prototype.A=function(a){return a===(a|0)?String(a|0):String(a.toFixed(1))};Ca.prototype.Ha=function(a){var b="";0<=a&&a<this.i.length&&(a=this.i[a],a.wf&&(b+=" X "+-a.x),a.hf&&(b+=" Y "+-a.y),a.pe&&(b+=" ZOOM "+this.A(a.zoom)),a.Rg&&(b+=" ANGLE "+a.angle),a.Yg&&0!==a.Gb&&(b+=" TILT "+a.Gb));return b.substring(1)};Ca.prototype.Ia=function(a){var b="";0<=a&&
a<this.i.length&&(a=this.i[a],a.ei&&(b+=" LOOP "+(-1===a.Sb?"OFF":a.Sb)),a.ni&&(b+=" STOP "+(-1===a.uc?"OFF":a.uc)),a.qf&&(b+=" GPS "+a.bd),a.Be&&(b+=" STEP "+a.step));return b.substring(1)};Ca.prototype.Fa=function(a){var b="";0<=a&&a<this.i.length&&(a=this.i[a],a.j&&(b+=" POIRESET"),a.h===Va.play?b+=" POIPLAY":a.h===Va.stop&&(b+=" POISTOP"),a.i!==Va.cq&&(b+=" POITRANS "+a.i));return b.substring(1)};Ca.prototype.Pa=function(a){var b="";0<=a&&a<this.i.length&&(a=this.i[a],a.ue&&(b+=" THEME "+a.Lc),
a.Ih&&(b+=" DEPTH "+this.A(a.depth)),a.Th&&(b+=" LAYERS "+a.Aa));return b.substring(1)};Ca.prototype.Na=function(a){var b="";0<=a&&a<this.i.length&&(a=this.i[a],a.pq&&(b+=" POIT "+a.Ac));return b.substring(1)};Ca.prototype.Ka=function(a,b){var c="";0<=a&&a<this.i.length&&(a=this.i[a],""!==a.te&&(c+=" "+b+a.te+b));return c.substring(1)};Ca.prototype.jb=function(a,b){var c="";if(0<=a&&a<this.h.length){var d=this.h[a];0<a?(a=this.h[a-1],c=d.Ac===a.Ac?"P "+this.A((d.vd-a.vd|0)/1E3):"T "+d.Ac,d.Qe?c+=
" F":(d.x!==a.x&&(c+=" X "+-d.x),d.y!==a.y&&(c+=" Y "+-d.y),d.zoom!==a.zoom&&(c+=" Z "+this.A(d.zoom))),d.angle!==a.angle&&(c+=" A "+d.angle),d.Aa!==a.Aa&&(c+=" L "+d.Aa),d.depth!==a.depth&&(c+=" D "+this.A(d.depth)),d.Lc!==a.Lc&&(c+=" C "+d.Lc),d.bd!==a.bd&&(c+=" G "+d.bd),d.step!==a.step&&(c+=" S "+d.step),""!==d.te&&(c+=" "+b+d.te+b)):c="T "+d.Ac+" X "+-d.x+" Y "+-d.y+" Z "+this.A(d.zoom)+" A "+d.angle+" L "+d.Aa+" D "+this.A(d.depth)+" C "+d.Lc+" G "+d.bd+" S "+d.step}return c};Ca.prototype.O=
function(a,b,c,d){var f=this.h.length,e=!1,g=this.v,k=g,l=!1;if(this.I)this.current.u(this.ba,this.G,b),b>=this.G.vd&&(this.I=!1);else{for(;g<f&&!e;){var p=this.h[g];p.vd>=b||!p.m?e=!0:g+=1}e?(this.h[g].m=!0,0<g?(this.h[g].Qe&&(this.h[g].x=this.current.x,this.h[g].y=this.current.y,this.h[g].zoom=this.current.zoom),d&&this.current.u(this.h[g-1],this.h[g],b)):(g=0,this.current.set(this.h[g]))):(g=f-1,this.current.set(this.h[g]),c>=this.current.Ac&&this.P&&(l=!0),this.P=!0);this.v=g}this.v!==k&&this.current.ro&&
a&&a.C.Xb();return l};Ca.prototype.aa=function(a){for(var b=0,c=!1,d=this.h,f=this.h.length;b<f&&!c;)d[b].Ac>=a?c=!0:b+=1;c||(b=f-1);return b};Ca.prototype.wa=function(a){var b=0;this.v=this.aa(a);if(0<this.v){var c=this.h[this.v];var d=this.h[this.v-1];b=c.vd-d.vd;c=c.Ac-d.Ac;b=b*(a-d.Ac)/c+d.vd}return b};Ca.prototype.j=function(a,b,c,d){if(0===this.h.length)c[c.length]=[a+" "+D.zc,"no initial waypoint defined"];else switch(a){case D.gf:b.wf&&(c[c.length]=[a+" "+D.zc,d?"already defined":"overwrites "+
-b.x]);b.x=this.h[0].x;b.wf=!0;break;case D.jf:b.hf&&(c[c.length]=[a+" "+D.zc,d?"already defined":"overwrites "+-b.y]);b.y=this.h[0].y;b.hf=!0;break;case D.qe:b.pe&&(c[c.length]=[a+" "+D.zc,d?"already defined":"overwrites "+this.A(1>b.zoom?-(1/b.zoom):b.zoom)]);b.zoom=this.h[0].zoom;b.pe=!0;break;case D.Ik:b.Rg&&(c[c.length]=[a+" "+D.zc,d?"already defined":"overwrites "+b.angle]);b.angle=this.h[0].angle;b.Rg=!0;break;case D.pl:b.Yg&&(c[c.length]=[a+" "+D.zc,d?"already defined":"overwrites "+b.Gb]);
b.Gb=this.h[0].Gb;b.Yg=!0;break;case D.dm:b.Ih&&(c[c.length]=[a+" "+D.zc,d?"already defined":"overwrites "+this.A(b.depth)]);b.depth=this.h[0].depth;b.Ih=!0;break;case D.qm:b.Th&&(c[c.length]=[a+" "+D.zc,d?"already defined":"overwrites "+b.Aa]);b.Aa=this.h[0].Aa;b.Th=!0;break;case D.$j:b.ue&&(c[c.length]=[a+" "+D.zc,d?"already defined":"overwrites "+b.Lc]);b.Lc=this.h[0].Lc;b.ue=!0;break;case D.jm:b.qf&&(c[c.length]=[a+" "+D.zc,d?"already defined":"overwrites "+b.bd]);b.bd=this.h[0].bd;b.qf=!0;break;
case D.Hm:b.Be&&(c[c.length]=[a+" "+D.zc,d?"already defined":"overwrites "+b.step]);b.step=this.h[0].step;b.Be=!0;break;case D.oi:b.ni&&(c[c.length]=[a+" "+D.zc,d?"already defined":"overwrites "+(-1===b.uc?"OFF":b.uc)]);b.uc=this.h[0].uc;b.ni=!0;break;case D.fi:b.ei&&(c[c.length]=[a+" "+D.zc,d?"already defined":"overwrites "+(-1===b.Sb?"OFF":b.Sb)]);b.Sb=this.h[0].Sb;b.ei=!0;break;default:c[c.length]=[a+" "+D.zc,"illegal command before "+D.zc]}};Ca.prototype.ma=function(a,b){this.j(D.gf,a,b,!1);this.j(D.jf,
a,b,!1);this.j(D.qe,a,b,!1);this.j(D.Ik,a,b,!1);this.j(D.pl,a,b,!1);this.j(D.qm,a,b,!1);this.j(D.dm,a,b,!1);this.j(D.$j,a,b,!1);this.j(D.jm,a,b,!1);this.j(D.Hm,a,b,!1);this.j(D.fi,a,b,!1);this.j(D.oi,a,b,!1)};Ca.prototype.Ya=function(a,b){var c,d=this.h,f=this.h.length;for(c=1;c<f;c+=1){var e=d[c-1];var g=d[c];g.wf||(g.x=e.x);g.hf||(g.y=e.y);g.gk||(g.Zg=e.Zg);g.ik||(g.ah=e.ah);g.kk||(g.dh=e.dh);g.Rg||(g.angle=e.angle);g.Yg||(g.Gb=e.Gb);g.pe||(g.zoom=e.zoom);g.Th||(g.Aa=e.Aa);g.Ih||(g.depth=e.depth);
g.ue||(g.Lc=e.Lc);g.qf||(g.bd=e.bd);g.Be||(g.step=e.step);if(g.qf||g.Be)g.qf&&!g.Be&&(g.step=G.Ug),g.Be&&(g.bd=b.tc);g.pq?g.Ac<=e.Ac&&(a[a.length]=[D.oq+" "+g.Ac,"target generation must be later than previous ("+e.Ac+")"]):g.Ac=e.Ac;g.vd=g.dD?1E3*g.vd+e.vd:e.vd+1E3*(g.Ac-e.Ac)/(g.bd*g.step);g.Vr||(g.nl=e.nl);g.Tk||(g.grid=e.grid)}};cb.prototype.S=function(a,b){for(var c=null,d=0;null===c&&d<a.length;)a[d].identifier===b?c=a[d]:d+=1;return c};cb.prototype.reset=function(){this.h=!1;this.i=-1};cb.prototype.D=
function(a,b){var c=b.changedTouches;this.v=!0;switch(b.type){case "touchstart":-1===a.i&&(c=c[0],a.i=c.identifier,a.H(a,c.pageX,c.pageY));break;case "touchend":c=a.S(c,a.i);null!==c&&(a.O(a,c.pageX,c.pageY),a.i=-1);break;case "touchmove":c=a.S(c,a.i),null!==c&&a.I(a,c.pageX,c.pageY)}b.stopPropagation&&b.stopPropagation();b.cancelable&&b.preventDefault()};cb.prototype.u=function(a){var b=this.view;b.displayWidth=b.Ue;b.displayHeight=b.Te;b.aG();b.Ip.style.transform="scale("+b.De+","+b.De+")";b.Ip.style.transformOrigin=
"top left";b.xl&&(this.C.Ae(!0),b.resize());a.V(a.left+a.G,a.top);a.G=0};cb.prototype.aa=function(a,b){this.V(this.left+a,this.top+b)};cb.prototype.V=function(a,b){var c=window.innerWidth-this.j.clientWidth*this.s,d=window.innerHeight-this.j.clientHeight*this.s;c-=(window.innerWidth-document.body.clientWidth)*this.s;a>c&&(a=c);b>d&&(b=d);0>a&&(a=0);0>b&&(b=0);this.j.style.left=a+"px";this.j.style.top=b+"px";this.j.style.position="fixed";this.left=a;this.top=b};cb.prototype.H=function(a,b,c){a.P(a,
b,c);a.h=!0;a.C.ba=!0};cb.prototype.O=function(a,b,c){a.P(a,b,c);a.h=!1;a.C.ba=!1};cb.prototype.I=function(a,b,c){a.h&&a.aa(b-a.A,c-a.B);a.A=b;a.B=c};cb.prototype.Y=function(a,b){if(!a.v){if(b.pageX||b.pageY){var c=b.pageX;var d=b.pageY}else c=b.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,d=b.clientY+document.body.scrollTop+document.documentElement.scrollTop;a.H(a,c,d)}b.stopPropagation&&b.stopPropagation();b.preventDefault()};cb.prototype.$=function(a,b){if(!a.v&&a.m&&a.h){if(b.pageX||
b.pageY){var c=b.pageX;var d=b.pageY}else c=b.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,d=b.clientY+document.body.scrollTop+document.documentElement.scrollTop;a.O(a,c,d)}b.stopPropagation&&b.stopPropagation();b.preventDefault()};cb.prototype.Z=function(a,b){if(!a.v&&a.m&&a.h){if(b.pageX||b.pageY){var c=b.pageX;b=b.pageY}else c=b.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,b=b.clientY+document.body.scrollTop+document.documentElement.scrollTop;a.I(a,
c,b)}};cb.prototype.P=function(a,b,c){a.A=b|0;a.B=c|0};xb.prototype.ye=function(a){var b,c,d=this.key;for(b=0;256>b;b+=1)d[b]=b;for(b=c=0;256>b;b+=1){c=c+d[b]+a.charCodeAt(b%a.length)&255;var f=d[b];d[b]=d[c];d[c]=f}this.i=this.h=0};xb.prototype.random=function(){var a,b=0,c=1,d=this.key,f=this.h,e=this.i;for(a=0;8>a;a+=1){f=f+1&255;e=e+d[f]&255;var g=d[f];d[f]=d[e];d[e]=g;b+=d[d[f]+d[e]&255]*c;c*=256}this.h=f;this.i=e;return b/1.8446744073709552E19};Tb.prototype.ye=function(a,b,c){var d,f=this.Br,
e=a*a+b*b;this.x=this.T.h(ra.ld,f,"Stars.x",!1);this.y=this.T.h(ra.ld,f,"Stars.y",!1);this.z=this.T.h(ra.ld,f,"Stars.z",!1);for(d=0;d<f;d+=1){var g=d/f*(d/f)*(d/f)*(d/f)*c+1;do{var k=3*(this.i.random()*a-a/2);var l=3*(this.i.random()*b-b/2)}while(k*k+l*l>e);this.x[d]=k;this.y[d]=l;this.z[d]=g}this.sin=this.T.h(ra.ld,2880,"Stars.sin",!1);this.cos=this.T.h(ra.ld,2880,"Stars.cos",!1);for(d=0;2880>d;)this.sin[d]=Math.sin(d/8*this.j),this.cos[d]=Math.cos(d/8*this.j),d+=1};Tb.prototype.s=function(a,b,c,
d,f,e,g,k){var l=f>>1,p=e>>1,n=f-1,q=e-1;this.m||(this.ye(8192,8192,1024),this.m=!0);if(La.jc){var m=k>>16&255;var r=k>>8&255;var u=k&255}else u=k>>24&255,r=k>>16&255,m=k>>8&255;var t=this.h.h-u;var v=this.h.j-r;var B=this.h.i-m;for(e=0;e<this.Br;e+=1){var w=this.x[e]+a;var z=this.y[e]+b;if(0!==d){var E=Math.sqrt(w*w+z*z);z=Math.atan2(z,w)*this.u;z+=d;0>z?z+=360:360<=z&&(z-=360);z*=8;z|=0;w=E*this.cos[z];z=E*this.sin[z]}E=this.z[e]/c*2;w=l+w/E|0;z=p+z/E|0;if(0<w&&w<n&&0<z&&z<q){w+=z*f;E=1536/E|0;
255<E&&(E=255);E/=255;if(g[w]===k){z=u+t*E;var H=r+v*E;var L=m+B*E;z=La.jc?-16777216|L<<16|H<<8|z:z<<24|H<<16|L<<8|255;g[w]=z}E/=2;z=u+t*E;H=r+v*E;L=m+B*E;z=La.jc?-16777216|L<<16|H<<8|z:z<<24|H<<16|L<<8|255;--w;g[w]===k&&(g[w]=z);w+=2;g[w]===k&&(g[w]=z);--w;w-=f;g[w]===k&&(g[w]=z);w+=f+f;g[w]===k&&(g[w]=z)}}};var Pb={bz:"",Ds:0,nm:function(a){switch(a){case D.Wx:case D.iq:case D.$p:case D.Ho:case D.Gp:case D.ru:case D.nx:case D.Ru:case D.vw:case D.Px:case D.iy:case D.pu:case D.Hu:case D.Xx:case D.Zx:case D.su:case D.Yx:case D.uw:case D.Tg:case D.Zh:case D.Hy:case D.Iu:case D.Tr:case D.Oy:case D.Pt:case D.Xh:case D.Nx:case D.Mx:case D.Jx:case D.Lx:case D.Hx:case D.Gx:case D.Ix:case D.Kx:case D.Jr:case D.Ir:case D.Lr:case D.ju:case D.Gr:case D.hp:case D.tx:case D.Hr:case D.qx:case D.vx:case D.wx:case D.sx:case D.zx:case D.xx:case D.yx:case D.ux:case D.Fp:case D.Dt:case D.Gt:case D.Ht:case D.Et:case D.Kt:case D.It:case D.Jt:case D.Ft:case D.Tp:case D.fv:case D.lv:case D.mv:case D.gv:case D.pv:case D.nv:case D.ov:case D.ev:case D.kv:case D.rw:case D.tw:case D.sw:case D.Lu:case D.wq:case D.Gu:case D.eq:case D.Ro:case D.Qo:case D.Fr:case D.fq:case D.px:case D.zc:case D.fg:case D.Wb:case D.by:case D.Lm:case D.vq:case D.br:case D.Ar:case D.Cu:case D.Du:case D.mq:case D.kr:case D.Jq:case D.Nu:case D.mo:case D.Ep:case D.oq:case D.Hm:case D.lx:case D.Pp:case D.Op:case D.nC:case D.Ex:case D.hy:case D.yb:case D.Xt:case D.gf:case D.jf:case D.ws:case D.xs:case D.qe:case D.xt:case D.fi:case D.zq:case D.pl:case D.qw:case D.pw:case D.oy:case D.ly:case D.ky:case D.my:case D.ny:case D.Lq:case D.Kq:case D.Wr:case D.jl:case D.Fm:case D.Ik:case D.$j:case D.jm:case D.oi:case D.qm:case D.dm:case D.mp:case D.lo:case D.hq:case D.gq:case D.Zu:case D.XA:case D.Uo:case D.Em:case D.pj:case D.Jp:case D.bq:case D.Cw:case D.Yw:case D.jx:case D.Lw:case D.Ew:case D.bx:case D.Gw:case D.hx:case D.ex:case D.Xw:case D.Qw:case D.ax:case D.Uw:case D.Iw:case D.Sw:case D.Kw:case D.Ow:case D.Ww:case D.Mw:case D.kx:case D.CC:a=
!0;break;default:a=!1}return a},fu:function(a){var b=[],c=1,d=!0,f=0;if(7===a.length&&"#"===a.charAt(0)){for(a=a.toLowerCase();d&&6>=c;){var e=a.charAt(c);"0"<=e&&"9">=e?(f=16*f+(e.charCodeAt(0)-48),c+=1):"a"<=e&&"f">=e?(f=16*f+(e.charCodeAt(0)-97+10),c+=1):d=!1}d&&(b=[f>>16,f>>8&255,f&255])}return b},wm:function(a,b,c,d,f){var e=a.m();""===e||this.nm(e)?b[b.length]=[c,d+" missing"]:(b[b.length]=[c+" "+e,d+" must be "+f],a.j())},wc:function(a,b,c,d,f){var e=!0,g=0,k=0,l=0,p=b.j();if(b.i()){g=b.h()|
0;if(0>g||255<g)c[c.length]=[f+" "+p+" "+g,"RED out of range"];if(b.i()){k=b.h();if(0>k||255<k)c[c.length]=[f+" "+p+" "+g+" "+k,"GREEN out of range"];b.i()?(l=b.h(),0>l||255<l?c[c.length]=[f+" "+p+" "+g+" "+k+" "+l,"BLUE out of range"]:e=!1):this.wm(b,c,f+" "+p+" "+g+" "+k,"BLUE","numeric")}else this.wm(b,c,f+" "+p+" "+g,"GREEN","numeric")}else{var n=b.m();var q=this.fu(n);3===q.length?(b.j(),g=q[0],k=q[1],l=q[2],e=!1):(q=hb.nf[n.toLowerCase()],void 0!==q?(b.j(),g=q[1],k=q[2],l=q[3],e=!1):""===n||
this.nm(n)?c[c.length]=[f+" "+p,"name missing"]:(c[c.length]="#"===n.charAt(0)?[f+" "+p+" "+n,"bad hex definition"]:[f+" "+p+" "+n,"name not known"],b.j()))}if(!e)switch(-1!==a.ta[d]&&d!==G.du&&d!==G.au&&d!==G.eu&&(c[c.length]=[f+" "+p+" "+g+" "+k+" "+l,"overwrites "+(a.ta[d]>>16)+" "+(a.ta[d]>>8&255)+" "+(a.ta[d]&255)]),a.ta[d]=g<<16|k<<8|l,d){case G.Qq:a.Mn=a.ta[d];break;case G.cu:a.On=a.ta[d];break;case G.KA:a.Td.h.h=g;a.Td.h.j=k;a.Td.h.i=l;break;case G.LA:a.Sc=[g,k,l];break;case G.AA:a.Rc=[g,
k,l];a.$h="rgb("+g+","+k+","+l+")";break;case G.GA:a.Ge=[g,k,l];a.ai="rgb("+g+","+k+","+l+")";break;case G.du:a.vp="rgb("+g+","+k+","+l+")";break;case G.au:a.up="rgb("+g+","+k+","+l+")";break;case G.eu:a.wp="rgb("+g+","+k+","+l+")";break;case G.wA:a.Dd=[g,k,l];a.g.pd=a.g.jc?-16777216|l<<16|k<<8|g:g<<24|k<<16|l<<8|255;a.g.lg="rgb("+g+","+k+","+l+")";break;case G.xA:a.Df=[g,k,l];a.g.Je=a.g.jc?-16777216|l<<16|k<<8|g:g<<24|k<<16|l<<8|255;break;case G.IA:a.Nf=[g,k,l];a.g.cj="rgb("+g+","+k+","+l+")";break;
case G.JA:a.Of=[g,k,l];a.g.dj="rgb("+g+","+k+","+l+")";break;case G.HA:a.Mf=[g,k,l];a.g.pi="rgb("+g+","+k+","+l+")";break;case G.DA:a.g.Dd=[g,k,l];break;case G.CA:a.g.Cd=[g,k,l];break;case G.BA:a.g.Bd=[g,k,l];break;case G.EA:a.g.Ed=[g,k,l];break;case G.FA:a.g.Fd=[g,k,l];break;case G.Tq:case G.Rq:case G.Uq:case G.Wq:case G.Vq:case G.Sq:break;default:a.ua=!0}},AH:function(a,b){a=a.replace(/"/g,"");return 0<=b.jt(a)||b.Wz(a)||b.Yz(a)||b.Uz(a)},JK:function(a){var b=a&255,c=a>>8&255;a>>=16;var d=255-b,
f=255-c,e=255-a;64>Math.abs(b-d)&&(d=d+64&255);64>Math.abs(c-f)&&(f=f+64&255);64>Math.abs(a-e)&&(e=e+64&255);return e<<16|f<<8|d},EJ:function(a,b){var c=a.g.pa[a.g.Mb],d=a.ta;-1===b&&(b=2>=a.g.i?a.g.O?10:a.g.ja?17:1:a.g.s?18:11);c.set(a.g.pa[b]);a.Lf&&(c.B=a.g.lb);!a.Y||a.g.D||a.g.u||a.g.G||a.g.la||(0<a.Y.length&&-1!==a.Y[0]&&(d[G.Qj]=a.Y[0],a.Y[0]=-1),1<a.Y.length&&-1!==a.Y[1]&&!a.g.s&&(d[G.Xn]=a.Y[1],a.Y[1]=-1),2<a.Y.length&&-1!==a.Y[2]&&!a.g.s&&a.g.O&&(d[G.Yn]=a.Y[2],a.Y[2]=-1));b=d[G.Qj];-1!==
b&&(a.g.u||a.g.G?(a.Y||(a.Y=a.g.T.h(ra.Pd,256,"View.customColours",!1),a.Y.fill(-1)),-1===a.Y[0]&&(a.Y[0]=b)):(c.v.h=b>>16,c.v.j=b>>8&255,c.v.i=b&255));b=d[G.Xn];-1!==b&&(c.i.h.h=b>>16,c.i.h.j=b>>8&255,c.i.h.i=b&255);b=d[G.vA];-1!==b&&(c.i.i.h=b>>16,c.i.i.j=b>>8&255,c.i.i.i=b&255);b=d[G.Yn];-1!==b&&(c.h.i.h=b>>16,c.h.i.j=b>>8&255,c.h.i.i=b&255);b=d[G.bu];-1!==b&&(c.h.h.h=b>>16,c.h.h.j=b>>8&255,c.h.h.i=b&255);b=d[G.Qj];-1!==b&&(c.F.h=b>>16,c.F.j=b>>8&255,c.F.i=b&255);b=d[G.Xn];-1!==b&&(c.A.h=b>>16,
c.A.j=b>>8&255,c.A.i=b&255);b=d[G.Yn];-1!==b&&(c.j.i.h=b>>16,c.j.i.j=b>>8&255,c.j.i.i=b&255);b=d[G.bu];-1!==b&&(c.j.h.h=b>>16,c.j.h.j=b>>8&255,c.j.h.i=b&255);b=d[G.yA];-1===b?c.G=!0:(c.G=!1,c.m.i.h=b>>16,c.m.i.j=b>>8&255,c.m.i.i=b&255);b=d[G.zA];-1!==b&&(c.m.h.h=b>>16,c.m.h.j=b>>8&255,c.m.h.i=b&255);c.O(d[G.Qq],d[G.cu]);if(a.g.s)for(d=1;16>d;d+=1)a.Y&&a.Y.length>d&&(b=a.Y[d],-1!==b&&(c.D[d-1].h=b>>16,c.D[d-1].j=b>>8&255,c.D[d-1].i=b&255,a.Y[d]=-1))},Qr:function(a,b){var c=a;a.length>b&&(c=a.substring(0,
b-1)+"...");return c},qD:function(a,b,c,d){var f=a.indexOf("\\n");-1!==f&&(c?b[b.length]=[D.hp+" "+D.Ld+this.Qr(a,23)+D.Ld,"only one line allowed"]:(f=a.substring(f+2).indexOf("\\n"),-1===f||d||(b[b.length]=[D.Ld+this.Qr(a,23),"only two lines allowed"])))},Fx:function(a,b,c,d){var f=D.$j+" ",e="overwrites ";f=c>=a.g.Mb?f+D.ep:f+a.g.pa[c].name;e=d>=a.g.Mb?e+D.ep:e+a.g.pa[d].name;b[b.length]=[f,e]},dg:function(a,b,c,d,f){b[b.length]=[c,d];f&&a.j();a.i()?(a.h(),a.i()&&(a.h(),a.i()&&a.h())):(b=a.m(),
3===this.fu(b).length?a.j():void 0!==hb.nf[b.toLowerCase()]&&a.j())},$n:function(a,b,c,d,f,e,g){var k=0,l=0,p=0;if(b.i())if(k=b.h()|0,0>k||255<k)c[c.length]=[f+" "+g+" "+k,"RED out of range"],e=!0;else if(b.i())if(l=b.h()|0,0>l||255<l)c[c.length]=[f+" "+g+" "+k+" "+l,"GREEN out of range"],e=!0;else if(b.i()){if(p=b.h()|0,0>p||255<p)c[c.length]=[f+" "+g+" "+k+" "+l+" "+p,"BLUE out of range"],e=!0}else this.wm(b,c,f+" "+g+" "+k+" "+l,"BLUE","numeric"),e=!0;else this.wm(b,c,f+" "+g+" "+k,"GREEN","numeric"),
e=!0;else{var n=b.m();var q=this.fu(n);3===q.length?(b.j(),k=q[0],l=q[1],p=q[2]):(q=hb.nf[n.toLowerCase()],void 0!==q?(b.j(),k=q[1],l=q[2],p=q[3]):(e=!0,""===n||this.nm(n)?c[c.length]=[f+" "+g,"name missing"]:(c[c.length]="#"===n.charAt(0)?[f+" "+g+" "+n,"bad hex definition"]:[f+" "+g+" "+n,"name not known"],b.j())))}e||(-1!==a.Y[d]&&(c[c.length]=[f+" "+g+" "+k+" "+l+" "+p,"overwrites "+(a.Y[d]>>16)+" "+(a.Y[d]>>8&255)+" "+(a.Y[d]&255)]),a.Y[d]=k<<16|l<<8|p)},xj:function(a,b){var c=D.ee+String(b);
a=a.C.ic(b);-1!==a&&(c=a.toFixed(1));return c},Im:function(a,b){var c="",d=b.indexOf(D.ee);if(-1===d)c=b;else{for(;-1!==d;)if(c+=b.substring(0,d),d+1<b.length){var f=b[d+1];b=b.substring(d+2);switch(f){case "B":c+=G.Zr;break;case "N":c+=a.Xe;break;case "R":c+=a.$;break;case "A":c=""===a.Ka?c+a.$:c+a.Ka;break;case "O":c+=a.og;break;case "S":c+=a.qj;break;case "T":c+=G.fo;break;case "D":c+=a.ht();break;case "0":c+=this.xj(a,0);break;case "1":c+=this.xj(a,1);break;case "2":c+=this.xj(a,2);break;case "3":c+=
this.xj(a,3);break;case "4":c+=this.xj(a,4);break;case "5":c+=this.xj(a,5);break;case "6":c+=this.xj(a,6);break;case "7":c+=this.xj(a,7);break;case "8":c+=this.xj(a,8);break;case "9":c+=this.xj(a,9);break;case D.ee:c+=D.ee;break;default:c+=D.ee+f}d=b.indexOf(D.ee)}else b=b.substring(d+1),d=-1;c+=b}return c},Vh:function(a,b,c,d){d[d.length]=a?b===D.Tg?[b+" "+c,"already defined"]:[b+" "+c,"overwrites "+D.Tg]:b===D.Tg?[b+" "+c,"overwrites "+D.Zh]:[b+" "+c,"already defined"]},de:function(a,b){return a===
(a|0)?String(a):a.toFixed(b)},dK:function(a){var b=a.charAt(0);a=a.substring(1);var c=!1;if("B"===b||"S"===b){this.bz=b;b=0;for(c=!0;c&&b<a.length;)"0"<=a[b]&&"9">=a[b]?b+=1:c=!1;c&&(this.Ds=Number(a))}return c},xJ:function(a,b){if("B"===this.bz){var c=a.Xc.length;a.Xc[c]=this.Ds;a.Xc[c+1]=b}else c=a.Rd.length,a.Rd[c]=this.Ds,a.Rd[c+1]=b},EI:function(a,b,c){var d=new Pa(b,!1),f=!1,e=!1,g="",k="",l="",p="",n=!1,q="",m=0,r=!1,u=!1,t=a.Tb,v=null,B=0,w=0,z="",E=!1,H=a.s.D(),L=null,N=!1,M=!1,V=null,X=
!0,I=1,R=G.cA,P=-1,S=-1,Z=0,qa=0,ha=!1,ca=!1,ia=-1,na=-1E3,ja=-1E3,U=0,ma=0,ea=null,aa=!0,Y=1,oa=G.cA,Q=G.VF,F=-1,A=-1,K=0,O=0,J=!1,x=!1,C=-1,la=0,ba=0,sa=-1E3,ta=-1E3,ka=null,ua=!0,Ba=1,Ia=G.IH,Fa=!1,Ra=-1,Sa=-1,Ma=0,Ha=0,ab=!1,bb=!1,kb=-1,Wa=0,eb=0,rb=-1E3,sb=-1E3,ob=G.hv,lb=!1,Ta=!1,Hb="numeric",Rb=-1,zb=-1,Ab=-1,Yb=-1,Bb=-1,Cb=-1,Ib=0,Jb=0,Kb=0,Lb=0,ya=0,Aa=0,Ga=0,tb=0,Db=0,Sb=0,ub=[],Qa=0,ib=0,Eb=!1,tc=new mb("decode",a.X),uc=[],Zb=!1,$b=!1,ac=!1,bc=!1,cc=!1,dc=!1,ec=!1,Mb=!1,fc=!1,gc=!1,Nb=
!1,Ob=!1,hc=!1,ic=!1,jc=!1,kc=!1;a.s.H=!1;a.Eh=0;a.Qx=0;a.Lf=!1;a.ua=!1;a.ta.fill(-1);a.Y=null;if(-1!==d.S(D.jl)){a.Y=a.g.T.h(ra.Pd,256,"View.customColours",!1);a.Y.fill(-1);for(g=d.j();""!==g;){Hb="numeric";if(n)g[g.length-1]===D.Ld?(q=q+" "+g.substring(0,g.length-1),n=!1,this.qD(q,t,e,lb),e?(""!==a.ud&&(t[t.length]=[D.hp+" "+D.Ld+this.Qr(q,20)+D.Ld,"overwrites "+D.Ld+a.ud+D.Ld]),a.ud=q,e=!1):lb?(ka.message=this.Im(a,q),lb=!1,a.s.S(ka)):(H.te=this.Im(a,q),H.Xr=!0)):q=q+" "+g;else if(g[0]===D.Ld)q=
g.substring(1),n=!0,g[g.length-1]===D.Ld&&(n=!1,q=q.substring(0,q.length-1),this.qD(q,t,e,lb),e?(""!==a.ud&&(t[t.length]=[D.hp+" "+D.Ld+this.Qr(q,20)+D.Ld,"overwrites "+D.Ld+a.ud+D.Ld]),a.ud=q,e=!1):lb?(ka.message=this.Im(a,q),lb=!1,a.s.S(ka)):(H.te=this.Im(a,q),H.Xr=!0));else{r=u=!1;a.Eh+=1;switch(g){case D.hp:e=!0;k=d.m();k[0]!==D.Ld&&(t[t.length]=[g,"argument must be a quoted string"],e=!1);r=!0;break;case D.vx:d.i()&&(u=!0,m=d.h(),m>=G.vr&&m<=G.mr&&(R=m,r=!0));break;case D.xx:d.i()?(u=!0,m=d.h(),
m>=G.Ag&&m<=G.xg&&(ya=m,u=!1,d.i()&&(u=!0,m=d.h(),m>=G.Ag&&m<=G.xg&&(U=ya,ma=m,r=!0)))):(k=d.m(),k===D.ce&&(k=d.j(),ma=U=0,r=!0));break;case D.yx:d.i()?(u=!0,m=d.h(),0<=m&&m<=a.g.ea/2&&(ia=m,r=!0)):(k=d.m(),k===D.Wb&&(k=d.j(),ia=-1,r=!0));break;case D.sx:d.i()&&(u=!0,m=d.h(),0<=m&&360>m&&(qa=m,ha=!1,k=d.m(),k===D.ce&&(k=d.j(),ha=!0),r=!0));break;case D.wx:d.i()?(u=!0,m=d.h()|0,0<=m&&(ya=m,d.i()?(m=d.h()|0,m>=ya?(Aa=m,d.i()?(m=d.h()|0,0<=m&&m<=Aa-ya>>1?(P=ya,S=Aa,Z=m,r=!0):(r=!0,t[t.length]=[g+" "+
ya+" "+Aa+" "+m,"third argument must from 0 to "+(Aa-ya>>1)])):u=!1):(r=!0,t[t.length]=[g+" "+ya+" "+m,"second argument must be >= first"])):u=!1)):(k=d.m(),k===D.fg?(k=d.j(),S=P=-1,Z=0,r=!0):u=!1);break;case D.qx:d.i()&&(u=!0,m=d.h(),0<=m&&1>=m&&(I=m,r=!0));break;case D.tx:case D.Hr:ub=[];r=!0;for(Ga=-1E3;r&&d.i();)ya=d.h(),d.i()?(Aa=d.h(),ya>=-a.g.ea&&ya<2*a.g.ea&&Aa>=-a.g.ea&&Aa<2*a.g.ea?(ub[ub.length]=ya,ub[ub.length]=Aa):(t[t.length]=[g+" "+ya+" "+Aa,"coordinate out of range"],Ga=0,r=!1)):ya>=
G.Ab&&ya<=G.Pb?Ga=ya:ya>=G.Xp&&ya<=G.Vp?Ga=-(1/ya):(t[t.length]=[g+" "+ya,"zoom out of range"],Ga=0,r=!1);r&&4>ub.length&&(t[t.length]=[g,"requires at least 2 coordinate pairs"],r=!1);r&&-1E3===Ga&&(r=!1);r&&(k=d.m(),ca=!1,k===D.ce&&(k=d.j(),ca=!0,k=d.m()),V=a.s.pa(ub,g===D.Hr,Ga,na,ja,a.wp,I,R,P,S,Z,qa,ha,ca,ia,U,ma,X),a.s.da(V));break;case D.ux:k=d.m();k===D.Wb?(k=d.j(),X=!1):X=!0;r=!0;break;case D.Gt:d.i()&&(u=!0,m=d.h(),m>=G.vr&&m<=G.mr&&(ya=m,u=!1,d.i()&&(u=!0,m=d.h(),0<=m&&1>=m&&(Q=m,oa=ya,
r=!0))));break;case D.It:d.i()?(u=!0,m=d.h(),m>=G.Ag&&m<=G.xg&&(ya=m,u=!1,d.i()&&(u=!0,m=d.h(),m>=G.Ag&&m<=G.xg&&(la=ya,ba=m,r=!0)))):(k=d.m(),k===D.ce&&(k=d.j(),ba=la=0,r=!0));break;case D.Jt:d.i()?(u=!0,m=d.h(),0<=m&&m<=a.g.ea/2&&(C=m,r=!0)):(k=d.m(),k===D.Wb&&(k=d.j(),C=-1,r=!0));break;case D.Et:d.i()&&(u=!0,m=d.h(),0<=m&&360>m&&(O=m,J=!1,k=d.m(),k===D.ce&&(k=d.j(),J=!0),r=!0));break;case D.Ht:d.i()?(u=!0,m=d.h()|0,0<=m&&(ya=m,d.i()?(m=d.h()|0,m>=ya?(Aa=m,d.i()?(m=d.h()|0,0<=m&&m<=Aa-ya>>1?(F=
ya,A=Aa,K=m,r=!0):(r=!0,t[t.length]=[g+" "+ya+" "+Aa+" "+m,"third argument must from 0 to "+(Aa-ya>>1)])):u=!1):(r=!0,t[t.length]=[g+" "+ya+" "+m,"second argument must be >= first"])):u=!1)):(k=d.m(),k===D.fg?(k=d.j(),A=F=-1,K=0,r=!0):u=!1);break;case D.Dt:d.i()&&(u=!0,m=d.h(),0<=m&&1>=m&&(Y=m,r=!0));break;case D.Ft:k=d.m();k===D.Wb?(k=d.j(),aa=!1):aa=!0;r=!0;break;case D.Fp:d.i()&&(u=!0,m=d.h(),m>=-a.g.ea&&m<2*a.g.ea&&(u=!1,ya=m,d.i()&&(u=!0,m=d.h(),m>=-a.g.ea&&m<2*a.g.ea&&(u=!1,Aa=m,d.i()&&(u=!0,
m=d.h(),m>=-a.g.ea&&m<2*a.g.ea&&(u=!1,tb=m,d.i()&&(u=!0,m=d.h(),m>=-a.g.ea&&m<2*a.g.ea&&(u=!1,Db=m,d.i()&&(u=!0,m=d.h(),Ga=-1E3,m>=G.Ab&&m<=G.Pb?Ga=m:m>=G.Xp&&m<=G.Vp&&(Ga=-(1/m)),-1E3!==Ga&&(k=d.m(),x=!1,k===D.ce&&(k=d.j(),x=!0,k=d.m()),ea=a.s.na(ya,Aa,tb,Db,Ga,sa,ta,a.up,Y,oa,Q,F,A,K,O,J,x,C,la,ba,aa),a.s.ca(ea),r=!0))))))))));break;case D.lv:d.i()&&(u=!0,m=d.h(),m>=G.MB&&m<=G.GB&&(Ia=m,r=!0,k=d.m(),k===D.ce?(k=d.j(),Fa=!0):Fa=!1));break;case D.nv:d.i()?(u=!0,m=d.h(),m>=G.Ag&&m<=G.xg&&(ya=m,u=!1,
d.i()&&(u=!0,m=d.h(),m>=G.Ag&&m<=G.xg&&(Wa=ya,eb=m,r=!0)))):(k=d.m(),k===D.ce&&(k=d.j(),eb=Wa=0,r=!0));break;case D.ov:d.i()?(u=!0,m=d.h(),0<=m&&m<=a.g.ea/2&&(kb=m,r=!0)):(k=d.m(),k===D.Wb&&(k=d.j(),kb=-1,r=!0));break;case D.gv:d.i()&&(u=!0,m=d.h(),0<=m&&360>m&&(Ha=m,ab=!1,k=d.m(),k===D.ce&&(k=d.j(),ab=!0),r=!0));break;case D.ev:k=d.j();r=!0;switch(k){case D.bv:ob=G.hv;break;case D.cv:ob=G.Sp;break;case D.dv:ob=G.jv;break;default:""!==k?t[t.length]=[g+" "+k,"argument must be "+D.cv+", "+D.bv+" or "+
D.dv]:r=!1}break;case D.mv:d.i()?(u=!0,m=d.h()|0,0<=m&&(ya=m,d.i()?(m=d.h()|0,m>=ya?(Aa=m,d.i()?(m=d.h()|0,0<=m&&m<=Aa-ya>>1?(Ra=ya,Sa=Aa,Ma=m,r=!0):(r=!0,t[t.length]=[g+" "+ya+" "+Aa+" "+m,"third argument must from 0 to "+(Aa-ya>>1)])):u=!1):(r=!0,t[t.length]=[g+" "+ya+" "+m,"second argument must be >= first"])):u=!1)):(k=d.m(),k===D.fg?(k=d.j(),Sa=Ra=-1,Ma=0,r=!0):u=!1);break;case D.fv:d.i()&&(u=!0,m=d.h(),0<=m&&1>=m&&(Ba=m,r=!0));break;case D.zx:d.i()?(u=!0,m=d.h(),ya=-1E3,m>=G.Bo&&m<=G.zo?ya=
m:m>=G.Ao&&m<=G.yo&&(ya=-(1/m)),-1E3!==ya&&d.i()&&(u=!0,m=d.h(),Aa=-1E3,m>=G.Bo&&m<=G.zo?Aa=m:m>=G.Ao&&m<=G.yo&&(Aa=-(1/m)),-1E3!==Aa&&Aa<ya&&(Aa=-1E3),-1E3!==Aa&&(na=ya,ja=Aa,r=!0))):(k=d.m(),k===D.Wb&&(k=d.j(),ja=na=-1E3,r=!0));break;case D.Kt:d.i()?(u=!0,m=d.h(),ya=-1E3,m>=G.Bo&&m<=G.zo?ya=m:m>=G.Ao&&m<=G.yo&&(ya=-(1/m)),-1E3!==ya&&d.i()&&(u=!0,m=d.h(),Aa=-1E3,m>=G.Bo&&m<=G.zo?Aa=m:m>=G.Ao&&m<=G.yo&&(Aa=-(1/m)),-1E3!==Aa&&Aa<ya&&(Aa=-1E3),-1E3!==Aa&&(sa=ya,ta=Aa,r=!0))):(k=d.m(),k===D.Wb&&(k=d.j(),
ta=sa=-1E3,r=!0));break;case D.pv:d.i()?(u=!0,m=d.h(),ya=-1E3,m>=G.Bo&&m<=G.zo?ya=m:m>=G.Ao&&m<=G.yo&&(ya=-(1/m)),-1E3!==ya&&d.i()&&(u=!0,m=d.h(),Aa=-1E3,m>=G.Bo&&m<=G.zo?Aa=m:m>=G.Ao&&m<=G.yo&&(Aa=-(1/m)),-1E3!==Aa&&Aa<ya&&(Aa=-1E3),-1E3!==Aa&&(rb=ya,sb=Aa,r=!0))):(k=d.m(),k===D.Wb&&(k=d.j(),sb=rb=-1E3,r=!0));break;case D.kv:k=d.m();k===D.Wb?(k=d.j(),ua=!1):ua=!0;r=!0;break;case D.Tp:d.i()&&(u=!0,m=d.h(),m>=-a.g.ea&&m<2*a.g.ea&&(u=!1,ya=m,d.i()&&(u=!0,m=d.h(),m>=-a.g.ea&&m<2*a.g.ea&&(u=!1,Aa=m,d.i()&&
(u=!0,m=d.h(),Ga=-1E3,m>=G.Ab&&m<=G.Pb?Ga=m:m>=G.Xp&&m<=G.Vp&&(Ga=-(1/m)),-1E3!==Ga&&(u=!1,k=d.m(),bb=!1,k===D.ce&&(k=d.j(),bb=!0,k=d.m()),k[0]===D.Ld?(ka=a.s.oa(ya,Aa,Ga,rb,sb,a.vp,Ba,Ia,Fa,Ra,Sa,Ma,Ha,ab,bb,kb,Wa,eb,ua,ob),r=lb=!0):Hb="a string"))))));break;case D.nC:r=a.Zs=!0;break;case D.Ex:r=a.g.Vc=!0;break;case D.Zu:r=a.g.qd=!0;break;case D.XA:a.g.ag()&&(a.g.Cb=!0);r=!0;break;case D.Uo:r=!1;k=d.j();if(""!==k){for(a.Wj=[];d.i();)m=d.h(),a.Wj[a.Wj.length]=m;a.fK(t,k,a.Wj);a.Wj=[];r=!0}break;case D.Em:r=
!1;k=d.j();if(""!==k&&(l=d.m(),""!==l)){d.j();if(l===D.Xh)Aa=ya=-1,d.i()&&(ya=d.h()),d.i()&&(Aa=d.h()),ya<G.Yp||Aa<G.Av||ya>G.rr||Aa>G.qr?(t[t.length]=[D.pj+" "+D.Xh,"invalid random box size"],ya=-1):l+=ya+","+Aa;else for(p=d.m();""!==p&&!this.nm(p)&&!d.i()&&-1!==a.X.Va(tc,p,uc);)d.j(),l+=p,p=d.m();if(-1!==ya){Aa=ya=0;d.i()&&(u=!0,ya=d.h());d.i()&&(u=!0,Aa=d.h());Ga=-1;p=d.m();if(""!==p){switch(p){case D.Cy:Ga=G.xq;break;case D.zy:Ga=G.sy;break;case D.Ay:Ga=G.ty;break;case D.By:Ga=G.uy;break;case D.Fy:Ga=
G.xy;break;case D.Gy:Ga=G.yy;break;case D.Ey:Ga=G.wy;break;case D.Dy:Ga=G.vy}-1!==Ga&&d.j()}-1===Ga&&(Ga=G.xq);a.WJ(t,k,l,ya,Aa,Ga);r=!0}}break;case D.pj:l=d.m();if(""!==l){d.j();ya=-99999;if(l===D.Xh)Aa=ya=-1,d.i()&&(ya=d.h()),d.i()&&(Aa=d.h()),ya<G.Yp||Aa<G.Yp||ya>G.rr||Aa>G.qr?(t[t.length]=[D.pj+" "+D.Xh,"invalid random box size"],ya=-1):l+=ya+","+Aa;else for(p=d.m();""!==p&&!this.nm(p)&&!d.i()&&-1!==a.X.Va(tc,p,uc);)d.j(),l+=p,p=d.m();if(-1!==ya){Aa=ya=0;d.i()&&(u=!0,ya=d.h());d.i()&&(u=!0,Aa=
d.h());Ga=-1;p=d.m();if(""!==p){switch(p){case D.Cy:Ga=G.xq;break;case D.zy:Ga=G.sy;break;case D.Ay:Ga=G.ty;break;case D.By:Ga=G.uy;break;case D.Fy:Ga=G.xy;break;case D.Gy:Ga=G.yy;break;case D.Ey:Ga=G.wy;break;case D.Dy:Ga=G.vy}-1!==Ga&&d.j()}-1===Ga&&(Ga=G.xq);if(a.fD(a.We,a.Rl,a.dj,a.Zd,a.Wa,a.qy,a.Ky,l,ya,Aa,Ga)){if(k=d.m(),k===D.kx||k===D.CC)if(d.j(),tb=ya,Db=Aa,Sb=Ga,Sb=0,d.i()&&d.I())for(tb=d.h(),Db=d.h();0===Sb;)k===D.kx?ya+=tb:Aa+=tb,a.We+=Db,a.fD(a.We,-1,[],0,a.Wa,0,0,l,ya,Aa,Ga),d.i()&&
d.I()?(tb=d.h(),Db=d.h()):Sb=1;else t[t.length]=[D.pj+" "+k,"missing number pair"]}else t[t.length]=[D.pj+" "+l,"invalid name or rle"];r=!0}}break;case D.Cw:d.i()&&(u=!0,m=d.h(),-4096<=m&&4096>=m&&(a.qy=m,u=!1,d.i()&&(u=!0,m=d.h(),-4096<=m&&4096>=m&&(a.Ky=m,r=!0))));break;case D.bq:if(d.i()){if(u=!0,m=d.h(),0<=m){a.We=m;a.Zd=0;a.Rl=-1;a.dj=[];for(f=!0;f;)d.i()?(m=d.h(),a.dj[a.dj.length]=m):(k=d.m(),a.oK(k,a.dj)?d.j():f=!1);r=!0}}else k=d.m(),k===D.Jp&&(k=d.j(),d.i()&&(u=!0,m=d.h(),1<=m&&(a.Zd=m,a.We=
0,a.Rl=-1,d.i()?(m=d.h(),0<=m&&(a.We=m,d.i()?(m=d.h(),m>=a.We+a.Zd&&(a.Rl=m,r=!0)):r=!0)):r=!0)));break;case D.eD:r=H.ro=!0;break;case D.nx:r=a.Rn=!0;break;case D.Yw:r=!0;u=!1;Hb="paste mode";k=d.m();switch(k){case D.jx:a.Wa=G.ix;break;case D.Lw:a.Wa=G.Cr;break;case D.Ew:a.Wa=G.Dw;break;case D.bx:a.Wa=G.Zw;break;case D.Gw:a.Wa=G.Fw;break;case D.hx:a.Wa=G.gx;break;case D.ex:a.Wa=G.Dr;break;case D.Xw:a.Wa=G.Mo;break;case D.Qw:a.Wa=G.Pw;break;case D.ax:a.Wa=G.$w;break;case D.Uw:a.Wa=G.Tw;break;case D.Iw:a.Wa=
G.Hw;break;case D.Sw:a.Wa=G.Rw;break;case D.Kw:a.Wa=G.Jw;break;case D.Ow:a.Wa=G.Nw;break;case D.Ww:a.Wa=G.Vw;break;case D.Mw:a.Wa=G.aq;break;default:if(4===k.length){for(Qa=m=0;4>Qa&&r;){m<<=1;switch(k.substring(Qa,Qa+1)){case "1":m|=1;break;case "0":break;default:r=!1}Qa+=1}r&&(a.Wa=m)}else d.i()?(u=!0,m=d.h()|0,0<=m&&15>=m?a.Wa=m:r=!1):r=!1}r&&!u&&d.j();break;case D.Lu:r=a.md=!0;break;case D.sw:a.Kd=!1;r=!0;break;case D.rw:r=a.rb=!0;break;case D.tw:a.Tc=!1;r=!0;break;case D.kr:d.i()&&(u=!0,m=d.h()|
0,m>=G.LB&&m<=G.xv&&(a.g.ea=1<<m,r=!0));break;case D.mq:k=d.m();k===D.Wb?(k=d.j(),H.nl=!1):H.nl=!0;r=H.Vr=!0;break;case D.Jq:k=d.m();k===D.Wb?(k=d.j(),H.Qe=!1):H.Qe=!0;r=!0;break;case D.mo:d.i()&&(u=!0,m=d.h()|0,0<=m&&m<=a.Xi&&(0!==m||!a.g.O)&&(a.qa=m,r=!0));break;case D.Ep:d.i()&&(u=!0,m=d.h()|0,0<=m&&m<=a.Xi&&(a.Ce=m,r=!0));break;case D.Nu:k=d.m();k===D.Wb?(k=d.j(),a.nd=!1):a.nd=!0;r=!0;break;case D.Pp:k=d.m();k===D.Wb?(k=d.j(),H.grid=!1):H.grid=!0;r=H.Tk=!0;break;case D.Op:d.i()&&(u=!0,m=d.h()|
0,m>=G.SH&&m<=G.OH&&(a.g.lb=m,r=a.Lf=!0));break;case D.yb:case D.Xt:z=g;Ta=!1;if(d.i())w=d.h()|0,m=-1===a.g.i?2:a.g.i,a.g.O&&(m=7),0>w||w>=m?(this.dg(d,t,g+" "+w,"STATE out of range",!1),Ta=!0):(this.$n(a,d,t,w,g,Ta,w),a.ua=!0);else switch(k=d.m(),k){case D.yw:a.g.O?this.wc(a,d,t,G.Qj,z):(this.dg(d,t,g+" "+D.yw,"not valid for this rule",!0),Ta=!0,a.ua=!1);break;case D.Bw:a.g.O?this.wc(a,d,t,G.Xn,z):(this.dg(d,t,g+" "+D.Bw,"not valid for this rule",!0),Ta=!0,a.ua=!1);break;case D.Mu:a.g.O?this.wc(a,
d,t,G.Yn,z):(this.dg(d,t,g+" "+D.Mu,"not valid for this rule",!0),Ta=!0,a.ua=!1);break;case D.uv:k=d.j();a.g.O?this.$n(a,d,t,G.AB,g,!1,k):(this.dg(d,t,g+" "+D.uv,"not valid for this rule",!1),Ta=!0,a.ua=!1);break;case D.wv:k=d.j();a.g.O?this.$n(a,d,t,G.CB,g,!1,k):(this.dg(d,t,g+" "+D.wv,"not valid for this rule",!1),Ta=!0,a.ua=!1);break;case D.vv:k=d.j();a.g.O?this.$n(a,d,t,G.BB,g,!1,k):(this.dg(d,t,g+" "+D.vv,"not valid for this rule",!1),Ta=!0,a.ua=!1);break;case D.Yu:k=d.j();a.g.O?this.$n(a,d,
t,G.sB,g,!1,k):(this.dg(d,t,g+" "+D.Yu,"not valid for this rule",!1),Ta=!0,a.ua=!1);break;case D.cp:this.wc(a,d,t,G.Qj,z);break;case D.bp:a.g.s||a.g.u||a.g.G||a.g.D||a.g.la?(this.dg(d,t,g+" "+D.bp,"not valid for this rule",!0),Ta=!0,a.ua=!1):this.wc(a,d,t,G.Xn,z);break;case D.qq:2<a.g.i||a.g.la?(this.dg(d,t,g+" "+D.qq,"not valid for this rule",!0),Ta=!0,a.ua=!1):this.wc(a,d,t,G.vA,z);break;case D.gp:a.g.D||a.g.u||a.g.G||a.g.la?(this.dg(d,t,g+" "+D.gp,"not valid for this rule",!0),Ta=!0,a.ua=!1):this.wc(a,
d,t,G.Yn,z);break;case D.fp:a.g.D||a.g.u||a.g.G||a.g.la?(this.dg(d,t,g+" "+D.fp,"not valid for this rule",!0),Ta=!0,a.ua=!1):this.wc(a,d,t,G.bu,z);break;case D.sq:2>=a.g.i||a.g.s||a.g.D||a.g.ja||a.g.u||a.g.G||a.g.O||a.g.la?(this.dg(d,t,g+" "+D.sq,"not valid for this rule",!0),Ta=!0,a.ua=!1):this.wc(a,d,t,G.yA,z);break;case D.rq:2>=a.g.i||a.g.s||a.g.D||a.g.ja||a.g.u||a.g.G||a.g.O||a.g.la?(this.dg(d,t,g+" "+D.rq,"not valid for this rule",!0),Ta=!0,a.ua=!1):this.wc(a,d,t,G.zA,z);break;case D.Pp:this.wc(a,
d,t,G.Qq,z);break;case D.Op:this.wc(a,d,t,G.cu,z);break;case D.mq:this.wc(a,d,t,G.KA,z);break;case D.iy:this.wc(a,d,t,G.LA,z);break;case D.pu:this.wc(a,d,t,G.AA,z);break;case D.Hu:this.wc(a,d,t,G.GA,z);break;case D.Tp:this.wc(a,d,t,G.du,z);break;case D.Fp:this.wc(a,d,t,G.au,z);break;case D.LC:this.wc(a,d,t,G.eu,z);break;case D.hA:this.wc(a,d,t,G.wA,z);break;case D.Qt:-1===a.g.S?(this.dg(d,t,g+" "+D.Qt,"Bounded Grid not specified",!0),Ta=!0):this.wc(a,d,t,G.xA,z);a.ua=!1;break;case D.UC:this.wc(a,
d,t,G.IA,z);break;case D.pj:this.wc(a,d,t,G.HA,z);break;case D.VC:this.wc(a,d,t,G.JA,z);break;case D.gB:this.wc(a,d,t,G.DA,z);break;case D.fB:this.wc(a,d,t,G.CA,z);break;case D.eB:this.wc(a,d,t,G.BA,z);break;case D.hB:this.wc(a,d,t,G.EA,z);break;case D.iB:this.wc(a,d,t,G.FA,z);break;case D.kD:this.wc(a,d,t,G.Tq,z);break;case D.iD:this.wc(a,d,t,G.Rq,z);break;case D.lD:this.wc(a,d,t,G.Uq,z);break;case D.nD:this.wc(a,d,t,G.Wq,z);break;case D.mD:this.wc(a,d,t,G.Vq,z);break;case D.jD:this.wc(a,d,t,G.Sq,
z);break;default:if('"'===k.charAt(0)&&'"'!==k.charAt(k.length-1)){k=d.j();do l=d.j(),k+=" "+l;while(""!==l&&'"'!==l.charAt(l.length-1))}else k=d.j();"dead"!==k||a.g.la||a.g.D?(w=-1,a.g.la||(w=a.Iz(k)),0<=w&&(this.$n(a,d,t,w,g,Ta,k),a.ua=!0),0>w&&(this.AH(k,a)?t[t.length]=[g+" "+k,"not valid for this rule"]:(t[t.length]=[g+" "+k,"illegal element"],k=d.j()),d.i()&&(d.h(),d.i()&&(d.h(),d.i()&&d.h())))):(d.P(),this.wc(a,d,t,G.Yn,z))}r=!0;break;case D.Fm:-1===d.S(D.jl)&&d.Z();r=!0;--a.Eh;break;case D.zq:r=
a.I=!0;break;case D.uw:r=a.Cx=!0;break;case D.Px:r=a.zn=!0;break;case D.vw:a.Af=!1;r=!0;break;case D.ru:r=a.ao=!0;break;case D.Ru:r=a.Rp=!0;break;case D.qw:a.Na=!0;r=a.Zm=!0;break;case D.pw:r=a.$g=!0;break;case D.hy:r=kc=jc=ic=hc=Ob=Nb=gc=fc=Mb=ec=dc=cc=bc=ac=$b=Zb=!0;break;case D.Wb:t[t.length]=[D.Wb,"must follow LOOP or STOP"];r=!0;break;case D.fg:k=d.m();k===D.zc?(k=d.j(),H.Sg?(a.s.ma(H,t),a.zG()):t[t.length]=[D.fg+" "+D.zc,"only valid at a POI"]):t[t.length]=[D.fg,"must be followed by INITIAL"];
r=!0;break;case D.zc:t[t.length]=[D.zc,"must follow POI, ALL or a POI setting"];r=!0;break;case D.Wr:d.i()&&(u=!0,m=d.h()|0,0<=m&&m<=G.IB&&(a.Ya=m,a.jk=m,r=!0));break;case D.Kq:r=a.Ee=!0;break;case D.Lq:k=d.m();k===D.Wb?(k=d.j(),a.$a=!1):a.ob&&(a.$a=!0);r=!0;break;case D.Fr:d.i()&&(u=!0,m=d.h()|0,0<=m&&(H.Sg?(H.Ac=m,H.pq=!0):t[t.length]=[D.Fr+" "+m,"only valid at a POI"],r=!0));break;case D.Qo:H.AJ(t);r=!0;break;case D.Ro:H.CJ(t);r=!0;break;case D.eq:H.BJ(t);r=!0;break;case D.fq:d.i()&&(u=!0,m=d.h(),
m>=Va.IC&&m<=Va.HC&&(H.DJ(m,t),r=!0));break;case D.px:r=E=!0;break;case D.Gu:r=a.po=!0;break;case D.by:k=d.m();k===D.Wb?(k=d.j(),a.rd=!1):a.rd=!0;r=!0;break;case D.wq:d.i()&&(u=!0,m=d.h(),m>=G.Ag&&m<=G.xg&&(Bb=m,u=!1,g+=" "+m,d.i()&&(u=!0,m=d.h(),m>=G.Ag&&m<=G.xg&&(Cb=m,r=!0,a.nb&&(t[t.length]=[D.wq+" "+Bb+" "+Cb,"overwrites "+zb+" "+Ab]),zb=Bb,Ab=Cb,a.nb=!0))));break;case D.vq:d.i()&&(u=!0,m=d.h()|0,0<m&&(Yb=m,u=!1,g+=" "+m,d.i()&&(u=!0,m=d.h(),m>=G.Ag&&m<=G.xg&&(Bb=m,u=!1,g+=" "+m,d.i()&&(u=!0,
m=d.h(),m>=G.Ag&&m<=G.xg&&(Cb=m,r=!0,a.ki&&(t[t.length]=[D.vq+" "+Yb+" "+Bb+" "+Cb,"overwrites "+Rb+" "+zb+" "+Ab]),Rb=Yb,zb=Bb,Ab=Cb,a.ki=!0,a.nb=!0))))));break;case D.Lm:d.i()&&(u=!0,m=d.h(),m>=G.Ag&&m<=G.xg&&(Kb=m,u=!1,g+=" "+m,d.i()&&(u=!0,m=d.h(),m>=G.Ag&&m<=G.xg&&(Jb=m,u=!1,g+=" "+m,d.i()&&(u=!0,m=d.h(),m>=G.Ag&&m<=G.xg&&(Lb=m,u=!1,g+=" "+m,d.i()&&(u=!0,m=d.h(),m>=G.Ag&&m<=G.xg&&(Ib=m,r=!0,Lb>Kb?t[t.length]=[D.Lm+" W "+this.de(Lb,2)+" E "+this.de(Kb,2),"W is greater than E"]:Ib>Jb?t[t.length]=
[D.Lm+" N "+this.de(Ib,2)+" S "+this.de(Jb,2),"N is greater than S"]:(a.di&&(t[t.length]=[D.Lm+" "+this.de(Kb,2)+" "+this.de(Jb,2)+" "+this.de(Lb,2)+" "+this.de(Ib,2),"overwrites "+this.de(a.Jg,2)+" "+this.de(a.Kg,2)+" "+this.de(a.ji,2)+" "+this.de(a.gi,2)]),a.di=!0,a.nb=!0,a.gi=Ib,a.Jg=Kb,a.Kg=Jb,a.ji=Lb)))))))));break;case D.oi:L=H;!H.Sg&&0<a.s.h.length&&(H=a.s.F());d.i()?(u=!0,m=d.h()|0,0<m&&(!H.ni||a.Wf||Ob||(t[t.length]=-1===H.uc?[D.oi+" "+m,"overwrites "+D.Wb]:[D.oi+" "+m,"overwrites "+H.uc]),
H.uc=m,H.ni=!0,Ob=a.Wf=!1,r=!0)):(k=d.m(),k===D.Wb?(k=d.j(),!H.ni||a.Wf||Ob||(t[t.length]=-1!==H.uc||a.Wf?[D.oi+" "+D.Wb,"overwrites "+H.uc]:[D.oi+" "+D.Wb,"overwrites "+D.Wb]),H.uc=-1,H.ni=!0,Ob=a.Wf=!1,r=!0):k===D.zc&&(k=d.j(),a.s.j(D.oi,H,t,a.Wf),r=a.Wf=!0));H=L;break;case D.fi:L=H;!H.Sg&&0<a.s.h.length&&(H=a.s.F());d.i()?(u=!0,m=d.h()|0,0<m&&(!H.ei||a.yh||Nb||(t[t.length]=-1===H.Sb?[D.fi+" "+m,"overwrites "+D.Wb]:[D.fi+" "+m,"overwrites "+H.Sb]),H.Sb=m,H.ei=!0,Nb=a.yh=!1,r=!0)):(k=d.m(),k===D.Wb?
(k=d.j(),!H.ei||a.yh||Nb||(t[t.length]=-1===H.Sb?[D.fi+" "+D.Wb,"overwrites "+D.Wb]:[D.fi+" "+D.Wb,"overwrites "+H.Sb]),H.Sb=-1,H.ei=!0,Nb=a.yh=!1,r=!0):k===D.zc&&(k=d.j(),a.s.j(D.fi,H,t,a.yh),r=a.yh=!0));H=L;break;case D.pl:d.i()?(u=!0,m=d.h(),m>=G.Zp&&m<=G.yv&&(!H.Yg||a.pk||cc||(t[t.length]=[D.pl+" "+m,"overwrites "+H.Gb]),H.Gb=m,H.Yg=!0,cc=a.pk=!1,r=!0)):(k=d.m(),k===D.zc&&(k=d.j(),a.s.j(D.pl,H,t,a.pk),r=a.pk=!0));break;case D.Ik:d.i()?(u=!0,m=d.h()|0,0<=m&&359>=m&&(!H.Rg||a.tl||bc||(t[t.length]=
[D.Ik+" "+m,"overwrites "+H.angle]),H.angle=m,H.Rg=!0,bc=a.tl=!1,r=!0)):(k=d.m(),k===D.zc&&(k=d.j(),a.s.j(D.Ik,H,t,a.tl),r=a.tl=!0));break;case D.qm:d.i()?(u=!0,m=d.h()|0,m>=G.ur&&m<=G.lr&&(!H.Th||a.wl||dc||(t[t.length]=[D.qm+" "+m,"overwrites "+H.Aa]),H.Aa=m,H.Th=!0,dc=a.wl=!1,r=!0)):(k=d.m(),k===D.zc&&(k=d.j(),a.s.j(D.qm,H,t,a.wl),r=a.wl=!0));break;case D.dm:d.i()?(u=!0,m=d.h(),m>=G.tr&&m<=G.FB&&(!H.Ih||a.ul||ec||(t[t.length]=[D.dm+" "+m,"overwrites "+H.depth]),H.depth=m,H.Ih=!0,ec=a.ul=!1,r=!0)):
(k=d.m(),k===D.zc&&(k=d.j(),a.s.j(D.dm,H,t,a.ul),r=a.ul=!0));break;case D.ws:d.i()&&(u=!0,m=d.h(),m>=-a.g.ea/2&&m<=a.g.ea/2&&(a.aa=m,r=!0));break;case D.xs:d.i()&&(u=!0,m=d.h(),m>=-a.g.ea/2&&m<=a.g.ea/2&&(a.ba=m,r=!0));break;case D.gf:d.i()?(u=!0,m=d.h(),m>=-a.g.ea/2&&m<=a.g.ea/2&&(!H.wf||a.qk||Zb||(t[t.length]=[D.gf+" "+m,"overwrites "+-H.x]),H.x=-m,a.g.ha&&(H.x+=63.25),H.wf=!0,Zb=a.qk=!1,r=!0)):(k=d.m(),k===D.zc&&(k=d.j(),a.s.j(D.gf,H,t,a.qk),r=a.qk=!0));break;case D.jf:d.i()?(u=!0,m=d.h(),m>=-a.g.ea/
2&&m<=a.g.ea/2&&(!H.hf||a.rk||$b||(t[t.length]=[D.jf+" "+m,"overwrites "+-H.y]),H.y=-m,H.hf=!0,$b=a.rk=!1,r=!0)):(k=d.m(),k===D.zc&&(k=d.j(),a.s.j(D.jf,H,t,a.rk),r=a.rk=!0));break;case D.ny:d.i()&&(u=!0,m=d.h(),m>=G.Ab&&m<=G.Pb?(a.ko=!0,a.st=m,r=!0):m>=G.Xp&&m<=G.Vp&&(a.ko=!0,a.st=-(1/m),r=!0));break;case D.xt:case D.qe:d.i()?(u=!0,m=d.h(),m>=G.Ab&&m<=G.Pb?(!H.pe||a.zh||ac||(t[t.length]=1>H.zoom?[D.qe+" "+m,"overwrites "+-(1/H.zoom)]:[D.qe+" "+m,"overwrites "+H.zoom]),H.zoom=m,H.pe=!0,ac=a.zh=!1,
r=!0):m>=G.Xp&&m<=G.Vp&&(H.pe&&!a.zh&&(t[t.length]=1>H.zoom?[D.qe+" "+m,"overwrites "+-(1/H.zoom)]:[D.qe+" "+m,"overwrites "+H.zoom]),H.zoom=-(1/m),H.pe=!0,a.zh=!1,r=!0)):(k=d.m(),k===D.zc&&(k=d.j(),a.s.j(D.qe,H,t,a.zh),r=a.zh=!0));break;case D.jm:d.i()?(u=!0,m=d.h()|0,m>=G.zg&&(!H.qf||a.vl||fc||(t[t.length]=[D.jm+" "+m,"overwrites "+H.bd]),m>G.Yc&&(ya=m/G.Yc|0,2<=ya&&(ya>=a.Ff&&(ya=a.Ff),H.step=ya,H.Be=!0),m=G.Yc),H.bd=m,H.qf=!0,fc=a.vl=!1,a.zz=!1,r=!0)):(k=d.m(),k===D.zc&&(k=d.j(),a.s.j(D.jm,H,
t,a.vl),r=a.vl=!0));break;case D.oy:k=d.m();k===D.Wb?(k=d.j(),a.Ad||(a.ka=!1,a.le=!1)):a.Ad||(a.ka=!0,a.le=!0);r=!0;break;case D.my:r=a.qt=!0;break;case D.ky:k=d.m();k===D.Wb?(k=d.j(),a.Ad||(a.ka=!1,a.le=!1,a.yd=!1,a.C.ya=!1)):a.Ad||(a.ka=!0,a.le=!0,a.yd=!0,a.C.ya=!0);r=!0;break;case D.ly:d.i()&&(u=!0,m=d.h()|0,m>=G.PB&&m<=G.JB&&(a.Xb=m,r=!0));break;case D.$j:d.i()?(u=!0,m=d.h()|0,0<=m&&m<a.g.Mb&&(!H.ue||a.Oe||Mb||this.Fx(a,t,m,H.Lc),H.Lc=m,H.ue=!0,Mb=a.Oe=!1,r=!0)):(k=d.m(),k===D.ep?(k=d.j(),a.ua?
(H.ue&&!a.Oe&&this.Fx(a,t,a.g.Mb,H.Lc),H.Lc=a.g.Mb,H.ue=!0,a.Oe=!1):t[t.length]=[D.$j+" "+D.ep,"no custom THEME defined"],r=!0):(m=a.bI(k),-1!==m?(k=d.j(),!H.ue||a.Oe||Mb||this.Fx(a,t,m,H.Lc),H.Lc=m,H.ue=!0,Mb=a.Oe=!1,r=!0):k===D.zc&&(k=d.j(),a.s.j(D.$j,H,t,a.Oe),r=a.Oe=!0)),r||(r=!0,t[t.length]=[g,"invalid specification"]));break;case D.Wx:k=d.m().toUpperCase();if(k==D.iq||k==D.Ho||k==D.$p||k==D.Gp){d.j();if(!(2<a.g.i||a.g.Da||a.g.s||a.g.O||a.g.u||a.g.G||a.g.D))switch(k){case D.iq:a.g.$a=y.tf;a.Pf=
y.tf;break;case D.Ho:case D.$p:a.g.$a=y.jg;a.Pf=y.jg;break;case D.Gp:a.g.$a=y.If,a.Pf=y.If}r=!0}break;case D.iq:2<a.g.i||a.g.Da||a.g.s||a.g.O||a.g.u||a.g.G||a.g.D||(a.g.$a=y.tf,a.Pf=y.tf);r=!0;break;case D.$p:case D.Ho:2<a.g.i||a.g.Da||a.g.s||a.g.O||a.g.u||a.g.G||a.g.D||(a.g.$a=y.jg,a.Pf=y.jg);r=!0;break;case D.Gp:2<a.g.i||a.g.Da||a.g.s||a.g.O||a.g.u||a.g.G||a.g.D||(a.g.$a=y.If,a.Pf=y.If);r=!0;break;case D.jl:t[t.length]=[g,"already in a script block"];r=!0;break;case D.Yx:a.Ia=!a.Ia;r=!0;break;case D.Zx:a.Di.current=
a.Mg([!0],!0,a);r=!0;break;case D.su:a.Kj.current=a.Po([!0],!0,a);r=!0;break;case D.Xx:r=a.Wy=!0;break;case D.ju:d.i()&&(u=!0,m=d.h()|0,m>=G.KB&&m<=G.EB&&(r=!0,a.g.bf=m));break;case D.Ar:r=a.$b=!0;break;case D.br:r=a.Ca=!0;break;case D.Cu:d.i()&&(u=!0,m=d.h(),0<=m&&1>=m&&(r=!0,a.eb=m));break;case D.Du:a.qd=!1;r=!0;break;case D.Hy:a.g.Z&&(a.g.Fa=!1);r=!0;break;case D.Iu:a.g.ha&&(a.g.Fa=!1);r=!0;break;case D.Tr:r=a.g.Fa=!0;break;case D.Oy:a.g.Wd&&(a.td=!0);r=!0;break;case D.Pt:r=a.g.jb=!0;break;case D.Lx:d.i()&&
(u=!0,m=d.h()|0,m>=G.Yp&&m<=G.rr&&(a.im=m,r=!0));break;case D.Hx:d.i()&&(u=!0,m=d.h()|0,m>=G.Av&&m<=G.qr&&(a.em=m,r=!0));break;case D.Gx:d.i()&&(u=!0,m=d.h()|0,m>=G.wr&&m<=G.pr&&(a.oj=m,r=!0));break;case D.Ix:r=a.pn=!0;break;case D.Kx:r=a.rn=!0;break;case D.Jr:u=!1;Hb="a valid item";k=d.m();switch(k){case D.ce:k=d.j();r=!0;a.hm=!0;break;case D.fg:k=d.j();d.i()&&(u=!0,m=d.h()|0,0<=m&&100>=m&&(a.Ze=m,r=!0));break;case D.Ir:k=d.j();d.i()&&(u=!0,m=d.h()|0,0<=m&&100>=m&&(a.$e=m,r=!0));break;case D.Lr:k=
d.j();d.i()&&(u=!0,m=d.h()|0,0<=m&&100>=m&&(a.pg=m,r=!0));break;default:this.dK(k)&&(k=d.j(),d.i()&&(u=!0,m=d.h()|0,0<=m&&100>=m&&(this.xJ(a,m),r=!0)))}break;case D.Xh:t[t.length]=[g,"only valid after "+D.pj];r=!0;break;case D.Nx:a.om=!0;a.lm=!1;r=!0;break;case D.Mx:a.om=!0;r=a.lm=!0;break;case D.Jx:k=d.m();""!==k&&k!==D.Fm&&(a.qj=d.j(),r=a.Is=!0);break;case D.Tg:k=d.m();switch(k){case D.gf:H.gk&&this.Vh(H.Zg,D.Tg,D.gf,t);H.Zg=!0;H.gk=!0;k=d.j();break;case D.jf:H.ik&&this.Vh(H.ah,D.Tg,D.jf,t);H.ah=
!0;H.ik=!0;k=d.j();break;case D.qe:H.kk&&this.Vh(H.dh,D.Tg,D.qe,t);H.dh=!0;H.kk=!0;k=d.j();break;case D.fg:H.gk&&this.Vh(H.Zg,D.Tg,D.gf,t);H.ik&&this.Vh(H.ah,D.Tg,D.jf,t);H.kk&&this.Vh(H.dh,D.Tg,D.qe,t);H.Zg=!0;H.gk=!0;H.ah=!0;H.ik=!0;H.dh=!0;H.kk=!0;k=d.j();break;default:this.wm(d,t,D.Tg,"argument",D.fg+", "+D.gf+", "+D.jf+" or "+D.qe)}r=!0;break;case D.Zh:k=d.m();switch(k){case D.gf:H.gk&&this.Vh(H.Zg,D.Zh,D.gf,t);H.Zg=!1;H.gk=!0;k=d.j();break;case D.jf:H.ik&&this.Vh(H.ah,D.Zh,D.jf,t);H.ah=!1;H.ik=
!0;k=d.j();break;case D.qe:H.kk&&this.Vh(H.dh,D.Zh,D.qe,t);H.dh=!1;H.kk=!0;k=d.j();break;case D.fg:H.gk&&this.Vh(H.Zg,D.Zh,D.gf,t);H.ik&&this.Vh(H.ah,D.Zh,D.jf,t);H.kk&&this.Vh(H.dh,D.Zh,D.qe,t);H.Zg=!1;H.gk=!0;H.ah=!1;H.ik=!0;H.dh=!1;H.kk=!0;k=d.j();break;default:this.wm(d,t,D.Zh,"argument",D.fg+", "+D.gf+", "+D.jf+" or "+D.qe)}r=!0;break;case D.Gr:M=!0;a.s.add(H,a);H=a.s.D();H.Sg=!0;k=d.m();k===D.zc&&(k=d.j(),-1!==a.gh&&(t[t.length]=[D.Gr+" "+D.zc,"overrides previous initial POI"]),a.gh=a.s.i.length);
a.zE();r=!0;break;case D.oq:d.i()&&(u=!0,m=d.h()|0,0<=m&&(N=!0,0<m&&(a.s.add(H,a),H=a.s.D()),H.Ac=m,r=H.pq=!0));break;case D.Hm:d.i()?(u=!0,m=d.h()|0,m>=G.Ug&&m<=a.Ff&&(!H.Be||a.nk||gc||(t[t.length]=[D.Hm+" "+m,"overwrites "+H.step]),H.step=m,H.Be=!0,gc=a.nk=!1,a.Bz=!1,r=!0)):(k=d.m(),k===D.zc&&(k=d.j(),a.s.j(D.Hm,H,t,a.nk),r=a.nk=!0));break;case D.lx:d.i()&&(u=!0,m=d.h(),0<=m&&(N=!0,a.s.add(H,a),H=a.s.D(),m<G.XC&&(m=G.XC),H.vd=m,r=H.dD=!0));break;case D.mp:d.i()&&(u=!0,m=d.h()|0,a.Ad||(-1===a.Ua||
hc||(t[t.length]=[D.mp+" "+m,"overwrites "+a.Ua]),a.Ua=m),hc=!1,r=!0);break;case D.lo:d.i()&&(u=!0,m=d.h()|0,a.Ad||(-1===a.mb||ic||(t[t.length]=[D.lo+" "+m,"overwrites "+a.mb]),a.mb=m),ic=!1,r=!0);break;case D.hq:d.i()&&(u=!0,m=d.h()|0,-1===a.cc||jc||(t[t.length]=[D.hq+" "+m,"overwrites "+a.cc]),a.cc=m,jc=!1,r=!0);break;case D.gq:d.i()&&(u=!0,m=d.h()|0,-1===a.kd||kc||(t[t.length]=[D.gq+" "+m,"overwrites "+a.kd]),a.kd=m,kc=!1,r=!0);break;default:t[t.length]=[g,"unknown or misspelt command"],r=!0}r||
(u?t[t.length]=[g+" "+m,"argument out of range"]:this.wm(d,t,g,"argument",Hb))}""!==g&&(g=d.j())}n&&(t[t.length]=[D.Ld+q,"unterminated string"]);H.ue&&(a.g.u||a.g.G||a.g.D||a.g.la)&&(H.ue=!1);N&&a.nb&&(v=a.di?D.Lm:a.ki?D.vq:D.wq,t[t.length]=[v,"can not be used with Waypoints"],a.nb=!1,a.di=!1,a.ki=!1);a.di||!a.nb&&!a.ki||(a.ki&&(m=a.g.lb,H.ue&&(m=a.g.pa[H.Lc].B),0<m&&(Rb*=m),H.Sb=Rb),a.gi=Ab,a.Jg=zb,a.Kg=Ab,a.ji=zb);if(N||M){a.s.add(H,a);H=a.s.F();N?a.za=!0:-1!==a.gh&&(a.Gc=a.gh,L=a.s.i[a.gh],L.wf&&
(H.wf=L.wf,H.x=L.x),L.hf&&(H.hf=L.hf,H.y=L.y),L.pe&&(H.pe=L.pe,H.zoom=L.zoom),L.Rg&&(H.Rg=L.Rg,H.angle=L.angle),L.Yg&&(H.Yg=L.Yg,H.Gb=L.Gb),L.Ih&&(H.Ih=L.Ih,H.depth=L.depth),L.Th&&(H.Th=L.Th,H.Aa=L.Aa),L.ue&&(H.ue=L.ue,H.Lc=L.Lc),L.qf&&(H.qf=L.qf,H.bd=L.bd),L.Be&&(H.Be=L.Be,H.step=L.step),L.ni&&(H.ni=L.ni,H.uc=L.uc),L.ei&&(H.ei=L.ei,H.Sb=L.Sb));if(N){for(Qa=0;Qa<a.s.h.length;Qa+=1)H=a.s.h[Qa],H.Qe&&(H.wf||H.hf||H.pe)&&(q="",H.wf?(q="X "+H.x,H.hf?q=H.pe?q+(", Y "+H.y+" and ZOOM "+H.zoom):q+(" and Y "+
H.y):H.pe&&(q+=" and ZOOM "+H.zoom)):H.hf?(q="Y "+H.y,H.pe&&(q+=" and ZOOM "+H.zoom)):H.pe&&(q="ZOOM "+H.zoom),t[t.length]=[D.Jq,"overwrites "+q]);H=a.s.F()}M&&H.h===Va.play&&a.ob&&(a.$a=!0)}H.Qe&&(a.ia=!0);H.hf&&(a.g.ka=a.g.height/2-H.y);H.wf&&(a.g.ma=a.g.width/2-H.x);H.pe&&(a.g.zoom=H.zoom);a.g.Z||a.g.ha||(H.Rg&&(a.g.angle=H.angle),H.Yg&&(a.g.Gb=H.Gb),a.g.la||(H.Ih&&(a.g.mc=H.depth/G.cm+G.tr),H.Th&&(a.g.Aa=H.Aa)));H.ue&&(a.Sm=H.Lc);H.qf&&(a.ca=H.bd,a.O=G.Ug);H.Be&&(a.O=H.step,1<a.O&&(a.ca=a.tc));
H.Xr&&(a.C.notification.notify(H.te,15,1E3,15,!1),a.Re=H.te);a.uc=H.uc;a.Sb=H.Sb;H.pe&&(a.Cp=!0);H.wf&&(a.zp=!0);H.hf&&(a.Bp=!0);H.Tk&&(a.g.Ya=H.grid);H.Vr&&(a.Jc=H.nl);for(Qa=0;Qa<c;Qa+=1)-1!==a.Y[Qa]&&(B+=1,a.ua=!0);if(0<B){a.uq=!0;for(Qa=0;Qa<c;Qa+=1)a.X.aa[Qa]?-1===a.Y[Qa]?(a.uq=!1,a.Kn[Qa]=G.bD):a.Kn[Qa]=G.NJ:a.Kn[Qa]=G.aD;a.qn=a.uq?"(custom)":a.qn+" (custom*)"}else a.Y=null;if(a.ua||a.Lf||-1!==a.Mn||-1!==a.On)Qa=-1,H.ue&&(Qa=H.Lc),this.EJ(a,Qa),H.ue=!0,H.Lc=a.g.Mb,a.Sm=H.Lc;a.I&&(v="not possible due to "+
D.zq,a.Ee&&(t[t.length]=[D.Kq,v],a.Ee=!1),a.$a&&(t[t.length]=[D.Lq,v],a.$a=!1),-1!==a.Ya&&(t[t.length]=[D.Wr+" "+a.Ya,v],a.Ya=-1),-1!==a.uc&&(t[t.length]=[D.oi+" "+a.uc,v]),-1!==a.Sb&&(t[t.length]=[D.fi+" "+a.Sb,v]));0!==a.aa&&a.S+a.Ff+2*Math.abs(a.aa)>=a.g.ea&&(t[t.length]=[D.ws+" "+a.aa,"pattern does not fit on grid at view offset"],a.aa=0);0!==a.ba&&a.V+a.Ff+2*Math.abs(a.ba)>=a.g.ea&&(t[t.length]=[D.xs+" "+a.ba,"pattern does not fit on grid at view offset"],a.ba=0);a.Qx=t.length}""!==a.ud&&(a.ud=
this.Im(a,a.ud));a.ia&&(a.$m=!0);a.Ca&&a.$b&&(t[t.length]=[D.br,"not valid with "+D.Ar],a.Ca=!1);-1!==a.Ua&&(ib=G.jd,a.Ua>=G.NB&&a.Ua<ib&&(a.Ua=ib),a.Na&&(ib=G.TH),a.Ua<ib&&(t[t.length]=[D.mp+" "+a.Ua,"argument out of range"],Eb=!0));-1!==a.mb&&(ib=G.Uh,a.Na&&(ib=G.OB),a.mb<ib||a.mb>G.Wp)&&(t[t.length]=[D.lo+" "+a.mb,"argument out of range"],Eb=!0);-1!==a.Ua&&!Eb&&a.Ua>a.Cc&&(m=a.Cc/a.Ua,a.Ua=a.Cc,a.mb=-1!==a.mb?a.mb*m|0:a.displayHeight*m|0,ib=G.Uh,a.Na&&(ib=G.OB),a.mb<ib&&(a.mb=ib));a.Ad&&(-1!==
a.cc&&(a.cc>=G.NB&&a.cc<G.jd&&(a.cc=G.jd),a.cc<G.jd||a.cc>a.Cc)&&(t[t.length]=[D.hq+" "+a.cc,"argument out of range"],a.cc=-1,Eb=!0),-1!==a.kd&&(a.kd<G.Uh||a.kd>G.Wp)&&(t[t.length]=[D.gq+" "+a.kd,"argument out of range"],a.kd=-1,Eb=!0));if(Eb||t.length)-1!==a.Ua&&(a.Ua<G.jd?a.Ua=G.jd:a.Ua>a.Cc&&(a.Ua=a.Cc)),-1!==a.mb&&(a.mb<G.al?a.mb=G.al:a.mb>G.Wp&&(a.mb=-1)),a.Na=!1;a.h.M=a.Na;a.C.ea=a.Na;a.C.Na=a.$g;a.Na&&(a.$a=!1,a.ka=!1,a.yd=!1,a.Ca=!1,a.Mg([!1],!0,a),a.Po([!1],!0,a),a.Jo([!1],!0,a),a.Ia=!1,
a.md=!1);a.Cx&&(a.element.style="display:none",a.element.parentNode&&a.element.parentNode.parentNode&&a.element.parentNode.parentNode.className===Ea.Zq&&(a.element.parentNode.parentNode.style="display:none;"));E&&a.mJ();a.s.$a()}},va={Qv:null,Mv:null,Ov:null,Iv:null,Wv:null,Uv:null,kC:null,lw:null,sI:null,dw:null,$v:null,jw:null,Kv:null,hw:null,bw:null,fw:null,Yv:null,Sv:null,Rv:null,Nv:null,Pv:null,Jv:null,Xv:null,Vv:null,MK:null,mw:null,tI:null,ew:null,aw:null,kw:null,Lv:null,iw:null,cw:null,gw:null,
Zv:null,Tv:null,bG:null,vs:null,Nq:null,gI:null,hI:null,ZJ:null,$J:null,eI:null,fI:null,nG:null,oG:null,pG:null,qG:null,My:null,aK:null,Ly:null,YJ:null,MG:null,LG:null,JG:null,KG:null,IG:null,rA:null,tA:null,uA:null,qA:null,sA:null,iG:null,kG:null,lG:null,hG:null,jG:null,nA:null,oA:null,pA:null,dl:null,jI:null,iI:null,kI:null,qI:null,pI:null,rI:null,zr:null,iC:null,oI:null,YB:null,ZB:null,$B:null,jC:null,aC:null,bC:null,cC:null,dC:null,eC:null,gC:null,fC:null,hC:null,lI:null,mI:null,nI:null,ZI:null,
YI:null,fJ:null,eJ:null,kJ:null,lJ:null,jJ:null,Rr:null,memory:null,T:null},Ea={tagName:"LifeViewer",GG:"fullscreen",lH:"hide",cI:"multi",KH:"limit",Yq:"rle",No:"code",zm:37,Ku:!0,fullScreen:!1,Up:!1,ub:!1,Zq:"codebox",Ox:"",TC:"",ze:[]},G={Sh:0,sH:1,Qp:2,Tj:0,nB:1,Pr:"LV",ID:"yDirection",Sx:"safeMode",PA:"defaultSpeed",iu:"defaultSpeedValue",pK:"0 0 0 0\n1 0 255 192\n2 0 192 255\n",mG:"Ctrl",cG:"Cmd",QF:"Alt",CI:"Option",PF:"0123456789rtyopasghjklxcbn",hv:0,Sp:1,jv:2,nj:10,TA:"workaround",IB:4194304,
gg:0,Lp:1,tu:2,Kr:64,Yp:1,rr:4096,Av:1,qr:4096,wr:1,pr:100,RJ:[0,0,0,0,0,1,1,1,1,1,2,2,2,2,2,3,3,3,3,3,3],tq:[1,10,11,17,18,2,3,4,5,7,12,13,14,15,16,0,6,8,9,19,20],Er:0,wC:1,xC:2,uC:3,zC:4,yC:5,AC:6,BC:7,vC:8,pC:9,FI:"Top Left;Top;Top Right;Right;Bottom Right;Bottom;Bottom Left;Left;Middle".split(";"),ar:15,yI:5,Ti:1E8,xq:0,sy:1,ty:2,uy:3,xy:4,yy:5,wy:6,vy:7,ix:0,Cr:1,Dw:2,Zw:3,Fw:4,gx:5,Dr:6,Mo:7,Pw:8,$w:9,Tw:10,Hw:11,Rw:12,Jw:13,Nw:14,Vw:15,aq:3,Jy:[1,3,7,6],KJ:[0,1],LJ:[0,1],nH:[0,1,0,1,0,1,0],
oH:[0,1,2,3,4,5,6],QJ:[0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1],PJ:[0,1,2,3,4,5,6,3,4,1,2,1,2,1,0,1,0,1,0,1,0,1,0,1,0,1],Xo:Math.sqrt(3),bk:Math.sqrt(3),Sj:1/Math.sqrt(3)*1.5,hH:13750737,iH:15066597,Eu:7368816,Fu:5263440,XC:.016,FJ:16,oC:16384,OA:.7,Br:16384,zJ:"Script errors",Ag:-8,xg:8,PB:2,JB:4,QA:4,LB:9,xv:14,rG:13,fr:null,KB:1,EB:16,NA:3,Qj:0,Xn:1,vA:2,Yn:3,bu:4,Qq:5,cu:6,KA:7,LA:8,wA:9,DA:10,CA:11,BA:12,EA:13,FA:14,AA:15,du:16,yA:17,zA:18,Tq:19,Rq:20,Uq:21,Wq:22,Vq:23,Sq:24,au:25,
eu:26,xA:27,IA:28,HA:29,JA:30,GA:31,zI:0,AI:1,mH:2,AB:3,CB:4,BB:5,sB:6,sb:[0,6,2,5,3,4,1],df:"dead alive history mark1 markoff mark2 kill".split(" "),PK:"OFF ON HISTORY MARK1 MARKOFF MARK2 KILL".split(" "),EC:0,DC:16,qu:1800,fo:"LifeViewer",Zr:1276,$C:"Standard",Bx:"Pro",rD:"Chris Rowett",ur:1,lr:10,Hv:0,Eo:1,se:2,lj:3,bl:0,cl:1,Wh:2,ys:1.25,wH:.99,tr:0,FB:10,cm:10,DB:32,Ab:.03125,Pb:64,Zp:-5,yv:5,Xp:-32,Vp:-1,Ao:-2048,yo:-1,Bo:1/2048,zo:2048,Yc:60,zg:1,PH:60,Ug:1,Ff:64,nK:96,MA:.1,Lk:.05,ZA:"Courier",
Py:"Arial",Ig:"18px Arial",Hg:"14px Arial",Sr:"9px Arial",Iq:"rgb(240,255,255)",WF:"rgb(0,0,0)",JC:"rgb(240,255,255)",KC:"rgb(0,0,0)",cA:2,vr:1,mr:64,VF:.2,vB:"rgb(240,255,255)",JH:"rgb(0,0,0)",IH:18,MB:4,GB:128,HH:"Arial",ai:"rgb(32,255,255)",$h:"rgb(255,48,48)",TH:64,OB:64,NB:480,jd:600,RH:4096,jH:80,Uh:240,Wp:4096,al:480,Ax:560,Fq:172,zs:292,aD:0,NJ:1,bD:2,SH:0,OH:32,Ng:0,Xu:1,Ux:2,gr:3,jy:4,Yt:5,wt:6,zv:7,Zt:8,At:9},W={T:null,$c:[],ay:-1,hg:null,ze:[],ym:!1,kA:"",YA:0,wu:0,bB:12,currentFrame:0,
tc:60,R:!0,wb:!0,wD:!0,sl:!0,bs:!0,Jf:!0,AD:!0,CD:!0,Om:!0,ks:!0,ls:!0,xD:!0,DD:!0,vD:!0,yD:!0,os:!0,zD:!0,lp:!0,gs:!0,ms:!0,ps:!0,rs:!0,fs:!0,es:!0,cs:!0,qs:!0,ns:!0,ds:!0,ts:!0,ss:!0,hs:!0,js:!0,us:!0,ek:!0,BD:!0,kK:!0,lK:!0,jK:!0,mK:!0,er:null,tC:0,Ry:"",Tx:function(a,b){localStorage.setItem(G.Pr+a,b?"1":"0")},jr:function(a){var b=!1;a=localStorage.getItem(G.Pr+a);null!==a&&"1"===a&&(b=!0);return b},yJ:function(a,b){localStorage.setItem(G.Pr+a,String(b))},zB:function(a){var b=0;a=localStorage.getItem(G.Pr+
a);null!==a&&(b=Number(a));return b},cB:function(){var a=performance.now();1>=W.currentFrame&&(W.YA=a);W.currentFrame===W.bB+1?(W.ir=a,W.wu=(a-W.YA)/W.bB,a=1E3/W.wu|0,70>=a?a=60:100>=a?a=75:130>=a?a=120:155>=a?a=144:175>=a?a=165:260>=a&&(a=240),W.tc=a,console.log("refresh rate",a+"Hz"),setTimeout(Hc,0)):requestAnimationFrame(W.cB);W.currentFrame+=1},Ur:function(){var a=null;-1!==this.ay&&(a=this.$c[this.ay]);return a},CG:function(a){for(var b=null,c=0;c<W.$c.length;){if(W.$c[c][0].tabIndex===a){b=
W.$c[c][1];break}c+=1}return b},NG:function(a){var b=null;0<=a&&a<this.$c.length&&(b=this.$c[a][1]);return b},IK:function(a){var b=null;0<=a&&a<this.$c.length&&(b=this.$c[a][0]);return b},NK:function(){return this.$c.length},eK:function(){var a=0,b;for(b=0;b<this.$c.length;b+=1){var c=this.$c[b][1];c.Ob&&(a+=1)}return a},QC:function(){var a,b=0;for(a=0;a<this.$c.length;a+=1){var c=this.$c[a][1];c.fc.current=c.Md(G.Hv,!0,c);c.C.Ae(!0);b+=1}return b},cD:function(){var a,b=0;for(a=0;a<this.$c.length;a+=
1){var c=this.$c[a][1];c.Ob&&!c.Rp&&(c.fc.current=c.Md(G.se,!0,c),b+=1)}return b},gy:function(a){var b,c=0;for(b=0;b<this.$c.length;b+=1){var d=this.$c[b][1];d!==a&&d.Ob&&!d.Rp&&(d.fc.current=d.Md(G.se,!0,d),c+=1)}return c}};Ub.prototype.j=function(){var a=this.buffer[this.i>>3]>>7-(this.i&7)&1;this.i+=1;this.i===this.m&&(console.log("end of buffer"),--this.i);return a};Ub.prototype.h=function(a){for(var b=0;0<a;)--a,b|=this.j()<<a;return b};fa.prototype.yH=function(a){var b=!1;switch(a){case D.gp:case D.fp:case D.bp:case D.qq:case D.sq:case D.rq:case D.cp:b=
!0}return b};fa.prototype.Wz=function(a){for(var b=!1,c=0;c<G.df.length&&!b;)a===G.df[c]?b=!0:c+=1;return b};fa.prototype.Yz=function(a){for(var b=!1,c=0;c<y.Go.length&&!b;)a===y.Go[c]?b=!0:c+=1;return b};fa.prototype.Uz=function(a){for(var b=!1,c=0;c<y.Fo.length&&!b;)a===y.Fo[c]?b=!0:c+=1;return b};fa.prototype.Hk=function(){var a,b=this.cb,c=this.Bb,d=[];for(a=0;a<G.nj;a+=1){var f=a===c?"current ":"activate ";f+="clipboard";null!==b[a]?(f+=" ("+b[a].width+" x "+b[a].height+", "+b[a].count+" cell",
1!==b[a].count&&(f+="s"),f+=")"):f+=" (empty)";d[a]=f+" ["+this.D+" "+a+"]"}this.Dk.W=d};fa.prototype.fA=function(a){window.confirm("Open last saved pattern?")&&(a.Ad?Gb(a.element):yb(a.element))};fa.prototype.yj=function(){var a=1<<G.ar,b=this.Pa>>G.ar;b===this.Qg.length&&(this.Qg[b]=this.g.T.h(ra.Pd,a,"View.currentEdit"+b,!1));return this.Qg[b]};fa.prototype.zk=function(a,b){var c=[!0,a,b],d=this.g.Ia,f=this.g.Ha,e=this.g.ea,g;if(a!==(a&d)||b!==(b&f)){c[0]=!1;var k=this.g.width<this.g.ea&&a!==(a&
d);for(g=this.g.height<this.g.ea&&b!==(b&f);k||g;)(k||g)&&this.g.Tf(k,g,!0),k&&(a+=this.g.width>>2),g&&(b+=this.g.height>>2),k=this.g.width<e&&a!==(a&d),g=this.g.height<e&&b!==(b&f);a===(a&d)&&b===(b&f)&&(c[0]=!0,c[1]=a,c[2]=b)}if(this.g.Da&&(d=this.Ei(),d=d+1>>1,0>a-d||a+d>=this.g.width||0>b-d||b+d>=this.g.height)){c[0]=!1;k=this.g.width<e&&(0>a-d||a+d>=this.g.width);for(g=this.g.height<e&&(0>b-d||b+d>=this.g.height);k||g;)(k||g)&&this.g.Tf(k,g,!0),k&&(a+=this.g.width>>2),g&&(b+=this.g.height>>2),
k=this.g.width<e&&(0>a-d||a+d>=this.g.width),g=this.g.height<e&&(0>b-d||b+d>=this.g.height);0>a-d||a+d>=this.g.width||0>b-d||b+d>=this.g.height||(c[0]=!0,c[1]=a,c[2]=b)}return c};fa.prototype.oa=function(a,b,c,d){var f=this.Pa,e=G.ar;var g=f>>e;var k=1<<e,l=k-1,p=this.Qg;var n=this.g.i;var q=2<n&&!(this.g.la||this.g.s||this.g.D||this.g.u||this.g.G),m=!1;var r=0;var u=this.g.ja?-1:0,t=this.g.B;var v=this.g.h;b=this.zk(a,b);if(b[0]){a=b[1];b=b[2];var B=(this.g.width>>1)-(this.S>>1);var w=(this.g.height>>
1)-(this.V>>1);var z=Math.round((this.g.width-this.g.ba)/2)+u;u=Math.round((this.g.height-this.g.$)/2)+u;var E=z+this.g.ba-1;var H=u+this.g.$-1}else return 0;if(-1!==this.g.S&&(0===this.g.ba&&(z=0,E=this.g.width-1),0===this.g.$&&(u=0,H=this.g.height-1),!(a>=z&&a<=E&&b>=u&&b<=H)))if(d)a<z&&(a=z),a>E&&(a=E),b<u&&(b=u),b>H&&(b=H);else return 0;(this.g.s||this.g.D||this.g.u||this.g.G)&&0!==(this.g.counter&1)&&(v=this.g.P);v=v[b][a];d=this.g.nb(a,b,!1);0<d&&q&&(d=n-d);-1===n&&(n=this.g.O?7:2);0>c?c=0:
c>=n&&(c=n-1);c!==d&&(this.rb||(g>=p.length&&this.yj(),n=p[g],f&=l,q=c<<16|d<<8|v,0<f&&(4<=f?(r=n[f-1],4194304<=r?n[f-3]===q&&n[f-2]===b-w&&n[f-4]===a-B-(r-4194304)-2&&(n[f-1]+=1,m=!0):n[f-2]===q&&n[f-1]===b-w&&n[f-3]===a-B-1&&(n[f]=4194304,f+=1,this.Pa+=1,f===k&&this.yj(),m=!0)):(g=this.Pa,r=p[g-1>>e][g-1&l],4194304<=r?n[g-3>>e][g-3&l]===q&&n[g-2>>e][g-2&l]===b-w&&n[g-4>>e][g-4&l]===a-B-(r-4194304)-2&&(n[g-1>>e][g-1&l]+=1,m=!0):p[g-2>>e][g-2&l]===q&&p[g-1>>e][g-1&l]===b-w&&p[g-3>>e][g-3&l]===a-B-
1&&(n[f]=4194304,f+=1,this.Pa+=1,f===k&&(n=this.yj()),m=!0))),m||(n[f]=a-B,f+=1,this.Pa+=1,f===k&&(n=this.yj(),f=0),n[f]=c<<16|d<<8|v,f+=1,this.Pa+=1,f===k&&(n=this.yj(),f=0),n[f]=b-w,this.Pa+=1,f+1===k&&this.yj())),r=this.g.Zd(a,b,c,!0),this.g.B!==t&&(this.Db=-1),this.$b||0!==this.g.counter||this.g.Kh());return r};fa.prototype.Uy=function(a,b){var c=0,d=(this.g.width>>1)-(this.S>>1),f=(this.g.height>>1)-(this.V>>1),e=0,g=this.g.h;(this.g.s||this.g.D||this.g.u||this.g.G)&&0!==(this.g.counter&1)&&
(g=this.g.P);if(a)if(b)for(c=a.length;0<c;){var k=a[c-1];4194304<=k&&--c;c-=3;b=a[c]+d;var l=a[c+1]>>8&255;var p=a[c+1]&255;var n=a[c+2]+f;e|=this.g.Zd(b,n,l,!0);g[n][b]=p;if(4194304<=k)for(k-=4194304;0<=k;)b+=1,e|=this.g.Zd(b,n,l,!0),g[n][b]=p,--k}else for(;c<a.length;)if(b=a[c]+d,l=(a[c+1]&16711680)>>16,n=a[c+2]+f,e|=this.g.Zd(b,n,l,!0),c+=3,k=a[c],4194304<=k)for(c+=1,k-=4194304;0<=k;)b+=1,e|=this.g.Zd(b,n,l,!0),--k;(this.g.O||this.g.u)&&e&&this.g.rb();this.$b||0!==this.g.counter||this.g.Kh()};
fa.prototype.Um=function(a){for(var b=this.ma-1,c,d=this.fa,f=!1,e=!1;0<=b&&!f;)c=this.Hb[b],c.rg<=a?(f=!0,"advance selection"!==c.action&&"advance outside"!==c.action||!(b<this.Hb.length-2)||"advance selection"!==this.Hb[b+2].action&&"advance outside"!==this.Hb[b+2].action||(e=!0,b+=2)):--b;f&&(this.ma=b+1,c=this.ma>=this.Dh?this.Hb[this.ma-1]:this.Hb[this.ma],c.selection?(d.J=c.selection.J,d.K=c.selection.K,d.L=c.selection.L,d.N=c.selection.N,this.P=!0):this.P=!1,this.zd=!1,this.vo());return e};
fa.prototype.vo=function(){var a=this.ma,b=this.Dh,c=this.Hb;if(1<a){var d="undo ";var f=c[a-1];if(null===f.fm){var e=f.rg;1<a&&(e=c[a-2].rg);this.g.counter===e?d+=f.action:(d=1<this.g.counter-e?d+"play":d+"step",d+=" from "+e)}else d=""===f.action?d+"edit":d+f.action;"undo "===d&&(d="undo");this.Nd.W=d+" ["+this.A+" Z]"}a<b&&(d="redo ",f=c[a],null===f.fm?(e=f.rg,e===this.g.counter?d+=f.action:(d=1<e-this.g.counter?d+"play":d+"step",d+=" to "+e)):d=""===f.action?d+"edit":d+f.action,"redo "===d&&(d=
"redo"),this.Lh.W=d+" ["+this.A+" Y]")};fa.prototype.vF=function(a){var b=this.P?this.fa:null;return null===a&&null===b?!0:null===a&&null!==b||null!==a&&null===b?!1:a.J===b.J&&a.K===b.K&&a.L===b.L&&a.N===b.N?!0:!1};fa.prototype.YC=function(a,b,c,d){var f=!1;if(0<this.ma){var e=this.Hb[this.ma-1];e.rg===a&&null===b&&""===c&&this.vF(e.selection)&&(f=!0)}f||(this.Hb[this.ma]={rg:a,fm:b,action:c,selection:d},this.ma+=1)};fa.prototype.Z=function(a){var b=this.g.counter,c=null,d=null,f=this.fa,e=null,g=
G.ar,k=1<<g,l=k-1;g=this.Pa>>g;if(!this.rb){this.Ob&&(0<this.ma&&(e=this.Hb[this.ma-1]),e&&e.selection&&(d=new Ua(e.selection.J,e.selection.K,e.selection.L,e.selection.N)),this.YC(b,c,"",d),d=null);this.P&&(d=new Ua(f.J,f.K,f.L,f.N));if(0<this.Pa){c=this.g.T.h(ra.Pd,this.Pa,"View.editCells"+this.ma,!1);for(e=f=0;f<g;)c.set(this.Qg[f].slice(),e),f+=1,e+=k;this.Pa&l&&c.set(this.Qg[f].slice(0,this.Pa&l),e);this.Pa=0}this.YC(b,c,a,d);this.Dh=this.ma;this.vo();this.ia&&0<this.g.B&&(this.g.Nb=!0,this.g.bc(),
this.xb(!0,!0,G.gg))}};fa.prototype.to=function(a){var b=a.g.counter,c=a.ma,d=a.fa,f=1,e=!1;if(!a.rb){a.Db=-1;a.Ob&&(a.fc.current=a.Md(G.se,!0,a),c=a.ma);if(0<c)for(;0<f;){var g=a.Hb[c-1];var k=g.rg;var l=g.selection;e||"advance outside"!==g.action&&"advance selection"!==g.action||(e=!0,f=3);null===g.fm&&1<c&&(k=a.Hb[c-2].rg);1<c&&(l=a.Hb[c-2].selection);if(k<b){var p=a.g.tb;0===k?a.reset(a):a.jq(k);b=a.g.counter;a.g.tb=p;a.Mh(a.Ob)}else a.Uy(g.fm,!0);l?(d.J=l.J,d.K=l.K,d.L=l.L,d.N=l.N,a.P=!0):a.P=
!1;a.zd=!1;"reverse playback"===g.action&&(a.g.tb=!a.g.tb,a.g.Tb=!1,a.Mh(a.Ob));--c;a.ma=c;--f}else 0<b&&a.reset(a);a.vo();a.g.bc();this.ia&&this.xb(!0,!0,G.gg)}};fa.prototype.Js=function(a){var b=a.g.counter,c=a.fa,d=1,f=!1;if(!a.rb){for(;0<d&&a.ma<a.Dh;){var e=a.Hb[a.ma];f||"advance outside"!==e.action&&"advance selection"!==e.action||(f=!0,d=3);e.rg===b&&null===e.fm&&""===e.action&&(a.ma+=1);e.rg>b?(a.FF(e.rg),b=a.g.counter):a.Uy(e.fm,!1);e.selection?(c.J=e.selection.J,c.K=e.selection.K,c.L=e.selection.L,
c.N=e.selection.N,a.P=!0):a.P=!1;a.zd=!1;"reverse playback"===e.action&&(a.g.tb=!a.g.tb,a.Mh(a.Ob));a.ma+=1;--d}a.vo();a.g.bc();(a.g.O||a.g.u)&&a.g.rb();this.ia&&this.xb(!0,!0,G.gg)}};fa.prototype.ht=function(){var a="";if(this.g.ja)a="Margolus";else if(-1!==this.g.Sd||this.X.na)a="1D";else if(this.g.Ch){a="Hexagonal";if(this.g.hh===this.X.qa||this.g.Da&&this.g.ca.type===this.X.D)a="Tripod";this.g.Da&&this.g.ca.type===this.X.A&&(a="Asterisk");1<this.g.ca.s&&(a+=" range "+this.g.ca.s)}else if(this.g.Da){switch(this.g.ca.type){case this.X.u:a=
"Corner/Edge";break;case this.X.i:a="Moore";break;case this.X.m:a="von Neumann";break;case this.X.Z:a="Circular";break;case this.X.P:a="Cross";break;case this.X.V:a="Saltire";break;case this.X.Y:a="Star";break;case this.X.$:a="L2";break;case this.X.G:a="Hexagonal";break;case this.X.O:a="Checkerboard";break;case this.X.I:a="Aligned Checkerboard";break;case this.X.S:a="Hash";break;case 10:a="Custom";break;case this.X.D:a="Tripod";break;case this.X.A:a="Asterisk";break;case this.X.H:a="Triangular";break;
case this.X.v:a="Gaussian";break;case 15:a="Weighted"}this.g.ca.type===this.X.u?a+=" range "+this.g.ca.S+"/"+this.g.ca.Y:1<this.g.ca.s&&(a+=" range "+this.g.ca.s);this.g.ca.ea&&(a+=" (non-deterministic)")}else if(this.g.Z)switch(a="Triangular",this.g.jh){case this.X.la:a+=" Edges";break;case this.X.ma:a+=" Vertices";break;case this.X.ua:a+=" Inner";break;case this.X.va:a+=" Outer";break;case this.X.ta:a+=" Biohazard";break;case this.X.wa:a+=" Radiation"}else if(this.g.D)if(null===this.g.vb)a=4===
this.g.Rd?"von Neumann":"Moore";else switch(this.g.md){case Da.uj:a="von Neumann";break;case Da.Wg:a="Moore";break;case Da.Vg:a="Hexagonal";break;case Da.Xj:a="1D";break;default:a="unknown"}else a=this.g.ud||this.g.s?"von Neumann":"Moore";this.g.la&&(a="none");return a};fa.prototype.RC=function(a,b,c,d){var f=[];d=this.ve[d];var e=d[0],g=d[1],k=d[2],l=d[3],p=new mb("rleToCellList",this.X);var n=D.Xh.length;d=2>=this.g.i?2:this.g.i;var q=2<d&&!(this.g.la||this.g.s||this.g.D||this.g.u||this.g.G);var m=
this.oj/100;var r=!1;if(a.substring(0,n)===D.Xh){a=a.substring(n);b=parseInt(a.substring(0,a.indexOf(",")),10);c=parseInt(a.substring(a.indexOf(",")+1),10);for(g=a=0;g<c;g+=1)for(e=0;e<b;e+=1)this.g.s?(r=0,this.G.random()<=m&&(r|=1),this.G.random()<=m&&(r|=2),this.G.random()<=m&&(r|=4),this.G.random()<=m&&(r|=8),f[a]=e,f[a+1]=g,f[a+2]=r,a+=3):2===d?this.G.random()<=m&&(f[a]=e,f[a+1]=g,f[a+2]=1,a+=3):this.G.random()<=m&&(f[a]=e,f[a+1]=g,r=(this.G.random()*(d-1)|0)+1,q&&(r=d-r),f[a+2]=r,a+=3);r=!0}else if(m=
[],-1!==this.X.Va(p,a+" ",m)){this.X.hc(p,m,this.g.T);for(m=0;m<p.height;m+=1)for(n=p.ca[m],a=0;a<p.width;a+=1)r=n[a],q&&0<r&&(r=d-r),f[f.length]=b+a*e+m*g,f[f.length]=c+a*k+m*l,f[f.length]=r;r=!0}r||(f[0]="error");return f};fa.prototype.kF=function(a){var b=0,c=a.indexOf("["),d=a.indexOf("]");if(-1!==c&&-1!==d&&c<d&&d===a.length-1){for(c+=1;c<d&&0<=b;){var f=a.charCodeAt(c)-48;0>f||9<f?b=-1:(b=10*b+f,c+=1)}0<b&&(this.np=!0)}return b};fa.prototype.HF=function(a){var b=0>this.cg?-this.cg:this.cg,c=
0>this.kg?-this.kg:this.kg;b=2*(b<c?c:b);a<b&&(a=b);return a};fa.prototype.DF=function(a){var b=0>this.bg?-this.bg:this.bg,c=0>this.lg?-this.lg:this.lg;b=2*(b<c?c:b);a<b&&(a=b);return a};fa.prototype.oK=function(a,b){var c,d=!1;for(c=0;!d&&c<this.fe.length;)a===this.fe[c].name?d=!0:c+=1;if(d)for(a=this.fe[c].sG,c=0;c<a.length;c+=1)b[b.length]=a[c];return d};fa.prototype.fK=function(a,b,c){var d,f=!1;if(Pb.nm(b))a[a.length]=[D.Uo+" "+b,"name is reserved word"];else{for(d=0;!f&&d<this.fe.length;)b===
this.fe[d].name?f=!0:d+=1;if(f)a[a.length]=[D.Uo+" "+b,"name already defined"];else{f=!1;for(d=0;!f&&d<c.length;)1>c[d]?f=!0:d+=1;f?a[a.length]=[D.Uo+" "+b+" "+c[d],"invalid delta"]:(a=c.slice(),this.fe[this.fe.length]={name:b,sG:a})}}};fa.prototype.WJ=function(a,b,c,d,f,e){var g,k=!1;if(Pb.nm(b))a[a.length]=[D.Em+" "+b,"name is reserved word"];else if(-1!==b.indexOf("["))a[a.length]=[D.Em+" "+b,"name can not contain ["];else{for(g=0;!k&&g<this.Sd.length;)b===this.Sd[g].name?k=!0:g+=1;k?a[a.length]=
[D.Em+" "+b,"name already defined"]:(c=this.RC(c,d,f,e),"error"!==c[0]?this.Sd[this.Sd.length]={name:b,cells:c}:a[a.length]=[D.Em+" "+b,"invalid RLE"])}};fa.prototype.fD=function(a,b,c,d,f,e,g,k,l,p,n){var q=0,m=!1,r=[],u=this.ve[n],t=u[0],v=u[1],B=u[2],w=u[3];u=G.Ti;var z=-G.Ti,E=G.Ti,H=-G.Ti,L=k.indexOf("["),N=k,M=0,V=[],X=D.Xh.length,I=2>=this.g.i?2:this.g.i,R=2<I&&!(this.g.la||this.g.s||this.g.D||this.g.u||this.g.G),P=this.oj/100;-1!==L&&(N=k.substring(0,L),M=this.kF(k));if(N.substring(0,X)===
D.Xh){N=N.substring(X);m=parseInt(N.substring(0,N.indexOf(",")),10);N=parseInt(N.substring(N.indexOf(",")+1),10);for(X=q=0;X<N;X+=1)for(L=0;L<m;L+=1)if(2===I)this.G.random()<=P&&(r[q]=L,r[q+1]=X,r[q+2]=1,q+=3);else if(this.G.random()<=P){r[q]=L;r[q+1]=X;var S=(this.G.random()*(I-1)|0)+1;R&&(S=I-S);r[q+2]=S;q+=3}m=!0}else for(;q<this.Sd.length&&!m;)this.Sd[q].name===N?(m=!0,r=this.Sd[q].cells.slice()):q+=1;if(m)for(q=0;q<r.length;)k=r[q],n=r[q+1],r[q]=l+k*t+n*v,r[q+1]=p+k*B+n*w,q+=3;else r=this.RC(k,
l,p,n),"error"!==r[0]&&(m=!0);-1===M&&(m=!1);if(m&&0<r.length){for(q=0;q<r.length;)l=r[q],p=r[q+1],l<u&&(u=l),l>z&&(z=l),p<E&&(E=p),p>H&&(H=p),q+=3;l<this.cg&&(this.cg=l);l>this.kg&&(this.kg=l);p<this.bg&&(this.bg=p);p>this.lg&&(this.lg=p);t=Array.matrix(ra.bb,H-E+1,z-u+1,0,this.g.T,"View.rle"+this.Vc.length,!1);for(q=0;q<r.length;)l=r[q],p=r[q+1],t[p-E][l-u]=r[q+2],q+=3;V[0]=a;for(q=0;q<c.length;q+=1)V[V.length]=V[V.length-1]+c[q];this.Vc[this.Vc.length]={Zi:V,end:b,every:d,mode:f,cells:r,map:t,
J:u,K:E,width:z-u+1,height:H-E+1,AG:M,deltaX:e,deltaY:g};0<d&&(this.Cl=!0);V[V.length-1]>this.Yd&&(this.Yd=V[V.length-1])}return m};fa.prototype.dE=function(){var a,b,c=this.g.width,d,f=this.g.A;for(a=0;a<this.Vc.length;a+=1){var e=this.Vc[a];var g=e.AG;if(0<g){var k=e.cells;var l=(c>>1)-(e.width>>1);var p=(c>>1)-(e.height>>1);var n=0;f.J=l;f.L=l+e.width-1;f.K=p;f.N=p+e.height-1;for(this.g.counter=0;n<k.length;)this.g.Zd(l+k[n]-e.J,p+k[n+1]-e.K,k[n+2],!0),n+=3;for(;0<g;)this.g.dl(!0),this.g.Qf(),
this.g.bg(this),--g;k=[];n=0;var q=d=G.Ti;for(b=f.K;b<=f.N;b+=1)for(g=f.J;g<=f.L;g+=1){var m=this.g.nb(g,b,!1);0!==m&&(k[n]=g-l+e.J,k[n+1]=b-p+e.K,k[n+2]=m,k[n]<d&&(d=k[n]),k[n+1]<q&&(q=k[n+1]),n+=3)}e.cells=k.slice();e.width=f.L-f.J+1;e.height=f.N-f.K+1;e.K=q;e.J=d;e.map=Array.matrix(ra.bb,e.height,e.width,0,this.g.T,"View.rle"+a,!1);for(n=0;n<k.length;)g=k[n],b=k[n+1],e.map[b-e.K][g-e.J]=k[n+2],n+=3;this.g.tj()}}this.np&&this.g.tj()};fa.prototype.wK=function(a){var b=!1,c=this.g.counter;var d=!1;
if(this.g.ja||this.g.s)c=this.g.Xb;0!==a.every&&(this.g.ja||this.g.s)&&null!==this.g.Bb&&c<this.g.Ie&&(b=!1,d=!0);if(!d)if(0!==a.every&&c>=a.Zi[0]&&0===(c-a.Zi[0])%a.every)-1!==a.end&&c>a.end||(b=!0);else for(d=0;d<a.Zi.length&&!b;)c===a.Zi[d]?b=!0:d+=1;return b};fa.prototype.Pn=function(a,b,c,d){var f=0;b=this.zk(a,b);b[0]&&(a=b[1],b=b[2],f=this.g.Zd(a,b,c,d));return f};fa.prototype.jo=function(a,b){var c=0;b=this.zk(a,b);b[0]&&(a=b[1],b=b[2],c=this.g.nb(a,b,!1));return c};fa.prototype.an=function(){var a,
b=this.g.counter,c=this.g.width,d=this.g.height,f,e=0,g=this.g.i-1,k=0;if(!this.g.la){-2===g&&(g=this.g.O?6:1);for(a=0;a<this.Vc.length;a+=1){var l=this.Vc[a];if(this.wK(l)){var p=l.mode;var n=(c>>1)-(this.S>>1);var q=(d>>1)-(this.V>>1);var m=l.map;if(0!==l.every&&(0!==l.deltaX||0!==l.deltaY)){var r=(b-l.Zi[0])/l.every;n+=l.deltaX*r;q+=l.deltaY*r}n+=l.J;q+=l.K;for(l=0;l<m.length;l+=1){var u=m[l];if(2<=g&&!(this.g.O||this.g.la||this.g.s||this.g.D||this.g.u||this.g.G))for(r=0;r<u.length;r+=1){var t=
u[r];for(f=this.jo(n+r,q+l);c!==this.g.width||d!==this.g.height;)c!==this.g.width&&(c<<=1,n+=c>>2,this.va+=c>>2,this.ya+=c>>2,this.H+=c>>2),d!==this.g.height&&(d<<=1,q+=d>>2,this.Cb+=d>>2,this.Jb+=d>>2,this.F+=d>>2);switch(p){case G.ix:e=0;break;case G.Cr:e=t&f;break;case G.Dw:e=t&g-f;break;case G.Zw:e=t;break;case G.Fw:e=g-t&f;break;case G.gx:e=f;break;case G.Dr:e=t^f;break;case G.Mo:e=t|f;break;case G.Pw:e=g-(t|f);break;case G.$w:e=g-(t^f);break;case G.Tw:e=g-f;break;case G.Hw:e=t|g-f;break;case G.Rw:e=
g-t;break;case G.Jw:e=g-t|f;break;case G.Nw:e=g-(t&f);break;case G.Vw:e=1}0>e?e=0:e>g&&(e=g);t===f&&p!==G.aq||this.Pn(n+r,q+l,e,!0)}else if(this.g.s||this.g.D||this.g.G)for(r=0;r<u.length;r+=1){t=u[r];for(f=this.jo(n+r,q+l);c!==this.g.width||d!==this.g.height;)c!==this.g.width&&(c<<=1,n+=c>>2,this.va+=c>>2,this.ya+=c>>2,this.H+=c>>2),d!==this.g.height&&(d<<=1,q+=d>>2,this.Cb+=d>>2,this.Jb+=d>>2,this.F+=d>>2);switch(p){case G.ix:e=0;break;case G.Cr:e=t&f;break;case G.Dw:e=t&g-f;break;case G.Zw:e=t;
break;case G.Fw:e=g-t&f;break;case G.gx:e=f;break;case G.Dr:e=t^f;break;case G.Mo:this.g.G?(e=f,0!=t&&(e=t)):e=t|f;break;case G.Pw:e=g-(t|f);break;case G.$w:e=g-(t^f);break;case G.Tw:e=g-f;break;case G.Hw:e=t|g-f;break;case G.Rw:e=g-t;break;case G.Jw:e=g-t|f;break;case G.Nw:e=g-(t&f);break;case G.Vw:e=1}0>e?e=0:e>g&&(e=g);this.Pn(n+r,q+l,e,!0)}else if(this.g.O||this.g.u)for(r=0;r<u.length;r+=1){t=u[r];for(f=this.jo(n+r,q+l);c!==this.g.width||d!==this.g.height;)c!==this.g.width&&(c<<=1,n+=c>>2,this.va+=
c>>2,this.ya+=c>>2,this.H+=c>>2),d!==this.g.height&&(d<<=1,q+=d>>2,this.Cb+=d>>2,this.Jb+=d>>2,this.F+=d>>2);if(p===G.aq){e=t;var v=1;var B=0;t===f&&(B=1)}else v=t&1,B=f&1,e=0===(p&8>>(v+v|B))?0:1;v!==B&&(k|=this.Pn(n+r,q+l,e,!1))}else for(r=0;r<u.length;r+=1){t=u[r];v=0===t?0:1;f=this.jo(n+r,q+l);for(B=0===f?0:1;c!==this.g.width||d!==this.g.height;)c!==this.g.width&&(c<<=1,n+=c>>2,this.va+=c>>2,this.ya+=c>>2,this.H+=c>>2),d!==this.g.height&&(d<<=1,q+=d>>2,this.Cb+=d>>2,this.Jb+=d>>2,this.F+=d>>2);
e=0===(p&8>>(v+v|B))?0:1;e===f&&p!==G.aq||0===t&&0===f||this.Pn(n+r,q+l,e,!1)}}}}(this.g.O||this.g.u)&&k&&this.g.rb();this.Qy()}};fa.prototype.Qy=function(){var a,b=this.g.counter;for(a=0;a<this.ma;a+=1)this.Hb[a].rg===b&&this.Uy(this.Hb[a].fm,!1);this.g.bc()};fa.prototype.oz=function(a){this.yh=this.Wf=this.vl=this.nk=this.Oe=this.wl=this.ul=this.pk=this.tl=this.zh=this.rk=this.qk=a};fa.prototype.zE=function(){this.oz(!1)};fa.prototype.zG=function(){this.oz(!0)};fa.prototype.yq=function(){this.so=
[];this.uo=[]};fa.prototype.nE=function(a){var b=document.createElement("a");a.Mz(b);b.href=a.Ea.toDataURL("image/png");b.download="screenshot.png";b.click();b.remove();a.C.notification.notify("Image saved",15,300,15,!0)};fa.prototype.Cz=function(a){var b=a.Uc===G.Tj?a.g.Hc:a.g.Oc;if("Oscillator"!==a.zb)a.C.notification.notify("No Cell Map",15,300,15,!0);else{var c=document.createElement("a");a.Mz(c);c.href=b.toDataURL("image/png");c.download="cellmap.png";c.click();c.remove();a.C.notification.notify("Cell Map saved",
15,300,15,!0)}};fa.prototype.pH=function(a){var b=this.g.va,c=this.g.h,d=this.g.P,f=this.g.Wa,e=a.width,g=a.height,k=this.H,l=this.F;var p=Math.round(-this.g.ba/2);var n=Math.floor((this.g.ba-1)/2);var q=Math.round(-this.g.$/2);var m=Math.floor((this.g.$-1)/2);var r=k-(this.g.width>>1),u=r+e-1,t=l-(this.g.height>>1),v=t+g-1,B=this.g.i,w=2===B&&this.g.Da,z=!0;if(-1!==this.g.S){if(0!==this.g.ba){if(r<p||u>n)this.To=!0}else p=-this.g.width>>1,n=(this.g.width>>1)-1;if(0!==this.g.$){if(v>m||t<q)this.To=
!0}else q=-this.g.height>>1,m=(this.g.height>>1)-1}a.s&&(0!==(k&1)&&(k+=1),0!==(l&1)&&(l+=1),r=k-(this.g.width>>1),u=r+e-1,t=l-(this.g.height>>1),v=t+g-1);a.fa&&(0===(k&1)&&--k,0===(l&1)&&--l,r=k-(this.g.width>>1),u=r+e-1,t=l-(this.g.height>>1),v=t+g-1);-1!==this.g.S&&(r=p,u=n,t=q,v=m);r+=this.g.width>>1;u+=this.g.width>>1;t+=this.g.height>>1;v+=this.g.height>>1;0>r&&(r=0);u>=this.g.width&&(u=this.g.width-1);0>t&&(t=0);v>=this.g.height&&(v=this.g.height-1);k>=r&&k<=u&&e+k>=r&&e-1+k<=u&&(z=!1);for(n=
0;n<g;n+=1)if(q=a.I[n],n+l>=t&&n+l<=v){m=b[n+l];if(this.Sa||this.g.s||this.g.D||this.g.u||this.g.G||!this.ob){var E=a.ca[n];var H=c[n+l];if(z)for(p=0;p<e;p+=1){if(p+k>=r&&p+k<=u){var L=E[p];0<L&&(L+=this.qa);H[p+k]=L}}else for(p=0;p<e;p+=1)L=E[p],0<L&&(L+=this.qa),H[p+k]=L}else if(2<B)if(E=a.ca[n],H=c[n+l],z)for(p=0;p<e;p+=1)p+k>=r&&p+k<=u&&(L=E[p],0<L&&!this.g.la&&(L=B+this.qa-L),H[p+k]=L);else for(p=0;p<e;p+=1)L=E[p],0<L&&!this.g.la&&(L=B+this.qa-L),H[p+k]=L;if(w)if(H=c[n+l],z)for(p=0;p<e;p+=1)p+
k>=r&&p+k<=u&&0!==(q[p>>4]&1<<(~p&15))&&(m[p+k>>4]|=1<<(~(p+k)&15),H[p+k]=y.xa);else for(p=0;p<e;p+=1)0!==(q[p>>4]&1<<(~p&15))&&(m[p+k>>4]|=1<<(~(p+k)&15),H[p+k]=y.xa);else if(z)for(p=0;p<e;p+=1)p+k>=r&&p+k<=u&&0!==(q[p>>4]&1<<(~p&15))&&(m[p+k>>4]|=1<<(~(p+k)&15));else{p=0;for(E=k&15;p<e-16;)L=q[p>>4],m[p+k>>4]|=L>>E,m[(p+k>>4)+1]|=L<<16-E&65535,p+=16;for(;p<e;)0!==(q[p>>4]&1<<(~p&15))&&(m[p+k>>4]|=1<<(~(p+k)&15)),p+=1}}if(f)for(n=0;n<g;n+=1)if(n+l>=t&&n+l<=v)if(E=a.ca[n],b=f[n+l],z)for(p=0;p<e;p+=
1)p+k>=r&&p+k<=u&&(L=E[p])&&(b[p+k]=G.sb[L]+128);else for(p=0;p<e;p+=1)(L=E[p])&&(b[p+k]=G.sb[L]+128);(this.g.s||this.g.D||this.g.u||this.g.G)&&d.o.set(c.o)};fa.prototype.co=function(){var a=!1;-1!==this.g.S&&0!==this.g.ba&&0!==this.g.$&&(a=!0);return a};fa.prototype.$F=function(){var a=!1;-1===this.g.S||0!==this.g.ba&&0!==this.g.$||(a=!0);return a};fa.prototype.Do=function(a,b,c){a=a[0];b&&(c.eb=a);return[a,100*a]};fa.prototype.ow=function(a,b,c){b&&(c.oc=a[0]);return[c.oc,G.FI[c.oc+.5|0]]};fa.prototype.TJ=
function(a){a.I||(a.oc=(a.oc+.5|0)+1,a.oc>=G.pC&&(a.oc=0),a.Fh.current=a.ow([a.oc,a.oc],!0,a))};fa.prototype.RB=function(a,b,c){b&&(c.Ib=a[0],c.Ib<G.wr&&(c.Ib=G.wr),c.Ib>G.pr&&(c.Ib=G.pr));return[c.Ib,c.Ib]};fa.prototype.Dx=function(a,b,c){b&&(c.Vb=(c.g.i-c.ac)*a[0]|0);a[1]="";0<c.Vb&&(a[1]="<");a[1]+=c.Vb+"-"+(c.Vb+c.ac-1);c.Vb+c.ac<c.g.i&&(a[1]+=">");return a};fa.prototype.Od=function(a,b,c){var d=a[0];b?(c.hc=!0,c.g.zoom=G.Ab*Math.pow(G.Pb/G.Ab,a[0])/c.g.cb):(d=Math.log(c.g.zoom*c.g.cb/G.Ab)/Math.log(G.Pb/
G.Ab),0>d?d=0:1<d&&(d=1));a=this.nb&&!this.Mb?c.g.zoom*c.g.cb:c.g.zoom;a<G.Ab?a=G.Ab:a>G.Pb&&(a=G.Pb);1>a&&(a=-1/a);return[d,a]};fa.prototype.UD=function(a){var b=a/6E4|0;a=a%6E4/1E3;var c="";0<b&&(c=b+":",10>a&&(c+="0"));return c+=a.toFixed(2)};fa.prototype.xb=function(a,b,c){var d=this.g.zoom,f=this.g.ma,e=this.g.ka,g=6,k=G.jH,l=this.Ub,p=this.fa;var n=(this.g.width>>1)-(this.S>>1)+(this.aa<<1);var q=(this.g.height>>1)-(this.V>>1)+(this.ba<<1);c===G.Lp&&(l.J=p.J+n,l.L=p.L+n,l.J>l.L&&(n=l.L,l.L=
l.J,l.J=n),l.K=p.K+q,l.N=p.N+q,l.K>l.N&&(n=l.N,l.N=l.K,l.K=n));this.ka?(c=this.g.Zj(c,l,this.displayWidth*this.Xb,this.displayHeight*this.Xb,G.Ab,G.Pb,G.ys,this.S,this.V,this.I&&this.Sa,this.nd,this.rd,this.ia),c[0]/=this.Xb):(this.Na&&(k=0),c=this.g.Zj(c,l,this.displayWidth,this.displayHeight-k,G.Ab,G.Pb,G.ys,this.S,this.V,this.I&&this.Sa,this.nd,this.rd,this.ia));this.ia&&!a?(16<=this.g.zoom&&(g=2),1<this.O&&this.Ob&&(g=1),this.g.zoom=(this.g.zoom*(g-1)+c[0])/g,this.g.ma=(this.g.ma*(g-1)+c[1])/
g,this.g.ka=(this.g.ka*(g-1)+c[2])/g,a=this.g.zoom>d?this.g.zoom/d-1:d/this.g.zoom-1,f=this.g.ma>f?this.g.ma-f:f-this.g.ma,e=this.g.ka>e?this.g.ka-e:e-this.g.ka,this.bh=a,f>this.bh&&(this.bh=f),e>this.bh&&(this.bh=e),.001>=this.bh&&(this.g.zoom=c[0],this.g.ma=c[1],this.g.ka=c[2])):(this.Bg=this.g.width/2-this.g.ma,this.Cg=this.g.height/2-this.g.ka,this.bi=this.g.zoom,this.vg=this.g.angle,this.yg=this.g.Gb,this.Rf=this.g.width/2-c[1],this.Bi=this.g.height/2-c[2],this.Ci=c[0],this.Nk=this.vg,this.Ai=
this.yg,this.Rm=Va.cq,b?this.Kc=0:(this.Kc=Va.cq,this.ou()));this.kc&&(this.kc.current=this.Od([this.g.zoom,this.g.zoom],!1,this));this.sa&&(this.sa.current=this.Lg([this.g.angle,this.g.angle],!1,this));this.fb&&(this.fb.current=this.Oj([this.Ek(this.g.Gb),this.g.Gb],!1,this))};fa.prototype.KF=function(a,b,c,d){-1!==this.g.S?this.mc?(this.H=Math.round(this.g.width/2)+this.aa,this.F=Math.round(this.g.height/2)+this.ba):(0!==this.g.ba&&c>this.g.ba&&(c=this.g.ba),0!==this.g.$&&d>this.g.$&&(d=this.g.$),
0===c&&(c=this.g.ba),0===d&&(d=this.g.$),this.H=Math.round((this.g.width-c)/2),this.F=Math.round((this.g.height-d)/2)):(this.H=Math.round((this.g.width-a)/2)+this.aa,this.F=Math.round((this.g.height-b)/2)+this.ba);!this.I&&this.g.O||!this.X.Rj||-1===this.g.i||(this.I=this.Sa=!0)};fa.prototype.Dm=function(a){var b=a;0>a&&(a=-a);var c=a+String();1E9<=a?c="1B+":1E8<=a?c=(a/1E6|0)+"M":1E7<=a?c=(Math.floor(Number(a/1E5))/10).toFixed(1)+"M":1E6<=a?c=(Math.floor(Number(a/1E4))/100).toFixed(2)+"M":1E5<=a&&
(c=(a/1E3|0)+"K");0>b&&(c="-"+c);return c};fa.prototype.uk=function(a,b){var c=this.C.Y,d=this.C.Z;b=a+b;var f=-this.g.angle,e=Math.sin(f/180*Math.PI);f=Math.cos(f/180*Math.PI);0>b?b=0:1<b&&(b=1);a=G.Ab*Math.pow(G.Pb/G.Ab,a);b=G.Ab*Math.pow(G.Pb/G.Ab,b);b<G.Ab?b=G.Ab:b>G.Pb&&(b=G.Pb);c-=this.displayWidth/2;d-=this.displayHeight/2;c=(c-b/a*c)/b;a=(d-b/a*d)/b;this.g.ma-=c*f+a*-e;this.g.ka-=c*e+a*f;b=Math.log(b/G.Ab)/Math.log(G.Pb/G.Ab);this.kc.current=this.Od([b,b],!0,this)};fa.prototype.Ei=function(){var a=
32;this.g.Da&&(a=4*this.g.ca.v+1,-1!==this.g.S&&(a+=2*this.g.ca.v),this.g.ca.type===this.X.m&&(a=-1!==this.g.S?a+this.g.$/2:a+this.g.ca.u/2));return a};fa.prototype.Ak=function(a,b){a.g.Pl(a,b,a.Ei())};fa.prototype.$y=function(a){var b=!1,c=a.fa;var d=a.Ub;var f=(a.g.width>>1)-(a.S>>1)+(a.aa<<1);var e=(a.g.height>>1)-(a.V>>1)+(a.ba<<1);d.J=c.J+f;d.K=c.K+e;d.L=c.L+f;d.N=c.N+e;d.J>d.L&&(f=d.L,d.L=d.J,d.J=f);d.K>d.N&&(f=d.N,d.N=d.K,d.K=f);a.Ak(a,d);d=0;var g=a.g.width-1;var k=0;var l=a.g.height-1;a.g.Da&&
(d+=2*a.g.ca.v+1,g-=2*a.g.ca.v+1,k+=2*a.g.ca.s+1,l-=2*a.g.ca.s+1);f=(a.g.width>>1)-(a.S>>1)+(a.aa<<1);e=(a.g.height>>1)-(a.V>>1)+(a.ba<<1);c.J+f<d&&(c.J=-f,b=!0);c.J+f>g&&(c.J=a.g.width-1-f,b=!0);c.L+f<d&&(c.L=-f,b=!0);c.L+f>g&&(c.L=a.g.width-1-f,b=!0);c.K+e<k&&(c.K=-e,b=!0);c.K+e>l&&(c.K=a.g.height-1-e,b=!0);c.N+e<k&&(c.N=-e,b=!0);c.N+e>l&&(c.N=a.g.height-1-e,b=!0);return b};fa.prototype.aE=function(a){a.Gf.current=100*a.g.oc/a.g.Xe;a.Gf.M=!1;a.kb.s=0};fa.prototype.eE=function(a){a.Gf.current=100*
(1-(a.Ya-a.g.counter)/a.jk);a.Gf.M=!1;a.kb.s=0};fa.prototype.XD=function(a,b){a.Gf.current=a.g.counter/b*100;a.Gf.M=!1;a.kb.s=0};fa.prototype.TD=function(a){var b=!1,c=!1,d=0;a.wa||-1===a.Sb||(b=!0);!a.pb&&a.za&&(c=!0);if(b||c){var f=!1;if(c&&b)d=a.elapsedTime/a.s.va(a.Sb);else if(c){if(b=a.s.Ea().vd)d=a.elapsedTime/b,1<d&&(f=!0)}else 0<a.Sb&&(d=a.g.counter/a.Sb);1<d&&(d=1);a.Gf.current=100*d}else f=!0;a.Gf.M=f;a.kb.s=f?a.h.Y:0};fa.prototype.Ez=function(){this.Td.s(this.g.width/2-this.g.Hb,this.g.height/
2-this.g.Ib,this.g.da,this.g.Ea,this.g.displayWidth,this.g.displayHeight,this.g.Nc,this.g.Za[0])};fa.prototype.qC=function(){var a=this.h.A-this.displayWidth/2,b=this.h.F-this.displayHeight/2,c=this.F-this.g.ka,d=this.H-this.g.ma-(this.g.ha?this.g.ka/2:0),f=this.g.Ka,e=this.g.za,g=this.g.zoom;var k=this.g.rc(this.g.zoom);var l=-1;-1!==this.h.A&&(0!==this.g.Ea&&(l=Math.sqrt(a*a+b*b),b=180/Math.PI*Math.atan2(b,a),b-=this.g.Ea,a=l*Math.cos(Math.PI/180*b),b=l*Math.sin(Math.PI/180*b)),e=b/k-c+e,k=e-Math.floor(e),
e-=k,a=a/g+(this.g.ha?c/2+e/2:0)-d+f,this.g.Z&&(a-=.5),c=a-Math.floor(a),a-=c,this.g.Z&&(0===(a+this.H+e+this.F&1)?1<c+k&&(a+=1):1>1-c+k&&(a+=1)),l=this.g.nb(a+this.H,e+this.F,this.Sa&&this.I));return l};fa.prototype.Nj=function(a,b){var c=a-this.displayWidth/2,d=b-this.displayHeight/2;b=this.F-this.g.ka;var f=this.H-this.g.ma-(this.g.ha?this.g.ka/2:0),e=this.g.Ka,g=this.g.za,k=0,l=0,p=0,n=0,q=this.g.zoom,m=this.g.rc(this.g.zoom);-1!==a&&(0!==this.g.Ea&&(a=Math.sqrt(c*c+d*d),d=180/Math.PI*Math.atan2(d,
c),d-=this.g.Ea,c=a*Math.cos(Math.PI/180*d),d=a*Math.sin(Math.PI/180*d)),k=d/m-b+g,p=k-Math.floor(k),k-=p,l=c/q+(this.g.ha?b/2+k/2:0)-f+e,this.g.Z&&!this.g.Fa&&(l-=.5),n=l-Math.floor(l),l-=n,this.g.ha&&(.25>n?.1>p?(--k,--l):.9<=p&&(k+=1):.75<=n&&(.1>p?--k:.9<=p&&(k+=1,l+=1))));this.g.Z&&!this.g.Fa&&(0===(l+this.H+k+this.F&1)?1<n+p&&(l+=1):1>1-n+p&&(l+=1));this.Bc=l+this.H;this.Fc=k+this.F};fa.prototype.wE=function(a,b,c,d,f){var e=Math.abs(c-a),g=Math.abs(d-b),k=a<c?1:-1,l=b<d?1:-1,p=e-g,n=this.g.width,
q=this.g.height,m;for(m=this.oa(a,b,f,!0);n!==this.g.width||q!==this.g.height;)n!==this.g.width&&(n<<=1,a+=n>>2,c+=n>>2,this.va+=n>>2,this.ya+=n>>2,this.g.ha&&(this.va-=q>>3,this.ya-=q>>3),this.H+=n>>2),q!==this.g.height&&(q<<=1,b+=q>>2,d+=q>>2,this.Cb+=q>>2,this.Jb+=q>>2,this.F+=q>>2);for(;a!==c||b!==d;){var r=p+p;r>-g&&(p-=g,a+=k);r<e&&(p+=e,b+=l);for(m|=this.oa(a,b,f,!0);n!==this.g.width||q!==this.g.height;)n!==this.g.width&&(n<<=1,a+=n>>2,c+=n>>2,this.va+=n>>2,this.ya+=n>>2,this.g.ha&&(this.va-=
q>>3,this.ya-=q>>3),this.H+=n>>2),q!==this.g.height&&(q<<=1,b+=q>>2,d+=q>>2,this.Cb+=q>>2,this.Jb+=q>>2,this.F+=q>>2)}return m};fa.prototype.vz=function(){var a=170,b=this.el.ia,c=this.el.Z,d=this.Ki.Z;this.Hd.setPosition(da.ib,0,a-48);this.Co.cf(a-48);this.Id.cf(a-48+45);this.Ne.cf(a-48+170);this.qh.cf(a-48+255);this.Oi.cf(a-48+300);this.Ni.cf(a-48+345);this.el.setPosition(da.ib,c,a);this.Ki.setPosition(da.ib,d,a);a+=b;"Oscillator"===this.zb&&(this.nt.setPosition(da.ib,c,a),this.$k.setPosition(da.ib,
d,a),a+=b);this.g.ha||this.g.Z||(this.pt.setPosition(da.ib,c,a),this.wo.setPosition(da.ib,d,a),a+=b);"Spaceship"!==this.zb||this.g.ha||this.g.Z||(this.As.setPosition(da.ib,c,a),this.Io.setPosition(da.ib,d,a),a+=b);"Still Life"!==this.zb&&(this.Nt.setPosition(da.ib,c,a),this.Lo.setPosition(da.ib,d,a),a+=b,this.g.ha||this.g.Z||(this.Li.setPosition(da.ib,c,a),this.Mi.setPosition(da.ib,d,a),a+=b));"Spaceship"===this.zb&&(this.g.ha||this.g.Z||(this.Tt.setPosition(da.ib,c,a),this.Oo.setPosition(da.ib,d,
a),a+=b),this.ku.setPosition(da.ib,c,a),this.hl.setPosition(da.ib,d,a),a+=b);"Still Life"===this.zb||this.g.D&&2<this.g.i&&!this.g.O||this.g.eb||-1!==this.g.S||(this.vt.setPosition(da.ib,c,a),this.fl.setPosition(da.ib,d,a),a+=b);"Oscillator"===this.zb&&(-1!==this.g.S||this.g.D&&2<this.g.i||(this.nu.setPosition(da.ib,c,a),this.il.setPosition(da.ib,d,a),a+=b),this.uu.setPosition(da.ib,c,a),this.So.setPosition(da.ib,d,a),a+=b);"Still Life"===this.zb&&(this.Li.setPosition(da.ib,c,a),this.Mi.setPosition(da.ib,
d,a))};fa.prototype.mE=function(a){var b=0;this.Hj[this.Fj]=a;this.Fj+=1;this.Fj>=G.yI&&(this.Fj=0);for(a=0;a<this.Hj.length;a+=1)b+=this.Hj[a];b/=this.Hj.length;this.Gj.Kb=String(Math.round(b));this.Gj.M=!1};fa.prototype.ez=function(){var a;for(a=0;a<this.Hj.length;a+=1)this.Hj[a]=0;this.Fj=0;this.Gj.M=!0};fa.prototype.et=function(a,b){var c=0,d=0,f=this.F-this.g.ka,e=this.H-this.g.ma-(this.g.ha?this.g.ka/2:0),g=this.g.Ka,k=this.g.za,l=this.g.zoom,p=this.g.rc(this.g.zoom),n=0,q=0;if(0!==this.g.Ea){var m=
Math.sqrt(c*c+d*d);d=180/Math.PI*Math.atan2(d,c);d-=this.g.Ea;c=m*Math.cos(Math.PI/180*d);d=m*Math.sin(Math.PI/180*d)}k=d/p-f+k;if(this.g.Z&&!this.g.Fa||this.g.ha)n=k-Math.floor(k),k-=n;c=c/l+(this.g.ha?f/2+k/2:0)-e+g;this.g.Z&&!this.g.Fa&&(c-=this.g.zoom/32*.2);if(this.g.Z&&!this.g.Fa||this.g.ha)q=c-Math.floor(c),c-=q;this.g.ha&&(.25>q?.1>n?(--k,--c):.9<=n&&(k+=1):.75<=q&&(.1>n?--k:.9<=n&&(k+=1,c+=1)));this.g.Z&&!this.g.Fa&&(0===(c+this.H+k+this.F&1)?1<q+n&&(c+=1):1>1-q+n&&(c+=1));return Math.sqrt((c-
a)*(c-a)+(k-b)*(k-b))};fa.prototype.gH=function(){var a=9999<this.g.ea?99999:9999;var b=this.g.ja?-1:0;var c=Math.round(-this.g.ba/2)+b,d=Math.round(-this.g.$/2)+b,f=c+this.g.ba-1,e=d+this.g.$-1;if(-1===this.h.A)this.vb.Kb="",this.vb.M=!this.Eg;else{this.Nj(this.h.A,this.h.F);var g=this.g.nb(this.Bc,this.Fc,this.Sa&&this.I);var k=this.g.nb(this.Bc,this.Fc,!0);var l=this.Bc-this.H+this.aa;b=this.Fc-this.F+this.ba;-1===this.g.S||this.mc||(l-=Math.floor(this.S/2+(this.xd-this.S)/2),b-=Math.floor(this.V/
2+(this.wd-this.V)/2));var p=l<-a||l>a?Number(l/1E3).toFixed(1)+"K":String(l);a=b<-a||b>a?this.xe?Number(-b/1E3).toFixed(1)+"K":Number(b/1E3).toFixed(1)+"K":this.xe?String(-b):String(b);-1!==this.g.S?(0===this.g.ba&&(c=-this.g.ea,f=this.g.ea),0===this.g.$&&(d=-this.g.ea,e=this.g.ea),l<c||l>f||b<d||b>e?(l===c-1||l===f+1)&&b>=d-1&&b<=e+1||(b===d-1||b===e+1)&&l>=c-1&&l<=f+1||this.g.Z&&(l===c-2||l===f+2)&&b>d-1&&b<e+1||this.g.Z&&(b===d-1||b===e+1)&&l===c-2?(this.vb.Kb=p+","+a+"=[bounded]",this.Dg&&(this.vb.Kb+=
" "+String(k))):this.vb.Kb=p+","+a+"=[boundary]":(this.vb.Kb=p+","+a+"="+g+" ("+this.jh(g)+")",this.Dg&&(this.vb.Kb+=" "+String(k)))):(c=-(this.g.ea-this.S)>>1,f=c+this.g.ea-1,d=-(this.g.ea-this.V)>>1,e=d+this.g.ea-1,this.vb.Kb=l<c||l>f||b<d||b>e?p+","+a+"=[boundary]":p+","+a+"="+g+" ("+this.jh(g)+")",this.Dg&&(this.vb.Kb+=" "+String(k)));this.vb.M=!1}this.vb.B=this.Eg||!this.Ob&&-1!==this.h.A?this.v||this.da||0===this.S?!1:!0:!1;!this.P&&!this.Hc||this.v&&!this.da?this.bf.B=!1:(this.bf.B=!0,this.bf.M=
!1,l=this.fa.L>this.fa.J?this.fa.L-this.fa.J+1:this.fa.J-this.fa.L+1,b=this.fa.N>this.fa.K?this.fa.N-this.fa.K+1:this.fa.K-this.fa.N+1,this.bf.Kb=l+" x "+b)};fa.prototype.hE=function(a){if(!this.Na&&!this.ka)if(0<this.v)0<a?this.Ln(this,a/125*3):this.Jn(this,-a/125*3);else if(0<this.da)0<a?this.Hn(this,a/125*3):this.Fn(this,-a/125*3);else if(this.tb&&this.Rb!==G.Sh&&0!==this.g.Bc)this.GF(a);else if(!this.ab&&!this.kc.locked){var b=this.kc.current[0];this.uk(b,a/125*.05)}};fa.prototype.WE=function(a){var b=
a.la,c=a.h.s,d=a.h.B;var f=a.pa;var e=f.x,g=f.y,k=f.ia,l=f.I,p=a.g.Ud;if(null!==p&&a.td){b.imageSmoothingEnabled=!0;var n=p.width;for(f=0;f<a.ac;f+=1){var q=(f+a.Vb-1)*n;0<=q&&q<p.height&&b.drawImage(p,0,q,n,n,l/a.ac*f*c+e,g,k*c,k*d)}b.imageSmoothingEnabled=!1}};fa.prototype.xK=function(a){var b=a.g.counter,c=" ";if(a.g.ja||a.g.s)b=a.g.Xb;a.Le?(0>b&&(c=""),a.kb.lower[0]="+"+c+a.Dm(b),a.kb.W=["toggle generation statistics [G]\ngeneration +"+b]):(0>b+a.Ha&&(c=""),a.kb.lower[0]="T"+c+a.Dm(b+a.Ha),a.kb.W=
["toggle generation statistics [G]\ngeneration "+(b+a.Ha)]);if(a.Le){if(a.g.ja||a.g.s)b=a.g.counter;a.dd.Kb=1E9<=b?"1B+":String(b);a.dd.Kb=String(b);a.dd.W="generation "+b}else b+=a.Ha,a.dd.Kb=1E9<=b?"1B+":String(b),a.dd.W="absolute generation "+b;a.Tf.W=a.dd.W};fa.prototype.Zf=function(){return this.El&&!(this.Zd||this.g.counter<=this.Yd)};fa.prototype.TE=function(a,b){var c=b.s.current;var d=!1,f=!1,e=!1,g=!1,k=!1,l=b.g.counter;var p=0;var n=1E3/b.tc,q;b.ab=!1;b.Su&&(b.Su=!1,a=0);b.I||b.TD(b);b.Wy&&
(b.kb.current=b.Jo([!0],!0,b),b.Wy=!1,b.C.m=!0);b.sz(b.ec.current[0]);b.Ob?(a>n&&(.8*a>n&&(f=!0),a=n),!b.Ob||b.za&&!b.pb||(b.ja+=b.ca*b.O,p=b.ja/b.tc|0,p>l?b.pd=!0:b.elapsedTime+=a)):b.pd&&(k=!0,b.ja=b.Xs?b.ja+b.tc:b.ja+b.O*b.tc,p=b.ja/b.tc|0);b.zl();b.za&&!b.pb&&b.Ob?(b.s.H&&(b.hc&&!b.s.V(b.elapsedTime+a)&&(b.hc=!1,b.elapsedTime=b.s.qa(b.g.width/2-b.g.ma,b.g.height/2-b.g.ka,b.g.zoom,b.g.angle,b.g.Gb,b.g.Aa,b.g.mc*G.cm,b.g.qb,b.ca,b.O,b.g.counter,b.elapsedTime)),c.Qe&&(b.xb(!0,!1,G.gg),b.hc=!1,c.x=
b.g.width/2-b.g.ma,c.y=b.g.height/2-b.g.ka,b.ka&&(b.g.zoom*=b.Xb),c.zoom=b.g.zoom)),(e=b.s.O(b,b.elapsedTime+a,b.g.counter,!0))?(c.Qe&&(c.Qe=!1,b.ka&&(b.g.zoom=c.zoom/b.Xb),b.kc&&(b.kc.current=b.Od([b.g.zoom,b.g.zoom],!1,b))),b.ja+=b.ca*b.O,p=b.ja/b.tc|0,p>l&&(b.pd=!0)):(b.s.H&&(b.Ob&&(b.ab=!0),b.g.ka=b.g.height/2-c.y,b.g.ma=b.g.width/2-c.x,b.g.zoom=c.zoom,b.ka&&(b.g.zoom/=b.Xb),b.kc&&(b.kc.current=b.Od([b.g.zoom,b.g.zoom],!1,b)),b.g.ha||b.g.Z||b.g.la||(b.g.angle=c.angle,b.sa&&(b.sa.current=[b.g.angle,
b.g.angle]),b.g.Gb=c.Gb,b.fb&&(b.fb.current=[b.Ek(b.g.Gb),b.g.Gb]),b.g.Aa=c.Aa,b.lb&&(b.lb.current=[b.g.Aa,b.g.Aa]),b.g.mc=c.depth/G.cm+G.tr,b.Fa&&(b.Fa.current=[Math.sqrt(b.g.mc),b.g.mc*G.cm]))),b.ca=c.bd,b.O=c.step,b.ec.current=b.yc([b.zf(),1],!0,b),c.Ac>b.g.counter?(b.pd=!0,b.ja=c.Ac*b.tc,p=b.ja/b.tc|0):b.pd=!1,c.te!==b.Re&&(""===c.te?b.C.notification.clear(!1,!1):b.C.notification.notify(Pb.Im(b,c.te),15,21600,15,!1),b.Re=c.te),c.Lc!==b.nw&&(b.sg(c.Lc,b.g.Pe,b),b.nw=c.Lc)),b.pd||(b.elapsedTime+=
a)):b.ia&&b.Ob&&(b.ab=!0);b.ab&&(b.Kc=-1);c=0;if(b.pd){var m=performance.now();var r=p-l;var u=0;for(q=b.Zf();!g&&b.g.counter<p;){c=performance.now()-m;if(b.g.counter===b.uc-1&&!b.Lb||c>.8*n&&!k)g=b.g.counter!==b.uc-1||b.Lb?b.Af:!0;b.g.Tb&&b.Z("reverse playback");b.si();u+=1;if(-1!==b.Sb&&b.g.counter>=b.Sb&&!b.wa){for(p=1;p<=u;p+=1)b.Bn(l+p,a,u);b.elapsedTime=0;b.reset(b);p=l=0;b.$a&&b.nc&&(b.fc.current=b.Md(G.se,!0,b),b.C.notification.notify("LOOP reached - Play to continue ",15,180,15,!0));e&&(b.ab=
!0)}b.Zf()&&!q&&(g=!0)}for(p=1;p<=u;p+=1)b.Bn(l+p,a,r);b.Zf()&&-1===b.Db&&(b.Db=b.g.counter,b.Tc&&(-1===b.Sb||b.wa)&&(b.g.s||b.g.ja?b.C.notification.notify("Life ended at generation "+(b.g.Xb+b.Ha),15,600,15,!1):b.C.notification.notify("Life ended at generation "+(b.g.counter+b.Ha),15,600,15,!1)),q||-1!==b.Sb&&!b.wa||(b.fc.current=b.Md(G.se,!0,b)));b.ja-=(r-u)*b.tc;0>b.ja&&(b.ja=0);u<r&&(b.g.counter!==b.uc||b.Lb)&&b.Kd?b.mE(u):b.ez();b.g.counter!==b.uc||b.Lb||(b.fc.current=b.Md(G.se,!0,b),this.ia&&
b.xb(!0,!1,G.gg),b.Tc&&b.C.notification.notify("STOP reached - Play to continue ",15,180,15,!0))}else b.ez();b.pd&&!b.Ob&&b.Z("");b.sa.locked=b.ab&&b.za||b.g.ha||b.g.Z||b.g.la;b.fb.locked=b.ab&&b.za||b.g.ha||b.g.Z||b.g.la;b.Wd.locked=b.ab&&b.za;b.Sf.locked=b.ab||b.ia&&b.Ob;b.ec.locked=b.ab&&b.za;b.Km.locked=b.ab&&b.za;b.sd.locked=b.ab&&b.za;b.kc.locked=b.ab||b.ia;b.lb.locked=b.ab&&b.za||b.g.ha||b.g.Z||b.g.la;b.Fa.locked=b.ab&&b.za||b.g.ha||b.g.Z||b.g.la;b.Gm.locked=b.g.ha||b.g.Z||b.g.la;b.tj&&(b.hE(b.tj),
b.tj=0);b.tn(b,f,c,k);b.pd=!1;b.Xs=!1;if(b.Ob||b.ia&&.001<b.bh||-1!==b.Kc)d=!0;b.C.Ae(d)};fa.prototype.tn=function(a,b,c,d){var f=a.g.qb,e=a.g.yc,g=a.g.Ya,k=a.g.zoom,l=a.g.Aa;a.ia&&a.Ob&&a.xb(!1,!1,G.gg);a.g.Aa=a.P||a.Hc||a.na||a.ra.current!==G.Wh?1:l;a.g.Xi(a.zi,a.Jc);a.g.Aa=l;a.Jc&&a.Ez();a.zi&&a.C.Ae(!0);a.g.Cj(!(a.P||a.Hc||a.na||a.ra.current!==G.Wh));!a.g.Fa&&a.g.ha&&4<=a.g.zoom?a.g.Ej():!a.g.Fa&&a.g.Z&&4<=a.g.zoom&&a.g.ri();a.he&&(2===a.he&&a.g.xk(a.qd,1,!0,a.ka,a),3===a.he&&(a.g.ej(6,0,a),a.g.Od=
1,a.g.Ya=!0,a.g.yc=!1,a.g.kb(1),a.g.zoom|=0,a.g.Xi(!1,!1),a.g.Cj(!(a.P||a.Hc||a.na||a.ra.current!==G.Wh)),!a.g.Fa&&a.g.ha&&4<=a.g.zoom?a.g.Ej():!a.g.Fa&&a.g.Z&&4<=a.g.zoom&&a.g.ri()),a.nE(a),3===a.he&&(a.g.ej(f,0,a),a.g.Od=1,a.g.Ya=g,a.g.yc=e,a.g.kb(1),a.g.zoom=k,a.g.Xi(a.zi,a.Jc),a.Jc&&a.Ez()),2<=a.he&&(a.g.Cj(!(a.P||a.Hc||a.na||a.ra.current!==G.Wh)),!a.g.Fa&&a.g.ha&&4<=a.g.zoom?a.g.Ej():!a.g.Fa&&a.g.Z&&4<=a.g.zoom&&a.g.ri()),a.he=0);a.g.sn(a);a.g.counter&&0<a.g.B&&(a.Ub.J=a.g.A.J,a.Ub.K=a.g.A.K,
a.Ub.L=a.g.A.L,a.Ub.N=a.g.A.N,a.Ak(a,a.Ub));a.ie&&a.s.ra(a);!a.Ca||a.jb||a.vc||a.g.xk(a.qd,a.eb,!1,a.ka,a);if(a.tb&&a.Rb!==G.Sh&&null!==a.g.Nd&&0===a.v&&0===a.da&&!1===a.ga.current[0])switch(a.Rb){case G.sH:a.Uc===G.Tj?a.g.kn(a.Hd):a.g.fn(a.Hd);break;case G.Qp:a.Uc===G.Tj?a.g.hn(a.Hd):a.g.dn(a.Hd)}a.v?$a.UA(a):a.da&&$a.uG(a);a.xK(a);a.Qf.Kb=a.UD(a.elapsedTime);a.Qd.Kb=a.Dm(a.g.B);a.co()?a.cd.Kb=a.g.s?(25*a.g.B/(a.g.$*a.g.ba)|0)+"%":(100*a.g.B/(a.g.$*a.g.ba)|0)+"%":(a.cd.Kb=a.Dm(a.g.na),a.He.Kb=a.Dm(a.g.ga));
a.Qd.W="alive "+a.g.B;a.co()?a.cd.W=a.g.s?"density "+(25*a.g.B/(a.g.$*a.g.ba)|0)+"%":"density "+(100*a.g.B/(a.g.$*a.g.ba)|0)+"%":(a.cd.W="births "+a.g.na,a.He.W="deaths "+a.g.ga);a.Kd?a.sK(c,b,d,a):a.ec.dc=a.Sf.dc;a.gH();-1!==a.Kc&&a.ou();a.CK();a.qE();a.GK();a.uE(0!==a.v||0!==a.da);!a.ga.current[0]||a.md&&a.Ob||(a.la.globalAlpha=.7,a.la.fillStyle=a.C.dc,a.la.fillRect(0,0,a.Ea.width,a.Ea.height),a.la.globalAlpha=1)};fa.prototype.sK=function(a,b,c,d){var f=255,e=48,g=48;var k=1E3/d.tc;(b||a>.8*k)&&
!c?d.hj<G.DC&&(d.hj+=1):d.hj>G.EC&&--d.hj;k=d.hj/(G.DC-G.EC);a=d.qo>>16;b=d.qo>>8&255;c=d.qo&255;d.Rc&&(f=d.Rc[0],e=d.Rc[1],g=d.Rc[2]);d.ec.dc="rgb("+(f*k+a*(1-k)|0)+","+(e*k+b*(1-k)|0)+","+(g*k+c*(1-k)|0)+")"};fa.prototype.FG=function(){var a=this.Tf.D,b=this.Qf.D,c=this.vb.D;this.Oc.M&&this.Ie.M?(this.Ye.cf(c),this.Qd.cf(c)):this.Ie.M?(this.Ye.cf(b),this.Qd.cf(b),this.Oc.cf(c),this.cd.cf(c)):(this.Ye.cf(a),this.Qd.cf(a),this.Oc.cf(b),this.cd.cf(b),this.Ie.cf(c),this.He.cf(c))};fa.prototype.zl=function(){var a=
this.ja/this.tc;if(this.nb&&!this.Mb){this.g.Ka=a*(this.Jg+this.ji)/2;this.g.za=a*(this.gi+this.Kg)/2;var b=this.g.rk(0,this.gi,this.Jg,this.Kg,this.ji,this.displayWidth,this.displayHeight-80,G.Ab,G.Pb,G.ys);a=this.g.rk(a,this.gi,this.Jg,this.Kg,this.ji,this.displayWidth,this.displayHeight-80,G.Ab,G.Pb,G.ys);this.g.cb=a/b}else this.g.Ka=0,this.g.za=0,this.g.cb=1;this.kc.current=this.Od([this.g.zoom,this.g.zoom],!1,this)};fa.prototype.uE=function(a){var b=!(this.v&&this.Fd===G.Ng),c,d=[],f=[],e=this.ga.current[0];
this.fc.m[1]=this.rb||0===this.g.counter&&(!this.g.ja&&!this.g.s||null===this.g.Bb)?!0:!1;var g=a||!this.ke;for(c=0;c<=this.g.Mb;c+=1)this.ci[c].M=g;this.Hz.M=g;this.Dz.M=g;this.Jz.M=g;this.Fz.M=g;for(c=0;c<G.tq.length;c+=1)G.tq[c]===this.g.Mb&&(this.ci[c].locked=!(this.ua||this.Lf||-1!==this.Mn||-1!==this.On));g=a||!this.tb||"Empty"===this.zb||"none"===this.zb||e;this.Co.M=a||!this.tb||e;this.Id.M=a||!this.tb||null===this.g.Nd||e;this.Ne.M=a||!this.tb||null===this.g.Nd||e;this.qh.M=a||!this.tb||
null===this.g.Nd||e;this.qh.locked=this.Rb!==G.Qp;g=g||this.Rb===G.Qp;g=(this.Hd.M=g)||"Oscillator"===this.zb&&this.Rb!==G.Sh;this.el.M=g;this.pt.M=g||this.g.ha||this.g.Z;this.As.M=g||"Spaceship"!==this.zb||this.g.ha||this.g.Z;this.Nt.M=g||"Still Life"===this.zb;this.Li.M=g||this.g.ha||this.g.Z;this.nt.M=g||"Oscillator"!==this.zb;this.Tt.M=g||"Spaceship"!==this.zb||this.g.ha||this.g.Z;this.ku.M=g||"Spaceship"!==this.zb;this.vt.M=g||"Still Life"===this.zb||this.g.eb||this.g.D&&2<this.g.i||-1!==this.g.S;
this.nu.M=g||"Oscillator"!==this.zb||-1!==this.g.S||this.g.D&&2<this.g.i;this.uu.M=g||"Oscillator"!==this.zb;this.Ki.M=g;this.wo.M=g||this.g.ha||this.g.Z;this.Io.M=g||"Spaceship"!==this.zb||this.g.ha||this.g.Z;this.Lo.M=g||"Still Life"===this.zb;this.Mi.M=g||this.g.ha||this.g.Z;this.$k.M=g||"Oscillator"!==this.zb;this.Oo.M=g||"Spaceship"!==this.zb||this.g.ha||this.g.Z;this.hl.M=g||"Spaceship"!==this.zb;this.fl.M=g||"Still Life"===this.zb||this.g.eb||-1!==this.g.S||this.g.D&&2<this.g.i;this.il.M=g||
"Oscillator"!==this.zb||-1!==this.g.S||this.g.D&&2<this.g.i;this.So.M=g||"Oscillator"!==this.zb;g=a||!this.tb||this.Rb===G.Sh||(0===this.g.Bc?!0:this.g.Bc<=this.g.Ec)||e;this.Oi.M=g;this.Ni.M=g;this.Oi.locked=0===this.g.Na;this.Ni.locked=this.g.Na>=this.g.Bc-this.g.Ec;this.Lh.locked=this.ma===this.Dh;this.Nd.locked=1>=this.ma||this.Nd.W==="undo ["+this.A+" Z]";this.Wd.M=a;this.kc.M=a;this.Sf.M=a;this.ed.M=a;this.Og.M=a;this.Fg.M=a;this.Mc.M=a;this.$f.M=a;this.ra.M=a;g=(this.Vf.M=a)||!this.Ca||this.jb||
this.vc||e;this.$i.M=g;this.lt.M=g;this.Wi.M=g;this.Zb.M=g||-1!==this.g.S;this.Ej.M=!(this.qb&&-1===this.g.Ve||-1!==this.Ya);this.Ej.locked=!1;this.Tf.M=a;this.dd.M=a;this.Jj.M=a;this.Qf.M=a;this.Ye.M=a;g=(this.Qd.M=a)||this.$F();this.Oc.M=g;g=(this.cd.M=g)||this.co();this.Ie.M=g;this.He.M=g;this.ge.M=a;this.FG();this.Sf.M=a;this.yf.M=a||!this.le;this.hh.M=!this.Ad;this.uf||this.ff||this.vf||this.je||this.xf||this.ke||this.ef?(this.Cd.Kb="Back",this.Cd.W="back to previous menu [Backspace]"):(this.Cd.Kb=
"Close",this.Cd.W="close menu [Backspace]");this.Vd.locked=!(this.g.ja&&2===this.g.lb);this.Vd.current=this.Vd.locked?[!1]:[this.g.xd];g=(this.Cd.M=a)||this.ke;this.Fa.M=g;this.sa.M=g;this.fb.M=g;this.lb.M=g;g=a||this.ke||this.ff||this.je||this.uf||this.vf||this.xf||this.je||this.ef;this.Sl.M=g;this.on.M=g;this.sd.M=g;this.rl.M=g;this.Mk.M=g;this.kq.M=g;this.gn.M=g;this.Me.M=g;g=a||!this.ff;this.$x.M=g;this.rp.M=g;this.yn.M=g;this.Fk.M=g;this.un.M=g;this.cn.M=g;this.mk.M=g;this.An.M=g;this.sp.M=g;
this.tp.M=g;g=a||!this.je;this.Ks.M=g;this.xm.M=g;this.mx.M=g;this.zw.M=g;this.mm.M=g;this.pm.M=g;this.Ji.M=g;this.Hl.M=g;this.Ps.M=g;this.Ns.M=g;g=a||!this.vf;this.Di.M=g;this.Kj.M=g;this.Yj.M=g;this.Yj.locked=!this.sk;this.Pi.M=g;this.ih.M=g;this.ih.locked=!this.g.D||this.g.D&&!this.g.ag();this.Mm.M=g;this.Zj.M=g;W.R&&(this.Dl.M=g);this.Pj.M=g;g=a||!this.uf;this.Gd.M=g;this.Dj.M=g;this.od.M=g;this.hk.M=g;this.Yf.M=g;this.Bj.M=g;this.Vd.M=g;this.qg.M=g;this.am.M=g;this.kp.M=g;g=a||!this.ef;this.fn.M=
g;this.mn.M=g;this.Gm.M=g;this.Dn.M=g;this.xn.M=g;this.ho.M=g;this.Tn.M=g;this.Vn.M=g;this.vn.M=g;g=a||!this.xf;this.no.M=g;this.Ii.M=g;this.Gg.M=g;this.tg.M=g;this.Pe.M=g;this.Cj.M=g;this.wi.M=g;this.Ms.M=g;g=this.g.la||!this.ob;this.mm.locked=g||this.g.D;this.pm.locked=g;this.Ji.locked=g||this.I||this.g.ca.ea||-1!==this.g.S&&(0===this.g.ba||0===this.g.$)||this.g.eb;this.Hl.locked=g||this.I||"Empty"===this.zb||"none"===this.zb||""===this.zb;this.yn.locked=g;this.Fk.locked=g||!(this.g.D&&2===this.g.i&&
!this.g.vf&&(!this.g.vb||this.g.md!==Da.Xj));this.un.locked=g;this.An.locked=g;this.cn.locked=g||null===this.cb[this.Bb];this.no.locked=!this.ob||this.I;this.qg.locked=2<this.g.i||this.g.Da||this.g.s||this.g.O||this.g.u||this.g.G||this.g.D;this.xm.locked=g;this.ho.locked=g;this.io.M=a||!(this.uf||this.ff||this.vf||this.xf||this.je||this.ef)||this.displayHeight<G.Ax;this.io.Kb=this.uf?"Display":this.vf?"Advanced":this.xf?"Playback":this.je?"Pattern":this.ff?"Clipboard":this.ef?"General":"";this.Pe.locked=
-1!==this.g.Sd||this.g.Ch||this.g.Da&&1<this.g.ca.v||this.g.Z||this.g.ud||this.g.ha||-1!==this.g.S||this.g.ja||2<this.g.i||this.g.D;this.Pe.locked&&(this.Pe.current=[!1]);this.sd.locked=this.Sa||this.g.la||this.g.D||this.g.u||this.g.G;this.od.locked=this.g.ha||this.g.Z||0===this.g.lb;this.Gd.locked=!(this.g.ha||this.g.Z);g=a||0===this.s.i.length||e;this.Jl.M=g;this.Zl.M=g;g=a||!this.Ia||this.jb||this.vc||this.Ca;this.ol.M=g;this.wh.M=g;this.ql.M=g;this.xh.M=g;this.kl.M=g;this.rh.M=g;this.zu.M=g;this.Vo.M=
g;this.ip.M=g;this.jp.M=g;this.Wo.M=g;this.sh.M=g;this.uh.M=g;this.vh.M=g;this.th.M=g;this.Aq.M=0===this.da||0!==this.v;this.Ss.M=!(this.hn&&this.v&&this.Fd===G.Ng);this.oo.M=!(this.v&&this.Fd!==G.Ng);this.fd.M=!(this.v&&this.Fd!==G.Ng)||!this.dk;this.Xk.M=b;this.Yk.M=b;this.Wk.M=b;this.Zk.M=b||this.g.la||this.g.u||this.g.G||this.g.D;this.Hi.M=b;this.Fi.M=b;this.ph.M=b;this.nh.M=b;this.Gi.M=b||0===this.s.B();this.Nn.M=!(this.v&&this.Fd!==G.Ng)||this.dk;if(this.vu){this.vu=!1;b=this.fd.y;for(c=0;c<
this.B.length&&b<this.displayHeight-66*this.h.B;)d[c]=this.B[c][1],f[c]="Top"===d[c]?"go to top of topic [Home]":"",b+=26*this.h.B,c+=1;this.fd.lower=d;this.fd.W=f;this.fd.ya(26*d.length);this.fd.current=0}g=a||!this.vc||e;this.Am.M=g;this.eh.M=g;this.vk.M=g;this.Se.M=g;this.Dk.M=g;this.Fh.M=g;this.Jd.M=g;this.Gk.M=g;this.Jk.M=g;this.cj.M=g;g=a||!this.vc||e;this.yk.M=g;this.Ml.M=g;this.Nl.M=g;this.Ol.M=g;this.Ll.M=g;this.Ok.M=g;this.Qk.M=g;this.vm.M=g;this.tm.M=g;this.Xf.M=g;this.Ck.M=g;this.Bk.M=
g;this.Cf.M=g||!(this.g.O||this.g.u);this.Bf.M=g;this.rc.M=g;this.ae.M=g;this.vj.M=g;this.wj.M=g;g=a||!this.vc||e||2>=this.g.i||this.g.la;this.Kh.M=g||this.g.s;g=this.I;this.Fh.locked=g;this.Jd.locked=g;g=!this.P;this.Gk.locked=g;this.vk.locked=g;g=!(this.P||this.na)||this.I;this.yk.j(g);this.rc.j(g);this.Kh.j(g);this.ae.j(g);this.Ml.j(g);this.Nl.j(g);this.Ol.j(g);this.Ll.j(g);this.Ok.j(g);this.Qk.j(g);this.vm.j(g);this.tm.j(g);this.Xf.j(g);this.Ck.j(g);this.Bk.j(g);this.Cf.j(g);this.Bf.j(g);this.vj.j(g);
this.wj.j(g);g=!this.P||this.I;this.Jk.locked=g;g=(!this.bn||null===this.cb[this.Bb])&&!this.Yb||this.na||this.I;this.cj.locked=g;g=a||!this.jb||!this.ug||e;this.Za.M=g;this.pa.M=g;if(2>=this.g.i&&!this.g.D)for(c=0;c<this.pa.lower.length;c+=1)b=2>=c?0===c?c:1===c?y.xa:y.Hh:128+G.sb[c],this.pa.O[c]="rgb("+this.g.sa[b]+","+this.g.ra[b]+","+this.g.qa[b]+")";else for(c=0;c<this.pa.lower.length;c+=1)b=0===c+this.Vb?0:this.g.la||this.g.s||this.g.D||this.g.u||this.g.G?c+this.Vb+this.qa:this.qa+this.g.i-
(c+this.Vb),this.pa.O[c]="rgb("+this.g.sa[b]+","+this.g.ra[b]+","+this.g.qa[b]+")";g=a||!this.jb||e;this.Wc.M=g;this.Tl.M=g;this.fk.M=g;this.lk.M=g;this.Nm.M=a||!this.jb||!this.ug||this.g.i<=this.ac||e;this.Pm.M=a||!this.jb||!this.ug||this.g.i<=this.ac||e;this.g.i>this.ac&&this.Ny();if(0<this.v){c=0;for(b=-1;c<this.B.length&&-1===b;)this.B[c][0]>this.v?b=this.B[c][0]:c+=1;c===this.B.length&&(b=c);-1!==b&&(this.fd.current=c-1)}this.md&&(this.h.M=this.Ob?!0:!1);this.Vf.locked=!this.g.Wd;g=this.displayHeight<
G.al;(this.ga.locked=g)&&this.le?(this.ga.M=!0,this.yf.setPosition(this.ga.position,this.ga.Z,this.ga.D),this.yf.B=!0):(this.ga.M=!1,this.yf.setPosition(da.Fb,-40,-90),this.yf.B=this.ga.current[0])};fa.prototype.GK=function(){var a=-(this.g.width/2-this.g.ma-this.g.Ka|0),b=-(this.g.height/2-this.g.ka-this.g.za|0),c=String(a),d=String(b);this.g.ha&&(a+=63,c=String(a));this.ol.M=!this.Ia;this.wh.M=!this.Ia;this.ql.M=!this.Ia;this.xh.M=!this.Ia;this.kl.M=!this.Ia;this.rh.M=!this.Ia;this.zu.M=!this.Ia;
this.Vo.M=!this.Ia;this.ip.M=!this.Ia;this.jp.M=!this.Ia;this.Wo.M=!this.Ia;this.sh.M=!this.Ia;this.uh.M=!this.Ia;this.th.M=!this.Ia;this.vh.M=!this.Ia;if(-99999>a||99999<a)c=(a/1E3|0)+"K";if(-99999>b||99999<b)d=(b/1E3|0)+"K";this.wh.Kb=c;this.xh.Kb=d;this.rh.Kb=this.g.angle.toFixed(0)+"\u00b0";this.sh.Kb=this.Cn.toFixed(3);this.uh.Kb=this.Gn.toFixed(3);this.vh.Kb=this.In.toFixed(3);this.th.Kb=this.En.toFixed(3)};fa.prototype.qE=function(){0===this.g.counter?this.In=this.Cn=this.Gn=this.En=0:(this.Gn=
(this.g.A.N-this.g.xb.N)/this.g.counter,this.En=(this.g.A.K-this.g.xb.K)/this.g.counter,this.Cn=(this.g.A.L-this.g.xb.L)/this.g.counter,this.In=(this.g.A.J-this.g.xb.J)/this.g.counter)};fa.prototype.CK=function(){this.Wd.current=[this.ia];this.Og.current=[!this.nc&&this.$a];this.Og.locked=!this.$a;this.nb?(this.Mc.lower[0]="TRACK",this.Mc.current=[!this.Mb&&this.nb],this.Mc.locked=!this.nb,this.Mc.W=["toggle track mode [W]"]):(this.Mc.lower[0]="WAYPT",this.Mc.current=[!this.pb&&this.za],this.Mc.locked=
!this.za,this.Mc.W=["toggle waypoint mode [W]"]);this.$f.current=[!this.wa&&-1!==this.Sb];this.$f.locked=-1===this.Sb;this.$f.W=["loop at "+this.Sb+" [Shift P]"];this.Fg.current=[!this.Lb&&-1!==this.uc];this.Fg.locked=-1===this.uc;this.Fg.W=["stop at "+this.uc+" ["+this.D+" P]"]};fa.prototype.Bn=function(a,b,c){if(a>=this.Je.length){var d=this.g.T.h(ra.ld,this.Je.length+G.oC,"View.elapsedTimes",!1);d.set(this.Je);this.Je=d}this.elapsedTime+=b/c;this.Je[a]=this.elapsedTime};fa.prototype.si=function(){var a=
this.g.A,b=this.g.mb,c=this.g.B;this.g.tl.set(a);this.g.ul.set(b);this.g.dl(this.rb);this.g.Qf();this.g.bg(this);this.an();this.g.Mh();0===this.g.B&&(a.set(this.g.tl),b.set(this.g.ul));this.El=0===this.g.B&&0!==c?!0:!1;this.g.counter&&0<this.g.B&&(this.Ub.J=this.g.A.J,this.Ub.K=this.g.A.K,this.Ub.L=this.g.A.L,this.Ub.N=this.g.A.N,this.Ak(this,this.Ub))};fa.prototype.GJ=function(){null!==this.g.vb&&this.g.md===Da.Wg&&4<this.g.i?this.g.pb=0:this.g.Cl()};fa.prototype.PE=function(a,b){0===a.g.pb&&(a.g.Cf=
performance.now());do{this.g.yl();var c=performance.now()-b}while(14>c&&-1!==a.g.pb);-1===a.g.pb&&(a.g.Cf=performance.now()-a.g.Cf,a.C.P=10);a.C.Ae(!0)};fa.prototype.Qm=function(a,b,c){a.h.locked=!1;b?c&&a.C.notification.notify("Cancelled",15,80,15,!0):a.Tc&&(c||-1!==a.wg)&&(a.C.notification.notify("Arrived at generation "+a.g.counter,15,150,15,!0),-1!==a.wg&&(c=(performance.now()-a.wg)/1E3,b=a.jk/c|0,a.C.notification.notify(a.jk+" gens in "+c.toFixed(1)+"s = "+b+"gps",15,1200,15,!1),a.op=c,a.Vu=
a.jk));-1===a.wg&&(0!==a.g.B||a.Zd||a.g.counter<=a.Yd)&&a.C.notification.clear(!1,!1);a.Z("");a.Ya=-1;a.wg=-1};fa.prototype.aF=function(a){var b=performance.now();for(a.h.locked=!0;!a.Zf()&&a.g.counter<a.Ya&&(-1!==a.wg||13>performance.now()-b);)a.si(),a.Zf()&&-1===a.Db&&(a.Db=a.g.counter,a.Tc&&(-1===a.Sb||a.wa)&&(a.g.s||a.g.ja?a.C.notification.notify("Life ended at generation "+(a.g.Xb+a.Ha),15,600,15,!1):a.C.notification.notify("Life ended at generation "+(a.g.counter+a.Ha),15,600,15,!1))),a.Bn(a.g.counter,
0,1);a.tn(a,!1,0,!1);a.eE(a);a.ja=a.g.counter*a.tc;a.C.Ae(!0);(a.g.counter>=a.Ya||a.Zf())&&a.Qm(a,0===a.g.B&&!(a.Zd||a.g.counter<=a.Yd),!1)};fa.prototype.LE=function(a){var b=performance.now();a.h.locked=!0;a.ja=a.g.counter*a.tc;for(a.zl();a.qb&&13>performance.now()-b&&(0<a.g.B||a.Zd||a.g.counter<=a.Yd);){-1===a.g.Ve&&(a.si(),0===a.g.B&&-1===a.Db&&(a.Db=a.g.counter,a.Tc&&(a.Cl||a.g.counter<=a.Yd||(a.g.s||a.g.ja?a.C.notification.notify("Life ended at generation "+(a.g.Xb+a.Ha),15,600,15,!1):a.C.notification.notify("Life ended at generation "+
(a.g.counter+a.Ha),15,600,15,!1)))),a.Bn(a.g.counter,0,1));if(0<a.g.B||a.Zd||a.g.counter<=a.Yd){var c=a.g.tn(a);0<c.length&&(c[0]===y.iA?(c[0]="Nothing Identified",a.sv="none",a.zb="none",a.Gl="",a.Vi="",a.Fl="",a.Vm="",a.Qi="",a.Il="",a.Si="",a.pi="",a.Ch="",a.Bh="",a.Ri="",a.pp="",a.Wm="",a.qp=""):(a.sv=c[0],a.zb=c[1],"Empty"!==a.zb&&(a.Gl=c[2],a.Vi=c[3],a.Fl=c[4],a.Vm=c[5],a.Qi=c[6],a.Il=c[7],a.Si=c[8],a.pi=c[9],a.Ch=c[10],a.Bh=c[11],a.Ri=c[12],a.pp=c[13],a.Wm=c[14],a.qp=c[15],a.Ki.Kb=a.Qi,a.Ki.W=
-1===a.Qi.indexOf("|")?"":"min | max | average",a.wo.Kb=a.Fl,a.Io.Kb=a.Gl,a.Lo.Kb=a.Si,a.Oo.Kb=a.Il,a.hl.Kb=a.Vi,a.hl.W=-1===a.Vi.indexOf("|")?"":"simplified | unsimplified",a.fl.Kb=a.pi,a.fl.W=-1===a.pi.indexOf("|")?"":"min | max | average",a.So.Kb=""===a.Bh?a.Ch+" | N/A":a.Ch+" | "+a.Bh,a.So.W="normal | strict",a.Mi.Kb=a.Ri,a.$k.Kb=a.pp,a.$k.W="rotor | stator | total",a.il.Kb=a.Wm,a.il.W="active | rotor","Still Life"===a.zb?(a.Mi.Kb=a.qp,a.Li.Kb="Density"):a.Li.Kb="Mod"),a.tb=!0,a.vz()),a.qb=!1,
a.Ob&&(a.fc.current=a.Md(G.se,!0,a)),a.Z(""),a.Hd.Kb=c[0],"Empty"===a.zb||"none"===a.zb||""===a.zb?(a.C.notification.notify(c[0],15,240,15,!1),a.tb=!1):(a.C.notification.clear(!0,!1),a.C.notification.clear(!1,!1),a.ja=a.g.counter*a.tc,a.zl(),a.xb(!0,!1,G.gg)),a.g.yg(a.qb),a.h.locked=!1)}else a.qb=!1,a.Ob&&(a.fc.current=a.Md(G.se,!0,a)),a.Z(""),a.tb=!1,a.g.yg(a.qb),a.h.locked=!1;if(-1!==a.g.Ve){a.Ej.locked=!0;break}}a.tn(a,!1,0,!1);a.aE(a);a.ja=a.g.counter*a.tc;a.C.Ae(!0)};fa.prototype.GE=function(a){for(var b=
a.Dq,c=performance.now(),d=this.rb,f=51*y.lq;a.g.counter<b&&13>performance.now()-c;)this.rb=b-1-a.g.counter<=f?!1:d,a.si();a.g.counter===b?(a.Pg=!1,a.Cq&&a.C.notification.clear(!0,!1),a.ja=a.g.counter*a.tc,a.h.locked=!1):a.h.locked=!0;a.XD(a,b);a.tn(a,!1,0,!1);a.rb=d;a.C.Ae(!0)};fa.prototype.uH=function(){var a,b;var c=b=0;var d,f=1,e=W.ze;for(a=0;a<e.length;a+=1){var g=e[a].width;var k=e[a].height;g>b&&(b=g);k>c&&(c=k)}for(a=0;1<<a<=b||1<<a<=c;)a+=1;var l=1<<a;for(k=g=Math.ceil(Math.sqrt(e.length));4096<
g*l/f||4096<k*l/f;)f+=1;this.Ve=document.createElement("canvas");this.Ve.width=g*l/f;this.Ve.height=k*l/f;this.Pl=this.Ve.getContext("2d");this.Pl.fillStyle="black";this.Pl.fillRect(0,0,this.Ve.width,this.Ve.height);this.Ql=this.C.vb(this.XE,this.$r,this);this.Ql.Y=.2;var p=this.displayWidth/g;var n=this.displayHeight/k;for(c=0;c<k;c+=1)for(b=0;b<g;b+=1)if(a=c*k+b,a<e.length){var q=e[a].name;q.endsWith(".rle")&&(q=q.substring(0,q.length-4));q=this.Ql.i(this.hK,da.Zc,b*p,c*n,p,n,q);q.lower=a;this.Pl.fillStyle=
"rgb(32,255,255)";var m=e[a].map;var r=m.length;var u=m[0].length;for(d=1;r*d<l&&u*d<l;)d+=1;--d;1<d&&--d;var t=l-u*d>>1;var v=l-r*d>>1;var B=Math.ceil(d/f);for(q=0;q<r;q+=1){var w=m[q];for(a=0;a<u;a+=1)0<w[a]&&this.Pl.fillRect(Math.ceil((b*l+a*d+t)/f),Math.ceil((c*l+q*d+v)/f),B,B)}}this.C.ka(this.Ql);this.la.fillStyle="blue";this.la.fillRect(0,0,this.Ea.width,this.Ea.height)};fa.prototype.XE=function(a,b){a=b.Ve.width;var c=b.Ve.height;var d=b.displayWidth/a;var f=b.displayHeight/c;f>d&&(d=f);b.la.fillStyle=
"black";b.la.fillRect(0,0,b.Ea.width,b.Ea.height);b.la.save();b.la.translate(b.displayWidth/2,b.displayHeight/2);b.la.scale(d,d);b.la.imageSmoothingEnabled=!0;b.la.imageSmoothingQuality="high";b.la.drawImage(b.Ve,-(a/2),-(c/2));b.la.restore()};fa.prototype.CE=function(a,b){var c=performance.now();b.Pg?b.GE(b):b.qb?b.LE(b):-1!==b.Ya?b.aF(b):(b.TE(a,b),b.g.D&&-1!==b.g.pb&&b.PE(b,c))};fa.prototype.$r=function(a){a.g.counter=0;a.g.Xb=0;a.g.Ie=0;a.ja=0;a.elapsedTime=0;a.g.ma=a.g.width>>1;a.g.ka=a.g.height>>
1;a.g.ma&=a.g.width-1;a.g.ka&=a.g.height-1;a.Su=!0;a.Db=-1};fa.prototype.GC=function(a,b,c){b&&(c.Jc=a[0]);return[c.Jc]};fa.prototype.mB=function(a,b,c){b&&(c.nd=a[0]);return[c.nd]};fa.prototype.uB=function(a,b,c){b&&(c.g.yc=a[0]);return[c.g.yc]};fa.prototype.oB=function(a,b,c){b&&(c.Ia=a[0]);return[c.Ia]};fa.prototype.aB=function(a,b,c){b&&(c.g.Cb=a[0]);return[c.g.Cb]};fa.prototype.Wu=function(a,b,c){b&&(c.i=a[0]);return[c.i]};fa.prototype.NC=function(a,b,c){b&&(c.Dg=a[0]);return[c.Dg]};fa.prototype.Tu=
function(a,b,c){b&&(c.Ed=a[0],W.Tx(G.PA,c.Ed),a=c.Ed?W.zB(G.iu):G.Yc,c.mz(a),c.ec.current=1===c.O&&c.ca===G.Yc?c.yc([1,1],!0,c):c.yc([c.zf(),1],!0,c));return[c.Ed]};fa.prototype.KD=function(a){W.yJ(G.iu,a.O*a.ca);a.wi.current=a.Tu([!0],!0,a)};fa.prototype.rC=function(a,b,c){b&&(c.af=a[0],W.Tx(G.Sx,c.af));return[c.af]};fa.prototype.SC=function(a,b,c){b&&(c.xe=a[0],W.Tx(G.ID,c.xe));return[c.xe]};fa.prototype.Al=function(a,b,c){b&&(c.mh=a[0],c.kh=a[1],c.lh=a[2]);return[c.mh,c.kh,c.lh]};fa.prototype.xo=
function(a,b,c){b&&(c.ra.current!==G.Wh&&(c.ra.current=c.we(G.Wh,!0,c)),c.ga.current[0]&&(c.ga.current=c.lf([!1],!0,c)),c.Ca=a[0]);return[c.Ca]};fa.prototype.mF=function(a,b,c){b&&(c.g.qd=a[0]);return[c.g.qd]};fa.prototype.rB=function(a,b,c){b&&(c.ie=a[0]);return[c.ie]};fa.prototype.gA=function(a,b,c){b&&(c.g.jb=a[0]);return[c.g.jb]};fa.prototype.Zy=function(a,b,c){b&&(c.ad=a[0],c.ad&&!c.g.Ya&&(c.jb||c.vc)&&(c.ed.current=c.Lj([!0],!0,c)));return[c.ad]};fa.prototype.Aw=function(a,b,c){b&&(c.g.$a=a,
c.g.jk(),c.g.ph(),0===(c.g.counter&1)?c.g.$f(c.g.va):c.g.$f(c.g.Va));return c.g.$a};fa.prototype.aA=function(a,b,c){b&&(c.g.xd=a[0]);return[c.g.xd]};fa.prototype.dA=function(a,b,c){b&&(c.md=a[0]);return[c.md]};fa.prototype.av=function(a,b,c){b&&(c.g.Fa=a[0],c.Tz());return[c.g.Fa]};fa.prototype.Po=function(a,b,c){b&&(c.C.j=a[0]);c.C.Ae(!0);return[c.C.j]};fa.prototype.Mg=function(a,b,c){b&&(c.C.G=a[0]);c.C.Ae(!0);return[c.C.G]};fa.prototype.sg=function(a,b,c){var d=c.g.qb;if(d!==a){c.g.ej(a,b,c);1<
c.g.Pe&&(c.C.P=c.g.Pe);for(b=0;b<=c.g.Mb;b+=1)c.ci[b].current=a!==G.tq[b]?[!1]:[!0];c.m.s=!0;c.m.H=c.g.fd;-1!==d&&!c.g.pa[a].H(c.g.O,c)&&c.g.pa[d].H(c.g.O,c)&&c.g.jk();c.od.current=[c.g.yc&&0<c.g.lb]}};fa.prototype.zf=function(){var a=G.MA;this.ca>G.Yc&&(this.ca=G.Yc);var b=Math.sqrt((this.ca-G.zg)/(G.Yc-G.zg));var c=(this.O-G.Ug)/(this.Ff-G.Ug);return 0===c?b*(1-a):c*(1-a)+1+a};fa.prototype.sz=function(a){var b=G.MA;this.ca>G.Yc&&(this.ca=G.Yc);a<=1-b?(a/=1-b,this.ca=Math.round(G.zg+a*a*(G.Yc-G.zg)),
this.O=1):(a<1+b?a=0:(a-=1+b,a/=1-b),this.ca=G.Yc,this.O=Math.round(G.Ug+a*(this.Ff-G.Ug)))};fa.prototype.yc=function(a,b,c){var d=c.zf();b&&(d=a[0],c.sz(d));c.ca>G.Yc&&(c.ca=G.Yc);return[d,Math.round(c.ca)<G.Yc?String(Math.round(c.ca))+"/s":String(Math.round(c.O))+"x"]};fa.prototype.Ls=function(a){a.ck=a.g.zoom;a.ka&&(a.ck*=a.Xb);a.Rs=a.g.angle;a.az=a.g.Gb;a.ya=a.g.ma;a.Jb=a.g.ka};fa.prototype.MC=function(a){a.Bg=a.g.width/2-a.g.ma;a.Cg=a.g.height/2-a.g.ka;a.bi=a.g.zoom;a.vg=a.g.angle;a.yg=a.g.Gb;
a.Rf=a.g.width/2-a.ya;a.Bi=a.g.height/2-a.Jb;a.Nk=a.Rs;a.Ai=a.az;a.Ci=a.ka?a.ck/a.Xb:a.ck;a.Kc=0};fa.prototype.hF=function(a,b){a.g.zoom=a.yz;a.ka&&(a.g.zoom/=a.Xb);a.kc&&(a.kc.current=a.Od([a.g.zoom,a.g.zoom],!1,a));a.g.angle=a.ui;a.sa&&(a.sa.current=[a.ui,a.ui]);a.g.Gb=a.xi;a.fb&&(a.fb.current=[a.Ek(a.xi),a.xi]);a.g.ma=a.va;a.g.ka=a.Cb;b&&(a.sg(a.Sn,1,a),a.Sa&&(a.g.Od=0),a.ca=a.Tm,a.O=a.Qn,a.ec.current=1===a.O&&a.ca===G.Yc?a.yc([1,1],!0,a):a.yc([a.zf(),1],!0,a),a.g.Aa=a.vi,a.lb.current=[a.vi,a.vi],
b=Math.sqrt(a.yp),a.Fa.current=a.mf([b,b],!0,a),a.qg.current=this.Aw(this.Pf,!0,a))};fa.prototype.oD=function(a){a?(this.g.ma+=this.g.Ka,this.g.ka+=this.g.za,this.g.zoom*=this.g.cb):(this.zl(),this.g.ma-=this.g.Ka,this.g.ka-=this.g.za,this.g.zoom/=this.g.cb,this.zl());this.g.zoom<G.Ab?this.g.zoom=G.Ab:this.g.zoom>G.Pb&&(this.g.zoom=G.Pb)};fa.prototype.FC=function(a){a.elapsedTime=0;a.Sa||(a.g.$g(a,a.rb),a.g.Jh())};fa.prototype.reset=function(a){var b=!1,c=!1,d=a.s.F();this.El=!1;this.zi&&this.g.Fk();
0===a.g.counter&&a.C.Ib();if(0===a.elapsedTime||a.po)b=!0;a.wa||-1===a.Sb||a.g.counter>=a.Sb&&(c=!0);a.g.Xb=0;a.g.Ie=0;c||b||(a.za&&(a.pb=!0),a.nb&&(a.Mb=!0),-1!==a.Sb&&(a.wa=!0),-1!==a.uc&&(a.Lb=!0),a.$m&&(a.ia=!1));a.elapsedTime=0;a.g.Ka=0;a.g.za=0;a.g.cb=1;if(b){(this.g.ja||this.g.s)&&null!==this.g.Bb&&a.zn&&(a.g.Tb=!0);a.za&&(a.pb=!1);a.nb&&(a.Mb=!1);a.$m&&(a.ia=!0);if(!c||a.za&&a.s.H||a.ia)a.hF(a,b),a.ia&&a.xb(!0,!1,G.gg);a.wa=!1;c||(a.Lb=!1)}a.Sa||(a.g.$g(a,a.rb),Array.Ef(a.g.j,a.g.wa),Array.Ef(a.g.j,
a.g.m),-1!==a.g.S&&a.g.Pg(),a.g.O||-1!==a.g.i||a.g.$f(a.g.va));a.$b||a.g.Kh();a.g.Jh();a.nw=-1;a.hc=!1;a.s.Za();a.qb&&(a.qb=!1,a.C.notification.clear(!0,!1));a.g.yg(a.qb);b?d&&d.Xr?d.te!==a.Re&&(a.C.notification.notify(Pb.Im(a,d.te),15,21600,15,!1),a.Re=d.te):(a.C.notification.clear(!1,!1),a.Re=""):(a.C.notification.clear(!1,!1),a.Re="");a.Db=-1;a.g.Gg=0;a.Um(a.g.counter);a.tb=!1;a.Qy()};fa.prototype.Mh=function(a){var b=this.g.tb;if(a){var c="pause";a="pause [Enter]"}else a="play [Enter]",this.g.ja||
this.g.s?(this.g.Tb&&(b=!b),c=b?"reverse":"play"):c="play";if(this.g.ja||this.g.s)if(b=this.g.tb,this.g.Tb&&(b=!b),b){var d="stepback";b="stepforward";var f="step back [Shift Tab]";var e="step forward [Tab]"}else d="stepforward",b="stepback",f="step forward [Tab]",e="step back [Shift Tab]";else d="stepforward",b="stepback",f="step forward [Tab]",e="step back [Shift Tab]";this.fc.h[G.se]=this.m.h(d);d=this.fc.W;d[G.se]=f;this.fc.W=d;this.fc.h[G.Eo]=this.m.h(b);d=this.fc.W;d[G.Eo]=e;this.fc.W=d;this.fc.h[G.lj]=
this.m.h(c);this.fc.W[G.lj]=a};fa.prototype.hK=function(a,b){b=a.C.i.v[b].lower;a.C.ka(a.h);W.ym=!1;a.Va=b;a.Yh(W.ze[a.Va].pattern,!1)};fa.prototype.SA=function(a){W.ym=!0;a.C.ka(a.Ql)};fa.prototype.AK=function(a){localStorage.setItem(G.TA,"y");a.LD()};fa.prototype.xc=function(a,b){b.Fd=a;b.v=1;b.dk=!0;b.so=[];b.uo=[];this.vu=!0};fa.prototype.CH=function(a){a.xc(G.Xu,a)};fa.prototype.gG=function(a){a.xc(G.Ux,a)};fa.prototype.yG=function(a){a.xc(G.gr,a)};fa.prototype.II=function(a){a.xc(G.jy,a)};fa.prototype.nF=
function(a){a.xc(G.Yt,a)};fa.prototype.DK=function(a){a.xc(G.wt,a)};fa.prototype.wI=function(a){a.xc(G.zv,a)};fa.prototype.rF=function(a){a.xc(G.Zt,a)};fa.prototype.QD=function(a){a.xc(G.At,a)};fa.prototype.iF=function(a,b,c){b&&(c.v=c.B[a][0],c.dk=!1);return a};fa.prototype.Bu=function(a,b,c){b&&(c.Xd=a[0],c.Xd&&c.wk(c));return[c.Xd]};fa.prototype.zH=function(a){a.wk(a)};fa.prototype.tv=function(a,b,c){b&&(c.td=a[0]);return[c.td]};fa.prototype.Pu=function(a,b,c){b&&(c.Yb=a[0],c.Yb&&(c.bo=!0));return[c.Yb]};
fa.prototype.we=function(a,b,c){var d=a;if(b){switch(a){case G.bl:c.mj=!1;c.I||c.g.la?d=c.ra.current:(c.jb=!0,c.Wc.current=c.me([!1],!0,c),c.vc=!1);c.dn(c);c.ad&&(c.ed.current=c.Lj([!0],!0,c));break;case G.cl:c.jb=!1;c.Wc.current=c.me([!1],!0,c);c.vc=!0;c.ad&&(c.ed.current=c.Lj([!0],!0,c));break;case G.Wh:c.jb=!1,c.vc=!1,c.Wc.current=c.me([!1],!0,c),c.dn(c),c.ad&&(c.ed.current=c.Lj([!1],!0,c))}c.so=[];c.uo=[];c.ga.current[0]&&(c.ga.current=c.lf([!1],!0,c),c.C.m=!0);c.Ca&&(c.Ca=!1,c.Me.current=c.xo([c.Ca],
!0,c))}c.Vs(d);return d};fa.prototype.Vs=function(a){if(this.v||this.da)this.h.ba("grab");else switch(a){case G.bl:this.h.ba("auto");break;case G.Wh:this.h.ba("grab");break;case G.cl:this.h.ba("crosshair")}};fa.prototype.mA=function(a,b,c){b&&(c.Bb=a,c.Hk(),c.Se.current=[!1],c.C.m=!0,c.na?c.Vy(c,a):c.C.notification.notify("Clipboard "+a+" active",15,80,15,!0));return c.Bb};fa.prototype.oF=function(){return G.Jy[this.Jd.current]};fa.prototype.Cv=function(a,b,c){b&&(c.Kf=a,c.Wa=G.Jy[a]);return c.Kf};
fa.prototype.XJ=function(a){a.I||(a.Kf+=1,3<a.Kf&&(a.Kf=0),a.Jd.current=a.Cv(a.Kf,!0,a))};fa.prototype.jt=function(a){var b=-1,c,d=0,f=0,e=0,g=0;for(c=0;c<a.length&&-1===b;){switch(a.charAt(c)){case "N":d+=1;break;case "S":f+=1;break;case "E":e+=1;break;case "W":g+=1;break;default:b=-2}c+=1}if(1<d||1<f||1<e||1<g)b=-2;-2!==b&&(b=d|e<<1|f<<2|g<<3);return b};fa.prototype.Iz=function(a){var b=-1,c;'"'===a.charAt(0)&&(a=a.substring(1,a.length-1));if(this.g.D)for(c=0;c<this.df.length&&-1===b;)void 0!==
this.df[c]&&this.df[c]===a&&(b=c),c+=1;else if(2>=this.g.i)if(this.g.O)for(c=0;c<G.df.length&&-1===b;)G.df[c]===a&&(b=c),c+=1;else"alive"===a?b=1:"dead"===a&&(b=0);else if("dead"===a)b=0;else if(this.g.s)b=this.jt(a);else if(this.g.u)for(c=0;c<y.Go.length&&-1===b;)y.Go[c]===a&&(b=c),c+=1;else if(this.g.G)for(c=0;c<y.Fo.length&&-1===b;)y.Fo[c]===a&&(b=c),c+=1;else"alive"===a?b=1:"dying "===a.substring(0,6)&&(b=Number(a.substring(6))+1,b>=this.g.i&&(b=-1));return b};fa.prototype.jh=function(a){var b=
"";if(this.g.D)b=void 0===this.df[a]?"state "+String(a):this.df[a];else if(2>=this.g.i)if(this.g.O)b=G.df[a];else switch(a){case 0:b="dead";break;case 1:b="alive";break;default:b="state "+String(a)}else 0===a?b=this.g.la?"state 0":"dead":this.g.s?(0!==(a&1)&&(b+="N"),0!==(a&2)&&(b+="E"),0!==(a&4)&&(b+="S"),0!==(a&8)&&(b+="W")):b=this.g.u?y.Go[a]:this.g.G?y.Fo[a]:this.g.la?"state "+String(a):1===a?"alive":"dying "+String(a-1);return b};fa.prototype.ox=function(a,b,c){var d=a;b&&(2>=c.g.i?c.pf=a:(a+=
c.Vb,c.pf=0===a?0:c.g.la||c.g.s||c.g.D||c.g.u||c.g.G?a:c.g.i-a),c.Jh?c.C.notification.notify("Replace: Now click on a cell",15,180,15,!0):(c.Wc.current=c.me([!1],!0,c),c.C.notification.notify("Drawing with state "+a+" ("+c.jh(a)+")",15,120,15,!0)));return d};fa.prototype.Ud=function(a){var b=this.g.i,c=this.ac;-1===b&&(c=b=2);this.g.O&&(c=b=7);a<b&&(a>=c?(this.Vb=a-c+1,a=c-1):a>=this.Vb?a-=this.Vb:(this.Vb=a,a=0),this.Za.current=this.ox(a,!0,this),this.Nm.current=this.Dx([this.Vb/(this.g.i-this.ac),
0],!0,this))};fa.prototype.uF=function(a,b,c){var d=0;if(b)for(;d<a.length;)a[d]&&(a[d]=!1,c.Za.current=c.ox(d,!0,c)),d+=1;return a};fa.prototype.$E=function(a){var b=0,c=this.pf,d=this.g.mb;var f=this.fa;var e=d.J,g=d.L;var k=d.K;d=d.N;var l=(this.g.width>>1)-(this.S>>1)+(this.aa<<1);var p=(this.g.height>>1)-(this.V>>1)+(this.ba<<1);2<this.g.i&&!(this.g.la||this.g.s||this.g.D||this.g.u||this.g.G)&&0<a&&(a=this.g.i-a);this.P&&(e=f.J+l,g=f.L+l,e>g&&(l=g,g=e,e=l),k=f.K+p,d=f.N+p,k>d&&(l=d,d=k,k=l));
if(c!==a){for(;k<=d;k+=1)for(f=e;f<=g;f+=1)p=this.g.nb(f,k,!1),2<this.g.i&&!(this.g.u||this.g.G||this.g.s||this.g.D)&&0<p&&(p=this.g.i-p),p===a&&(this.oa(f,k,c,!1),b+=1);0<b&&(!this.g.O&&!this.g.u||6!==a&&6!==c||this.g.rb(),this.Z("replace states"))}else this.C.notification.notify("Cell and drawing state are the same",15,120,15,!0)};fa.prototype.kn=function(a,b,c){var d=a.pf,f=a.g.mb,e=0,g=0;if(0<d)if(2<a.g.i&&!(a.g.la||a.g.s||a.g.D||a.g.u||a.g.G)&&(d=a.g.i-d),a.g.O&&1<d&&(g=d&1),a.g.O&&b)if(c){for(c=
f.K;c<=f.N;c+=1)for(b=f.J;b<=f.L;b+=1){var k=a.g.nb(b,c,!1);3<=k&&5>=k&&(a.oa(b,c,k&1,!1),e+=1)}0<e&&(a.g.u?a.Z("clear [R]Super marked cells"):a.Z("clear [R]History marked cells"))}else{for(c=f.K;c<=f.N;c+=1)for(b=f.J;b<=f.L;b+=1)k=a.g.nb(b,c,!1),1<k&&(a.oa(b,c,k&1,!1),e+=1);0<e&&(a.g.u?a.Z("clear Super cells"):(this.g.rb(),a.Z("clear History cells")))}else{for(c=f.K;c<=f.N;c+=1)for(b=f.J;b<=f.L;b+=1)k=a.g.nb(b,c,!1),k===d&&(a.oa(b,c,g,!1),e+=1);0<e&&((a.g.O||a.g.u)&&6===d&&this.g.rb(),a.Z("clear state "+
d+" cells"))}return e};fa.prototype.Md=function(a,b,c){var d=a,f=c.Lb,e=c.wa,g=c.pb,k=c.nc,l=c.ia,p=c.Mb,n=40,q=0,m=0,r=0,u=0,t=0,v=0,B=0;if(b){c.mj=!1;switch(a){case G.Hv:c.nc=c.po||c.$a&&0===c.g.counter&&0===c.elapsedTime?!1:!0;c.$a&&!c.nc?(a=G.lj,c.Ob=!0):(a=G.se,c.Ob=!1);c.Z("");c.reset(c);b="Reset";!c.wa&&e&&-1!==c.Sb&&(m=1);c.wa&&!e&&-1!==c.Sb&&(m=-1);!c.Lb&&f&&-1!==c.uc&&(r=1);c.Lb&&!f&&-1!==c.uc&&(r=-1);!l&&c.ia&&(B=1);l&&!c.ia&&(B=-1);!c.pb&&g&&(u=1);c.pb&&!g&&(u=-1);!c.Mb&&p&&(t=1);c.Mb&&
!p&&(t=-1);!c.nc&&k&&c.$a&&(v=1);c.nc&&!k&&c.$a&&(v=-1);if(0!==m||0!==r||0!==u||0!==t||0!==v||0!==B)b="",0!==m&&(q+=1,b+="Loop"),0!==r&&(0<q&&(b=0<Math.abs(u)+Math.abs(t)+Math.abs(v)+Math.abs(B)?b+", ":b+" and "),q+=1,b+="Stop"),0!==u&&(0<q&&(b=0<Math.abs(t)+Math.abs(v)+Math.abs(B)?b+", ":b+" and "),q+=1,b+="Waypoints"),0!==t&&(0<q&&(b=0<Math.abs(v)+Math.abs(B)?b+", ":b+" and "),q+=1,b+="Track"),0!==v&&(0<q&&(b=0!==B?b+", ":b+" and "),q+=1,b+="AutoStart"),0!==B&&(0<q&&(b+=" and "),b+="AutoFit"),b=
0<r||0<m||0<u||0<t||0<v||0<B?b+" On":b+" Off",n=120;c.C.notification.notify(b,15,n,15,!0);break;case G.lj:c.Ob?(c.Ob=!1,c.Z(""),(c.g.counter!==c.uc||c.Lb||c.Tc)&&c.C.notification.notify("Pause",15,40,15,!0),c.fh=performance.now()-c.fh,c.Rn&&c.C.notification.notify("Playback time "+(c.fh/1E3).toFixed(2),15,300,15,!1)):(c.za&&!c.pb&&(c.g.ja||c.g.s)&&(c.g.tb||!c.g.tb&&c.g.Tb)&&c.Os(c),c.Ob=!0,c.Z(""),c.ao&&W.gy(c),c.C.notification.notify("Play",15,40,15,!0),c.fh=performance.now());break;case G.Eo:if(c.Ob)c.Ob=
!1,c.Z(""),c.C.notification.notify("Pause",15,40,15,!0);else{if((c.g.ja||c.g.s)&&null!==c.g.Bb){c.g.Tb=!c.g.Tb;c.g.Tb&&c.Z("reverse playback");c.Z("");for(f=0;f<c.O;f+=1)c.si(),c.ja=c.g.counter*c.tc,c.Zf()&&-1===c.Db&&(c.Db=c.g.counter,c.Tc&&(-1===c.Sb||c.wa)&&(c.g.s||c.g.ja?c.C.notification.notify("Life ended at generation "+(c.g.Xb+c.Ha),15,600,15,!1):c.C.notification.notify("Life ended at generation "+(c.g.counter+c.Ha),15,600,15,!1)));c.g.Tb=!0}else 0<c.g.counter&&(q=c.g.B,c.Um(c.g.counter-c.O)?
c.to(c):c.jq(c.g.counter-c.O),0===q&&0<c.g.B&&(c.Db=-1),0===c.g.counter&&(c.g.O||-1!==c.g.i||c.g.$f(c.g.va)));c.ia&&c.xb(!0,!0,G.gg)}break;case G.se:c.Ob?(c.Ob=!1,c.Z(""),(c.g.counter!==c.uc||c.Lb||c.Tc)&&c.C.notification.notify("Pause",15,40,15,!0),c.fh=performance.now()-c.fh,c.Rn&&c.C.notification.notify("Playback time "+(c.fh/1E3).toFixed(2),15,300,15,!1)):(c.pd=!0,c.Z(""))}d=a;c.Mh(c.Ob)}return d};fa.prototype.Lg=function(a,b,c){b&&(c.hc=!0,c.g.angle=a[0]);return[c.g.angle,c.g.angle]};fa.prototype.Ek=
function(a){var b=.5/(.5-G.Lk/2);a=(a-G.Zp)/(G.yv-G.Zp);a<.5-G.Lk/2?a*=b:a>.5+G.Lk/2?(a-=.5+G.Lk/2,a=a*b+.5):a=.5;return a};fa.prototype.eG=function(a){var b=.5/(.5-G.Lk/2);a<.5-G.Lk/2?a*=b:a>.5+G.Lk/2?(a-=.5+G.Lk/2,a=a*b+.5):a=.5;return(G.yv-G.Zp)*a+G.Zp};fa.prototype.Oj=function(a,b,c){b&&(c.hc=!0,c.g.Gb=c.eG(a[0]));return[a[0],c.g.Gb]};fa.prototype.Bl=function(a,b,c){b?(c.hc=!0,c.g.Aa=a[0]+.5|0,a=a[0]):a=c.g.Aa;return[a,c.g.Aa]};fa.prototype.mf=function(a,b,c){return b?(c.hc=!0,c.g.mc=a[0]*a[0],
[a[0],c.g.mc*G.cm]):[Math.sqrt(c.g.mc),c.g.mc*G.cm]};fa.prototype.AE=function(a,b,c,d){var f=Math.round(-this.g.ba/2),e=Math.floor((this.g.ba-1)/2),g=Math.round(-this.g.$/2),k=Math.floor((this.g.$-1)/2),l=this.pf;if(-1===c&&-1===d){if(-1!==this.g.S&&(0===this.g.ba&&(f=-this.g.width/2,e=this.g.width/2-1),0===this.g.$&&(g=-this.g.height/2,k=this.g.height/2-1),this.Nj(a,b),c=this.Bc-this.g.width/2,d=this.Fc-this.g.height/2,c<f||c>e||d<g||d>k))return!0;this.Ul=this.qC();2<this.g.i&&!(this.g.la||this.g.s||
this.g.D||this.g.u||this.g.G)&&(l=this.g.i-l);this.Ul=this.Rh&&this.Ul===l?0:this.pf}else this.Nj(c,d),c=this.Bc,d=this.Fc,this.Nj(a,b),a=this.Bc,b=this.Fc,this.wE(c,d,a,b,this.Ul)&&this.g.rb();0<this.g.B&&(this.Db=-1);return!1};fa.prototype.Zz=function(){var a=Math.abs(this.Es-this.Cs),b=Math.abs(this.Gs-this.Fs),c=Math.abs(this.Wl-this.Vl),d=Math.abs(this.Yl-this.Xl),f=G.Ab*Math.pow(G.Pb/G.Ab,this.kc.current[0]);f*=Math.sqrt(c*c+d*d)/Math.sqrt(a*a+b*b);f<G.Ab?f=G.Ab:f>G.Pb&&(f=G.Pb);f=Math.log(f/
G.Ab)/Math.log(G.Pb/G.Ab);this.kc.current=this.Od([f,f],!0,this);this.Cs=this.Vl;this.Fs=this.Xl;this.Es=this.Wl;this.Gs=this.Yl};fa.prototype.qF=function(a,b,c,d,f,e){if(!e.Na)switch(f){case 0:e.Cs=a;e.Fs=b;e.Es=c;e.Gs=d;e.Vl=a;e.Xl=b;e.Wl=c;e.Yl=d;break;case 1:e.Vl=a;e.Xl=b;e.Zz();break;case 2:e.Wl=a,e.Yl=b,e.Zz()}e.C.Ae(!0)};fa.prototype.yF=function(a,b,c,d){d.md&&!c&&(d.fc.current=d.Md(G.se,!0,d))};fa.prototype.eF=function(a,b,c,d){d.Na||d.WA(a,b,c,d,!1)};fa.prototype.gE=function(a,b){b=(a.Ic-
b)/a.Vk;-1!==a.Ic&&(0<b?a.Jn(a,b):0>b&&a.Ln(a,-b))};fa.prototype.cE=function(a,b){b=(a.Ic-b)/a.Vk;-1!==a.Ic&&(0<b?a.Fn(a,b):0>b&&a.Hn(a,-b))};fa.prototype.GF=function(a){this.g.Na-=3*Math.sign(a);0>this.g.Na&&(this.g.Na=0);this.g.Na>this.g.Bc-this.g.Ec&&(this.g.Na=this.g.Bc-this.g.Ec)};fa.prototype.sE=function(a,b){b=(a.Ic-b)/(24*this.h.s);-1!==a.Ic&&(a.g.Na+=b,0>a.g.Na&&(a.g.Na=0),a.g.Na>a.g.Bc-a.g.Ec&&(a.g.Na=a.g.Bc-a.g.Ec))};fa.prototype.kE=function(a,b,c){b=(a.Ah-b)/a.g.da;c=(a.Ic-c)/a.g.da/a.g.uh();
if(!a.ia&&-1!==a.Ic){var d=a.g.ha||a.g.Z?0:-a.g.angle;if(a.ab)a.za&&!a.pb&&(a.fc.current=a.Md(G.se,!0,a));else{var f=Math.sin(d/180*Math.PI);d=Math.cos(d/180*Math.PI);a.hc=!0;a.g.ma+=b*d+c*-f;a.g.ka+=b*f+c*d}}};fa.prototype.EK=function(a,b,c){var d=a.Ob,f=a.Pa,e=!1;a.$d||(a.Ob&&a.gj&&(a.Ob=!1,a.mj=!0),d&&(a.Pa=0,a.Z(""),a.Pa=f),e=a.AE(b,c,a.Ah,a.Ic),d&&a.Z(""));return e};fa.prototype.oE=function(a,b,c){a.na||a.vK(a,b,c)};fa.prototype.Gz=function(a,b){var c=this.g.width>>1,d=this.g.height>>1;this.mc?
(c-=Math.floor(this.xd/2)-this.aa-this.aa,d-=Math.floor(this.wd/2)-this.ba-this.ba):(c=this.H,d=this.F);0===this.g.ba?(a.J=0,a.L=this.g.width-1):(a.J=Math.round((this.g.width-this.g.ba)/2)+b,a.L=a.J+this.g.ba-1);0===this.g.$?(a.K=0,a.N=this.g.height-1):(a.K=Math.round((this.g.height-this.g.$)/2)+b,a.N=a.K+this.g.$-1);return[c,d]};fa.prototype.vK=function(a,b,c){var d=a.fa,f=new Ua(0,0,0,0),e=(a.g.width>>1)-(a.S>>1)+(a.aa<<1),g=(a.g.height>>1)-(a.V>>1)+(a.ba<<1),k=a.g.ja?-1:0;-1!==a.g.S&&(g=a.Gz(f,
k),e=g[0],g=g[1]);if(-1!==b&&-1!==c)if(a.P&&a.rm(a),a.Nj(b,c),-1===a.Ic)a.fz=b,a.hz=c,a.P=!1,a.zd=!1;else{if(a.Hc)d.L=a.Bc-e,d.N=a.Fc-g;else if(b!==a.fz||c!==a.hz)b=!1,-1!==a.g.S&&(a.Bc<f.J||a.Bc>f.L||a.Fc<f.K||a.Fc>f.N)&&(b=!0),b||(a.Hc=!0,d.J=a.Bc-e,d.L=d.J,d.K=a.Fc-g,d.N=d.K);a.Hc&&(a.$y(a),-1!==a.g.S?(g=a.Gz(f,k),e=g[0],g=g[1]):(e=(a.g.width>>1)-(a.S>>1)+(a.aa<<1),g=(a.g.height>>1)-(a.V>>1)+(a.ba<<1)));a.Hc&&-1!==a.g.S&&(f.J-=e,f.L-=e,f.K-=g,f.N-=g,d.J<d.L?(d.J<f.J&&(d.J=f.J),d.L>f.L&&(d.L=f.L)):
(d.L<f.J&&(d.L=f.J),d.J>f.L&&(d.J=f.L)),d.K<d.N?(d.K<f.K&&(d.K=f.K),d.N>f.N&&(d.N=f.N)):(d.N<f.K&&(d.N=f.K),d.K>f.N&&(d.K=f.N)))}};fa.prototype.rm=function(a){a.P=!1;a.zd=!1;a.Z("cancel selection");a.Hc=!1};fa.prototype.ZD=function(a){a.na?a.Xy(a,a.Bc,a.Fc,!0):a.qK(a)};fa.prototype.wk=function(a){var b=a.fa,c=a.g.A,d=b.J,f=b.K,e=b.L,g=b.N,k,l=0,p=(a.g.width>>1)-(a.S>>1)+(a.aa<<1),n=(a.g.height>>1)-(a.V>>1)+(a.ba<<1);a.g.Nb=!0;a.g.bc();if(d>e){var q=d;d=e;e=q}f>g&&(q=f,f=g,g=q);d<c.J-p&&(d=c.J-p);
f<c.K-n&&(f=c.K-n);e>c.L-p&&(e=c.L-p);g>c.N-n&&(g=c.N-n);c=e+1;q=d-1;var m=g+1;var r=f-1;for(k=f;k<=g;k+=1)for(f=d;f<=e;f+=1){var u=a.g.nb(f+p,k+n,!1);0<u&&(k<m&&(m=k),k>r&&(r=k),f<c&&(c=f),f>q&&(q=f),l+=1)}0<l&&(b.J=c,b.K=m,b.L=q,b.N=r)};fa.prototype.qK=function(a){var b=a.fa;if(a.Hc)if(a.P=!0,a.Hc=!1,a.zd=!1,a.Xd&&a.wk(a),a.P){var c=b.L<b.J?b.J-b.L+1:b.L-b.J+1;b=b.N<b.K?b.K-b.N+1:b.N-b.K+1;a.Z("selection ("+c+" x "+b+")")}else a.rm(a)};fa.prototype.VD=function(a,b,c){-1!==b&&-1!==c&&(a.Ou=!0,b=
a.qC(),a.Jh?(a.$E(b),a.Jh=!1,a.Wc.current=a.me([!1],!0,a)):(a.Ul=b,a.Ud(b)))};fa.prototype.RD=function(a){a.mj&&(a.Ob=!0,a.mj=!1,a.C.Ae(!0));0<a.Pa&&(a.g.bc(),a.Z(""))};fa.prototype.WA=function(a,b,c,d,f){var e=!1;-1!==a&&-1!==b&&d.C.A&&(c?(d.ga.current[0]||(d.v?d.gE(d,b):d.da?d.cE(d,b):d.tb&&d.Rb!==G.Sh&&0!==d.g.Bc?d.sE(d,b):!d.jb&&!d.vc||f?d.kE(d,a,b):d.jb?e=d.EK(d,a,b):d.vc&&d.oE(d,a,b)),e||(d.Ah=a,d.Ic=b)):-1!==d.Ah?(d.v||d.ga.current[0]||(d.jb?d.$d?d.VD(d,a,b):d.RD(d):d.vc&&d.ZD(d)),d.Ah=-1,
d.Ic=-1):d.v||d.ga.current[0]||(d.$d?d.Jh?d.C.notification.notify("Replace: Now click on a cell",15,180,15,!0):d.C.notification.notify("Pick: Now click on a cell",15,180,15,!0):d.na&&d.C.notification.notify("Now click to paste",15,180,15,!0)))};fa.prototype.ag=function(a,b){this.ia||(8>this.g.zoom&&(0>a?a=-8:0<a&&(a=8),0>b?b=-8:0<b&&(b=8)),this.Ic=this.Ah=0,this.WA(a,b,!0,this,!0),this.Ic=this.Ah=-1)};fa.prototype.Nb=function(a){return Math.ceil(Math.log2(a+1))};fa.prototype.bE=function(a){var b=
new Uint8Array(6*Math.ceil(a.length/8)),c,d,f,e;var g=7;for(e=c=d=0;d<a.length;){var k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(a.charAt(d));for(f=5;0<=f;--f)e|=(k>>f&1)<<g,--g,0>g&&(b[c]=e,e=0,g=7,c+=1);d+=1}7>g&&(b[c]=e);return b};fa.prototype.decode=function(a){a=new Ub(this.bE(a));var b,c=a.h(12);var d=a.h(12);var f=a.h(4);var e=c/d;var g=c/e,k=new Uint8Array(e),l=new Uint8Array(e),p=new Uint8Array(e),n=c,q=d-2*f,m=0,r=0,u=0,t=0;for(b=0;b<e;b+=1)k[b]=a.h(4),l[b]=
a.h(4),n-=k[b]+l[b];var v=this.Nb(e);for(b=0;b<e;b+=1)p[b]=a.h(v);v=this.Nb(Math.ceil(-1+Math.sqrt(1-8*-n*q)/2));var B=a.h(v);var w=a.h(this.Nb(n));var z=new Uint32Array(B);z[0]=a.h(this.Nb(n));var E=a.h(this.Nb(B));for(b=1;0<E;)z[b]=z[b-1]+1,b+=1,--E;E=b+a.h(this.Nb(B));for(v=2;b<E;)z[b]=z[b-1]+a.h(v)+1,b+=1;E=b+a.h(this.Nb(B));for(v=3;b<E;)z[b]=z[b-1]+a.h(v)+1,b+=1;for(v=this.Nb(w);b<B;)z[b]=z[b-1]+a.h(v),b+=1;v=this.Nb(Math.ceil(-1+Math.sqrt(1-8*-n*q)/2));w=a.h(v);var H=a.h(this.Nb(n));B=new Uint32Array(w);
B[0]=a.h(this.Nb(n));E=a.h(this.Nb(w));for(b=1;0<E;)B[b]=B[b-1]+1,b+=1,--E;E=b+a.h(this.Nb(w));for(v=2;b<E;)B[b]=B[b-1]+a.h(v)+1,b+=1;E=b+a.h(this.Nb(w));for(v=3;b<E;)B[b]=B[b-1]+a.h(v)+1,b+=1;for(v=this.Nb(H);b<w;)B[b]=B[b-1]+a.h(v),b+=1;v=this.Nb(q);w=new Uint32Array(q);for(b=0;b<q;b+=1)w[b]=a.h(v);v=new Uint32Array(n);for(b=H=0;b<e;b+=1){var L=k[b];var N=l[b];for(E=0;E<g-L-N;E+=1)v[H]=p[b]*g+L+E,H+=1}E=document.createElement("canvas");E.width=c;E.height=d;b=E.getContext("2d");b.clearRect(0,0,c,
d);p=b.createImageData(c,d);H=new Uint32Array(p.data.buffer);g=-1;l=k=0;d=this.Nb(z.length);for(e=this.Nb(B.length);l<q;)if(-1===g)u=a.h(1),r=a.h(1),g=(w[l]+f)*c,m=0;else{E=a.h(2);switch(E){case 0:E=a.h(1);t=0===E?4:3;break;case 1:t=0;break;case 2:E=a.h(1);1===E?t=2:(E=a.h(1),0===E?t=5:(E=a.h(1),t=0===E?6:7));break;case 3:t=1}0===t&&(0===r?(t=a.h(d),t=t===z.length?n-m:z[t]):(t=a.h(e),t=t===B.length?n-m:B[t]));for(E=0;E<t;E+=1)1===r&&(H[g+v[m]]=4294967295),1===u&&(H[g+v[m]]^=H[k+v[m]]),m+=1;r=1-r;
m===n&&(k=g,l+=1,g=-1)}b.putImageData(p,0,0);return b};fa.prototype.GI=function(a){var b=G.fr,c=[8,11,16,17,44],d,f,e;if(null===b)if(W.er)b=W.er;else{b=this.decode("dYAoERERERISIiIiIiIiJEM1WIZofMZlWId3d3iHd3iYiIiIiIiIh3uIuJi///M5mZMyC0EbBhyUl4KjK22WobTmDU1FnYowAQgxBSlXHn5JaKT5p7jeDIBDMugiAAgSABKlFgQIAoGA8EIEE80EEEQkdAREbIKgUAQwKWOERomkoiqgsecuwaYy0WU24SQ68O+MLBCJEHGFICBKT58+egefPnz458+fPQFQFQFQDJTROEXxnGg9L/pz7947/886KzofQOLLR0kNoL6KgNADA7oD6KgONC8kyDsX0DUlLTpGSUQIAwEEJ/////+l16AZIJYVBSoOxUVRUoEDISQK4hBAiQOgO3//6z//8oC1nBLnz58mTnQ5SxTn3vnH6Av+is6RmyM5kr9DaC/H/oApbRG0FTm/H635d5bKQLJA75rVAVAVAV1/n+255aF0NovxcVG8tJUVE9P49CUVDVB2KhKgQZT7pHFQ+stDbOq91NoID9IagotoqEqNILHqaB3fMIwYMGC4tDlLFQdKAseeo/SHk4/YdygNKm1B2mgBB3tnFukclD1nqnKB9RHKp4iQKaIKkQLJA75r1AVAVAba0dUdVH/f/EdOktI9IvfQdloDlUZeoWWUBoe9QJtQdpJBQdt7wgdI2lD1WUZkcVIVHBHVF1K1F8tAcv1JoKDeoa+RGmBUFCFqMoq4UDuFCL3fMG9N6b03pvWvE4Sf6HKWKdqA5f99AaL/R+eL31jURL/QGh6iag6gCCg6UUBJ+EPWeqckrCGt6I0RorvLunqKpUCyQO+atQFQFQFdWMX/yOdQehtE45n0VijSdQ1g3QGhqif0D+gaKg6P+UZyt5Ieo7lpXQWzamaiqiqdRaDuc9Q1vwKiNFCQRVReNj407u/nz589Dz58+eDem9N6b07chSlLFRZsgL/+pdCG6wqGsG6A4vxUT+gf0DRUHZoBBWkoXqFPTVypyW3OcEdp+VRFRIkE/jUyBZIHfz58+el58+fODBgwULUBUBXCUsVOfvcZrEx3Glaiu6UqGqDqb0Dp7SOnND6A04qUtTtR9FQeoNEfpD/+o/VVWKCP/9L8tGf/6A3fz58+el58+fODBgwW3CrKWKdvn+/f/x3U1Q2deaAPoDi+kf5/oPGg7CROVDejTiBXKnGSKcEegbSiCiBIO/nz589Lz58+cGDBgoCoCoCoCt0pYp3N+3/t+X6G0NobRGi8YxqiqmxULjQX4/U2oc06W5adVKOqGo8IbT2i9F8+MrFXUR3SBCWoqiRFQFRCJDNZ2QqylinvPnH8dvqQovXfK99Aaa7x3SdhMnMYx6JPTVypxmLjBlMKASCg7oYiQLvmnoCoC3i3bxtR1pUHHLye7Dtxyx2ohSgM26Co9TOoGpzQfSFqM0DoXPc6F5VHVIWqqEdUHVLULornpzRv9qKqW1ZXfOyFWUsU/f+f358ah0ZqtT8iLP+iqUB/H6F7oKxakpC1A4wjUElcqccQSDInhIaGEgoAhiJAu+aYkJGZbKZBlLFP95d83jjQdptuiNM40BjWiFKTRFQX4/RBS+htHaE18qT9VNT+mtF30YesaqDQG752Qqylinv47e+f0n//p/VOhu2IJlejQOgNAIUMEDYoR39LU4x35o3RE1cqcaMyKKm6Q0MJBQBD0W0V3zA4MGDBjqCoKgsMuEWoQRSxTxJIuO/oc220qjGgsap0JRUkhUFQOmcaF0BoLGgdBaZIKKVJ2q2oHRWgdMaR+o0pPCJDIkVUMijlu+YHBgwYLbjhSlLFP8u/jHfxrbVOhu2IFj9AaA0BoKEQEBYs0f+lB0aBQJxAkiCCCFTjRVAUSjQSQJxNLGMbvmBwYMGDHUFQVBYZUcKUpYp/FjP//fxr7GhMbMhK4/ROnNMUcsVYaAx/////6cqxqA6ZG6D0to/SGgMrFnU9jd8wKb03pvTencpSxT3L//+35a61RobtA8Efz0DoDHERoIIDioFDf0pMaBPJMSyk6LKiumYQlCgiiChEEkCcTO+YN6b03pvTcICoCoCt82o60p6x+L5zR+tv5Y0NjT2eNQVD1Pc9M5590DRIVAUSFFR1+Wh6jgjqatLOoSoXSmk81T61stEZ7u+YN6b03pvTeuUpYp7t7Fz047rYqfQ3aReXbeegdAZ0ToEToqDmNLHot4JnPRUyUpjQGN0TtmKChQdRFQqCSBOpTnvLu75g3pvTem9N7agKgKgKp9HaE0dzkjpZGAAMHkjpG/mO28u0yR0k5joAuNM2dE1BCCUXP6NK5qD0bgWgIvGMAAYwABmreoLGi9JaC0BUTF8oPYtSInXfz58+el58+fKmDBgwU/Lnz58miUsU7/bPjj9d6mvJAd/xeXcaA0BoDvO9n2Ql4qFg30zREuJJKUbtkhMTt9D6I0MgkgTyS13rQ8+fPnoPQOgc4YjSGKNIY4qOsskAAG/xUdULbUHT/8qjrGmYAAEXQWif56P0TpFVajs6ZRoqERCFIAAKKoIAAkAAC7+fPnz0PPnz59YEufPnyaJSxUvabLPa0v40B34PIDQGgNAaE0JIILUTT/6ZNkhYSUJ6oSu+auaM0ZpqkqQqAqQqAqQoNIAANIqQqE7xfv2nsVIVO4wABjTGdBaAUr+xp6otEiESAIAAIqKIAAkAAC753FLFT6B8xWn8tBn72oAhCgkKD/QcgiSJC13zVqAqAqAqiqSsqkrKpKkpYmpKozp9DVJVN40dj0SINmkFaDKDWJEha75hGDBgwXMUsVLzx9itQomEHu+a9QFQFQGn6lKKlKKlLL/////////4qUssaB73jlUpU9pDCQpIqG3fMG9N6b03pvXKwUHGgO/tiHfNaoCoCoCp+pa2pa2pap6paoynQlOkrV50loaHfMCm9N6b03p3KwUGLeWdE6WXu+acqgqCoFCEgAEgLRo7FTlGjsUY7Y7UJRo7BS5Shd8wODBgwXOwVFQFnu8nz589A8+fPnoHnz56EqAqAqAsufPnu+d4");
var g=b.getImageData(0,0,b.canvas.width,b.canvas.height);var k=new Uint32Array(g.data.buffer);for(d=0;d<c.length;d+=1)for(e=0;40>e;e+=1){var l=e*b.canvas.width+40*c[d];for(f=0;40>f;f+=1)0!==k[l+f]&&(k[l+f]=4285558896)}b.putImageData(g,0,0);c=document.createElement("canvas");c.width=b.canvas.width;c.height=b.canvas.height;W.er=c.getContext("2d");W.er.drawImage(b.canvas,0,0)}this.m=new vb(b,a);this.m.add("play",40,40);this.m.add("pause",40,40);this.m.add("tostart",40,40);this.m.add("menu",40,40);this.m.add("stepback",
40,40);this.m.add("stepforward",40,40);this.m.add("autofit",40,40);this.m.add("fit",40,40);this.m.add("grid",40,40);this.m.add("shrink",40,40);this.m.add("draw",40,40);this.m.add("hexgrid",40,40);this.m.add("lines",40,40);this.m.add("pan",40,40);this.m.add("pick",40,40);this.m.add("states",40,40);this.m.add("hexagongrid",40,40);this.m.add("trianglegrid",40,40);this.m.add("inside",40,40);this.m.add("undo",40,40);this.m.add("redo",40,40);this.m.add("drawpause",40,40);this.m.add("invertselection",40,
40);this.m.add("autoshrink",40,40);this.m.add("selectlibrary",40,40);this.m.add("cut",40,40);this.m.add("copy",40,40);this.m.add("paste",40,40);this.m.add("flipx",40,40);this.m.add("flipy",40,40);this.m.add("rotatecw",40,40);this.m.add("rotateccw",40,40);this.m.add("random",40,40);this.m.add("smart",40,40);this.m.add("outside",40,40);this.m.add("select",40,40);this.m.add("reverse",40,40);this.m.add("uturn",40,40);this.m.add("nudgeright",40,40);this.m.add("nudgeleft",40,40);this.m.add("nudgeup",40,
40);this.m.add("nudgedown",40,40);this.m.add("advancesel",40,40);this.m.add("cancelsel",40,40);this.m.add("trirectgrid",40,40);this.m.add("download",40,40);this.m.add("changestate",40,40);this.m.add("advanceoutside",40,40)};fa.prototype.FD=function(a,b,c){var d="",f,e=null;""===a&&(a="Life");a=a.replace(/[\n\r]/g,"\n");for(f=a.indexOf("\n");0===f||0<f&&"#"===a[0];)a=a.substring(f+1),f=a.indexOf("\n");f=a.indexOf("\n");-1!==f&&(a=a.substring(0,f).trim(),f=a.indexOf("rule="),-1!==f?a=a.substring(f+
6).trim():(f=a.indexOf("rule ="),-1!==f&&(a=a.substring(f+7).trim())));try{e=this.X.create("","x = 1, y = 1, rule = "+(a+"\nb!"),this.g.T,b,c,[],!0,this)}catch(g){e=null}e&&e.I&&(d=a);return d};fa.prototype.GD=function(a,b,c){b=a.ua.indexOf("\n");c.C.notification.notify(a.h,15,300,15,!0);-1===b?c.C.notification.notify(a.ua,15,300,15,!1):c.C.notification.notify(a.ua.substring(0,b),15,300,15,!1);c.C.Ae(!0)};fa.prototype.JD=function(a,b,c){b=b[0];a=b.indexOf(":");-1!==a?(c.$=b.substring(0,a),c.ng=b.substring(a)):
(c.$=b,c.ng="");c.Ka="";a=c.g.kh(c,c.g,!0,c.g.i,c.g.i,[],!0);c.Ad&&(c.displayWidth=c.Ue,c.displayHeight=c.Te);c.Yh(a,!1)};fa.prototype.ED=function(a){var b=a.$+a.ng;""===b&&(b=this.bA);var c=window.prompt("Change rule",b);null!==c&&(this.bA=b,c=a.FD(c,a.JD,a.GD),a.X.ra||(""!==c?a.JD(null,[c],a):a.GD(null,[c],a)))};fa.prototype.Eq=function(a,b,c,d,f){var e=this.$;""!==a&&(e=e.substring(0,e.length-a.length));this.Ka=this.$=e+=b;a=this.g.kh(this,this.g,!0,c,d,f,!0);this.Ad&&(this.displayWidth=this.Ue,
this.displayHeight=this.Te);this.Yh(a,!1)};fa.prototype.ZF=function(a){a.Eq(a.g.O?"History":"","Super",a.g.O?7:2,26,a.g.O?G.oH:G.LJ)};fa.prototype.ND=function(a){a.Eq(a.g.u?"Super":"","History",a.g.u?26:2,7,a.g.u?G.PJ:G.KJ)};fa.prototype.RF=function(a){a.Eq(a.g.O?"History":"Super","",a.g.O?7:26,2,a.g.O?G.nH:G.QJ)};fa.prototype.nz=function(){var a=this.g.ca.s;var b="",c,d;var f="R"+a+",C"+(this.g.ca.ca+",");a=this.X.sa(a,this.g.ca.type,this.g.ca.oa);switch(this.g.ca.type){case this.X.u:b="FC"+this.g.ca.S+
"E"+this.g.ca.Y;break;case this.X.i:b="";break;case this.X.m:b="N";break;case this.X.Z:b="C";break;case this.X.$:b="2";break;case this.X.P:b="+";break;case this.X.V:b="X";break;case this.X.Y:b="*";break;case this.X.G:b="H";break;case this.X.O:b="B";break;case this.X.I:b="D";break;case this.X.S:b="#";break;case 10:b="@"+this.g.ca.V;this.g.ha?b+="H":this.g.Z&&(b+="L");break;case this.X.D:b="3";break;case this.X.A:b="A";break;case this.X.H:b="L";break;case this.X.v:b="G";break;case 15:b="W"+this.g.ca.V,
this.g.ha?b+="H":this.g.Z&&(b+="L")}var e=this.G.random()*a/a;f+="S";var g=-1;for(c=d=0;d<a;)this.G.random()<e?-1===g&&(0<c&&(f+=","),f+=String(d),g=d,c+=1):-1!==g&&(g!==d-1&&(f+="-"+String(d-1)),g=-1),d+=1;-1!==g&&g!==d-1&&(f+="-"+String(d-1));0===c&&(g=this.G.random()*a|0,f+=String(g));f+=",B";e=this.G.random()*(a-1)/(a-1);g=-1;d=1;for(c=0;d<a;)this.G.random()<e?-1===g&&(0<c&&(f+=","),f+=String(d),g=d,c+=1):-1!==g&&(g!==d-1&&(f+="-"+String(d-1)),g=-1),d+=1;-1!==g&&g!==d-1&&(f+="-"+String(d-1));
0===c&&(g=this.G.random()*(a-1)|1,f+=String(g));""!==b&&(f+=",N"+b);this.g.ca.ea&&(f+=",P",-1!==this.g.ca.ma&&(f=-1>this.g.ca.ma?f+"#":f+this.g.ca.ma,-1!==this.g.ca.la&&(f=-1>this.g.ca.la?f+",#":f+(","+this.g.ca.la),-1!==this.g.ca.ia&&(f=-1>this.g.ca.ia?f+",#":f+(","+this.g.ca.ia)))));return f};fa.prototype.pz=function(){var a=this.g.ca.s;var b="";var c="R"+a+",C"+(this.g.ca.ca+",");c+="M1,";a=this.X.sa(a,this.g.ca.type,this.g.ca.oa);a+=1;switch(this.g.ca.type){case this.X.u:b="FC"+this.g.ca.S+"E"+
this.g.ca.Y;break;case this.X.i:b="M";break;case this.X.m:b="N";break;case this.X.Z:b="C";break;case this.X.$:b="2";break;case this.X.P:b="+";break;case this.X.V:b="X";break;case this.X.Y:b="*";break;case this.X.G:b="H";break;case this.X.O:b="B";break;case this.X.I:b="D";break;case this.X.S:b="#";break;case 10:b="@"+this.g.ca.V;this.g.ha?b+="H":this.g.Z&&(b+="L");break;case this.X.D:b="3";break;case this.X.A:b="A";break;case this.X.H:b="L";break;case this.X.v:b="G";break;case 15:b="W"+this.g.ca.V,
this.g.ha?b+="H":this.g.Z&&(b+="L")}var d=this.G.random()*a|0;c+="S"+String(d);d=(this.G.random()*(a-d)|0)+d;c+=".."+String(d);d=(this.G.random()*(a-1)|0)+1;c+=",B"+String(d);d=(this.G.random()*(a-d)|0)+d;c+=".."+String(d);return c+(",N"+b)};fa.prototype.wz=function(){var a="W";var b=2*(127*this.G.random()|0);return a+=String(b)};fa.prototype.rz=function(a){var b="B",c,d,f=8,e="";if(this.g.ha)switch(this.g.hh){case this.X.pa:f=6;e=this.X.Wa;break;case this.X.qa:f=3,e=this.X.Ib}else if(this.g.Z)switch(this.g.jh){case this.X.la:f=
3;e=this.X.Fa;break;case this.X.ua:f=6;e=this.X.lb;break;case this.X.va:f=6;e=this.X.mb;break;case this.X.ma:f=9;e=this.X.Ia;break;case this.X.ia:f=12;e=this.X.Ha;break;case this.X.ta:f=9;e=this.X.kb;break;case this.X.wa:f=3,e=this.X.nb}else this.g.ud&&(f=4,e=this.X.rb);var g=new Uint8Array(f+1);var k=new Uint8Array(f+1);var l=d=50;-1!==this.Ze&&(l=d=this.Ze);-1!==this.$e&&(d=this.$e);-1!==this.pg&&(l=this.pg);for(c=0;c<=f;c+=1)g[c]=d,k[c]=l;-1===this.Ze&&-1===this.$e&&(g[0]=25);for(c=0;c<this.Xc.length;c+=
2)this.Xc[c]<=f&&(g[this.Xc[c]]=this.Xc[c+1]);for(c=0;c<this.Rd.length;c+=2)this.Rd[c]<=f&&(k[this.Rd[c]]=this.Rd[c+1]);for(c=2<this.g.i||a?1:0;c<=f;)100*this.G.random()<=g[c]&&(b+=String(c)),c+=1;b+="/S";for(c=0;c<=f;c+=1)100*this.G.random()<=k[c]&&(b+=String(c));2<this.g.i&&!this.g.u&&!this.g.G&&(b+="/"+this.g.i);return b+=e.toUpperCase()};fa.prototype.uz=function(a){var b=a?"2PCA4,":"M",c,d=!1;var f=0;var e=[];var g=this.g.ec;if(this.rn){d=new Uint8Array(16);a=new Uint8Array(16);for(c=0;16>c;c+=
1)d[c]=c,a[c]=g[c];for(c=0;16>c;c+=1){var k=g[c];for(f=a=0;16>f;f+=1)k===g[f]&&(a+=1);var l=new Uint8Array(a);for(f=a=0;16>f;f+=1)k===g[f]&&(l[a]=f,a+=1);e[c]=l}for(c=1;16>c;c+=1).5>=this.G.random()&&(l=e[c],a=this.G.random()*l.length|0,a=l[a],g=d[c],d[c]=d[a],d[a]=g);for(c=0;15>c;c+=1)b+=d[c]+",";b+=d[c]}else if(this.pn){c=16;a?(a=0,f|=1):(a=16*this.G.random()|0,15===a?(d=!0,f|=32769,--c):(a=0,f|=1));b+=String(a);for(--c;65535!==f;){a=this.G.random()*c|0;for(k=0;0<=a;)0===(f&1<<k)&&--a,k+=1;b+=","+
String(k-1);f|=1<<k-1;--c}d&&(b+=",0")}else{a?a=0:(a=16*this.G.random()|0,15===a?d=!0:a=0);b+=String(a)+",";for(c=1;15>c;c+=1)a=16*this.G.random()|0,b+=String(a)+",";a=d?0:16*this.G.random()|0;b+=String(a)}return b};fa.prototype.gm=function(a,b){var c="",d,f,e=0,g,k=[],l=a.em,p=a.im,n=a.oj/100,q=!1;-1!==a.$.indexOf("|")&&(q=!0);if(2>=a.g.i||a.lm){k[0]="b";k[1]="o";var m=2}else for(m=a.g.i,k[0]=".",f=0;f<m-1;f+=1)k[f+1]=24<=f?String.fromCharCode(112+(f/24|0)-1)+String.fromCharCode(65+f%24):String.fromCharCode(65+
f);-1!==a.g.Sd&&(l=1);for(d=0;d<l;d+=1){if(this.g.s){var r=0;this.G.random()<=n&&(r|=1);this.G.random()<=n&&(r|=2);this.G.random()<=n&&(r|=4);this.G.random()<=n&&(r|=8)}else r=this.G.random()<=n?(this.G.random()*(m-1)|0)+1:0;for(f=g=1;f<p;f+=1)this.g.s?(e=0,this.G.random()<=n&&(e|=1),this.G.random()<=n&&(e|=2),this.G.random()<=n&&(e|=4),this.G.random()<=n&&(e|=8)):e=this.G.random()<=n?(this.G.random()*(m-1)|0)+1:0,e!==r&&(1<g&&(c+=g),c+=k[r],g=0,r=e),g+=1;0!==e&&(1<g&&(c+=g),c+=k[e]);d<l-1&&(c+="$\n")}c+=
"!\n";a.hm||b||(a.g.D||(a.g.ja||a.g.s?(a.$=a.uz(a.g.s),q&&(a.$+="|"+a.uz(a.g.s))):a.g.Da?a.Rx?(a.$=a.pz(),q&&(a.$+="|"+a.pz())):(a.$=a.nz(),q&&(a.$+="|"+a.nz())):-1!==a.g.Sd?(a.$=a.wz(),q&&(a.$+="|"+a.wz())):(a.$=a.rz(q),q&&(a.$+="|"+a.rz(q)))),a.g.O&&(a.$+="History"),a.g.u&&(a.$+="Super"),a.g.G&&(a.$+="Investigator"),b=db.Mp(a.$),a.Ka=null!==b?b:"");b=a.g.ci;b+="x = "+a.im+", y = "+a.em+", rule = ";b+=(""===a.Ka?a.$:a.Ka)+a.ng+"\n";b=b+c+a.g.bi;if(a.Nd.locked||a.sj||2===a.ma&&0!==a.Hb[1].rg||window.confirm("Create new random pattern?"))a.Ad&&
(a.displayWidth=a.Ue,a.displayHeight=a.Te),a.Yh(b,!1),a.HD(a)};fa.prototype.VA=function(a){var b=window.prompt("Create new pattern with rule",(""===a.Ka?a.$:a.Ka)+a.ng);null!==b&&(b=a.FD(b,a.dB,a.$A),a.X.ra||(""!==b?a.dB(null,[b],a):a.$A(null,[b],a)))};fa.prototype.$A=function(a,b,c){b=a.ua.indexOf("\n");c.C.notification.notify(a.h,15,300,15,!0);-1===b?c.C.notification.notify(a.ua,15,300,15,!1):c.C.notification.notify(a.ua.substring(0,b),15,300,15,!1);c.C.Ae(!0)};fa.prototype.dB=function(a,b,c){a=
"x = 1, y = 1, rule = "+b[0]+"\nb!";c.Ad&&(c.displayWidth=c.Ue,c.displayHeight=c.Te);c.Yh(a,!1)};fa.prototype.Tz=function(){this.ed.h=this.g.ha?this.g.Fa?[this.m.h("hexgrid")]:[this.m.h("hexagongrid")]:this.g.Z?this.g.Fa?[this.m.h("trirectgrid")]:[this.m.h("trianglegrid")]:[this.m.h("grid")]};fa.prototype.CF=function(a,b){a.C.A&&(a.Pg||(a.tj=-b.deltaY,1===b.deltaMode&&(a.tj*=45),a.C.Ae(!0)),b.preventDefault())};fa.prototype.ou=function(){var a=this.s.Y(0===this.Rm?0:this.Kc/this.Rm),b=this.vg,c=this.Nk,
d=this.yg,f=this.Ai;this.g.ma=this.g.width/2-(this.Bg+a*(this.Rf-this.Bg));this.g.ka=this.g.height/2-(this.Cg+a*(this.Bi-this.Cg));this.g.zoom=this.bi*Math.pow(this.Ci/this.bi,a);180<c-b?b+=360:-180>c-b&&(c+=360);this.g.angle=(b+a*(c-b))%360;this.g.Gb=d+a*(f-d);this.Un&&(this.g.mc=this.bt+a*(this.Us-this.bt),this.Fa.current=this.mf([this.g.mc,this.g.mc],!1,this));this.Xm&&(this.g.Aa=this.dt+a*(this.Ws-this.dt),this.lb.current=this.Bl([this.g.Aa,this.g.Aa],!1,this));this.Kc+=1;this.Kc>this.Rm&&(this.Kc=
-1,this.g.zoom=this.Ci,this.g.angle=c%360,this.g.Gb=this.Ai,this.g.ma=this.g.width/2-this.Rf,this.g.ka=this.g.height/2-this.Bi,this.Un&&(this.g.mc=this.Us,this.Fa.current=this.mf([this.g.mc,this.g.mc],!1,this)),this.Xm&&(this.g.Aa=this.Ws,this.lb.current=this.Bl([this.g.Aa,this.g.Aa],!1,this)));this.kc&&(this.kc.current=this.Od([this.g.zoom,this.g.zoom],!1,this));this.sa&&(this.sa.current=this.Lg([this.g.angle,this.g.angle],!1,this));this.fb&&(this.fb.current=this.Oj([this.Ek(this.g.Gb),this.g.Gb],
!1,this))};fa.prototype.mJ=function(){var a=this.s,b=a.m.length,c,d=this.S,f=this.V,e=a.D();for(c=0;c<b;c+=1){var g=a.m[c];e.Sg=!0;e.x=-g.x+d/2;e.wf=!0;e.y=-g.y+f/2;e.hf=!0;e.zoom=g.zoom;e.pe=!0;a.add(e,this);c<b-1&&(e=a.D())}};fa.prototype.Ts=function(a,b){var c=a.s.i[b];a.Bg=a.g.width/2-a.g.ma;a.Cg=a.g.height/2-a.g.ka;a.bi=a.g.zoom;a.vg=a.g.angle;a.yg=a.g.Gb;a.Rf=c.wf?c.x:a.Bg;a.Bi=c.hf?c.y:a.Cg;a.Ci=c.pe?c.zoom:a.bi;a.Nk=c.Rg?c.angle:a.vg;a.Ai=c.Yg?c.Gb:a.yg;a.g.ha&&(a.Rf+=a.g.ka/2);a.Un=c.Ih;
a.Un&&(a.bt=a.g.mc,a.Us=c.depth/G.cm);a.Xm=c.Th;a.Xm&&(a.dt=a.g.Aa,a.Ws=c.Aa);a.Kc=0;a.Rm=c.i;a.ou();c.j&&a.FC(a);c.h===Va.play?a.fc.current=a.Md(G.lj,!0,a):c.h===Va.stop&&a.Ob&&(a.fc.current=a.Md(G.se,!0,a));c.ue&&a.sg(c.Lc,a.g.Pe,a);a.C.notification.notify("POI "+(b+1),15,60,15,!0);""!==c.te?a.C.notification.notify(c.te,15,180,15,!1):a.C.notification.clear(!1,!0);c.ni&&(a.uc=c.uc);c.ei&&(a.Sb=c.Sb);c.qf&&(a.ca=Math.sqrt((c.bd-G.zg)/(a.tc-G.zg)));c.Be&&(a.O=c.step);if(c.qf||c.Be)a.ec.current=a.yc([a.zf(),
1],!0,a);c.pq&&(a.g.counter>c.Ac&&a.FC(a),a.g.counter<c.Ac&&(a.Pg=!0,a.Dq=c.Ac,a.Cq=!1));c.Tk&&(a.g.Ya=c.grid);c.Vr&&(this.Jc=c.nl)};fa.prototype.Pc=function(a,b,c){var d=b/a.g.cb;c&&(b=1<=b?Math.round(b):1/Math.round(1/b),d=b/a.g.cb);a.ab||(a.Bg=a.g.width/2-a.g.ma,a.Cg=a.g.height/2-a.g.ka,a.bi=a.g.zoom,a.vg=a.g.angle,a.yg=a.g.Gb,a.Rf=a.Bg,a.Bi=a.Cg,a.Ci=d,a.Nk=a.vg,a.Ai=a.yg,a.Kc=0)};fa.prototype.DH=function(a){a.ec.current=a.yc([1,1],!0,a)};fa.prototype.iK=function(a){a.to(a)};fa.prototype.SE=function(a){a.Js(a)};
fa.prototype.fE=function(a){a.qb&&a.gl(a);-1!==a.Ya&&a.Qm(a,!0,!0)};fa.prototype.xk=function(a){a.uf||a.vf||a.ff||a.je||a.xf||a.ke||a.ef?(a.uf=!1,a.vf=!1,a.je=!1,a.ff=!1,a.xf=!1,a.ef=!1,a.ke=!1):a.ga.current=[!1]};fa.prototype.bF=function(a){a.ff=!0};fa.prototype.FK=function(a){a.je=!0};fa.prototype.gK=function(a){a.uf=!0};fa.prototype.SJ=function(a){a.ef=!0};fa.prototype.SD=function(a){a.xf=!0};fa.prototype.fG=function(a){a.vf=!0};fa.prototype.DI=function(a){a.VA(a)};fa.prototype.FE=function(a){a.gm(a,
!1)};fa.prototype.BE=function(a){a.gm(a,!0)};fa.prototype.MD=function(a){a.HD(a);a.P?a.C.notification.notify("Selection saved",15,120,15,!0):a.C.notification.notify("Pattern saved",15,120,15,!0)};fa.prototype.MH=function(a){a.fA(a)};fa.prototype.BF=function(a){a.ED(a)};fa.prototype.xI=function(a){a.ke=!0};fa.prototype.VJ=function(a,b,c,d){b&&(a[0]?(b=d-c.Lz,c.sg(G.tq[b],1,c),c.ga.current[0]&&(c.ga.current=c.lf([!1],!0,c))):(c.ga.current[0]&&(c.ga.current=c.lf([!1],!0,c)),a[0]=!0));return a};fa.prototype.rt=
function(a){a.tb=!1};fa.prototype.SF=function(a){a.Cz(a)};fa.prototype.Qz=function(a){a.g.Ol()};fa.prototype.Oz=function(a){a.g.Nl()};fa.prototype.OD=function(a){a.g.Ml()};fa.prototype.LF=function(a){a.g.Ll()};fa.prototype.Az=function(a){"Empty"===a.zb||"none"===a.zb||""===a.zb?a.C.notification.notify("No Identify Results",15,120,15,!1):(0!==a.v&&(a.v=0,a.gd.current=a.kf([0!==a.v],!0,a)),a.ga.current[0]&&(a.ga.current=a.lf([!1],!0,a),a.C.m=!0),a.Ne.current=a.yl(G.Tj,!0,a),a.Id.current=a.Mj(G.Sh,!0,
a),a.g.Na=0,a.tb=!0)};fa.prototype.wF=function(a){a.Ca=!1;a.Me.current=a.xo([a.Ca],!0,a)};fa.prototype.EE=function(){Wb()};fa.prototype.fF=function(a){a.Tb=[];a.da=0;a.Vs(a.ra.current)};fa.prototype.QB=function(a){--a.Gc;0>a.Gc&&(a.Gc=a.s.i.length-1);a.Ts(a,a.Gc)};fa.prototype.lB=function(a){a.Gc+=1;a.Gc>=a.s.i.length&&(a.Gc=0);a.Ts(a,a.Gc)};fa.prototype.QI=function(a){a.Va+=1;a.Va>=W.ze.length&&(a.Va=0);a.Yh(W.ze[a.Va].pattern,!1)};fa.prototype.WD=function(a){--a.Va;0>a.Va&&(a.Va=W.ze.length-1);
a.Yh(W.ze[a.Va].pattern,!1)};fa.prototype.rH=function(a){a.it();a.v&&(a.v=0);a.ga.current[0]=!1;a.C.m=!0};fa.prototype.tG=function(a){a.dk=!0};fa.prototype.cK=function(a){a.xc(G.Ng,a)};fa.prototype.IE=function(a,b){var c=0;if((a.g.O||a.g.u)&&b)for(;c<a.ea.length;)1<a.ea[c]&&(a.ea[c]&=1),c+=1;else for(;c<a.ea.length;)a.ea[c]=0,c+=1};fa.prototype.cz=function(a){var b=a.fa,c=b.J,d=b.L,f=b.K;b=b.N;var e=a.g.A,g;var k=(a.g.width>>1)-(a.S>>1)+(a.aa<<1);var l=(a.g.height>>1)-(a.V>>1)+(a.ba<<1);var p=0;if(!a.I&&
a.P){-1!==a.g.S&&(k=this.H,l=this.F);if(c>d){var n=d;d=c;c=n}f>b&&(n=b,b=f,f=n);c+=k;d+=k;f+=l;b+=l;a.g.Nb=!0;a.g.bc();n=e.J;l=e.K;k=e.L;e=e.N;for(g=l;g<=e;g+=1)for(l=n;l<=k;l+=1)if(!(g>=f&&g<=b&&l>=c&&l<=d)){var q=a.g.nb(l,g,!1);0!==q&&(p|=a.oa(l,g,0,!1))}(a.g.O||a.g.u)&&p&&this.g.rb();a.g.Nb=!0;a.g.bc();a.Z("clear cells outside selection")}};fa.prototype.UE=function(a,b){var c=a.fa,d=c.J,f=c.L,e=c.K;c=c.N;var g=(a.g.width>>1)-(a.S>>1)+(a.aa<<1),k=(a.g.height>>1)-(a.V>>1)+(a.ba<<1);if(!a.I&&a.P){-1!==
a.g.S&&(g=this.H,k=this.F);if(d>f){var l=f;f=d;d=l}e>c&&(l=c,c=e,e=l);if((a.g.O||a.g.u)&&b)for(l=e;l<=c;l+=1)for(e=d;e<=f;e+=1){var p=a.g.nb(e+g,l+k,!1);1<p&&a.oa(e+g,l+k,p&1,!1)}else for(l=e;l<=c;l+=1)for(e=d;e<=f;e+=1)p=a.g.nb(e+g,l+k,!1),0!==p&&a.oa(e+g,l+k,0,!1);(a.g.O||a.g.u)&&this.g.rb();a.g.Nb=!0;a.g.bc();a.zd=!1;(a.g.O||a.g.u)&&b?a.g.O?a.Z("clear History cells in selection"):a.Z("clear Super cells in selection"):a.Z("clear cells in selection")}};fa.prototype.EG=function(a){a.Pc(a,a.g.zoom*
a.g.cb,!0)};fa.prototype.NE=function(a){a.xb(!0,!0,G.Lp)};fa.prototype.rE=function(a){a.xb(!0,!0,G.tu)};fa.prototype.Qs=function(a,b){a.I||(a.na?a.IE(a,b):a.UE(a,b))};fa.prototype.YE=function(a){a.Qs(a,!1)};fa.prototype.DE=function(a){a.cz(a)};fa.prototype.QE=function(a){a.Qs(a,!0)};fa.prototype.sD=function(a){a.ra.current!==G.bl&&(a.ra.current=a.we(G.bl,!0,a));a.Jh=!0;a.Wc.current=a.me([!0],!0,a)};fa.prototype.Hs=function(a){var b=this.fa,c=this.g.A,d=(this.g.width>>1)-(this.S>>1)+(this.aa<<1),f=
(this.g.height>>1)-(this.V>>1)+(this.ba<<1);-1!==this.g.S&&(d=this.H,f=this.F);0<this.g.B||!a?(this.g.Nb=!0,this.g.bc(),this.g.u||this.g.G||this.g.D||!(this.g.s||this.g.Da&&2===this.g.i||2<this.g.i)?(b.J=c.J-d,b.K=c.K-f,b.L=c.L-d,b.N=c.N-f):(this.g.An(b),b.J-=d,b.L-=d,b.K-=f,b.N-=f),this.P=!0,this.zd=!1,c=b.L<b.J?b.J-b.L+1:b.L-b.J+1,b=b.N<b.K?b.K-b.N+1:b.N-b.K+1,a&&this.Z("select all ("+c+" x "+b+")")):(this.C.notification.notify("No live cells to Select",15,120,15,!1),this.P&&this.rm(this))};fa.prototype.dz=
function(a){a.Hs(!0)};fa.prototype.lC=function(a,b,c){a.I||(!a.$g&&a.Yb&&(b?a.ti(a):a.I?a.ti(a):c?a.sn(a,!0):a.sn(a,!1)),a.xp(a,a.Bb,!1,!1))};fa.prototype.HJ=function(a){a.lC(a,!1,!1)};fa.prototype.xp=function(a,b,c,d){var f=a.fa,e=f.J,g=f.L,k=f.K;f=f.N;var l,p=0,n=a.g.i,q=2<n&&!(this.g.la||this.g.s||this.g.D||this.g.u||this.g.G),m=(a.g.width>>1)-(a.S>>1)+(a.aa<<1),r=(a.g.height>>1)-(a.V>>1)+(a.ba<<1),u=0;if(a.P){if(e>g){var t=g;g=e;e=t}k>f&&(t=f,f=k,k=t);var v=g-e+1;var B=f-k+1;-1!==a.g.S&&(m=this.H,
r=this.F);var w=a.g.T.h(ra.bb,v*B,"View.pasteBuffer"+b,!1);t=0;for(l=k;l<=f;l+=1)for(k=e;k<=g;k+=1){var z=a.g.nb(k+m,l+r,!1);0<z&&q&&(z=n-z);w[t]=z;0<z&&(p+=1);u|=a.oa(k+m,l+r,0,!1);t+=1}(a.g.O||a.g.u)&&u&&this.g.rb();a.cb[b]={buffer:w,width:v,height:B,count:p};a.ea=w;a.Ec=v;a.Dc=B;a.Hk();a.g.Nb=!0;a.g.bc();a.bn=!0;a.zd=!0;d||(c?a.Z("advance outside"):a.Z("cut"))}};fa.prototype.jn=function(a,b,c){0!==a.v?($a.$t=!0,$a.bm="",$a.UA(a),a.Fe(a,$a.bm),$a.$t=!1,$a.bm=""):(a.$g||!a.Yb&&a.P||(b?a.ti(a):a.I?
a.ti(a):c?a.sn(a,!0):a.sn(a,!1)),a.P&&(a.EH(a,a.Bb),a.bo||(a.bo=!0,a.C.notification.notify("Disable Sync for faster internal clipboard",15,360,15,!1))))};fa.prototype.BK=function(a){a.ln(a,!0,!1)};fa.prototype.vI=function(a){a.jn(a,!1,!0)};fa.prototype.eH=function(a){a.jn(a,!0,!1)};fa.prototype.DG=function(a){a.iz(a)};fa.prototype.xH=function(a){a.wn(a,!1)};fa.prototype.LH=function(a){a.wn(a,!0)};fa.prototype.qB=function(a){navigator.clipboard.readText().then(b=>a.aI(a,b))};fa.prototype.BH=function(a){a.jn(a,
!1,!1)};fa.prototype.$H=function(a){var b=a.fa,c=b.J,d=b.K,f=b.L,e=b.N,g,k,l=(a.g.width>>1)-(a.S>>1)+(a.aa<<1),p=(a.g.height>>1)-(a.V>>1)+(a.ba<<1),n=!0;b=[];if(a.P){if(c>f){var q=c;c=f;f=q}d>e&&(q=d,d=e,e=q);q=f-c+1;if(q!==e-d+1)a.C.notification.notify("Weighted needs a square selection",15,180,15,!0),n=!1;else if(0===(q&1))a.C.notification.notify("Weighted size must be odd",15,180,15,!0),n=!1;else if(3>q||99<q)a.C.notification.notify("Weighted size must be >= 3 and <= 99",15,180,15,!0),n=!1;if(n){n=
"";var m=0;for(k=d;k<=e;k+=1)for(g=c;g<=f;g+=1)d=a.g.nb(g+l,k+p,!1),b[b.length]=d,d>m&&(m=d);if(7>=m)for(c=0;c<b.length;c+=1)d=b[c],n+="0123456789abcdef"[d];else for(c=0;c<b.length;c+=1)d=b[c],n+="0123456789abcdef"[d>>4],n+="0123456789abcdef"[d&15];a.g.ha?n+="H":a.g.Z&&(n+="L");a.Fe(a,n);a.C.notification.notify("Weighted R"+(q-1>>1)+" copied to clipboard",15,180,15,!0)}}else a.C.notification.notify("Weighted needs a selection",15,180,15,!0)};fa.prototype.tF=function(a){var b="",c;for(c=a.length-1;0<=
c;--c){var d="0123456789abcdef".indexOf(a[c]);d=(d&1)<<3|(d&2)<<1|(d&4)>>1|(d&8)>>3;b+="0123456789abcdef"[d]}return b};fa.prototype.xG=function(a){var b=a.fa,c=b.J,d=b.K,f=b.L;b=b.N;var e=0,g,k=(a.g.width>>1)-(a.S>>1)+(a.aa<<1),l=(a.g.height>>1)-(a.V>>1)+(a.ba<<1);var p=!0;if(a.P){if(c>f){var n=c;c=f;f=n}d>b&&(n=d,d=b,b=n);n=f-c+1;if(n!==b-d+1)a.C.notification.notify("CoordCA needs a square selection",15,180,15,!0),p=!1;else if(0===(n&1))a.C.notification.notify("CoordCA size must be odd",15,180,15,
!0),p=!1;else if(3>n||99<n)a.C.notification.notify("CoordCA size must be >= 3 and <= 99",15,180,15,!0),p=!1;if(p){var q="";var m=d+(b-d+1>>1);var r=c+(f-c+1>>1);var u=3;for(g=d;g<=b;g+=1)for(p=c;p<=f;p+=1)if(g!==m||p!==r){var t=a.g.nb(p+k,g+l,!1);0<t&&(e|=1<<u);--u;0>u&&(q+="0123456789abcdef"[e],u=3,e=0)}a.g.ha?q+="H":a.g.Z&&(0===(c+k+d+l&1)&&(q=this.tF(q)),q+="L");a.Fe(a,q);a.C.notification.notify("CoordCA R"+(n-1>>1)+" copied to clipboard",15,180,15,!0)}}else a.C.notification.notify("CoordCA needs a selection",
15,180,15,!0)};fa.prototype.iz=function(a){2<a.g.i?a.$H(a):a.xG(a)};fa.prototype.EH=function(a,b){var c=a.fa,d=c.J,f=c.K,e=c.L;c=c.N;var g,k=0,l=a.g.i,p=2<l&&!(a.g.la||a.g.s||a.g.D||a.g.u||a.g.G),n=a.H-a.aa,q=a.F-a.ba;if(a.P){if(d>e){var m=d;d=e;e=m}f>c&&(m=f,f=c,c=m);var r=e-d+1;var u=c-f+1;a.mc&&(-1!==a.g.S?(n+=a.bc-d,q+=a.qc-f):(n+=2*a.bc,q+=2*a.qc));var t=a.g.T.h(ra.bb,r*u,"View.pasteBuffer"+b,!1);m=0;for(g=f;g<=c;g+=1)for(f=d;f<=e;f+=1){var v=a.g.nb(f+n,g+q,!1);0<v&&p&&(v=l-v);t[m]=v;0<v&&(k+=
1);m+=1}a.cb[b]={buffer:t,width:r,height:u,count:k};a.ea=t;a.Ec=r;a.Dc=u;a.Hk();a.bn=!0;a.zd=!0}};fa.prototype.dn=function(a){a.na=!1;a.C.notification.clear(!0,!1)};fa.prototype.Ys=function(a,b){var c=a.Jd.current,d=a.Yb,f=a.Bb,e=a.fa,g=e.J,k=e.L,l=e.K,p=e.N,n,q=a.g.i,m=2<q&&!(this.g.la||this.g.s||this.g.D||this.g.u||this.g.G),r=(a.g.width>>1)-(a.S>>1)+(a.aa<<1),u=(a.g.height>>1)-(a.V>>1)+(a.ba<<1),t;if(b)a.P&&(a.Bb=G.nj,a.Yb=!1,a.xp(a,a.Bb,!0,!1),a.Yb=d,a.g.dl(a.rb),a.g.Qf(),a.ja=a.g.counter*a.tc,
a.g.bg(a),a.Z(""),a.Jd.current=1,a.Yb=!1,a.ln(a,!0,!0),a.Yb=d,a.Jd.current=c,a.Bb=f);else if(a.P){if(g>k){var v=k;k=g;g=v}l>p&&(v=p,p=l,l=v);a.Hs(!1);b=e.J;c=e.L;d=e.K;f=e.N;b>c&&(v=c,c=b,b=v);d>f&&(v=f,f=d,d=v);-1!==a.g.S&&(r=this.H,u=this.F);var B=new Uint8Array((c-b+1)*(f-d+1));var w=t=0;for(n=d;n<=f;n+=1)for(v=b;v<=c;v+=1){if(!(v>=g&&v<=k&&n>=l&&n<=p)){var z=a.g.nb(v+r,n+u,!1);0<z&&m&&(z=q-z);B[w]=z;t|=a.oa(v+r,n+u,0,!1)}w+=1}(a.g.O||a.g.u)&&t&&this.g.rb();a.g.Nb=!0;a.g.bc();e.J=g;e.L=k;e.K=l;
e.N=p;a.Z("advance selection");a.g.dl(a.rb);a.g.Qf();a.ja=a.g.counter*a.tc;a.g.bg(a);a.Z("");a.Hs(!1);if(e.J<g||e.L>k||e.K<l||e.N>p){w=t=0;for(n=e.K;n<=e.N;n+=1)for(v=e.J;v<=e.L;v+=1)v>=g&&v<=k&&n>=l&&n<=p||(t|=a.oa(v+r,n+u,0,!1)),w+=1;(a.g.O||a.g.u)&&t&&this.g.rb();a.g.Nb=!0;a.g.bc()}w=t=0;for(n=d;n<=f;n+=1)for(v=b;v<=c;v+=1)v>=g&&v<=k&&n>=l&&n<=p||(t|=a.oa(v+r,n+u,B[w],!1)),w+=1;(a.g.O||a.g.u)&&t&&this.g.rb();a.g.Nb=!0;a.g.bc();e.J=g;e.L=k;e.K=l;e.N=p;a.Z("advance selection")}};fa.prototype.Xy=
function(a,b,c,d){var f=a.Ec,e=a.Dc,g=a.ea;var k=a.Ub;var l=a.g.width;var p=a.g.height;var n=0;switch(a.oc+.5|0){case G.wC:b-=f>>1;break;case G.xC:b-=f-1;break;case G.BC:c-=e>>1;break;case G.vC:b-=f>>1;c-=e>>1;break;case G.uC:b-=f-1;c-=e>>1;break;case G.AC:c-=e-1;break;case G.yC:b-=f>>1;c-=e-1;break;case G.zC:b-=f-1,c-=e-1}k.J=b;k.K=c;k.L=b+f;k.N=c+e;for(a.Ak(a,k);l!==a.g.width;)b+=l>>1,l<<=1;for(;p!==a.g.height;)c+=p>>1,p<<=1;switch(this.oF()){case G.Mo:for(p=k=0;p<e;p+=1)for(l=0;l<f;l+=1){var q=
g[k];if(this.g.s){var m=this.g.nb(b+l,c+p,!1);n|=a.oa(b+l,c+p,m|q,!1)}else 0<q&&(n|=a.oa(b+l,c+p,q,!1));k+=1}break;case G.aq:for(p=k=0;p<e;p+=1)for(l=0;l<f;l+=1)q=g[k],n|=a.oa(b+l,c+p,q,!1),k+=1;break;case G.Dr:for(p=k=0;p<e;p+=1)for(l=0;l<f;l+=1)q=g[k],m=this.g.nb(b+l,c+p,!1),n|=a.oa(b+l,c+p,m^q,!1),k+=1;break;case G.Cr:for(p=k=0;p<e;p+=1)for(l=0;l<f;l+=1)q=g[k],m=this.g.nb(b+l,c+p,!1),n|=a.oa(b+l,c+p,m&q,!1),k+=1}(a.g.O||a.g.u||a.g.G)&&n&&this.g.rb();a.na=!1;a.C.notification.clear(!0,!1);d&&a.Z("paste")};
fa.prototype.eg=function(a,b,c){var d=(a.g.width>>1)-(a.S>>1)+(a.aa<<1),f=(a.g.height>>1)-(a.V>>1)+(a.ba<<1),e=a.fa,g=e.J,k=e.K,l=e.L,p=e.N;var n=0;var q=a.g.width-1;var m=0;var r=a.g.height-1,u=0;if(!a.I&&a.P){if(g>l){var t=l;l=g;g=t}k>p&&(t=p,p=k,k=t);t=l-g+1;var v=p-k+1;-1!==a.g.S&&(d=this.H,f=this.F);-1!==a.g.S&&(0!==a.g.ba?(n=Math.round((a.g.width-a.g.ba)/2)-1,q=n+a.g.ba-1+2):(n=0,q=a.g.width-1),0!==a.g.$?(m=Math.round((a.g.height-a.g.$)/2)-1,r=m+a.g.$-1+2):(m=0,r=a.g.height-1));-1===a.g.S&&
(a.zk(g+d+b,k+f+c),d=(a.g.width>>1)-(a.S>>1)+(a.aa<<1),f=(a.g.height>>1)-(a.V>>1)+(a.ba<<1),e=a.fa,g=e.J,k=e.K,l=e.L,p=e.N,g>l&&(l=g),k>p&&(p=k),-1!==a.g.S&&(d=this.H,f=this.F),a.zk(l+d+b,p+f+c),d=(a.g.width>>1)-(a.S>>1)+(a.aa<<1),f=(a.g.height>>1)-(a.V>>1)+(a.ba<<1),e=a.fa,g=e.J,k=e.K,l=e.L,p=e.N,g>l&&(t=l,l=g,g=t),k>p&&(t=p,p=k,k=t),t=l-g+1,v=p-k+1,-1!==a.g.S&&(d=this.H,f=this.F));a.g.Da&&(-1===a.g.S?(n+=2*a.g.ca.v+1,q-=2*a.g.ca.v+1,m+=2*a.g.ca.s+1,r-=2*a.g.ca.s+1):(n+=1,--q,m+=1,--r));if(g+d+b>
n&&l+d+b<q&&k+f+c>m&&p+f+c<r){a.cb[G.nj]=null;a.xp(a,G.nj,!1,!0);d+=b;f+=c;n=0;l=a.cb[G.nj].buffer;for(m=0;m<v;m+=1)for(q=0;q<t;q+=1)p=l[n],u|=a.oa(g+q+d,k+m+f,p,!1),n+=1;a.cb[G.nj]=null;(a.g.O||a.g.u)&&u&&this.g.rb();e.J+=b;e.L+=b;e.K+=c;e.N+=c;a.Z("nudge "+(0===b?-1===c?"up":"down":-1===b?"left":"right"))}else a.C.notification.notify("No room to nudge selection",15,180,15,!0)}};fa.prototype.BI=function(a,b){var c,d=this.g.i,f=2<d&&!(this.g.la||this.g.s||this.g.D||this.g.u||this.g.G);-1===d&&(d=
2);this.g.O&&(d=7);for(c=0;256>c;c+=1)a[c]=c;if(f)for(c=1;256>c;c+=1)b=d-c,0>b?b=0:b>=d&&(b=d-1),a[c]=b;else if(2===d)if(b.H||b.D)for(c=0;256>c;c+=1)a[c]=c&1;else if(b.S)for(c=2;256>c;c+=1)a[c]=0;else{if(b.Da){for(c=0;256>c;c+=1)a[c]=0;a[64]=1}}else if(this.g.O)if(b.D)for(a[14]=0,a[16]=0,a[18]=0,a[20]=0,a[22]=0,a[24]=0,a[9]=1,a[11]=1,a[13]=1,a[15]=1,a[17]=1,a[19]=1,a[21]=1,a[23]=1,a[25]=1,a[10]=2,a[12]=2,a[7]=3,a[8]=4,c=26;256>c;c+=1)a[c]=0;else{if(b.S){for(c=2;256>c;c+=1)a[c]=0;a[3]=6}}else if(this.g.u){if(b.S){for(c=
2;256>c;c+=1)a[c]=0;a[3]=6}}else if(this.g.G&&(b.H||b.D)){for(c=2;256>c;c+=1)a[c]=0;a[6]=3}for(c=0;256>c;c+=1)a[c]>=d&&(a[c]=0)};fa.prototype.EF=function(a,b,c){a=this.X.create("",a,this.g.T,null,null,null,!1,this);var d,f,e=0,g=0,k=new Uint8Array(256);if(null!==a.ca){this.BI(k,a);var l=this.X.ea;var p=this.X.da;var n=this.g.T.h(ra.bb,l*p,"View.pasteBuffer"+this.Bb,!1);for(f=0;f<p;f+=1){var q=a.ca[f];for(d=0;d<l;d+=1){var m=q[d];n[e]=k[m];0<m&&(g+=1);e+=1}}this.cb[this.Bb]={buffer:n,width:l,height:p,
count:g};this.ea=n;this.Ec=l;this.Dc=p;this.Hk();this.Bq(b,c)}else this.C.notification.notify("Could not decode system clipboard",15,180,15,!0),console.log(this.X.U)};fa.prototype.AF=function(a,b){this.Bq(a,b)};fa.prototype.OE=function(a,b){Bc(this,a,b)};fa.prototype.Bq=function(a,b){var c=(this.g.width>>1)-(this.S>>1)+(this.aa<<1),d=(this.g.height>>1)-(this.V>>1)+(this.ba<<1),f=this.fa,e=f.J,g=f.K,k=f.L;f=f.N;var l,p;if(null!==this.cb[this.Bb])if(a)if(this.P)if(e>k&&(a=e,e=k,k=a),g>f&&(a=g,g=f,f=
a),k=k-e+1,f=f-g+1,this.Ec>k||this.Dc>f)this.C.notification.notify("Paste does not fit in selection",15,180,15,!0);else{a=this.oc;this.oc=G.Er;for(p=g;p<=g+f-this.Dc;p+=this.Dc)for(l=e;l<=e+k-this.Ec;l+=this.Ec)this.Xy(this,l+c,p+d,!1);this.oc=a;this.Xd&&this.wk(this);b?this.Z("advance outside"):this.Z("paste to selection")}else this.C.notification.notify("Paste to Selection needs a selection",15,180,15,!0);else this.Vy(this,this.Bb),this.C.notification.notify("Now click to paste",15,180,15,!0)};
fa.prototype.ln=function(a,b,c){a.I||(a.Yb?a.OE(b,c):a.Bq(b,c))};fa.prototype.rK=function(a){a.Xy(a,a.Bc,a.Fc,!0)};fa.prototype.tB=function(a){a.ln(a,!1,!1)};fa.prototype.Vy=function(a,b){0<=b&&b<a.cb.length&&(null!==a.cb[b]?(a.na=!0,a.ea=a.cb[b].buffer,a.Ec=a.cb[b].width,a.Dc=a.cb[b].height,a.ra.current!==G.cl&&(a.ra.current=a.we(G.cl,!0,a))):(a.na=!1,a.C.notification.notify("Clipboard empty",15,180,15,!0)))};fa.prototype.pE=function(a,b){var c,d=a.g.i;-1===d&&(d=2);if(a.g.s)for(c=0;c<a.ea.length;c+=
1){var f=0;100*a.G.random()<=a.Ib&&(f|=1);100*a.G.random()<=a.Ib&&(f|=2);100*a.G.random()<=a.Ib&&(f|=4);100*a.G.random()<=a.Ib&&(f|=8);a.ea[c]=f}else for(c=0;c<a.ea.length;c+=1)f=100*a.G.random()<=a.Ib?2===d||b?a.pf:(a.G.random()*(d-1)|0)+1:0,a.ea[c]=f};fa.prototype.xE=function(a,b){var c=a.fa,d=c.J,f=c.L,e=c.K;c=c.N;var g=(a.g.width>>1)-(a.S>>1)+(a.aa<<1),k=(a.g.height>>1)-(a.V>>1)+(a.ba<<1),l=a.g.i,p=0;if(a.P){if(d>f){var n=f;f=d;d=n}e>c&&(n=c,c=e,e=n);-1===l&&(l=2);-1!==a.g.S&&(g=this.H,k=this.F);
if(a.g.s)for(n=e;n<=c;n+=1)for(e=d;e<=f;e+=1){var q=0;100*a.G.random()<=a.Ib&&(q|=1);100*a.G.random()<=a.Ib&&(q|=2);100*a.G.random()<=a.Ib&&(q|=4);100*a.G.random()<=a.Ib&&(q|=8);p=a.oa(e+g,n+k,q,!1)}else for(n=e;n<=c;n+=1)for(e=d;e<=f;e+=1)q=100*a.G.random()<=a.Ib?2===l||b?a.pf:(a.G.random()*(l-1)|0)+1:0,p|=a.oa(e+g,n+k,q,!1);(a.g.O||a.g.u)&&p&&this.g.rb();a.g.Nb=!0;a.g.bc();a.Z("random "+a.Ib+"%")}};fa.prototype.nn=function(a,b){a.I||(a.na?a.pE(a,b):a.xE(a,b))};fa.prototype.tE=function(a){a.I||a.nn(a,
!1)};fa.prototype.lE=function(a){a.nn(a,!0)};fa.prototype.VE=function(a){var b=a.Ec,c=a.Dc,d=b>>1,f,e,g;for(e=g=0;e<c;e+=1){if(a.g.s)for(f=0;f<d;f+=1){var k=a.ea[g+f];var l=a.ea[g+b-f-1];a.ea[g+f]=l&5|(l&2)<<2|(l&8)>>2;a.ea[g+b-f-1]=k&5|(k&2)<<2|(k&8)>>2}else for(f=0;f<d;f+=1)k=a.ea[g+f],a.ea[g+f]=a.ea[g+b-f-1],a.ea[g+b-f-1]=k;g+=b}};fa.prototype.ZE=function(a){var b=a.fa,c=b.J,d=b.L,f=b.K;b=b.N;var e,g=a.g.i,k=2<g&&!(this.g.la||this.g.s||this.g.D||this.g.u||this.g.G),l=(a.g.width>>1)-(a.S>>1)+(a.aa<<
1),p=(a.g.height>>1)-(a.V>>1)+(a.ba<<1),n=0;if(a.P){if(c>d){var q=d;d=c;c=q}f>b&&(q=b,b=f,f=q);-1!==a.g.S&&(l=this.H,p=this.F);q=a.g.T.h(ra.bb,d-c+1,"View.flipRow",!1);for(e=f;e<=b;e+=1){for(f=c;f<=d;f+=1){var m=a.g.nb(f+l,e+p,!1);k&&0<m&&(m=g-m);q[f-c]=m}if(a.g.s)for(f=c;f<=d;f+=1)m=q[d-f],a.oa(f+l,e+p,m&5|(m&2)<<2|(m&8)>>2,!1);else for(f=c;f<=d;f+=1)n|=a.oa(f+l,e+p,q[d-f],!1)}(a.g.O||a.g.u)&&n&&this.g.rb();a.g.Nb=!0;a.g.bc();a.Z("flip horizontally")}};fa.prototype.cF=function(a){var b=a.Ec,c=a.Dc,
d=c>>1,f,e,g;for(f=g=0;f<b;f+=1){if(a.g.s)for(e=0;e<d;e+=1){var k=a.ea[g+e*b];var l=a.ea[g+(c-e-1)*b];a.ea[g+e*b]=l&10|(l&1)<<2|(l&4)>>2;a.ea[g+(c-e-1)*b]=k&10|(k&1)<<2|(k&4)>>2}else for(e=0;e<d;e+=1)k=a.ea[g+e*b],a.ea[g+e*b]=a.ea[g+(c-e-1)*b],a.ea[g+(c-e-1)*b]=k;g+=1}};fa.prototype.gF=function(a){var b=a.fa,c=b.J,d=b.L,f=b.K;b=b.N;var e,g=a.g.i,k=2<g&&!(this.g.la||this.g.s||this.g.D||this.g.u||this.g.G),l=(a.g.width>>1)-(a.S>>1)+(a.aa<<1),p=(a.g.height>>1)-(a.V>>1)+(a.ba<<1),n=0;if(a.P){if(c>d){var q=
d;d=c;c=q}f>b&&(q=b,b=f,f=q);-1!==a.g.S&&(l=this.H,p=this.F);for(q=a.g.T.h(ra.bb,b-f+1,"View.flipColumn",!1);c<=d;c+=1){for(e=f;e<=b;e+=1){var m=a.g.nb(c+l,e+p,!1);k&&0<m&&(m=g-m);q[e-f]=m}if(a.g.s)for(e=f;e<=b;e+=1)m=q[b-e],a.oa(c+l,e+p,m&10|(m&1)<<2|(m&4)>>2,!1);else for(e=f;e<=b;e+=1)n|=a.oa(c+l,e+p,q[b-e],!1)}(a.g.O||a.g.u)&&n&&this.g.rb();a.g.Nb=!0;a.g.bc();a.Z("flip vertically")}};fa.prototype.pD=function(a,b){var c=a.Ec,d=a.Dc,f,e,g=a.g.T.h(ra.bb,c*d,"View.pasteBuffer",!1);for(e=0;e<d;e+=1)for(f=
0;f<c;f+=1)if(a.g.s)if(b){var k=a.ea[e*c+f];g[f*d+(d-e-1)]=k<<1&15|(k&8)>>3}else k=a.ea[e*c+f],g[(c-f-1)*d+e]=k>>1&15|(k&1)<<3;else b?g[f*d+(d-e-1)]=a.ea[e*c+f]:g[(c-f-1)*d+e]=a.ea[e*c+f];a.ea=g;a.Ec=d;a.Dc=c};fa.prototype.tD=function(a,b,c){a.xF(a,b,c)};fa.prototype.xF=function(a,b,c){var d=a.fa,f=d.J,e=d.L,g=d.K,k=d.N,l=0,p=a.g.i;var n=!0;var q=2<p&&!(this.g.la||this.g.s||this.g.D||this.g.u||this.g.G),m=a.g.ja?-1:0;var r=Math.round((a.g.width-a.g.ba)/2)+m;var u=Math.round((a.g.height-a.g.$)/2)+
m;var t=r+a.g.ba-1;var v=u+a.g.$-1;m=(a.g.width>>1)-(a.S>>1)+(a.aa<<1);var B=(a.g.height>>1)-(a.V>>1)+(a.ba<<1),w=0;if(a.P){-1!==a.g.S&&(m=this.H,B=this.F);if(f>e){var z=e;e=f;f=z}g>k&&(z=k,k=g,g=z);z=f+(e-f+1-1>>1);var E=g+(k-g+1-1>>1);var H=z+g-E;var L=E+f-z;var N=z+k-E;E=E+e-z;var M=d.J;var V=d.K;var X=d.L;var I=d.N;d.J=H;d.K=L;d.L=N;d.N=E;d.J>d.L&&(z=d.J,d.J=d.L,d.L=z);d.K>d.N&&(z=d.K,d.K=d.N,d.N=z);if(-1!==a.g.S){if(d.J+m<r||d.L+m>t||d.K+B<u||d.N+B>v)a.C.notification.notify("Rotation does not fit in bounded grid",
15,180,15,!0),n=!1}else a.$y(a)?(a.C.notification.notify("Rotation does not fit on grid",15,180,15,!0),n=!1):(m=(a.g.width>>1)-(a.S>>1)+(a.aa<<1),B=(a.g.height>>1)-(a.V>>1)+(a.ba<<1),-1!==a.g.S&&(m=this.H,B=this.F));if(n){b?(n=L,v=N,t=1,u=-1):(n=E,v=H,t=-1,u=1);r=a.g.T.h(ra.Ap,3*(e-f+1)*(k-g+1),"View.rotateCells",!1);for(N=g;N<=k;N+=1){z=n;for(H=f;H<=e;H+=1)L=a.g.nb(H+m,N+B,!1),q?0<L&&(L=p-L):a.g.s&&(L=b?L<<1&15|(L&8)>>3:L>>1&15|(L&1)<<3),r[l]=v,r[l+1]=z,r[l+2]=L,l+=3,z+=t;v+=u}m=(a.g.width>>1)-(a.S>>
1)+(a.aa<<1);B=(a.g.height>>1)-(a.V>>1)+(a.ba<<1);-1!==a.g.S&&(m=this.H,B=this.F);for(l=0;l<r.length;)H=r[l],N=r[l+1],L=r[l+2],w|=a.oa(H+m,N+B,L,!1),l+=3;for(H=f;H<d.J;H+=1)for(N=g;N<=k;N+=1)w|=a.oa(H+m,N+B,0,!1);for(H=d.L+1;H<=e;H+=1)for(N=g;N<=k;N+=1)w|=a.oa(H+m,N+B,0,!1);for(N=g;N<d.K;N+=1)for(H=f;H<=e;H+=1)w|=a.oa(H+m,N+B,0,!1);for(N=d.N+1;N<=k;N+=1)for(H=f;H<=e;H+=1)w|=a.oa(H+m,N+B,0,!1);(a.g.O||a.g.u)&&w&&this.g.rb();a.g.Nb=!0;a.g.bc();a.Z(c)}else d.J=M,d.K=V,d.L=X,d.N=I}};fa.prototype.jE=function(a){a.rm(a)};
fa.prototype.IJ=function(a){a.I||a.eg(a,-1,0)};fa.prototype.UJ=function(a){a.I||a.eg(a,1,0)};fa.prototype.bK=function(a){a.I||a.eg(a,0,-1)};fa.prototype.nJ=function(a){a.I||a.eg(a,0,1)};fa.prototype.uK=function(a){a.Ys(a,!0)};fa.prototype.zK=function(a){a.Ys(a,!1)};fa.prototype.$s=function(a){a.I||(a.na?a.VE(a):a.ZE(a))};fa.prototype.ct=function(a){a.I||(a.na?a.cF(a):a.gF(a))};fa.prototype.gD=function(a){a.I||(a.na?a.pD(a,!0):a.tD(a,!0,"rotate clockwise"))};fa.prototype.ZC=function(a){a.I||(a.na?
a.pD(a,!1):a.tD(a,!1,"rotate counter-clockwise"))};fa.prototype.fH=function(a){var b=0,c=a.g.i;if(!a.I)for(-1===c&&(c=2);b<a.ea.length;){var d=a.ea[b];a.ea[b]=c-d-1;b+=1}};fa.prototype.qH=function(a){var b=a.fa,c=b.J,d=b.L,f=b.K;b=b.N;var e=(a.g.width>>1)-(a.S>>1)+(a.aa<<1),g=(a.g.height>>1)-(a.V>>1)+(a.ba<<1),k=a.g.i,l=0;if(!a.I&&a.P){if(c>d){var p=d;d=c;c=p}f>b&&(p=b,b=f,f=p);-1===k&&(k=2);-1!==a.g.S&&(e=this.H,g=this.F);for(p=f;p<=b;p+=1)for(f=c;f<=d;f+=1){var n=a.g.nb(f+e,p+g,!1);!(a.g.u||a.g.G||
a.g.s||a.g.D)&&2<k&&0<n&&(n=k-n);l|=a.oa(f+e,p+g,k-n-1,!1)}(a.g.O||a.g.u)&&l&&this.g.rb();a.g.Nb=!0;a.g.bc();a.Z("invert cells in selection")}};fa.prototype.Sz=function(a){a.I||(a.na?a.fH(a):a.qH(a))};fa.prototype.Os=function(a){a.g.Tb=a.g.Tb?!1:!0;a.Mh(a.Ob);var b=a.g.tb;a.g.Tb&&(b=!b);a.C.notification.notify("Playback "+(b?"Reverse":"Forward"),15,40,15,!0)};fa.prototype.JE=function(a){a.xb(!0,!0,G.gg);a.Ob||(a.hc=!0)};fa.prototype.gz=function(a){if(a.g.D&&2===a.g.i){var b=a.g.jq();a.Fe(a,b)}};fa.prototype.lz=
function(a){var b=a.$;a.g.D&&(b=Za.HG(b),""===b&&(b=a.X.fb));a.Fe(a,b)};fa.prototype.IF=function(a){if(0!==a.v||0!==a.da)a.v=0,a.gd.current=a.kf([0!==a.v],!0,a),a.da=0;0===a.g.B?(a.C.notification.notify("No live cells to Identify",15,120,15,!1),a.qb=!1,a.tb=!1):(a.qb?(a.qb=!1,a.C.notification.notify("Identify cancelled",15,120,15,!1)):(a.qb=!0,a.tb=!1,a.g.Na=0,a.C.notification.notify("Identifying...",15,216E3,15,!1)),a.Z(""));a.Ne.current=a.yl(G.Tj,!0,a);a.Id.current=a.Mj(G.Sh,!0,a);a.g.yg(a.qb);
a.v=0;a.xk(a);a.xk(a);a.C.m=!0;a.h.locked=!1};fa.prototype.PD=function(a){a.he=1};fa.prototype.MF=function(a){a.he=2};fa.prototype.JF=function(a){a.he=3};fa.prototype.Kz=function(a){var b=window.prompt("Enter generation",String(""===a.$u?String(a.g.counter):a.$u)),c=!1;a.wg=-1;if(null!==b){var d=b;"b"===b.substring(b.length-1).toLowerCase()&&(b=b.substring(0,b.length-1),c=!0);if("+"===b.charAt(0)){var f=a.g.counter;f+=parseInt(b.substring(1),10)}else"-"===b.charAt(0)?(f=a.g.counter,f-=parseInt(b.substring(1),
10)):f=parseInt(b,10);0<=f&&f<=G.IB?(a.$u=d,f!==a.g.counter&&(a.Zf()?a.C.notification.notify("No live cells",15,360,15,!1):(a.Ya=f,a.ga.current=a.lf([!1],!0,a),a.C.m=!0,a.Tc&&a.C.notification.notify("Going to generation "+f,15,1E4,15,!1),a.C.notification.clear(!0,!1),f<a.g.counter&&(a.g.$g(a,!1),a.Um(a.g.counter)),c&&(a.wg=performance.now()),a.jk=f-a.g.counter))):a.C.notification.notify("Invalid generation specified",15,240,15,!0)}};fa.prototype.gl=function(a){a.IF(a)};fa.prototype.Lj=function(a,
b,c){b&&(c.g.Ya=a[0]);return[c.g.Ya]};fa.prototype.Pz=function(a,b,c){b&&(c.qd=a[0]);return[c.qd]};fa.prototype.Rz=function(a,b,c){b&&(c.gj=a[0]);return[c.gj]};fa.prototype.Bs=function(a,b,c){b&&(c.Kd=a[0]);return[c.Kd]};fa.prototype.Ut=function(a,b,c){b&&(c.Af=a[0]);return[c.Af]};fa.prototype.lf=function(a,b,c){b&&(0===c.v&&0===c.da||!a[0]||(c.v=0,c.gd.current=c.kf([0!==c.v],!0,c),c.da=0),!a[0]&&0<c.Tb.length&&(c.da=1),a[0]||c.xk(c),a[0]&&(c.C.notification.clear(!1,!1),c.C.notification.clear(!0,
!1)));return a};fa.prototype.yt=function(a,b,c){b&&(c.Rh=a[0]);return[c.Rh]};fa.prototype.Ot=function(a,b,c){b&&(c.ug=a[0]);return[c.ug]};fa.prototype.Vz=function(){this.Rb!==G.Sh&&(this.Uc===G.Tj?this.g.Pm(this.Hd):this.Uc===G.nB&&this.g.Km(this.Hd))};fa.prototype.Mj=function(a,b,c){b&&(c.Rb=a,c.Vz());return c.Rb};fa.prototype.yl=function(a,b,c){b&&(c.Uc=a,c.Rb===G.Sh&&(c.Id.current=c.Mj(G.Qp,!0,c)),c.Vz());return c.Uc};fa.prototype.me=function(a,b,c){b&&(c.$d=a[0],c.$d?c.Jh?c.C.notification.notify("Replace: Now click on a cell",
15,180,15,!0):c.C.notification.notify("Pick: Now click on a cell",15,180,15,!0):(c.Ou||c.C.notification.clear(!0,!1),c.Ou=!1,c.Jh=!1));return[c.$d]};fa.prototype.Nz=function(a,b,c){b&&(c.ia=a[0],c.ia&&!c.Ob&&c.xb(!0,!0,G.gg));return[c.ia]};fa.prototype.oJ=function(a,b,c){b&&-1!==c.Sb&&(c.wa=!a[0],c.za?(c.pb=c.wa,c.C.notification.notify("Loop and Waypoints "+(c.wa?"Off":"On"),15,40,15,!0)):c.nb?(c.Mb=c.wa,c.C.notification.notify("Loop and Track "+(c.wa?"Off":"On"),15,40,15,!0),c.oD(c.Mb)):c.C.notification.notify("Loop "+
(c.wa?"Off":"On"),15,40,15,!0));return[c.wa]};fa.prototype.RI=function(a,b,c){b&&c.$a&&(c.nc=!a[0]);return[c.nc]};fa.prototype.JJ=function(a,b,c){b&&-1!==c.uc&&(c.Lb=!a[0]);return[c.Lb]};fa.prototype.lu=function(a,b,c){b&&(c.nb?(c.Mb=!a[0],c.oD(c.Mb),-1!==c.Sb&&(c.wa=c.Mb)):c.za&&(c.pb=!a[0],c.pb?(c.C.notification.clear(!1,!1),c.Re=""):(c.hc=!0,c.elapsedTime=c.s.wa(c.g.counter),c.s.O(c,c.elapsedTime,c.g.counter,!1),c.s.O(c,c.elapsedTime,c.g.counter,!1)),-1!==c.Sb&&(c.wa=c.pb)));return c.nb?[c.Mb]:
[c.pb]};fa.prototype.kf=function(a,b,c){b&&(c.v=a[0]?1:0,c.v?(c.ga.current[0]&&(c.ga.current=c.lf([!1],!0,c)),c.C.notification.clear(!1,!1),c.C.notification.clear(!0,!1)):(c.xc(G.Ng,c),c.v=0));c.Vs(c.ra.current);return[0!==c.v]};fa.prototype.TF=function(a){a.Ls(a)};fa.prototype.pF=function(a){a.MC(a)};fa.prototype.FH=function(a){a.Az(a)};fa.prototype.xz=function(a){var b=a.sa.current[0];b=45*Math.floor((b+22.5)/45);360<=b&&(b=0);a.sa.current=a.Lg([b,b],!0,a)};fa.prototype.GH=function(){W.cD()};fa.prototype.NH=
function(a){W.gy(a)};fa.prototype.dF=function(){W.QC()};fa.prototype.vE=function(a){a.kn(a,!1,!1)};fa.prototype.mC=function(a,b,c){b&&(c.Le=a[0]);return[c.Le]};fa.prototype.xB=function(a,b,c){b&&(c.g.Vc=a[0],c.g.Ni());return[c.g.Vc]};fa.prototype.Jo=function(a,b,c){b&&(c.Eg=a[0]);c.C.Ae(!0);return[c.Eg]};fa.prototype.Hn=function(a,b){1<a.da&&(a.da-=b,1>a.da&&(a.da=1))};fa.prototype.Fn=function(a,b){a.da<a.Tb.length-a.Ba+1&&(a.da+=b,a.da>a.Tb.length-a.Ba+1&&(a.da=a.Tb.length-a.Ba+1))};fa.prototype.Ln=
function(a,b){1<a.v&&(a.v-=b,1>a.v&&(a.v=1))};fa.prototype.Jn=function(a,b){a.v<a.Yi-a.Ba&&(a.v+=b,a.v>a.Yi-a.Ba&&(a.v=a.Yi-a.Ba))};fa.prototype.$D=function(a){for(var b=a.B.length-1,c=!1;0<=b&&!c;)a.v<=a.B[b][0]?--b:c=!0;c&&(a.v=a.B[b][0])};fa.prototype.HI=function(a){for(var b=0,c=!1;b<a.B.length&&!c;)a.v>=a.B[b][0]?b+=1:c=!0;c&&(a.v=a.B[b][0])};fa.prototype.FF=function(a){for(this.g.s&&this.g.counter<a&&(1===(this.g.counter&1)?this.g.h.o.fill(0):this.g.P.o.fill(0));this.g.counter<a;)this.g.dl(!1),
this.g.Qf(),this.g.Mh(),this.g.bg(this),this.an();this.elapsedTime=this.Je[a];this.ja=a*this.tc};fa.prototype.jq=function(a){var b=this.qa+(0<this.g.i?this.g.i:0);!this.rb&&this.C.kb&&(this.C.kb=!1,0>a&&(a=0),this.elapsedTime=this.Je[a],this.ja=a*this.tc,-1!==this.Db&&a>this.Db+b?this.g.counter=a:this.g.El(a,this),this.elapsedTime=this.Je[a],this.ja=a*this.tc,this.s.fb(this.elapsedTime),this.hc=!0,a!==this.g.counter&&(this.Pg=!0,this.Dq=a,this.g.$g(this,!1),this.C.notification.notify("Computing previous generations",
15,1E4,15,!0),this.Cq=!0))};fa.prototype.Mz=function(a){a.style.width="2em";a.style.height="2em";a.style.padding=0;a.style.border="none";a.style.outline="none";a.style.boxShadow="none";a.style.background="transparent";a.style.position="fixed";a.style.left="-100px";a.style.top="0px"};fa.prototype.Fe=function(a,b){var c=document.getElementById("ViewerCopy"),d=null;W.kA=b;if(window.ClipboardItem)try{d=new ClipboardItem({"text/plain":Cc().then(()=>new Promise(async f=>{f(new Blob([b],{type:"text/plain"}))}))})}catch(f){}d?
navigator.clipboard.write([d]):navigator.clipboard.writeText(b);a.C.notification.notify("Copied to external clipboard",15,180,15,!0);c&&(c.innerHTML=b)};fa.prototype.Bd=function(a){var b=hb.nf,c=Object.keys(b),d=a.h,f=a.j;a=a.i;for(var e="",g=!1,k=null,l=0;l<c.length&&!g;)k=b[c[l]],k[1]===d&&k[2]===f&&k[3]===a?(g=!0,l=c.length):l+=1;g?e=k[0]:e=d+" "+f+" "+a;return e};fa.prototype.zj=function(a,b){return a.h===b.h&&a.j===b.j&&a.i===b.i};fa.prototype.wn=function(a,b){var c="#C "+D.jl+" ",d=String(-(a.g.width/
2-a.g.ma-a.g.Ka|0)),f=String(-(a.g.height/2-a.g.ka-a.g.za|0)),e=a.g.zoom,g=String(a.g.angle|0),k=String(a.g.Gb|0),l=a.g.pa[a.g.qb];0!==a.g.counter&&(c+=D.oq+" "+a.g.counter+" ");c+=D.gf+" "+d+" "+D.jf+" "+f+" ";c+=D.qe+" "+(e===(e|0)?String(e):String(e.toFixed(2)))+" ";c+=D.Ik+" "+g+" ";0!==a.g.Gb&&(c+=D.pl+" "+k+" ");c+=D.Fm+"\n";if(b){c+="#C "+D.jl+" ";if(a.ua){if(2<a.g.i){if(c+=D.yb+" "+D.cp+" "+a.Bd(l.F),c+=" "+D.yb+" "+D.bp+" "+a.Bd(l.A),a.zj(l.j.i,l.F)||(c+=" "+D.yb+" "+D.gp+" "+a.Bd(l.j.i)),
a.zj(l.j.h,l.j.i)||(c+=" "+D.yb+" "+D.fp+" "+a.Bd(l.j.h)),l.G||(c+=" "+D.yb+" "+D.sq+" "+a.Bd(l.m.i)),l.G||!a.zj(l.m.h,l.m.i))c+=" "+D.yb+" "+D.rq+" "+a.Bd(l.m.h)}else c+=D.yb+" "+D.cp+" "+a.Bd(l.v),c+=" "+D.yb+" "+D.bp+" "+a.Bd(l.i.h),a.zj(l.i.h,l.i.i)||(c+=" "+D.yb+" "+D.qq+" "+a.Bd(l.i.i)),a.zj(l.h.i,l.v)||(c+=" "+D.yb+" "+D.gp+" "+a.Bd(l.h.i)),a.zj(l.h.h,l.h.i)||(c+=" "+D.yb+" "+D.fp+" "+a.Bd(l.h.h));c+=" "+D.Fm+"\n#C "+D.jl+" "}c+=D.$j+" "+l.name+" ";a.qa!==a.Xi&&(c+=D.mo+" "+a.qa+" ");a.Ce!==
a.lA&&(c+=D.Ep+" "+a.Ce+" ");c+=D.mp+" "+a.displayWidth+" ";c+=D.lo+" "+a.displayHeight+" ";c+=D.Fm+"\n"}a.Fe(a,c)};fa.prototype.HD=function(a){var b=a.g.kh(a,a.g,!0,a.g.i,a.g.i,[],!1);a.element.innerHTML=b.replace(/\n/g,"<br>");a.element.value=b};fa.prototype.aI=function(a,b){if(a.Nd.locked||a.sj||window.confirm("Open clipboard?"))a.element.innerHTML=b,a.element.value=a.element.innerHTML,yb(a.element)};fa.prototype.ti=function(a){Ea.ub?a.Fe(a,W.ze[a.Va].pattern):a.Fe(a,Fb(a.element))};fa.prototype.sn=
function(a,b){a.Fe(a,a.g.kh(a,a.g,b,a.g.i,a.g.i,[],!1))};fa.prototype.$z=function(a,b){var c=b.charCode||b.keyCode;if(a.Pg?Qb.LI(a,c,b):a.qb?Qb.MI(a,c,b):-1!==a.Ya?Qb.KI(a,c,b):W.ym?Qb.NI(a,c,b):Qb.JI(a,c,b))a.C.Ae(!0),b.preventDefault(),b.stopPropagation()};fa.prototype.iE=function(){this.g.O||this.g.u?(this.Bf.setPosition(da.Fb,-85,-130),this.Xf.setPosition(da.Fb,-130,-130),this.g.O?(this.rc.setPosition(da.Fb,-175,-130),this.rc.W="random fill [Shift 5]",this.ae.setPosition(da.Fb,-280,-130)):(this.rc.setPosition(da.Fb,
-220,-130),this.rc.W="random multi-state fill [Shift 5]",this.Kh.setPosition(da.Fb,-175,-130),this.ae.setPosition(da.Fb,-325,-130))):2>=this.g.i?(this.Bf.setPosition(da.Fb,-40,-130),this.Xf.setPosition(da.Fb,-85,-130),this.rc.setPosition(da.Fb,-130,-130),this.rc.W="random fill [Shift 5]",this.ae.setPosition(da.Fb,-235,-130)):(this.Bf.setPosition(da.Fb,-40,-130),this.Xf.setPosition(da.Fb,-85,-130),this.g.s?(this.rc.setPosition(da.Fb,-130,-130),this.rc.W="random multi-state fill [Shift 5]",this.ae.setPosition(da.Fb,
-235,-130)):(this.rc.setPosition(da.Fb,-175,-130),this.rc.W="random multi-state fill [Shift 5]",this.Kh.setPosition(da.Fb,-130,-130),this.ae.setPosition(da.Fb,-280,-130)))};fa.prototype.Xz=function(){var a=!(this.g.la||this.g.u||this.g.G||this.g.D);if(this.displayHeight<G.al){var b=50;this.Xk.setPosition(da.Zc,10,b);this.Yk.setPosition(da.ib,0,b);this.Wk.setPosition(da.pc,-160,b);b+=50;a?(this.Zk.setPosition(da.Zc,10,b),this.Hi.setPosition(da.ib,0,b),this.Fi.setPosition(da.pc,-160,b),0<this.s.B()?
(this.ph.setPosition(da.Zc,10,150),this.nh.setPosition(da.ib,0,150),this.Gi.setPosition(da.pc,-160,150)):(this.ph.setPosition(da.Zc,10,150),this.nh.setPosition(da.ib,0,150))):(this.Hi.setPosition(da.Zc,10,b),this.Fi.setPosition(da.ib,0,b),this.ph.setPosition(da.pc,-160,b),b+=50,this.nh.setPosition(da.Zc,10,b),0<this.s.B()&&this.Gi.setPosition(da.ib,0,b))}else b=0<this.s.B()?-200:-175,this.Xk.setPosition(da.hb,0,b),b+=50,this.Yk.setPosition(da.hb,0,b),b+=50,this.Wk.setPosition(da.hb,0,b),b+=50,a&&
(this.Zk.setPosition(da.hb,0,b),b+=50),this.Hi.setPosition(da.hb,0,b),b+=50,this.Fi.setPosition(da.hb,0,b),b+=50,this.ph.setPosition(da.hb,0,b),b+=50,this.nh.setPosition(da.hb,0,b),this.Gi.setPosition(da.hb,0,b+50)};fa.prototype.qz=function(){var a="white",b="black",c="rgb(0,240,32)",d="blue",f="grey",e="white";var g=this.ta[G.Tq];-1!==g?(a="rgb("+(g>>16)+","+(g>>8&255)+","+(g&255)+")",this.m.s=!0):(this.m.s=!0,g=16777215);this.m.O=this.g.jc?-16777216|(g&255)<<16|(g>>8&255)<<8|g>>16:g>>16<<24|(g>>
8&255)<<16|(g&255)<<8|255;g=this.ta[G.Qq];-1!==g?this.m.s=!0:(this.m.s=!0,g=7368816);this.m.H=this.g.jc?-16777216|(g&255)<<16|(g>>8&255)<<8|g>>16:g>>16<<24|(g>>8&255)<<16|(g&255)<<8|255;g=this.ta[G.Rq];-1!==g?b="rgb("+(g>>16)+","+(g>>8&255)+","+(g&255)+")":g=0;this.qo=g;this.m.P=this.g.jc?-16777216|(g&255)<<16|(g>>8&255)<<8|g>>16:g>>16<<24|(g>>8&255)<<16|(g&255)<<8|255;g=this.ta[G.Uq];-1!==g&&(c="rgb("+(g>>16)+","+(g>>8&255)+","+(g&255)+")");g=this.ta[G.Wq];-1!==g&&(d="rgb("+(g>>16)+","+(g>>8&255)+
","+(g&255)+")");g=this.ta[G.Vq];-1!==g?f="rgb("+(g>>16)+","+(g>>8&255)+","+(g&255)+")":g=8421504;this.m.I=this.g.jc?-16777216|(g&255)<<16|(g>>8&255)<<8|g>>16:g>>16<<24|(g>>8&255)<<16|(g&255)<<8|255;g=this.ta[G.Sq];-1!==g&&(e="rgb("+(g>>16)+","+(g>>8&255)+","+(g&255)+")");this.C.Vb(a,b,c,d,f,e,this.ai);this.hh.dc="red"};fa.prototype.OI=function(){var a=0;this.h=this.C.vb(this.CE,this.$r,this);this.h.O=this.eF;this.h.na=this.yF;this.C.qa=this.qF;this.Hd=this.h.j(da.ib,0,52,480,48,"Banner");this.Hd.Qb("32px Arial");
this.el=this.h.j(da.ib,-160,140,160,32,"Cells");this.pt=this.h.j(da.ib,-160,180,160,32,"Bounding Box");this.As=this.h.j(da.ib,-160,240,160,32,"Direction");this.Nt=this.h.j(da.ib,-160,280,160,32,"Period");this.Tt=this.h.j(da.ib,-160,320,160,32,"Slope");this.ku=this.h.j(da.ib,-160,360,160,32,"Speed");this.vt=this.h.j(da.ib,-160,400,160,32,"Heat");this.uu=this.h.j(da.ib,-160,440,160,32,"Volatility");this.Li=this.h.j(da.ib,-160,460,160,32,"Mod");this.nt=this.h.j(da.ib,-160,500,160,32,"Active Cells");
this.nu=this.h.j(da.ib,-160,540,160,32,"Temperature");this.Ki=this.h.j(da.ib,80,140,320,32,"");this.wo=this.h.j(da.ib,80,180,320,32,"");this.Io=this.h.j(da.ib,80,220,320,32,"");this.Lo=this.h.j(da.ib,80,260,320,32,"");this.Oo=this.h.j(da.ib,80,300,320,32,"");this.hl=this.h.j(da.ib,80,340,320,32,"");this.fl=this.h.j(da.ib,80,380,320,32,"");this.So=this.h.j(da.ib,80,420,320,32,"");this.Mi=this.h.j(da.ib,80,460,320,32,"");this.$k=this.h.j(da.ib,80,500,320,32,"");this.il=this.h.j(da.ib,80,540,320,32,
"");this.ol=this.h.j(da.Zc,0,40,16,20,"X");this.ol.Qb(G.Hg);this.ol.Jm=da.re;this.ql=this.h.j(da.Zc,70,40,16,20,"Y");this.ql.Qb(G.Hg);this.ql.Jm=da.re;this.kl=this.h.j(da.Zc,140,40,16,20,"A");this.kl.Qb(G.Hg);this.kl.Jm=da.re;this.wh=this.h.j(da.Zc,16,40,54,20,"");this.wh.Qb(G.Hg);this.wh.i=da.right;this.wh.W="camera X position";this.xh=this.h.j(da.Zc,86,40,54,20,"");this.xh.Qb(G.Hg);this.xh.i=da.right;this.xh.W="camera Y position";this.rh=this.h.j(da.Zc,156,40,40,20,"");this.rh.Qb(G.Hg);this.rh.i=
da.right;this.rh.W="camera angle";this.zu=this.h.j(da.Zc,196,40,4,20,"");this.Vo=this.h.j(da.pc,-280,40,20,20,"E");this.Vo.Qb(G.Hg);this.ip=this.h.j(da.pc,-210,40,20,20,"S");this.ip.Qb(G.Hg);this.jp=this.h.j(da.pc,-140,40,20,20,"W");this.jp.Qb(G.Hg);this.Wo=this.h.j(da.pc,-70,40,20,20,"N");this.Wo.Qb(G.Hg);this.sh=this.h.j(da.pc,-260,40,50,20,"");this.sh.Qb(G.Hg);this.sh.i=da.right;this.sh.W="bounding box east edge velocity";this.uh=this.h.j(da.pc,-190,40,50,20,"");this.uh.Qb(G.Hg);this.uh.i=da.right;
this.uh.W="bounding box south edge velocity";this.vh=this.h.j(da.pc,-120,40,50,20,"");this.vh.Qb(G.Hg);this.vh.i=da.right;this.vh.W="bounding box west edge velocity";this.th=this.h.j(da.pc,-50,40,50,20,"");this.th.Qb(G.Hg);this.th.i=da.right;this.th.W="bounding box north edge velocity";this.Og=this.h.m(this.RI,da.pc,-210,0,38,20,["START"],[!1],da.ub);this.Og.Qb(G.Sr);this.Og.W=["autostart ["+this.D+" O]"];this.Fg=this.h.m(this.JJ,da.pc,-210,20,38,20,["STOP"],[!1],da.ub);this.Fg.Qb(G.Sr);this.Fg.W=
["stop ["+this.D+" P]"];this.Mc=this.h.m(this.lu,da.pc,-172,0,38,20,["WAYPT"],[!1],da.ub);this.Mc.Qb(G.Sr);this.Mc.W=["toggle waypoint mode [W]"];this.$f=this.h.m(this.oJ,da.pc,-172,20,38,20,["LOOP"],[!1],da.ub);this.$f.Qb(G.Sr);this.$f.W=["toggle loop mode [Shift P]"];this.ra=this.h.m(this.we,da.Zc,90,0,120,40,["","",""],G.Wh,da.mi);this.ra.h=[this.m.h("draw"),this.m.h("select"),this.m.h("pan")];this.ra.W=["draw [F2]","select [F4]","pan [F5]"];this.fd=this.h.m(this.iF,da.pc,-80,100,80,60,["1","2"],
0,da.mi);this.fd.orientation=da.vertical;this.fd.W=["",""];this.fd.Qb("14px Arial");this.Ss=this.h.i(this.AK,da.pc,-110,40,60,40,"OK");this.Ss.W="confirm setting disabled and hide warning";this.gd=this.h.m(this.kf,da.pc,-40,0,40,40,["Help"],[!1],da.ub);this.gd.W=["toggle help display [H]"];this.gd.Qb("16px Arial");this.oo=this.h.i(this.cK,da.pc,-40,50,40,40,"^");this.oo.W="show help topics [Backspace]";this.Nn=this.h.i(this.tG,da.pc,-40,100,40,40,"<");this.Nn.W="show help sections [Ins]";this.Xk=
this.h.i(this.CH,da.ib,0,50,150,40,"Keys");this.Xk.W="show keyboard shortcuts [K]";this.Yk=this.h.i(this.gG,da.ib,0,100,150,40,"Scripts");this.Yk.W="show script commands [S]";this.Wk=this.h.i(this.yG,da.ib,0,150,150,40,"Info");this.Wk.W="show pattern and engine information [I]";this.Zk=this.h.i(this.II,da.ib,0,200,150,40,"Themes");this.Zk.W="show colour Themes [E]";this.Hi=this.h.i(this.nF,da.ib,0,250,150,40,"Colours");this.Hi.W="show colour names [L]";this.Fi=this.h.i(this.DK,da.ib,0,300,150,40,
"Aliases");this.Fi.W="show rule aliases [A]";this.ph=this.h.i(this.wI,da.ib,0,350,150,40,"Memory");this.ph.W="show memory usage [Y]";this.nh=this.h.i(this.rF,da.ib,0,400,150,40,"Comments");this.nh.W="show pattern comments [C]";this.Gi=this.h.i(this.QD,da.ib,0,450,150,40,"Annotations");this.Gi.W="show annotations [N]";this.Wd=this.h.m(this.Nz,da.Zc,0,0,40,40,["Auto"],[!1],da.ub);this.Wd.h=[this.m.h("autofit")];this.Wd.W=["toggle autofit [Shift F]"];this.Wd.Qb("16px Arial");this.Sf=this.h.i(this.JE,
da.Zc,45,0,40,40,"");this.Sf.h=this.m.h("fit");this.Sf.W="fit pattern to display [F]";this.ed=this.h.m(this.Lj,da.pc,-85,0,40,40,["Grid"],[!1],da.ub);this.ed.h=[this.m.h("grid")];this.ed.W=["toggle gridlines [X]"];this.ed.Qb("16px Arial");this.Gf=this.h.Ea(da.Xg);this.Gf.locked=!0;this.Tf=this.h.j(da.Xg,0,-130,42,30,"Gen");this.Tf.i=da.left;this.Tf.Qb(G.Ig);this.Tf.W="generation";this.dd=this.h.j(da.Xg,42,-130,98,30,"");this.dd.i=da.right;this.dd.Qb(G.Ig);this.dd.W="generation";this.Jj=this.h.j(da.Xg,
0,-100,70,30,"Time");this.Jj.i=da.left;this.Jj.Qb(G.Ig);this.Jj.W="elapsed time";this.Qf=this.h.j(da.Xg,70,-100,70,30,"");this.Qf.i=da.right;this.Qf.Qb(G.Ig);this.Qf.W="elapsed time";this.bf=this.h.j(da.Xg,210,-70,130,30,"");this.bf.i=da.left;this.bf.Qb(G.Ig);this.bf.W="selection size";this.vb=this.h.j(da.Xg,0,-70,210,30,"");this.vb.i=da.left;this.vb.Qb(G.Ig);this.vb.W="cell state at cursor position";this.kb=this.h.m(this.Jo,da.Xg,0,-40,100,40,["T 0"],[this.Eg],da.ub);this.kb.W=["toggle generation statistics [G]\ngeneration "+
(this.g.counter+this.Ha)];this.sc=this.h.j(da.Xg,0,-40,this.displayWidth-40,40,"");this.sc.i=da.left;this.sc.M=!0;this.Ye=this.h.j(da.Fb,-70,-130,70,30,"Alive");this.Ye.i=da.left;this.Ye.Qb(G.Ig);this.Ye.W="current population";this.Qd=this.h.j(da.Fb,-140,-130,70,30,"");this.Qd.i=da.right;this.Qd.Qb(G.Ig);this.Qd.W="alive";this.Oc=this.h.j(da.Fb,-70,-100,70,30,"Births");this.Oc.i=da.left;this.Oc.Qb(G.Ig);this.Oc.W="cells born this generation";this.cd=this.h.j(da.Fb,-140,-100,70,30,"");this.cd.i=da.right;
this.cd.Qb(G.Ig);this.cd.W="births";this.Ie=this.h.j(da.Fb,-70,-70,70,30,"Deaths");this.Ie.i=da.left;this.Ie.Qb(G.Ig);this.Ie.W="cells died this generation";this.He=this.h.j(da.Fb,-140,-70,70,30,"");this.He.i=da.right;this.He.Qb(G.Ig);this.He.W="deaths";this.ge=this.h.j(da.Xg,0,-160,140,30,this.$);this.ge.Qb(G.Ig);this.kc=this.h.G(this.Od,da.ib,0,0,G.Fq,40,0,1,.1,"Zoom ","",1);this.kc.W="camera zoom [[ / ]]";this.lb=this.h.G(this.Bl,da.$q,-84,0,40,292,G.lr,G.ur,1,"Layers ","",0);this.lb.W="number of layers [Q / A]";
this.Fa=this.h.G(this.mf,da.$q,-40,0,40,292,1,0,.1,"Depth ","",2);this.Fa.W="depth between layers [P / L]";this.fb=this.h.G(this.Oj,da.Ty,0,0,40,292,0,1,.5,"Tilt ","",1);this.fb.W="camera tilt [' / /]";this.sa=this.h.G(this.Lg,da.ib,0,50,390,40,0,359,0,"Angle ","\u00b0",0);this.sa.W="camera angle [< / >]";this.yf=this.h.i(this.rH,da.Fb,-40,-90,40,40,"");this.yf.h=this.m.h("shrink");this.yf.W="shrink to thumbnail [N]";this.io=this.h.j(da.ib,0,100,120,40,"");this.Gd=this.h.m(this.av,da.hb,-100,-100,
180,40,["Use Rectangles"],[this.g.Fa],da.ub);this.Gd.W=["toggle hexagonal cells [?]"];this.Dj=this.h.m(this.gA,da.hb,100,-100,180,40,["Cell Borders"],[this.g.jb],da.ub);this.Dj.W=["toggle cell borders ["+this.D+" B]"];this.od=this.h.m(this.uB,da.hb,-100,-50,180,40,["Major GridLines"],[this.g.yc],da.ub);this.od.W=["toggle major gridlines [Shift X]"];this.hk=this.h.m(this.GC,da.hb,100,-50,180,40,["Starfield"],[this.Jc],da.ub);this.hk.W=["toggle starfield display [S]"];this.Yf=this.h.m(this.rB,da.hb,
-100,0,180,40,["Annotations"],[this.ie],da.ub);this.Yf.W=["toggle annotations ["+this.D+" L]"];this.qg=this.h.m(this.Aw,da.hb,100,0,180,40,["Bas","Age","Rbw","Nbr"],this.g.$a,da.mi);this.qg.W=["basic shader ["+this.D+" W]","cell age shader ["+this.D+" W]","rainbow shader ["+this.D+" W]","neighbour count shader ["+this.D+" W]"];this.qg.Qb("18px Arial");this.Bj=this.h.m(this.Zy,da.hb,-100,50,180,40,["Auto GridLines"],[this.ad],da.ub);this.Bj.W=["automatically turn on gridlines for Draw and Select and off for Pan ["+
this.A+" G]"];this.Vd=this.h.m(this.aA,da.hb,100,50,180,40,["Alt GridLines"],[this.g.xd],da.ub);this.Vd.W=["toggle alternating gridlines ["+this.D+" D]"];this.kp=this.h.i(this.EG,da.hb,-100,100,180,40,"Integer Zoom");this.kp.W="set zoom to nearest integer [Shift 1]";this.am=this.h.m(this.xB,da.hb,100,100,180,40,["Render Quality"],[this.g.Vc],da.ub);this.am.W=["toggle anti-aliased cell display ["+this.A+" Q]"];this.no=this.h.i(this.Kz,da.hb,-100,-75,180,40,"Go To Gen");this.no.W="go to specified generation [Shift N]";
this.Ii=this.h.m(this.mB,da.hb,100,-75,180,40,["AutoFit History"],[this.nd],da.ub);this.Ii.W=["toggle AutoFit History [Shift H]"];this.Gg=this.h.m(this.Ut,da.hb,-100,-25,180,40,["Throttle"],[this.Af],da.ub);this.Gg.W=["toggle playback throttling ["+this.D+" T]"];this.tg=this.h.m(this.Bs,da.hb,100,-25,180,40,["Perf. Warning"],[this.Kd],da.ub);this.tg.W=["toggle performance warning display [Shift W]"];this.Pe=this.h.m(this.mF,da.hb,-100,25,180,40,["Kill Gliders"],[this.g.qd],da.ub);this.Pe.W=["toggle kill escaping gliders ["+
this.A+" L]"];this.Cj=this.h.m(this.dA,da.hb,100,25,180,40,["AutoHide UI"],[this.md],da.ub);this.Cj.W=["toggle hide UI on playback ["+this.D+" U]"];this.wi=this.h.m(this.Tu,da.hb,100,75,180,40,["Use Saved"],[this.Ed],da.ub);this.wi.W=["toggle use saved default playback speed [Shift E]"];this.Ms=this.h.i(this.KD,da.hb,-100,75,180,40,"Save Speed");this.Ms.W="save default playback speed ["+this.A+" E]";this.Ks=this.h.i(this.BF,da.hb,-100,-100,180,40,"Change Rule");this.Ks.W="change rule ["+this.D+" R]";
this.mx=this.h.i(this.DI,da.hb,100,-100,180,40,"New Pattern");this.mx.W="new pattern ["+this.D+" N]";this.zw=this.h.i(this.MH,da.hb,-100,-50,180,40,"Load Pattern");this.zw.W="load last saved pattern ["+this.A+" O]";this.xm=this.h.i(this.MD,da.hb,100,-50,180,40,"Save Pattern");this.xm.W="save pattern ["+this.A+" S]";this.mm=this.h.i(this.FE,da.hb,-100,0,180,40,"Rand All");this.mm.W="randomize pattern and rule ["+this.D+" Z]";this.pm=this.h.i(this.BE,da.hb,100,0,180,40,"Rand Pattern");this.pm.W="randomize pattern and keep rule ["+
this.A+" "+this.D+" Z]";this.Ji=this.h.i(this.gl,da.hb,-100,50,180,40,"Identify");this.Ji.W="identify oscillator or spaceship period [F6]";this.Hl=this.h.i(this.FH,da.hb,100,50,180,40,"Last Identify");this.Hl.W="show last identify results [Shift F6]";this.Ps=this.h.i(this.PD,da.hb,-100,100,180,40,"Save Image");this.Ps.W="save image [O]";this.Ns=this.h.i(this.MF,da.hb,100,100,180,40,"Save Graph");this.Ns.W="save population graph image [Shift O]";this.$x=this.h.i(this.qB,da.hb,-100,-100,180,40,"Open Clipboard");
this.$x.W="open clipboard as pattern ["+this.A+" Shift O]";this.rp=this.h.i(this.eH,da.hb,100,-100,180,40,"Copy Original");this.rp.W="copy original pattern ["+this.A+" Shift C]";this.yn=this.h.i(this.lz,da.hb,-100,-50,180,40,"Copy Rule");this.yn.W="copy rule definition ["+this.A+" J]";this.Fk=this.h.i(this.gz,da.hb,100,-50,180,40,"Copy as MAP");this.Fk.W="copy rule definition as MAP ["+this.D+" M]";this.un=this.h.i(this.DG,da.hb,-100,0,180,40,"Copy Nhood");this.un.W="copy CoordCA neighbourhood definition ["+
this.A+" B]";this.An=this.h.i(this.vI,da.hb,100,0,180,40,"Copy All");this.An.W="copy current pattern with comments ["+this.A+" "+this.D+" C]";this.sp=this.h.i(this.xH,da.hb,-100,50,180,40,"Copy Position");this.sp.W="copy camera position [K]";this.tp=this.h.i(this.LH,da.hb,100,50,180,40,"Copy View");this.tp.W="copy camera position and view [Shift K]";this.cn=this.h.i(this.BK,da.hb,-100,100,180,40,"Paste To Seln");this.cn.W="paste to selection ["+this.A+" Shift V]";this.mk=this.h.m(this.Pu,da.hb,100,
100,180,40,["External Sync"],[this.Yb],da.ub);this.mk.W=["sync cut and copy with external clipboard ["+this.D+" S]"];this.$l=this.h.i(this.WD,da.ml,-135,-150,120,40,"Prev");this.$l.W="go to previous pattern [Page Up]";this.Kl=this.h.i(this.QI,da.ml,135,-150,120,40,"Next");this.Kl.W="go to next pattern [Page Down]";this.Ym=this.h.i(this.SA,da.ml,0,-150,120,40,"Patterns");this.Ym.W="show all patterns [Home]";this.hh=this.h.i(this.EE,da.Fb,-40,-85,40,40,"X");this.hh.W="close window";this.hh.Qb("24px Arial");
this.hh.dc="red";this.Aq=this.h.i(this.fF,da.Fb,-40,-85,40,40,"X");this.Aq.W="close errors [Esc]";this.Zl=this.h.i(this.QB,da.Ty,10,0,40,40,"<");this.Zl.W="go to previous POI [Shift J]";this.Jl=this.h.i(this.lB,da.$q,-50,0,40,40,">");this.Jl.W="go to next POI [J]";this.$i=this.h.G(this.Do,da.ib,0,45,172,40,0,1,this.eb,"Opacity ","%",0);this.$i.W="graph opacity [7 / 9]";this.Co=this.h.i(this.rt,da.pc,-40,45,40,40,"X");this.Co.W="close results [Esc]";this.Id=this.h.m(this.Mj,da.pc,-40,45,40,120,["Res",
"Tbl","Map"],this.Rb,da.mi);this.Id.W=["show Identify results [Shift F6]","table [E]","map [E]"];this.Id.Qb("15px Arial");this.Id.Jm=da.re;this.Ne=this.h.m(this.yl,da.pc,-40,45,40,80,["Per","Frq"],this.Uc,da.mi);this.Ne.W=["cell periods ["+this.D+" E]","cell frequencies ["+this.D+" E]"];this.Ne.Qb("15px Arial");this.Ne.Jm=da.re;this.qh=this.h.i(this.SF,da.pc,-40,45,40,40,"");this.qh.W="download cell map [D]";this.qh.h=this.m.h("download");this.Oi=this.h.i(this.Qz,da.pc,-40,45,40,40,"");this.Oi.h=
this.m.h("nudgeup");this.Oi.W="scroll table up [PgUp]";this.Ni=this.h.i(this.Oz,da.pc,-40,45,40,40,"");this.Ni.h=this.m.h("nudgedown");this.Ni.W="scroll table down [PgDown]";this.lt=this.h.i(this.wF,da.pc,-40,45,40,40,"X");this.lt.W="close graph [Y]";this.Wi=this.h.m(this.Pz,da.pc,-85,45,40,40,[""],[!1],da.ub);this.Wi.h=[this.m.h("lines")];this.Wi.W=["toggle graph lines/points [Shift Y]"];this.Zb=this.h.m(this.Al,da.pc,-210,45,120,40,["Pop","Bth","Dth"],[this.mh,this.kh,this.lh],da.ub);this.Zb.W=
["toggle population [Shift F3]","toggle births [Shift F4]","toggle deaths [Shift F5]"];this.Zb.Qb("15px Arial");this.Wc=this.h.m(this.me,da.Zc,0,45,40,40,[""],[this.$d],da.ub);this.Wc.h=[this.m.h("pick")];this.Wc.W=["pick state [F3]"];this.lk=this.h.m(this.Ot,da.Zc,45,45,40,40,[""],[this.ug],da.ub);this.lk.h=[this.m.h("states")];this.lk.W=["toggle states display ["+this.A+" D]"];this.Tl=this.h.m(this.Rz,da.Zc,90,45,40,40,[""],[this.gj],da.ub);this.Tl.h=[this.m.h("drawpause")];this.Tl.W=["toggle pause playback while drawing ["+
this.A+" P]"];this.fk=this.h.m(this.yt,da.Zc,135,45,40,40,[""],[this.Rh],da.ub);this.fk.h=[this.m.h("smart")];this.fk.W=["toggle smart drawing [Shift F2]"];this.ga=this.h.m(this.lf,da.Fb,-40,-40,40,40,[""],[!1],da.ub);this.ga.h=[this.m.h("menu")];this.ga.W=["toggle settings menu [M]"];this.Sl=this.h.i(this.FK,da.hb,-100,-75,150,40,"Pattern");this.Sl.W="pattern actions";this.on=this.h.i(this.bF,da.hb,100,-75,150,40,"Clipboard");this.on.W="clipboard actions";this.sd=this.h.i(this.xI,da.hb,-100,75,150,
40,"Theme");this.sd.W="choose colour theme";this.Me=this.h.m(this.xo,da.hb,100,75,150,40,["Graph"],[this.Ca],da.ub);this.Me.W=["toggle population graph display [Y]"];this.Mk=this.h.i(this.gK,da.hb,-100,-25,150,40,"Display");this.Mk.W="display settings";this.gn=this.h.i(this.SD,da.hb,100,-25,150,40,"Playback");this.gn.W="playback settings and actions";this.kq=this.h.i(this.SJ,da.hb,-100,25,150,40,"General");this.kq.W="general actions";this.ho=this.h.i(this.NE,da.hb,-100,-100,180,40,"Fit Selection");
this.ho.W="fit selection to display ["+this.A+" F]";this.fn=this.h.i(this.rE,da.hb,100,-100,180,40,"Center Pattern");this.fn.W="center pattern ["+this.A+" M]";this.mn=this.h.i(this.vE,da.hb,-100,-50,180,40,"Clear Drawing");this.mn.W="clear drawing state cells ["+this.A+" "+this.D+" K]";this.Gm=this.h.i(this.xz,da.hb,100,-50,180,40,"Snap Angle");this.Gm.W="snap angle to nearest 45 degrees ["+this.D+" /]";this.Dn=this.h.i(this.TF,da.hb,-100,0,180,40,"Save View");this.Dn.W="save current view [Shift V]";
this.xn=this.h.i(this.pF,da.hb,100,0,180,40,"Restore View");this.xn.W="restore saved view [V]";this.Tn=this.h.i(this.GH,da.hb,-100,50,180,40,"Stop All");this.Tn.W="stop all Viewers [Shift Z]";this.Vn=this.h.i(this.NH,da.hb,100,50,180,40,"Stop Others");this.Vn.W="stop other Viewers [Z]";this.vn=this.h.i(this.dF,da.hb,-100,100,180,40,"Reset All");this.vn.W="reset all Viewers [Shift R]";this.rl=this.h.i(this.fG,da.hb,100,25,150,40,"Advanced");this.rl.W="advanced settings and actions";var b=0;W.R&&(this.Dl=
this.h.m(this.Wu,da.hb,-100,100,180,40,["WASM Engine"],[this.i],da.ub),this.Dl.W=["toggle WASM engine ["+this.D+"`]"],b=-25);this.Di=this.h.m(this.Mg,da.hb,-100,-75+b,180,40,["Frame Times"],[this.C.G],da.ub);this.Di.W=["toggle timing display [T]"];this.Kj=this.h.m(this.Po,da.hb,100,-75+b,180,40,["Timing Details"],[this.C.j],da.ub);this.Kj.W=["toggle timing details [Shift T]"];this.Yj=this.h.m(this.mC,da.hb,-100,-25+b,180,40,["Relative Gen"],[this.Le],da.ub);this.Yj.W=["toggle absolute/relative generation display [Shift G]"];
this.Pj=this.h.m(this.SC,da.hb,100,-25+b,180,40,["Y Direction"],[this.xe],da.ub);this.Pj.W=["toggle y coordinate direction [F9]"];this.Pi=this.h.m(this.oB,da.hb,-100,25+b,180,40,["Info Bar"],[this.Ia],da.ub);this.Pi.W=["toggle Information Bar [Shift I]"];this.ih=this.h.m(this.aB,da.hb,100,25+b,180,40,["Fast Lookup"],[this.g.Cb],da.ub);this.ih.W=["toggle fast lookup [F7]"];this.Mm=this.h.m(this.NC,da.hb,-100,75+b,180,40,["State Number"],[this.Dg],da.ub);this.Mm.W=["toggle state number display [F8]"];
this.Zj=this.h.m(this.rC,da.hb,100,75+b,180,40,["Safe Mode"],[this.af],da.ub);this.Zj.W=["toggle safe mode [Shift F9]"];this.Cd=this.h.i(this.xk,da.ml,0,-100,120,40,"Back");this.Cd.W="back to previous menu [Backspace]";this.Ej=this.h.i(this.fE,da.ml,0,-100,120,40,"Cancel");this.Ej.W="cancel operation [Esc]";this.Ej.H=!0;var c=-1;for(b=0;b<=this.g.Mb;b+=1){var d=G.tq[b];var f=G.RJ[b];f!==c?(a=120,c=f):a+=60;this.ci[b]=this.h.m(this.VJ,da.ib,140*f-210,a,120,40,[this.eo(d)],[!1],da.ub);this.ci[b].W=
["select "+this.eo(d)+" theme"];this.ci[b].Qb("20px Arial")}this.Lz=this.ci[0].id;this.Hz=this.h.j(da.ib,-210,60,120,40,"Default");this.Dz=this.h.j(da.ib,-70,60,120,40,"Classic");this.Jz=this.h.j(da.ib,70,60,120,40,"Program");this.Fz=this.h.j(da.ib,210,60,120,40,"Basic");this.Km=this.h.i(this.DH,da.Fb,-405,-40,40,40,"1x");this.Km.W="set 1x playback speed [0]";this.ec=this.h.G(this.yc,da.Fb,-360,-40,105,40,0,2,1,"","",-1);this.ec.W="playback speed [+ / -]";this.Gj=this.h.j(da.Fb,-284,-30,27,20,"0");
this.Gj.Qb(G.Ig);this.Gj.M=!0;this.Nd=this.h.i(this.iK,da.Fb,-495,-40,40,40,"");this.Nd.h=this.m.h("undo");this.Nd.W="undo ["+this.A+" Z]";this.Lh=this.h.i(this.SE,da.Fb,-450,-40,40,40,"");this.Lh.h=this.m.h("redo");this.Lh.W="redo ["+this.A+" Y]";this.Vf=this.h.m(this.tv,da.pc,-130,0,40,40,["Icon"],[this.td],da.ub);this.Vf.W=["toggle icons ["+this.D+" I]"];this.Vf.Qb("15px Arial");this.fc=this.h.m(this.Md,da.Fb,-205,-40,160,40,["","","",""],G.se,da.mi);this.fc.h=[this.m.h("tostart"),this.m.h("stepback"),
this.m.h("stepforward"),this.m.h("play")];this.fc.W=["reset [R]","previous generation [Shift Tab]","next generation [Tab]","play [Enter]"];this.Za=this.h.m(this.ox,da.pc,-280,45,280,20,"0123456".split(""),this.pf,da.mi);this.Za.W="dead;alive;history;mark 1;mark off;mark 2;kill".split(";");this.Za.Qb("14px Arial");this.pa=this.h.m(this.uF,da.pc,-280,65,280,20,"      ".split(" "),[!1,!1,!1,!1,!1,!1,!1],da.ub);this.pa.W="dead;alive;history;mark 1;mark off;mark 2;kill".split(";");this.pa.s=1;this.pa.wa(this.WE);
this.Pm=this.h.i(null,da.Zc,175,45,5,40,"");this.Pm.s=0;this.Pm.locked=!0;this.Pm.border=0;this.Nm=this.h.G(this.Dx,da.Zc,180,45,130,40,0,1,0,"","",-1);this.Nm.W="select drawing states range";this.Am=this.h.i(this.dz,da.Zc,0,45,40,40,"All");this.Am.h=this.m.h("select");this.Am.W="select all cells ["+this.A+" A]";this.Am.Qb("16px Arial");this.eh=this.h.m(this.Bu,da.Zc,45,45,40,40,["Auto"],[this.Xd],da.ub);this.eh.h=[this.m.h("autoshrink")];this.eh.W=["toggle auto shrink selection ["+this.D+" A]"];
this.eh.Qb("16px Arial");this.vk=this.h.i(this.zH,da.Zc,90,45,40,40,"");this.vk.h=this.m.h("shrink");this.vk.W="shrink selection [Shift A]";this.Se=this.h.m(null,da.Zc,135,45,40,40,[""],[!1],da.ub);this.Se.h=[this.m.h("selectlibrary")];this.Se.W=["toggle clipboard library [Shift B]"];this.Dk=this.h.m(this.mA,da.ib,0,90,400,40,"0123456789".split(""),this.Bb,da.mi);this.Hk();this.Jd=this.h.m(this.Cv,da.pc,-160,45,160,40,["AND","CPY","OR","XOR"],G.Jy[this.Kf],da.mi);this.Jd.W=["paste mode [Shift M]",
"paste mode [Shift M]","paste mode [Shift M]","paste mode [Shift M]"];this.Jd.Qb("16px Arial");this.Jk=this.h.i(this.HJ,da.Zc,180,45,40,40,"");this.Jk.h=this.m.h("cut");this.Jk.W="cut ["+this.A+" X]";this.Gk=this.h.i(this.BH,da.Zc,225,45,40,40,"");this.Gk.h=this.m.h("copy");this.Gk.W="copy ["+this.A+" C]";this.cj=this.h.i(this.tB,da.Zc,270,45,40,40,"");this.cj.h=this.m.h("paste");this.cj.W="paste ["+this.A+" V]";this.yk=this.h.i(this.jE,da.Fb,-40,-220,40,40,"");this.yk.h=this.m.h("cancelsel");this.yk.W=
"cancel selection ["+this.A+" K]";this.Ml=this.h.i(this.IJ,da.Fb,-265,-175,40,40,"");this.Ml.h=this.m.h("nudgeleft");this.Ml.W="nudge left ["+this.D+" Left]";this.Nl=this.h.i(this.UJ,da.Fb,-220,-175,40,40,"");this.Nl.h=this.m.h("nudgeright");this.Nl.W="nudge right ["+this.D+" Right]";this.Ol=this.h.i(this.bK,da.Fb,-175,-175,40,40,"");this.Ol.h=this.m.h("nudgeup");this.Ol.W="nudge up ["+this.D+" Up]";this.Ll=this.h.i(this.nJ,da.Fb,-130,-175,40,40,"");this.Ll.h=this.m.h("nudgedown");this.Ll.W="nudge down ["+
this.D+" Down]";this.wj=this.h.i(this.zK,da.Fb,-85,-175,40,40,"+Sel");this.wj.h=this.m.h("advanceselection");this.wj.W="advance selection ["+this.A+" Space]";this.wj.Qb("15px Arial");this.vj=this.h.i(this.uK,da.Fb,-40,-175,40,40,"+Out");this.vj.h=this.m.h("advanceoutside");this.vj.W="advance outside [Shift Space]";this.vj.Qb("15px Arial");this.Ok=this.h.i(this.$s,da.Fb,-265,-85,40,40,"");this.Ok.h=this.m.h("flipx");this.Ok.W="flip horizontally ["+this.D+" X]";this.Qk=this.h.i(this.ct,da.Fb,-220,-85,
40,40,"");this.Qk.h=this.m.h("flipy");this.Qk.W="flip vertically ["+this.D+" Y]";this.vm=this.h.i(this.gD,da.Fb,-175,-85,40,40,"");this.vm.h=this.m.h("rotatecw");this.vm.W="rotate clockwise [>]";this.tm=this.h.i(this.ZC,da.Fb,-130,-85,40,40,"");this.tm.h=this.m.h("rotateccw");this.tm.W="rotate counter-clockwise [<]";this.Ck=this.h.i(this.YE,da.Fb,-85,-85,40,40,"");this.Ck.h=this.m.h("inside");this.Ck.W="clear cells in selection [Del]";this.Bk=this.h.i(this.DE,da.Fb,-40,-85,40,40,"");this.Bk.h=this.m.h("outside");
this.Bk.W="clear cells outside selection [Shift Del]";this.Cf=this.h.i(this.QE,da.Fb,-40,-130,40,40,"R");this.Cf.h=this.m.h("select");this.Cf.W="clear History cells ["+this.A+" Del]";this.Cf.Qb("16px Arial");this.Bf=this.h.i(this.sD,da.Fb,-40,-130,40,40,"");this.Bf.h=this.m.h("changestate");this.Bf.W="change cells to drawing state ["+this.D+" K]";this.Xf=this.h.i(this.Sz,da.Fb,-85,-130,40,40,"");this.Xf.h=this.m.h("invertselection");this.Xf.W="invert cells in selection ["+this.A+" I]";this.rc=this.h.i(this.tE,
da.Fb,-130,-130,40,40,"");this.rc.h=this.m.h("random");this.rc.W="random fill [Shift 5]";this.Kh=this.h.i(this.lE,da.Fb,-175,-130,40,40,"2");this.Kh.h=this.m.h("random");this.Kh.W="random 2-state fill ["+this.A+" Shift 5]";this.ae=this.h.G(this.RB,da.Fb,-275,-130,100,40,1,100,this.Ib,"","%",0);this.ae.W="random fill density";this.Fh=this.h.G(this.ow,da.pc,-265,45,100,40,0,G.pC-1,this.oc,"","",-1);this.Fh.W="paste location [Shift L]";this.Fh.Qb("16px Arial");this.yi=this.h.i(this.Os,da.Fb,-250,-40,
40,40,"");this.yi.h=this.m.h("uturn");this.yi.W="reverse playback direction [U]";this.Se.da([this.Dk]);this.ga.da([this.io,this.lb,this.Fa,this.sa,this.fb,this.Cd,this.sd,this.Sl,this.on,this.rl,this.Mk,this.gn,this.Gg,this.tg,this.yf,this.hh,this.Cj,this.Bj,this.Vd,this.kp,this.fn,this.Gd,this.Dj,this.Yf,this.Pe,this.Me,this.Di,this.mn,this.Kj,this.Pi,this.hk,this.vn,this.Tn,this.Vn,this.Gm,this.Ii,this.od,this.$l,this.Kl,this.Ym,this.kq,this.Dn,this.xn,this.Hl]);this.kb.da([this.Ye,this.Qd,this.Oc,
this.cd,this.Ie,this.He,this.Tf,this.dd,this.Jj,this.Qf,this.ge]);this.gd.da([this.fd,this.oo,this.Nn])};fa.prototype.YD=function(a){var b=this,c=0,d=0;this.Ea=a;this.Ea.getContext&&(c=this.Ea.width,d=this.Ea.height,c!==this.Cc&&Ea.Up&&(c=this.Cc),c<G.jd&&(c=G.jd),d<G.Uh&&(d=G.Uh),c&=-8,this.Ea.width!==c&&(this.Ea.width=c),this.Ea.height!==d&&(this.Ea.height=d),this.la=this.Ea.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.la.globalAlpha=1,this.la.fillStyle="black",this.la.imageSmoothingEnabled=
!1,this.la.imageSmoothingQuality="high",this.la.fillRect(0,0,this.Ea.width,this.Ea.height),this.la.textAlign="left",this.la.textBaseline="middle",this.displayWidth=this.Ea.width,this.displayHeight=this.Ea.height,this.g=new pa(this.la,this.displayWidth,this.displayHeight,512,256,this.X,this),this.g.Oo(this.la,this.displayWidth,this.displayHeight),this.Je=this.g.T.h(ra.ld,G.oC,"View.elapsedTimes",!1),this.Td=new Tb(G.Br,this.g.T),this.GI(this.la),this.C=new Ja(this.Ea,this.la,"24px Arial",this.m,this,
this.sF),this.C.G=!1,this.g.Gm(),this.OI(),Ka(this.Ea,"wheel",function(f){b.CF(b,f)},!1),this.C.notification.S=!0,this.Sy=this.g.T.Aj,this.C.ka(this.h),this.Ad?(Ka(W.hg.j,"keydown",function(f){b.$z(b,f)},!1),W.hg.C=this.C):Ka(this.Ea,"keydown",function(f){b.$z(b,f)},!1))};fa.prototype.eo=function(a){var b=this.g.pa,c="";a|=0;a<b.length&&(c=b[a].name);return c};fa.prototype.bI=function(a){var b=!1,c=this.g.pa,d=0;for(a=a.toLowerCase();d<c.length-1&&!b;)c[d].name.toLowerCase()===a?b=!0:d+=1;b||(d=-1);
return d};fa.prototype.yE=function(a){var b=this.s.F();b.wf||(b.x=this.g.width/2-this.g.ma);b.hf||(b.y=this.g.height/2-this.g.ka);b.pe||(b.zoom=this.g.zoom);b.Rg||(b.angle=this.g.angle);b.Yg||(b.Gb=this.g.Gb);b.Th||(b.Aa=this.g.Aa);b.Ih||(b.depth=this.g.mc);b.qf||(b.bd=this.ca);b.Be||(b.step=this.O);b.ue||(b.Lc=this.g.qb);this.s.Ya(a,this)};fa.prototype.RE=function(a){var b=a,c=this.la,d=a.length;c.font=(18*this.h.B|0)+"px "+G.Py;var f=c.measureText(a).width;if(500<f){--d;for(f=c.measureText(a.substring(0,
d)+"...").width;500<f;)--d,f=c.measureText(a.substring(0,d)+"...").width;b=b.substring(0,d)+"..."}return b};fa.prototype.KE=function(a,b){Pb.EI(this,a,b)};fa.prototype.lF=function(){this.td=this.Zs=this.Rn=!1;this.Pf=this.g.$a=y.ig;this.Ya=-1;this.Rp=this.ao=!1;this.g.ea=1<<G.rG;this.gh=this.Sm=-1;this.Na=!1;this.lm=this.om=this.Is=this.$g=this.Cx=this.Zm=this.C.ea=!1;this.g.Ka=0;this.g.za=0;this.g.cb=1;this.Ia=this.$m=this.ia=this.Ee=!1;this.Rc=this.Sc=this.Y=null;this.$h=G.$h;this.Ge=null;this.ai=
G.ai;this.g.Dd=this.g.so;this.g.Cd=this.g.po;this.g.Bd=this.g.no;this.g.Ed=this.g.uo;this.g.Fd=this.g.wo;this.nc=this.$a=this.po=!1;this.uc=-1;this.Lb=!1;this.Sb=-1;this.Eg=this.Mb=this.ki=this.nb=this.di=this.za=this.pb=this.wa=!1;this.qa=this.Xi=2<this.g.i?63<256-this.g.i?63:256-this.g.i:63;this.Ce=this.lA;this.jb=!1;this.g.qd=!1;this.g.Gg=0};fa.prototype.ft=function(){this.yd?(this.C.Ya?this.$g||this.ti(this):Gb(this.element),this.C.A=!1):(this.displayWidth=this.Ij,this.displayHeight=this.kt,this.ia?
(this.ka=!1,this.xb(!0,!1,G.gg)):this.g.zoom=this.ot,this.kc&&(this.kc.current=this.Od([this.g.zoom,this.g.zoom],!1,this)),this.v=this.mt,this.ka=!1,this.C.$=!1,this.h.M=!1,this.C.B||this.C.notification.notify("Shrink with hotkey N",15,100,15,!0),this.resize())};fa.prototype.sF=function(a){a.ka?(a.ft(),a.qt&&!a.Ob&&(a.fc.current=a.Md(G.lj,!0,a))):a.Na&&(a.$g||a.ti(a))};fa.prototype.resize=function(){this.xl&&(W.hg.G=this.Bv-this.displayWidth,this.Bv=this.displayWidth,this.xl=!1);this.Ea.width=this.displayWidth;
this.Ea.height=this.displayHeight;this.la.textBaseline="middle";this.g.ql(this.displayWidth,this.displayHeight);"Empty"!==this.zb&&"none"!==this.zb&&""!==this.zb&&null!==this.g.ab&&(this.g.Oj(this),this.g.Mj(this.g.ck,this.g.Ek));this.ia&&this.xb(!0,!1,G.gg)};fa.prototype.it=function(){this.Ij=this.displayWidth;this.kt=this.displayHeight;this.ot=this.g.zoom;this.mt=this.v;this.displayWidth=this.displayWidth/this.Xb|0;this.displayHeight=this.displayHeight/this.Xb|0;this.g.zoom/=this.Xb;this.displayWidth&=
-8;this.h.M=!0;this.C.$=!0;this.C.qb=this.Xb;this.C.A=!1;this.ka=!0;this.resize()};fa.prototype.Ny=function(){var a=this.g.i,b;a>this.ac&&(a=this.ac);this.Za.lower=[];this.Za.W=[];this.Za.Hf(40*a);this.pa.lower=[];this.pa.W=[];this.pa.current=[];this.pa.Hf(40*a);this.pa.s=1;for(b=0;b<a;b+=1){var c=b+this.Vb;this.Za.lower[b]=String(c);var d=this.jh(c);10>c&&(d+=" ["+this.A+" "+c+"]");this.Za.W[b]=d;this.pa.lower[b]="";this.pa.W[b]=d;this.pa.current[b]=!1}c=this.pf;0<c&&(this.g.la||this.g.s||this.g.D||
this.g.u||this.g.G||(c=this.g.i-c));this.Za.current=c-this.Vb};fa.prototype.WC=function(){var a=this.g.i,b=this.h.s;this.pf=1;this.Vb=0;this.lk.current=[this.Ot([!0],!0,this)];this.ac=7+((this.displayWidth/b-G.jd)/(40*b)|0);this.ac>a&&(this.ac=a);this.g.O?(this.Za.lower="0123456".split(""),this.Za.Hf(280),this.Za.W=["dead ["+this.A+" 0]","alive ["+this.A+" 1]","history ["+this.A+" 2]","mark 1 ["+this.A+" 3]","mark off ["+this.A+" 4]","mark 2 ["+this.A+" 5]","kill ["+this.A+" 6]"],this.Za.current=
this.pf,this.pa.lower="      ".split(" "),this.pa.Hf(280),this.pa.W=["dead ["+this.A+" 0]","alive ["+this.A+" 1]","history ["+this.A+" 2]","mark 1 ["+this.A+" 3]","mark off ["+this.A+" 4]","mark 2 ["+this.A+" 5]","kill ["+this.A+" 6]"],this.pa.s=1,this.pa.current=[!1,!1,!1,!1,!1,!1,!1]):2>=a?(this.Za.lower=["0","1"],this.Za.Hf(80),this.Za.W=["dead ["+this.A+" 0]","alive ["+this.A+" 1]"],this.Za.current=this.pf,this.pa.lower=["",""],this.pa.Hf(80),this.pa.W=["dead ["+this.A+" 0]","alive ["+this.A+
" 1]"],this.pa.s=1,this.pa.current=[!1,!1]):(this.pf=this.g.la||this.g.s||this.g.D||this.g.u||this.g.G?1:a-1,this.Ny(),this.Za.Hf(40*this.ac),this.pa.Hf(40*this.ac),this.Nm.current=this.Dx([0,0],!0,this));this.Za.setPosition(da.pc,-this.Za.I,45);this.pa.setPosition(da.pc,-this.pa.I,65)};fa.prototype.jz=function(a){var b=this.g.Mb;-1===a&&(a=this.ua?b:this.g.O?10:2<this.g.i&&!(this.g.u||this.g.G||this.g.s||this.g.D)?11:this.g.ja?17:this.g.s||this.g.D?18:1);this.sg(a,1,this)};fa.prototype.aG=function(){var a=
document.body.clientWidth,b=window.innerHeight,c=this.displayWidth,d=this.displayHeight+80;if(W.hg){this.rj=window.devicePixelRatio?window.devicePixelRatio:1;if(W.hg.F){c=a;d=b-34;var f=1}else c*=this.rj,d*=this.rj,f=this.rj;this.De=1;if(c>a||d>b)if(f=c/a,d/b>f&&(f=d/b),c/=f,d=this.displayHeight*this.rj/f,f=c/this.displayWidth,d/this.displayHeight<f&&(f=d/this.displayHeight),c<G.jd||d<G.Uh)f=c/G.jd,d/G.Uh<f&&(f=d/G.Uh),c/=f,d/=f,this.De=f,f=1;this.displayWidth=c&-8;this.displayHeight=d|0;this.C.Sa=
this.De;W.hg.s=this.De;this.h.Sa(f);this.m.S(f);this.Vk=18*f|0;this.oh=this.Vk+"px "+G.ZA;this.Uf=this.Vk+"px "+G.Py;this.yq();this.displayWidth!==this.Bv&&(this.xl=!0)}};fa.prototype.ME=function(){this.sk=!1;this.Ha=0;this.mc=!1;this.qc=this.bc=0;this.og=this.Xe=this.ng=this.Ka=this.$="";this.en=this.fj=this.V=this.S=0;this.tk="(none)";this.g.la=!1;this.g.ja=!1;this.g.s=!1;this.g.O=!1;this.g.u=!1;this.g.G=!1;this.g.ha=!1;this.g.hh=this.X.pa;this.g.Z=!1;this.g.jh=this.X.ia;this.g.ud=!1;this.g.Sd=
-1;this.g.Ch=!1;this.g.i=-1;this.g.S=-1;this.ob=this.Sa=this.g.Da=!1;this.g.D=!1;this.g.nd=null;this.g.od=null;this.g.Jc=null;this.g.Mc=null;this.g.Qd=[];this.g.vb=null;this.g.Fc=0;this.g.md=0;this.g.ih=0};fa.prototype.mz=function(a){a<G.zg&&(a=G.zg);a>G.Yc?(this.ca=G.Yc,this.O=a/G.Yc|0,this.O>this.Ff&&(this.O=this.Ff)):(this.ca=a,this.O=1);this.Tm=this.ca;this.Qn=this.O};fa.prototype.Yh=function(a,b){this.C.ta.reset();this.xe=W.jr(G.ID);this.af=W.jr(G.Sx);this.Ed=W.jr(G.PA);this.wi.current=[this.Ed];
this.ca=G.Yc;this.O=1;this.Tm=this.ca;this.Qn=this.O;if(this.Ed){var c=W.zB(G.iu);this.mz(c)}this.ec.current=1===this.O&&this.ca===G.Yc?this.yc([1,1],!0,this):this.yc([this.zf(),1],!0,this);this.vb.M=!0;this.bf.M=!0;this.X.F=!1;this.El=this.g.vf=!1;this.g.ca.s=1;this.Ue=this.displayWidth;this.Te=this.displayHeight;a=this.X.create("",a,this.g.T,this.ri,this.zF,[b],!1,this);this.Yy=this.X.U;if(this.X.ra){a=this.X.ea;c=this.X.da;var d=this.X.create("","x=1,y=1,rule=Life\n!",this.g.T,this.ri,this.ri,
[b],!1,this);this.ri(d,[b],this);this.X.ea=a;this.X.da=c;this.displayWidth=this.Ue;this.displayHeight=this.Te;this.C.notification.clear(!1,!0);this.C.notification.notify("Loading rule...",15,1E4,15,!0)}else this.ri(a,[b],this)};fa.prototype.zF=function(a,b,c){b[b.length]=a.title;b[b.length]=a.F;c.displayWidth=c.Ue;c.displayHeight=c.Te;c.X.U=c.Yy;c.X.ob=!0;c.ri(null,b,c)};fa.prototype.LD=function(){var a,b=0,c=!1;if(navigator.userAgentData){var d=navigator.userAgentData;if("Windows"===d.platform&&
d.brands)for(a=0;a<d.brands.length;a+=1)if("Google Chrome"===d.brands[a].brand||"Brave Browser"===d.brands[a].brand)c=!0,b=Number(d.brands[a].version)}c&&103<=b&&107>b&&(a=localStorage.getItem(G.TA),"y"!==a?(this.C.notification.notify("If there are no cells displayed click on Help",15,300,15,!1),this.hn=!0):this.hn=!1)};fa.prototype.ri=function(a,b,c){var d=0,f,e,g=!1;var k=f=0;var l=b[0],p=!1;var n="";c.g.B=0;c.Td&&(c.Td.h=new T(255,255,255));c.Ne.current=c.yl(G.Tj,!0,c);c.Id.current=c.Mj(G.Sh,!0,
c);c.g.ca.ea=!1;c.Zb.current=c.Al([!0,!0,!0],!0,c);c.g.Vc=!1;c.Db=-1;c.Gg.current=c.Ut([!0],!0,c);c.ke=!1;c.vf=!1;c.uf=!1;c.ef=!1;c.xf=!1;c.je=!1;c.ff=!1;c.g.qb=-1;c.C.Ib();c.Yb=!0;c.Xd=!1;c.P=!1;c.Hc=!1;c.cb=[];for(e=0;e<G.nj;e+=1)c.cb[e]=null;c.cb[G.nj]=null;c.Bb=0;c.bn=!1;c.ea=null;c.na=!1;c.Ec=0;c.Dc=0;c.zd=!1;c.Jd.current=c.Cv(2,!0,c);c.mj=!1;c.fe=[];c.Wj=[];c.Tb=[];c.Sd=[];c.Hb=[];c.Qg=[];c.Pa=0;c.ma=0;c.Dh=0;c.g.Nb=!1;c.Vc=[];c.Wa=G.Mo;c.We=0;c.Rl=-1;c.dj=[];c.Zd=0;c.Cl=!1;c.qy=0;c.Ky=0;c.Yd=
-1;c.np=!1;c.cg=G.Ti;c.kg=-G.Ti;c.bg=G.Ti;c.lg=-G.Ti;c.C.notification.clear(!0,!0);c.C.notification.clear(!1,!0);c.g.tb=!1;c.g.Tb=!1;c.Rx=!1;c.g.Mc=null;!a||null===a.ia&&-1===a.ma||(null===a.ia?a.nb>=a.ma&&(c.X.U="Illegal state in pattern for @TREE",a=null):a.nb>=a.ta&&(c.X.U="Illegal state in pattern for @TABLE",a=null));a&&c.X.F&&a&&(-1===a.j||-1!==a.j&&(0===a.P||0===a.da))&&(c.X.U=null===a.ia?"@TREE B0 only valid with finite grid":"@TABLE B0 only valid with finite grid",a=null);if(a){c.sk=c.X.tb;
c.Ha=c.X.Hb;c.mc=c.X.Ka;c.bc=c.X.cb;c.qc=c.X.eb;c.xd=c.X.ea;c.wd=c.X.da;c.S=a.width;c.V=a.height;-999999===c.xd&&(c.xd=c.S);-999999===c.wd&&(c.wd=c.V);c.Xe=a.name;c.og=a.Cb;c.tk=a.Za;""===c.tk&&(c.tk="(none)");c.fj=a.F;c.en=a.Wa;c.$=a.h;c.Ka=a.V;c.ng=a.eb;c.g.ci=a.u;c.g.bi=a.sa;c.ob=c.X.ob;c.g.O=a.H;c.g.u=a.D;c.g.G=a.S;c.Cf.W="clear History cells ["+this.A+" Del]";c.g.u&&(c.Cf.W="clear Super cells ["+this.A+" Del]");c.g.i=a.i;!c.ob&&2<a.F&&(c.g.i=a.F);c.g.vb=null;c.g.Qd=null;c.df=[];c.g.D=!1;c.g.vf=
!1;-1!==a.ma&&(c.g.Rd=a.mb,c.g.gi=a.ma,c.g.i=a.ma,c.g.Yj=a.qb,c.g.fe=a.lb,c.g.nd=a.ab,c.g.od=a.cb,c.g.Jc=a.Ha,c.g.Mc=a.na,c.df=a.kb,c.g.vf=c.X.F,c.g.D=!0);null!==a.ia&&(c.g.Qd=a.Va,c.g.cd=a.Bb,c.g.vb=a.ia,c.g.Fc=a.Ua,c.g.md=a.$a,c.g.ih=a.pb,c.g.i=a.ta,c.g.Jc=a.Ha,c.g.Mc=a.na,c.df=a.kb,c.g.vf=c.X.F,c.g.D=!0);if(c.g.Da=a.Da){c.g.ca.P=a.G;c.g.ca.G=a.B;c.g.ca.$=c.g.T.h(ra.bb,a.B.length,"HROT.comboList",W.R);for(e=0;e<a.B.length;e+=1)c.g.ca.$[e]=a.G[e]&2|a.B[e]&1;c.g.ca.ca=a.i;c.g.ca.ea=a.vb;c.g.ca.la=
a.Ya;c.g.ca.ma=a.jb;c.g.ca.ia=a.fb;c.g.ca.pb(a.m,a.v,a.ja,a.pa,a.s,a.Db,a.Hb,a.za,a.Ba);if(c.X.ca)for(c.g.ca.Z=c.g.T.h(ra.bb,a.B.length,"HROT.altComboList",W.R),c.g.ca.ja=a.Ia,c.g.ca.ka=a.Ka,c.g.ca.na=!0,e=0;e<a.B.length;e+=1)c.g.ca.Z[e]=a.Ia[e]&2|a.Ka[e]&1;else c.g.ca.na=!1;c.Rx=a.$}c.g.la=a.ga;c.g.ja=a.fa;c.g.xd=c.g.ja;c.g.s=a.ka;c.g.Fa=!1;c.g.ha=a.ha;c.g.Ch=a.ha;c.g.hh=a.va;c.g.Z=a.s;c.g.jh=a.Z;c.g.ud=a.la;c.g.Sd=a.qa;a.ka?(c.g.uk(a),c.g.Mc=a.na):a.na?c.g.Dn(a.na):c.g.Wd=!1;c.g.S=a.j;c.g.ba=a.P;
c.g.$=a.da;c.g.he=a.Ea;c.g.ie=a.Fa;c.g.ng=a.Jb;c.g.lh=a.Mb;c.g.og=a.Lb;d=-1===c.g.i?2:c.g.i;c.g.O&&(d=7);c.ej=new Uint32Array(d);for(e=0;e<d;e+=1)c.ej[e]=c.X.aa[e]}else c.ME();c.g.Cb=c.g.ag()?!0:!1;c.g.Dq();c.ie=!0;c.Ca=!1;c.qd=!0;c.eb=G.OA;c.$b=a?!1:!0;c.Tc=!0;c.Le=!1;c.U=c.X.U;c.g.bf=G.NA;c.aa=0;c.ba=0;c.Gc=-1;c.Kc=-1;c.Pg=!1;c.h.locked=!1;c.nd=!1;c.rd=!1;c.g.wn();c.g.yn();c.g.O&&c.g.Mm();c.g.O&&c.g.Al();c.ud="";c.Jc=!1;hb.ye();c.g.Lb=G.Fu;c.g.xc=G.Eu;c.g.lb=10;c.g.Bl=10;c.g.yc=!0;c.On=-1;c.Mn=
-1;c.Ed||(c.ca=G.Yc,c.O=1);c.g.Aa=1;c.g.mc=.1;c.g.angle=0;c.g.Gb=0;c.g.zoom=6;c.g.Po();c.g.tj();c.g.ma=c.g.width/2;c.g.ka=c.g.height/2;c.Cp=!1;c.zp=!1;c.Bp=!1;c.va=0;c.Cb=0;c.Ua=-1;c.mb=-1;c.cc=-1;c.kd=-1;c.ta.fill(-1);c.vp=G.vB;c.up=G.Iq;c.wp=G.JC;c.ka&&(c.sj?(c.displayHeight=c.Ij,c.displayWidth=c.Ij,c.g.zoom=this.ot,c.v=this.mt):c.ft());c.le=!1;c.C.$=!1;c.Xb=G.QA;c.yd=!1;c.C.ya=!1;c.ko=!1;c.Sa=a?!1:!0;c.I=!1;c.g.Ya=!1;c.g.jb=!1;c.fc.M=!1;c.ra.M=!1;c.kb.M=!1;c.ec.M=!1;c.ga.M=!1;c.lb.M=!1;c.Fa.M=
!1;c.sd.M=!1;c.Gg.M=!1;c.tg.M=!1;c.h.M=!1;c.Gf.M=!1;c.Nd.M=!1;c.Lh.M=!1;c.Sl.M=!1;c.rl.M=!1;c.gn.M=!1;c.Mk.M=!1;c.Cd.M=!1;c.yi.M=!1;c.Km.M=!1;c.ga.current=[!1];c.kb.current=[!1];c.v=0;c.da=0;c.Se.current=[!1];c.eh.current=c.Bu([c.Xd],!0,c);c.mk.current=c.Pu([c.Yb],!0,c);c.bo=!1;c.ra.current=c.we(G.Wh,!0,c);c.ae.current=c.RB([50,50],!0,c);c.Fh.current=c.ow([G.Er,G.Er],!0,c);c.gd.current=c.kf([0!==c.v],!0,c);c.Dd=[96,96,96];c.g.pd=c.g.jc?4284506208:1616929023;c.g.lg="rgb("+c.Dd[0]+","+c.Dd[1]+","+c.Dd[2]+
")";c.Df=[128,128,128];c.g.Je=c.g.jc?4286611584:2155905279;c.Nf=[0,255,0];c.g.cj="rgb(0,255,0)";c.Mf=[255,0,0];c.g.pi="rgb(255,0,0)";c.Of=[255,128,0];c.g.dj="rgb(255,128,0)";c.s.reset();c.za=!1;c.s.ia();c.md=!1;c.rb=!1;c.Kd=!0;c.ua=!1;c.Lf=!1;c.g.Dc=!1;c.im=G.Kr;c.em=G.Kr;c.oj=50;c.hm=!1;c.pn=!1;c.rn=!1;c.Ze=-1;c.$e=-1;c.pg=-1;c.Xc=[];c.Rd=[];c.zn=!1;c.qt=!1;c.Bz=!0;c.zz=!0;c.Re="";a?a.title&&(n=a.title):(1<b.length&&(n=b[1]),c.qz());c.g.O?(c.nf=[0,65280,128,14221272,16711680,16776960,6316128],c.qn=
"[R]History"):(c.nf=hb.gu,c.qn="(default)");c.lF();c.qj=Date.now().toString();!c.Ad&&Ea.fullScreen&&(c.displayWidth=(document.body.clientWidth&-8)-8,c.displayHeight=window.innerHeight-130,c.displayWidth<G.jd&&(c.displayWidth=G.jd),c.displayHeight<G.Uh&&(c.displayHeight=G.Uh),g=!0);""!==n&&(a?d=-1===a.i?a.F:a.i:d=b[2],c.g.O&&(d=7),c.g.s&&(d=16),c.g.u&&(d=26),c.g.G&&(d=21),c.KE(n,d),c.wB=a?("\n"+a.u).replace(/\n#C /g,"\n").replace(/\n# /g,"\n").replace(/\n#C/g,"\n").replace(/\[\[ .*? \]\][ \n]/g,"").replace(/\n#(?:N|O)[^\n]*/g,
"\n").substring(1):"",c.Tb.length&&(c.da=1),c.ka&&l&&(c.ka=!1),-1<c.Ua&&(c.Ua&=-8,c.Ua!==c.displayWidth&&(c.displayWidth=c.Ua,g=!0)),-1<c.mb&&c.mb!==c.displayHeight&&(c.displayHeight=c.mb,g=!0),c.Ad&&(-1<c.cc?(c.cc&=-8,c.cc!==c.displayWidth&&(c.displayWidth=c.cc,g=!0)):c.displayWidth<G.jd&&(c.displayWidth=G.jd),-1<c.kd&&c.kd!==c.displayHeight&&(c.displayHeight=c.kd,g=!0)));c.g.$a!==y.ig&&(2<c.g.i||c.g.Da||c.g.s||c.g.O||c.g.u||c.g.G||c.g.D)&&(c.g.$a=y.ig);if(!c.ob||c.g.D||c.g.u||c.g.G)c.qa=0;c.G.ye(c.qj);
c.g.Da&&c.g.ca.nb(c.qj);c.Ad&&(c.Ue=c.displayWidth,c.Te=c.displayHeight,c.xl=!0,W.hg.u(W.hg));a&&a.wa&&0===c.Vc.length&&(c.ob=!1);c.WC();c.qz();c.Xz();c.iE();c.g.Nn();c.g.v=c.qa;c.g.gh=c.Ce;c.yd&&!c.Ca&&(c.$b=!0,c.Ca=!1);c.g.Jl(!c.$b);d=c.Ei();a&&(a.width>c.g.ea-d-2*Math.abs(c.aa+c.bc)||a.height>c.g.ea-d-2*Math.abs(c.aa-c.bc))&&(c.U=a.width>c.g.ea-d||a.height>c.g.ea-d?"Pattern too big":"Pattern too big at specified location",a.wa=!0,c.ob=!1);a&&-1!==a.j&&(d=c.Ei(),a.P>c.g.ea-d||a.da>c.g.ea-d)&&(c.U=
"Bounded grid too big",c.ob=!1,c.g.S=-1);c.ob||(c.g.Cb=!1,c.g.pb=-1);c.g.xp(c);c.g.ag()&&c.g.Cb&&c.GJ();c.np&&(c.jz(c.Sm),c.g.ph(),c.dE());c.To=!1;a&&(-1!==c.g.S?(f=c.g.ba,k=c.g.$,0===f&&(f=a.width),0===k&&(k=a.height)):(f=a.width,k=a.height,0<c.Vc.length&&(f=c.HF(f),k=c.DF(k))));d=c.Ei();c.mc&&(c.aa+=c.bc,c.ba+=c.qc);e=c.g.width<c.g.ea&&f+d+2*Math.abs(c.aa)>=c.g.width;for(n=c.g.height<c.g.ea&&k+d+2*Math.abs(c.ba)>=c.g.height;e||n;){p=!0;l=b=0;e&&(b=c.g.width>>1,c.g.width*=2,c.va+=c.g.width>>2);n&&
(l=c.g.height>>1,c.g.height*=2,c.Cb+=c.g.height>>2);e&&(c.ya+=c.g.width>>2);n&&(c.Jb+=c.g.height>>2);c.g.ha&&n&&(c.va-=c.g.height>>3,c.ya-=c.g.height>>3);c.g.ma+=b;c.g.ka+=l;c.g.ha&&(c.g.ma-=l/2|0);c.g.A.J+=b;c.g.A.L+=b;c.g.A.N+=l;c.g.A.K+=l;c.g.ya.J+=b;c.g.ya.L+=b;c.g.ya.N+=l;c.g.ya.K+=l;c.g.xb.J+=b;c.g.xb.L+=b;c.g.xb.N+=l;c.g.xb.K+=l;c.g.mb.J+=b;c.g.mb.L+=b;c.g.mb.N+=l;c.g.mb.K+=l;if(0<c.g.oc)for(e=0;e<c.g.oc;e+=1){var q=c.g.nc[(e<<1)+1];n=(q>>16)+b;q=(q&65535)+l;c.g.nc[(e<<1)+1]=n<<16|q}e=c.g.width<
c.g.ea&&f+d+2*Math.abs(c.aa)>=c.g.width;n=c.g.height<c.g.ea&&k+d+2*Math.abs(c.ba)>=c.g.height}p&&c.g.Tf(!1,!1,!1);a&&a.Da&&c.g.ca.resize(c.g.width,c.g.height);a&&c.KF(c.S,c.V,c.xd,c.wd);c.C.notification.m=c.Sc?"rgb("+c.Sc[0]+","+c.Sc[1]+","+c.Sc[2]+")":c.C.notification.B;if(null===c.Y)for(e=0;e<c.nf.length;e+=1)c.Kn[e]=c.X.aa[e]?G.bD:G.aD;c.g.Wa?(c.g.wj(c.nf,c.Y),c.g.Dc=!0):c.g.Dc=!1;a&&!a.wa&&a.I&&c.pH(a);c.ge.Kb=""!==c.Ka?c.Ka:c.$;c.ge.W=c.$;""!==c.Ka&&(c.ge.W+=" alias "+c.Ka);""!==c.$&&(c.ge.W+=
"\n"+c.ht());c.tb=!1;c.sv="none";c.zb="none";c.Si="none";c.Gl="none";c.Vi="none";c.Fl="none";c.Vm="none";c.Qi="none";c.Il="none";c.pi="none";c.Ch="none";c.Bh="none";c.Ri="none";c.qb=!1;c.Ji.current=[c.qb];c.g.yg(c.qb);c.tg.current=c.Bs([c.Kd],!0,c);(c.g.D||c.g.la)&&-1!==c.ta[G.Qj]&&(null===c.Y?(c.Y=c.g.T.h(ra.Pd,256,"View.customColours",!1),c.Y.fill(-1),c.Y[0]=c.ta[G.Qj],c.ta[G.Qj]=-1,c.ta[G.Xn]=-1):-1===c.Y[0]&&(c.Y[0]=c.ta[G.Qj]));c.jz(c.Sm);c.g.ph();c.g.qc=c.Y;c.g.Aq();c.g.la||!c.ob&&2<c.g.i?c.g.sk(c.nf,
c.Y):c.g.vj();c.g.kb(1);c.Dj.current=[c.g.jb];c.fk.current=c.yt([c.Rh],!0,c);c.$i.current=c.Do([c.eb,c.eb],!1,c);c.Wi.current=[c.qd];c.Wd.current=[c.ia];c.ed.current=[c.g.Ya];c.qg.current=c.g.$a;c.g.counter=0;c.g.Xb=0;c.g.Ie=0;c.ja=0;c.elapsedTime=0;c.ra.m=[!1,!1,!1];if(c.Sa){if(a&&(c.g.Yi(c.rd),c.Y))for(e=0;e<c.Y.length;e+=1)c.nf[e]=c.Y[e];c.jF=c.nf.length;c.g.sk(c.nf,c.Y);c.g.Xc.reset();c.$b=!0;c.Ca=!1}else{c.g.Yi(c.rd);c.g.Jh();2>=c.g.i&&c.g.$f(c.g.va);c.an();0<c.Vc.length&&(c.g.Yi(c.rd),c.g.Jh(),
2>=c.g.i&&c.g.$f(c.g.va));c.g.O&&c.X.aa[2]&&c.g.mm(a,c.H,c.F);c.g.To(c.g.va,c.g.h);f=0;k=c.g.i;c.g.O?k=7:-1===k&&(k=2);for(e=1;e<k;e+=1)f+=c.ej[e];a&&0===c.g.B&&!c.Cl&&0===f&&(c.g.la||(a.wa?c.C.notification.notify("Pattern too big!",15,G.qu,15,!1):""===c.U&&c.C.notification.notify("New pattern",15,300,15,!1)));""!==c.U&&c.C.notification.notify("Invalid pattern!",15,300,15,!1);-1!==c.g.S&&c.g.Pg();if(!c.yd||c.$a||-1!==c.Ya||c.Ee)c.g.yq(c.rb,c),c.g.$g(c,c.rb)}c.tg.current=[c.Kd];c.Gg.current=[c.Af];
c.Pe.current=[c.g.qd];c.Cj.current=[c.md];c.Bj.current=[c.ad];c.Vd.current=[c.g.xd];c.Vd.locked=!c.g.ja;c.g.Z?(c.Gd.current=[c.g.Fa],c.Gd.W=["toggle triangular cells [?]"]):(c.Gd.W=["toggle hexagonal cells [?]"],c.Gd.current=c.g.ha?[c.g.Fa]:[!0]);c.yi.locked=(c.g.ja||c.g.s)&&null!==c.g.Bb?!1:!0;0===c.s.B()?(c.Yf.locked=!0,c.ie=!1):(c.Yf.locked=!1,c.ie=!0);c.Yf.current=[c.ie];c.Pi.current=[c.Ia];c.g.D||(c.g.Cb=!1);c.ih.current=[c.g.Cb];c.Yj.current=[c.Le];c.am.current=[c.g.Vc];c.hk.current=[c.Jc];
c.Ii.current=[c.nd];c.s.i.length?(c.Zl.M=!1,c.Jl.M=!1):(c.Zl.M=!0,c.Jl.M=!0);if(c.g.ha||c.g.Z)c.g.yc=!1;0===c.g.lb?(c.od.current=[!1],c.od.locked=!0):(c.od.current=[c.g.yc],c.od.locked=!1);c.$b||c.g.Kh();d=c.g.zoom;f=c.g.ma;k=c.g.ka;e=c.ka;c.ka=!1;c.xb(!0,!1,G.gg);c.ka=e;c.Cp?c.g.zoom=d:!c.ia&&c.g.zoom>G.DB&&(c.g.zoom=G.DB);c.zp&&(c.g.ma=f);c.Bp&&(c.g.ka=k);c.za&&c.yE(c.Tb);c.ka&&c.ko&&(c.g.zoom=c.st);c.yz=c.g.zoom;c.kc.current=c.Od([c.g.zoom,c.g.zoom],!1,c);c.va=c.g.ma;c.Cb=c.g.ka;c.ui=c.g.angle;
c.sa.current=[c.ui,c.ui];c.xi=c.g.Gb;c.fb.current=[c.Ek(c.xi),c.xi];c.Sn=c.g.qb;c.sg(c.Sn,c.g.Pe,c);c.Tm=c.ca;c.Qn=c.O;c.ec.current=1===c.O&&c.ca===G.Yc?c.yc([1,1],!0,c):c.yc([c.zf(),1],!0,c);c.vi=c.g.Aa;c.lb.current=[c.vi,c.vi];c.yp=c.g.mc;d=Math.sqrt(c.yp);c.Fa.current=c.mf([d,d],!0,c);c.$a&&!c.nc?(c.Ob=!0,c.fc.current=G.lj):(c.Ob=!1,c.fc.current=G.se);c.Ee&&!c.yd&&c.gl(c);c.Mh(c.Ob);c.displayWidth>G.jd&&!c.Ad?(e=c.displayWidth-G.jd+G.Fq,e>G.zs&&(e=G.zs),c.kc.Hf(e)):c.kc.Hf(G.Fq);if(g||c.ka)c.ka?
c.it():c.resize();a||(c.X.Na?c.C.notification.notify("Pattern too big!",15,G.qu,15,!1):c.C.notification.notify("Invalid pattern!",15,G.qu,15,!1));c.Tb.length?c.v=0:c.da=0;c.ob||(c.I=!0,c.g.Dc=!1,c.g.la=!0,c.g.O=!1,c.g.u=!1,c.g.G=!1,c.Xz());if(c.I||c.g.la)c.ra.m[G.bl]=!0,c.ra.m[G.cl]=!0;c.I?(c.fc.M=!0,c.Gf.M=!0,c.ec.M=!0,c.Nd.M=!0,c.Lh.M=!0,c.yi.M=!0,c.Km.M=!0,c.Sa&&(c.lb.M=!0,c.Fa.M=!0,c.sd.M=!0,c.g.Aa=1),c.sc.M=!1,""===c.U?(c.sc.Kb=" "+D.zq,c.sc.A=c.C.F,c.sc.setPosition(da.Xg,c.kb.I,-40),c.ka?c.sc.Hf(c.Ij-
(40+c.kb.I)):c.sc.Hf(c.displayWidth-(40+c.kb.I)),c.kb.M=!1):(c.sc.Kb=c.U,c.sc.A=c.$h,c.sc.setPosition(da.Xg,0,-40),c.ka?c.sc.Hf(c.Ij-40):c.sc.Hf(c.displayWidth-40),c.kb.M=!0)):c.sc.M=!0;540>c.displayHeight?c.Cd.setPosition(da.ml,0,-85):c.Cd.setPosition(da.ml,0,-100);c.Tz();c.hc=!1;c.Ls(c);c.co()?(c.Oc.Kb="Density",c.Oc.W="cell density"):(c.Oc.Kb="Births",c.Oc.W="cells born this generation");c.C.m=!0;c.C.Ae(!0);c.Ad&&c.py&&(c.py.nodeValue=""===c.ud?G.fo:c.RE(c.ud));Ea.ub?(g=c.Xe,""===g&&(g="Universe "+
(c.Va+1)),W.ym||c.C.notification.notify(g,15,120,15,!0),c.$l.M=!1,c.Kl.M=!1,c.Ym.M=!1):(c.$l.M=!0,c.Kl.M=!0,c.Ym.M=!0);c.Z("");c.yr&&pc(c);!c.Zs&&(8===c.g.zoom||.125===c.g.zoom)&&0<c.Eh&&0===(c.Eh&3)&&1===(c.Sd.length&5)?(c.zi=!0,c.g.Fk()):c.zi=!1;c.g.Ni();(c.g.ja||c.g.s)&&null!==c.g.Bb&&c.zn&&(c.g.Tb=!0,c.Mh(c.Ob));c.om&&""===c.U&&(c.sj||(c.sj=!0,c.gm(c,!0)),c.sj=!1);-1!==c.Ya&&(c.Tc&&(0===c.g.B?(c.C.notification.notify("No live cells",15,360,15,!1),c.Ya=-1):c.C.notification.notify("Going to generation "+
c.Ya,15,1E4,15,!1)),c.C.notification.clear(!0,!1));a||(a=c.g.la,c.g.la=!1,c.g.Od=1,c.g.vj(),c.g.la=a);c.g.la&&(c.$b=!0,c.Ca=!1);c.Me.locked=c.$b;c.Me.current=[c.Ca];c.Pj.current=[c.xe];c.Zj.current=[c.af];c.Vf.current=c.tv([c.td],!0,c);c.LD();c.C.Ya=c.af&&c.g.ea===1<<G.xv};console.group("LifeViewer");W.R=!1;W.wb=!1;va.T=new fb;W.T=va.T;Ka(window,"load",function(){requestAnimationFrame(W.cB)},!1);Ka(window,"resize",function(){if(Ea.fullScreen){var a=W.$c[0][1];a.displayWidth=(document.body.clientWidth&
-8)-8;a.displayHeight=window.innerHeight-130;a.displayWidth<G.jd&&(a.displayWidth=G.jd);a.displayHeight<G.Ax&&(a.displayHeight=G.Ax);if(a.displayWidth>G.jd&&!a.Ad){var b=a.displayWidth-G.jd+G.Fq;b>G.zs&&(b=G.zs);a.kc.Hf(b)}else a.kc.Hf(G.Fq);b=a.pf;a.WC();a.pf=b;a.Ny();a.resize();a.C.Ae(!0)}},!1);window.updateViewer=Gb;window.updateMe=yb;var $a={li:0,bm:"",$t:!1,OJ:function(a){a=y.Go[a];var b=a.substring(a.length-1);10<a.length&&(a=a.replace(/marked/,"mkd"),a=a.replace(/trail/,"trl"),10<a.length&&
(a="1"<=b&&"9">=b?a.substring(0,9)+b:a.substring(0,10)));return a},BG:function(a){a=y.Fo[a];10<a.length&&(a=a.replace(/killer/,"klr"),a=a.replace(/births/,"bth"),10<a.length&&(a=a.substring(0,10)));return a},$I:function(a,b,c,d,f,e,g,k,l,p){var n=k,q=a.h.s,m=this.li*q,r=this.li*a.h.s,u=!1,t=a.u;e&&(e.fillStyle===a.C.Wa&&(u=!0),t>=p&&t<=p+a.Ba&&(e.font=a.oh,u||(e.fillStyle=1<(a.v|0)?a.ai:a.C.da),e.fillText(b,g+m,k+r),u||(e.fillStyle=a.ai),e.fillText(c,g+m+e.measureText(b).width,k+r),u||(e.fillStyle=
(a.v|0)<a.Yi-a.Ba?a.ai:a.C.da),e.fillText(d,g+m+e.measureText(b+c).width,k+r),u||(e.fillStyle=a.ai),e.font=a.Uf,e.fillText(f,g+m+a.j[0]*q,k+r),n+=l));a.u+=1;return n},Lt:function(a){a/=1048576;return 10>a?String(a.toFixed(1)):String(a.toFixed(0))},aJ:function(a,b,c,d,f,e,g,k){var l=a.u;d&&(g-=6,l>=k&&l<=k+a.Ba&&(k=d.fillStyle,0===this.li?(d.save(),d.imageSmoothingEnabled=!0,d.translate(f,e-(g>>1)-1),d.scale(g/c,g/c),d.drawImage(a.g.Ud,0,c*b,c,c,0,0,c,c),d.restore()):d.fillRect(f+2,e-(g>>1)-1+2,g,
g),d.fillStyle=k))},gb:function(a,b,c,d,f,e,g,k,l){var p=a.u;f&&(k-=6,p>=l&&p<=l+a.Ba&&(a=f.fillStyle,0===this.li?(f.fillStyle="rgb("+b+","+c+","+d+")",f.fillRect(e,g-(k>>1)-1,k,k)):f.fillRect(e+2,g-(k>>1)-1+2,k,k),f.fillStyle=a))},measureText:function(a,b,c,d){var f=d?a.uo:a.so;f[a.u]?b=f[a.u]:(b.font=0===d?a.oh:a.Uf,b=b.measureText(c).width,f[a.u]=b);return b},l:function(a,b,c,d,f,e,g,k){var l=e,p=String(c).indexOf("\t"),n=0,q=a.h.s,m=this.li*q,r=this.li*a.h.B,u=a.u>=k&&a.u<=k+a.Ba;$a.$t&&0===$a.li&&
(""===b?$a.bm+=c+"\n":"H / Esc"!==b&&($a.bm+=b+"\t"+c+"\n"));if(b.length){u&&(d.font=a.oh,d.fillText(b,f+m,e+r));b=this.measureText(a,d,b,0);b>a.j[n]*q&&""!==c&&(u&&(e+=g,l+=g),a.u+=1,u=a.u>=k&&a.u<=k+a.Ba);u&&(d.font=a.Uf);for(;-1!==p;)u&&d.fillText(c.substring(0,p),f+m+a.j[n]*q,e+r),n+=1,c=c.substring(p+1),p=c.indexOf("\t");p=!1;if(a.ic&&(b=this.measureText(a,d,c,1),f+a.j[n]*q+b>d.canvas.width)){var t=c.toLowerCase();b=t.indexOf("|");-1===b&&("r"===t[0]?b=t.indexOf("b"):"m"!==t[0]&&(b=t.indexOf("s")),
-1===b&&(b=t.indexOf("/"),-1!==b&&"m"!==t[0]?b+=1:(b=c.length>>1,t=t.indexOf(",",b),-1!==t&&(b=t+1))));-1!==b&&(u&&(d.fillText(c.substring(0,b),f+m+a.j[n]*q,e+r),e+=g,l+=g),a.u+=1,(u=a.u>=k&&a.u<=k+a.Ba)&&d.fillText("  "+c.substring(b),f+m+a.j[n]*q,e+r),p=!0)}p||u&&d.fillText(c,f+m+a.j[n]*q,e+r)}else d.font=a.Uf,u&&d.fillText(c,f+m,e+r);u&&(l+=g);a.u+=1;return l},Eb:function(a,b,c){var d=hb.nf,f=Object.keys(d),e,g=!1,k=0;for(e="    "+a+"\t"+b+"\t"+c+("\t#"+(16777216|a<<16|b<<8|c).toString(16).slice(-6).toUpperCase());k<
f.length&&!g;){var l=d[f[k]];l[1]===a&&l[2]===b&&l[3]===c?(e+="\t"+l[0],g=!0,k=f.length):k+=1}return e},oe:function(a){return this.Eb(a.h,a.j,a.i)},UF:function(a){var b=0,c=0;0<a.g.B&&(b=a.g.A.L-a.g.A.J+1,c=a.g.A.N-a.g.A.K+1);-1!==a.g.S&&(0!==a.g.ba&&(b=a.g.ba),0!==a.g.$&&(c=a.g.$));return b+" x "+c},XF:function(a){var b="AutoFit";a.nd&&(b+=" History");a.rd&&(b+=" State 1");return b},sC:function(a,b){b-=a.length;for(var c="";0<b;)c+=" ",--b;return c+a},Wt:function(a){var b=a.indexOf(","),c=a.lastIndexOf(",");
return[parseInt(a.substring(4,b),10),parseInt(a.substring(b+1,c),10),parseInt(a.substring(c+1,a.length-1),10)]},PC:function(a,b,c,d,f,e){var g=d;switch(a.Fd){case G.Ng:this.iJ(a,b,c,d,f,e);break;case G.Xu:this.cJ(a,b,c,d,f,e);break;case G.Ux:this.gJ(a,b,c,d,f,e);break;case G.gr:this.bJ(a,b,c,d,f,e);break;case G.jy:this.hJ(a,b,c,d,f,e);break;case G.Yt:this.VI(a,b,c,d,f,e);break;case G.wt:this.TI(a,b,c,d,f,e);break;case G.zv:this.dJ(a,b,c,d,f,e);break;case G.Zt:this.WI(a,b,c,d,f,e);break;case G.At:this.UI(a,
b,c,d,f,e)}a.Yi=a.u-1;a.u=1;a.j[0]=120;d=g+f*(a.Ba+2);a.Fd!==G.Ng?d=this.$I(a,"Up"," / ","Down","scroll help",b,c,d,f,0):d+=f;a.Ad?this.l(a,"H","close help",b,c,d,f,0):this.l(a,"H / Esc","close help",b,c,d,f,0)},iJ:function(a,b,c,d,f,e){var g=W.R?G.Bx:G.$C;a.u=1;a.ic=!1;a.B=[];a.j[0]=108;a.B[0]=[a.u,"Top"];d=this.l(a,"",G.fo+" "+g+" build "+G.Zr+" by "+G.rD,b,c,d,f,e);W.R&&(d=this.l(a,"","Alpha release for testing",b,c,d,f,e));a.hn&&(d=this.l(a,"","",b,c,d,f,e),d=this.l(a,"","If there are no cells displayed please go to chrome://flags",
b,c,d,f,e),this.l(a,"","and set Out-of-process 2D canvas rasterization to Disabled. ",b,c,d,f,e))},UI:function(a,b,c,d,f,e){var g,k=0,l=a.h.s;a.u=1;a.ic=!1;a.B=[];a.B[k]=[a.u,"Top"];k+=1;a.j[0]=128;a.j[1]=208;a.j[2]=288;a.j[3]=368;d=this.l(a,"","Annotations",b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);a.B[k]=[a.u,"Labels"];k+=1;d=this.l(a,"","Labels:",b,c,d,f,e);d=this.l(a,"Number",a.s.m.length,b,c,d,f,e);for(g=0;g<a.s.m.length;g+=1){var p="Label "+String(g+1);d=this.l(a,p,a.s.ya(g),b,c,d,f,e);d=this.l(a,
" ",a.s.za(g),b,c,d,f,e);d=this.l(a," ",a.s.Ba(g),b,c,d,f,e);p=this.Wt(a.s.Ca(g));this.gb(a,p[0],p[1],p[2],b,c+a.j[0]*l,d,f,e);d=this.l(a,"Colour",this.Eb(p[0],p[1],p[2]),b,c,d,f,e)}d=this.l(a,"","",b,c,d,f,e);a.B[k]=[a.u,"Arrows"];k+=1;d=this.l(a,"","Arrows:",b,c,d,f,e);d=this.l(a,"Number",a.s.s.length,b,c,d,f,e);for(g=0;g<a.s.s.length;g+=1)p="Arrow "+String(g+1),d=this.l(a,p,a.s.ea(g),b,c,d,f,e),d=this.l(a," ",a.s.fa(g),b,c,d,f,e),d=this.l(a," ",a.s.ga(g),b,c,d,f,e),p=this.Wt(a.s.Iq(g)),this.gb(a,
p[0],p[1],p[2],b,c+a.j[0]*l,d,f,e),d=this.l(a,"Colour",this.Eb(p[0],p[1],p[2]),b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);a.B[k]=[a.u,"Polygons"];d=this.l(a,"","Polygons:",b,c,d,f,e);d=this.l(a,"Number",a.s.u.length,b,c,d,f,e);for(g=0;g<a.s.u.length;g+=1)p="Polygon "+String(g+1),d=this.l(a,p,a.s.Sa(g),b,c,d,f,e),d=this.l(a," ",a.s.Ua(g),b,c,d,f,e),d=this.l(a," ",a.s.Va(g),b,c,d,f,e),p=this.Wt(a.s.Wa(g)),this.gb(a,p[0],p[1],p[2],b,c+a.j[0]*l,d,f,e),d=this.l(a,"Colour",this.Eb(p[0],p[1],p[2]),b,c,d,f,e)},
cJ:function(a,b,c,d,f,e){var g,k=0;a.u=1;a.B=[];a.ic=!0;a.j[0]=124;a.B[k]=[a.u,"Top"];k+=1;d=this.l(a,"","Keyboard commands",b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);a.B[k]=[a.u,"Playback"];k+=1;d=this.l(a,"","Playback controls:",b,c,d,f,e);if(a.Sa)d=this.l(a,"R","reset",b,c,d,f,e);else{d=this.l(a,"Enter","toggle play / pause",b,c,d,f,e);d=this.l(a,"Space","pause / next generation",b,c,d,f,e);d=this.l(a,"B","pause / previous generation",b,c,d,f,e);d=this.l(a,"Backspace","pause / previous generation",
b,c,d,f,e);d=this.l(a,"Tab","pause / next step",b,c,d,f,e);d=this.l(a,"Shift Tab","pause / previous step",b,c,d,f,e);if(a.g.ja||a.g.s)d=this.l(a,"U","toggle playback direction",b,c,d,f,e);d=a.Ad?this.l(a,"Esc","close LifeViewer",b,c,d,f,e):this.l(a,"Esc","pause if playing",b,c,d,f,e);d=this.l(a,"R","reset to generation 0",b,c,d,f,e);d=this.l(a,"Shift N","go to generation",b,c,d,f,e);d=this.l(a,"-","decrease playback speed",b,c,d,f,e);d=this.l(a,"+","increase playback speed",b,c,d,f,e);d=this.l(a,
"Shift -","minimum playback speed",b,c,d,f,e);d=this.l(a,"Shift +","maximum playback speed",b,c,d,f,e);d=this.l(a,"0","reset step and speed",b,c,d,f,e);d=this.l(a,a.A+" P","toggle pause playback while drawing",b,c,d,f,e);a.g.ag()&&(d=this.l(a,"F7","toggle fast lookup",b,c,d,f,e));d=this.l(a,a.D+" T","toggle throttling",b,c,d,f,e);a.za?-1!==a.Sb?(d=this.l(a,"W","toggle waypoint playback and loop",b,c,d,f,e),d=this.l(a,"Shift P","toggle just loop",b,c,d,f,e)):d=this.l(a,"W","toggle waypoint playback",
b,c,d,f,e):-1!==a.Sb&&(d=this.l(a,"W","toggle loop",b,c,d,f,e));a.$a&&(d=this.l(a,a.D+" O","toggle autostart",b,c,d,f,e));-1!==a.uc&&(d=this.l(a,a.D+" P","toggle stop",b,c,d,f,e))}d=this.l(a,"","",b,c,d,f,e);a.B[k]=[a.u,"Multi"];k+=1;d=this.l(a,"","Multi-Viewer controls:",b,c,d,f,e);Ea.ub&&(d=this.l(a,"Page Up","previous universe",b,c,d,f,e),d=this.l(a,"Page Down","next universe",b,c,d,f,e),d=this.l(a,"Home","first universe",b,c,d,f,e),d=this.l(a,"End","last universe",b,c,d,f,e));d=this.l(a,"Shift R",
"reset all LifeViewers to generation 0",b,c,d,f,e);d=this.l(a,"Z","stop playback in all other LifeViewers",b,c,d,f,e);d=this.l(a,"Shift Z","stop playback in all LifeViewers",b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);a.B[k]=[a.u,"Camera"];k+=1;d=this.l(a,"","Camera controls:",b,c,d,f,e);if(a.displayHeight>=G.al||(a.ka&&a.kt)>=G.al)d=this.l(a,"M","toggle settings menu",b,c,d,f,e);d=this.l(a,"V","restore saved camera position",b,c,d,f,e);d=this.l(a,"Shift V","save current camera position",b,c,d,f,e);var l=
a.s.i.length;if(0<l&&(d=this.l(a,"J","jump to next point of interest",b,c,d,f,e),d=this.l(a,"Shift J","jump to previous point of interest",b,c,d,f,e),9<l&&(l=9),!a.jb&&!a.vc))for(g=1;g<=l;g+=1)d=this.l(a,a.D+" "+String(g),"jump to POI #"+String(g),b,c,d,f,e);d=this.l(a,"F","fit pattern to display",b,c,d,f,e);d=this.l(a,"Shift F","toggle autofit",b,c,d,f,e);d=this.l(a,"Shift H","toggle autofit history mode",b,c,d,f,e);d=this.l(a,a.A+" F","fit selection to display",b,c,d,f,e);d=this.l(a,a.A+" M","center pattern on display",
b,c,d,f,e);a.g.O&&(d=this.l(a,"Shift S","toggle autofit state 1 mode",b,c,d,f,e));d=this.l(a,"[","zoom out",b,c,d,f,e);d=this.l(a,"]","zoom in",b,c,d,f,e);d=this.l(a,"Shift [","halve zoom",b,c,d,f,e);d=this.l(a,"Shift ]","double zoom",b,c,d,f,e);d=this.l(a,"1","1x zoom",b,c,d,f,e);d=this.l(a,"2","2x zoom",b,c,d,f,e);d=this.l(a,"4","4x zoom",b,c,d,f,e);d=this.l(a,"8","8x zoom",b,c,d,f,e);d=this.l(a,"6","16x zoom",b,c,d,f,e);d=this.l(a,"3","32x zoom",b,c,d,f,e);d=this.l(a,"Shift 1","integer zoom",b,
c,d,f,e);d=this.l(a,"Shift 2","-2x zoom",b,c,d,f,e);d=this.l(a,"Shift 4","-4x zoom",b,c,d,f,e);d=this.l(a,"Shift 8","-8x zoom",b,c,d,f,e);d=this.l(a,"Shift 6","-16x zoom",b,c,d,f,e);d=this.l(a,"Shift 3","-32x zoom",b,c,d,f,e);d=this.l(a,"Left","pan left",b,c,d,f,e);d=this.l(a,"Right","pan right",b,c,d,f,e);d=this.l(a,"Up","pan up",b,c,d,f,e);d=this.l(a,"Down","pan down",b,c,d,f,e);d=this.l(a,"Shift Left","pan north west",b,c,d,f,e);d=this.l(a,"Shift Right","pan south east",b,c,d,f,e);d=this.l(a,"Shift Up",
"pan north east",b,c,d,f,e);d=this.l(a,"Shift Down","pan south west",b,c,d,f,e);d=this.l(a,"<","rotate left",b,c,d,f,e);d=this.l(a,">","rotate right",b,c,d,f,e);d=this.l(a,"Shift <","rotate left 90 degrees",b,c,d,f,e);d=this.l(a,"Shift >","rotate right 90 degrees",b,c,d,f,e);d=this.l(a,a.D+" <","rotate left 45 degrees",b,c,d,f,e);d=this.l(a,a.D+" >","rotate right 45 degrees",b,c,d,f,e);d=this.l(a,"5","reset angle",b,c,d,f,e);d=this.l(a,a.D+" /","snap angle to nearest 45 degrees",b,c,d,f,e);d=this.l(a,
"'","tilt down",b,c,d,f,e);d=this.l(a,"/","tilt up",b,c,d,f,e);d=this.l(a,"@","reset tilt",b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);a.Sa||(a.B[k]=[a.u,"View"],k+=1,d=this.l(a,"","View controls:",b,c,d,f,e),d=this.l(a,"Q","increase number of layers",b,c,d,f,e),d=this.l(a,"A","decrease number of layers",b,c,d,f,e),d=this.l(a,"P","increase layer depth",b,c,d,f,e),d=this.l(a,"L","decrease layer depth",b,c,d,f,e),d=this.l(a,"C","next colour theme",b,c,d,f,e),d=this.l(a,"Shift C","previous colour theme",
b,c,d,f,e),d=this.l(a,a.D+" C","default theme",b,c,d,f,e),d=this.l(a,"","",b,c,d,f,e));a.B[k]=[a.u,"Display"];k+=1;d=this.l(a,"","Display controls:",b,c,d,f,e);a.Sa||(d=this.l(a,"G","toggle generation statistics",b,c,d,f,e),d=this.l(a,"Shift G","toggle generation display mode",b,c,d,f,e),a.$b||(d=this.l(a,"Y","toggle population graph",b,c,d,f,e),d=this.l(a,"Shift Y","toggle graph lines",b,c,d,f,e),d=this.l(a,"7","decrease graph opacity",b,c,d,f,e),d=this.l(a,"9","increase graph opacity",b,c,d,f,e),
d=this.l(a,"Shift F3","toggle population plot",b,c,d,f,e),d=this.l(a,"Shift F4","toggle births plot",b,c,d,f,e),d=this.l(a,"Shift F5","toggle deaths plot",b,c,d,f,e)),d=this.l(a,"Shift W","toggle performance warning",b,c,d,f,e));a.g.ha?d=this.l(a,"?","toggle hexagons for hexagonal grid",b,c,d,f,e):a.g.Z&&(d=this.l(a,"?","toggle triangles for triangular grid",b,c,d,f,e));d=this.l(a,"T","toggle timing information",b,c,d,f,e);d=this.l(a,"Shift T","toggle extended timing information",b,c,d,f,e);W.R&&
(d=this.l(a,a.D+" `","toggle WASM engine",b,c,d,f,e));d=this.l(a,"I","toggle pattern and engine information",b,c,d,f,e);d=this.l(a,"Shift I","toggle information bar",b,c,d,f,e);d=this.l(a,a.D+" I","toggle icons",b,c,d,f,e);d=this.l(a,a.A+" Q","toggle cell anti-aliasing",b,c,d,f,e);d=this.l(a,a.D+" B","toggle cell borders",b,c,d,f,e);d=this.l(a,"X","toggle gridlines",b,c,d,f,e);0<a.g.lb&&(d=this.l(a,"Shift X","toggle major gridlines",b,c,d,f,e));d=this.l(a,a.A+" G","toggle auto gridlines",b,c,d,f,
e);a.g.ja&&(d=this.l(a,a.D+" D","toggle alternating gridlines",b,c,d,f,e));if(a.g.O||a.g.u||-1===a.g.i)d=this.l(a,a.D+" G","convert pattern to [R]Super",b,c,d,f,e),d=this.l(a,a.D+" H","convert pattern to [R]History",b,c,d,f,e),d=this.l(a,a.D+" J","convert pattern to [R]Standard",b,c,d,f,e);0<a.s.B()&&(d=this.l(a,a.D+" L","toggle annotation display",b,c,d,f,e));d=this.l(a,a.A+" L","toggle kill escaping gliders",b,c,d,f,e);a.le&&(d=this.l(a,"N","toggle thumbnail view",b,c,d,f,e));d=this.l(a,"S","toggle stars",
b,c,d,f,e);d=this.l(a,"O","save screenshot",b,c,d,f,e);d=this.l(a,"Shift O","save population graph screenshot",b,c,d,f,e);d=this.l(a,";","save black and white screenshot",b,c,d,f,e);d=this.l(a,"Shift U","toggle UI",b,c,d,f,e);d=this.l(a,a.D+" U","toggle autohide UI during playback",b,c,d,f,e);-1===a.g.i&&(d=this.l(a,a.D+" W","cycle cell shader",b,c,d,f,e));d=this.l(a,"D","download cell map",b,c,d,f,e);d=this.l(a,"E","cycle identify results display",b,c,d,f,e);d=this.l(a,a.D+" E","cycle identify results type",
b,c,d,f,e);d=this.l(a,"F8","toggle cell state display",b,c,d,f,e);d=this.l(a,"Shift F8","toggle y coordinate direction",b,c,d,f,e);d=this.l(a,"F9","toggle popup window maximize",b,c,d,f,e);d=this.l(a,"Shift E","toggle use saved default playback speed",b,c,d,f,e);d=this.l(a,a.A+" E","save default playback speed",b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);a.B[k]=[a.u,"Pattern"];k+=1;d=this.l(a,"","Pattern controls:",b,c,d,f,e);d=this.l(a,a.D+" N","new pattern",b,c,d,f,e);d=this.l(a,a.D+" R","change rule",
b,c,d,f,e);d=this.l(a,a.A+" O","open original or last saved pattern",b,c,d,f,e);d=this.l(a,a.A+"+Shift O","open clipboard as pattern",b,c,d,f,e);d=this.l(a,a.A+" S","save pattern",b,c,d,f,e);d=this.l(a,a.D+" Z","randomize pattern and rule",b,c,d,f,e);d=this.l(a,a.A+"+"+a.D+" Z","randomize pattern only",b,c,d,f,e);d=this.l(a,"F6","toggle pattern identification",b,c,d,f,e);d=this.l(a,"Shift F6","display last identification result",b,c,d,f,e);d=this.l(a,"Shift F9","toggle Safe Mode",b,c,d,f,e);d=this.l(a,
"","",b,c,d,f,e);a.B[k]=[a.u,"Clipboard"];k+=1;d=this.l(a,"","External clipboard controls:",b,c,d,f,e);d=this.l(a,a.D+" S","toggle sync cut and copy with external clipboard",b,c,d,f,e);d=this.l(a,a.A+"+Shift C","copy original pattern",b,c,d,f,e);d=this.l(a,a.A+" C","copy current selection",b,c,d,f,e);d=this.l(a,a.A+"+"+a.D+" C","copy current selection with comments",b,c,d,f,e);d=this.l(a,a.A+"+Shift X","cut original pattern",b,c,d,f,e);d=this.l(a,a.A+" X","cut current selection",b,c,d,f,e);d=this.l(a,
a.A+"+"+a.D+" X","cut current selection with comments",b,c,d,f,e);d=this.l(a,a.A+" J","copy rule definition",b,c,d,f,e);a.g.D&&2===a.g.i&&(d=this.l(a,a.D+" M","copy rule definition as MAP",b,c,d,f,e));d=this.l(a,"K","copy camera position",b,c,d,f,e);d=this.l(a,"Shift K","copy camera position and view",b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);a.B[k]=[a.u,"Edit"];k+=1;d=this.l(a,"","Edit controls:",b,c,d,f,e);d=this.l(a,"F1","toggle draw/pan mode",b,c,d,f,e);d=this.l(a,"F2","draw mode",b,c,d,f,e);d=this.l(a,
"Shift F2","toggle smart drawing",b,c,d,f,e);d=this.l(a,"F3","pick mode",b,c,d,f,e);d=this.l(a,"F4","select mode",b,c,d,f,e);d=this.l(a,"F5","pan mode",b,c,d,f,e);d=this.l(a,a.A+" A","select all",b,c,d,f,e);d=this.l(a,"Shift A","shrink selection",b,c,d,f,e);d=this.l(a,a.D+" A","toggle auto-shrink selection",b,c,d,f,e);d=this.l(a,a.A+" C","copy",b,c,d,f,e);d=this.l(a,a.A+" D","toggle states display",b,c,d,f,e);d=this.l(a,a.A+" I","invert selection",b,c,d,f,e);d=this.l(a,a.A+" K","remove selection",
b,c,d,f,e);d=this.l(a,a.A+" V","paste",b,c,d,f,e);d=this.l(a,a.A+"+Shift V","paste to selection",b,c,d,f,e);d=this.l(a,a.A+" X","cut",b,c,d,f,e);d=this.l(a,a.A+" Y","redo edit",b,c,d,f,e);d=this.l(a,a.A+" Z","undo edit",b,c,d,f,e);d=this.l(a,a.A+"+Shift Z","redo edit",b,c,d,f,e);d=this.l(a,a.A+" Space","advance selection",b,c,d,f,e);d=this.l(a,"Shift Space","advance outside",b,c,d,f,e);d=this.l(a,"Shift L","cycle paste location",b,c,d,f,e);d=this.l(a,"Shift M","cycle paste mode",b,c,d,f,e);2<a.g.i?
(d=this.l(a,"Shift 5","multi-state random fill",b,c,d,f,e),a.g.s||(d=this.l(a,a.A+"+Shift 5","2-state random fill",b,c,d,f,e))):d=this.l(a,"Shift 5","random fill",b,c,d,f,e);d=this.l(a,a.D+" K","pick cell state to replace with drawing state",b,c,d,f,e);d=this.l(a,a.A+"+"+a.D+" K","clear current drawing state cells",b,c,d,f,e);d=this.l(a,"Del","clear cells in selection",b,c,d,f,e);d=this.l(a,"Shift Del","clear outside selection",b,c,d,f,e);a.g.O&&(d=this.l(a,a.A+" Del","clear [R]History cells",b,c,
d,f,e),d=this.l(a,a.D+" Del","clear [R]History marked cells",b,c,d,f,e));d=this.l(a,">","rotate selection clockwise",b,c,d,f,e);d=this.l(a,"<","rotate selection counter-clockwise",b,c,d,f,e);d=this.l(a,a.D+" X","flip selection horizontally",b,c,d,f,e);d=this.l(a,a.D+" Y","flip selection vertically",b,c,d,f,e);d=this.l(a,a.D+" Left","nudge selection 1 cell left",b,c,d,f,e);d=this.l(a,a.D+" Right","nudge selection 1 cell right",b,c,d,f,e);d=this.l(a,a.D+" Up","nudge selection 1 cell up",b,c,d,f,e);
d=this.l(a,a.D+" Down","nudge selection 1 cell down",b,c,d,f,e);d=this.l(a,"Esc","hide paste",b,c,d,f,e);d=this.l(a,"Enter","perform paste",b,c,d,f,e);a.g.O?l=7:(l=-1===a.g.i?2:a.g.i,10<l&&(l=10));for(g=0;g<l;g+=1)d=this.l(a,a.A+" "+g,"select state "+g+" for drawing",b,c,d,f,e);d=this.l(a,"Shift B","toggle clipboard library",b,c,d,f,e);for(g=0;10>g;g+=1)d=this.l(a,a.D+" "+g,"make clipboard "+g+" active",b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);a.B[k]=[a.u,"Help"];d=this.l(a,"","Help controls:",b,c,
d,f,e);d=this.l(a,"Up","scroll up one line",b,c,d,f,e);d=this.l(a,"Down","scroll down one line",b,c,d,f,e);d=this.l(a,"Page Up","scroll up one page",b,c,d,f,e);d=this.l(a,"Page Down","scroll down one page",b,c,d,f,e);d=this.l(a,"Shift Page Up","scroll up one section",b,c,d,f,e);d=this.l(a,"Shift Page Down","scroll down one section",b,c,d,f,e);d=this.l(a,"Home","go to first help page",b,c,d,f,e);d=this.l(a,"End","go to last help page",b,c,d,f,e);this.l(a,"Ins","show help sections",b,c,d,f,e)},gJ:function(a,
b,c,d,f,e){var g=0,k;a.u=1;a.ic=!1;a.B=[];a.j[0]=252;a.B[g]=[a.u,"Top"];g+=1;d=this.l(a,"","Scripts",b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);d=this.l(a,"","Scripts must be embedded in pattern comments",b,c,d,f,e);d=this.l(a,"","Commands must be surrounded by whitespace",b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);a.B[g]=[a.u,"Params"];g+=1;d=this.l(a,"","Parameter conventions:",b,c,d,f,e);d=this.l(a,"A|B","either A or B",b,c,d,f,e);d=this.l(a,"(A)","A is optional",b,c,d,f,e);d=this.l(a,"A*","zero or more A",
b,c,d,f,e);d=this.l(a,"A+","one or more A",b,c,d,f,e);d=this.l(a,"<1..3>","integer range",b,c,d,f,e);d=this.l(a,"<1.0..3.0>","decimal range",b,c,d,f,e);d=this.l(a,'"<string>"',"text string",b,c,d,f,e);d=this.l(a," "+D.ee+"B","program build number",b,c,d,f,e);d=this.l(a," "+D.ee+"N","pattern name",b,c,d,f,e);d=this.l(a," "+D.ee+"O","pattern originator",b,c,d,f,e);d=this.l(a," "+D.ee+"R","rule name",b,c,d,f,e);d=this.l(a," "+D.ee+"A","rule alias",b,c,d,f,e);d=this.l(a," "+D.ee+"D","rule neighbourhood",
b,c,d,f,e);d=this.l(a," "+D.ee+"T","program title",b,c,d,f,e);d=this.l(a," "+D.ee+"S","random seed",b,c,d,f,e);d=this.l(a," "+D.ee+"G","current generation (Labels)",b,c,d,f,e);d=this.l(a," "+D.ee+"H","reversible generation (Labels)",b,c,d,f,e);d=this.l(a," "+D.ee+"I","current generation relative (Labels)",b,c,d,f,e);d=this.l(a," "+D.ee+"J","reversible generation relative (Labels)",b,c,d,f,e);d=this.l(a," "+D.ee+"P","current population (Labels)",b,c,d,f,e);d=this.l(a," "+D.ee+"0..9","saved timing as average fps",
b,c,d,f,e);d=this.l(a," "+D.ee+D.ee,D.ee+" symbol",b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);a.B[g]=[a.u,"General"];g+=1;d=this.l(a,"","General:",b,c,d,f,e);d=this.l(a,D.jl,"start script section",b,c,d,f,e);d=this.l(a,D.Fm,"end script section",b,c,d,f,e);d=this.l(a,D.hy,"suppress overwrite warning",b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);a.B[g]=[a.u,"Playback"];g+=1;d=this.l(a,"","Playback:",b,c,d,f,e);d=this.l(a,D.Lq+" ("+D.Wb+")","start play automatically",b,c,d,f,e);d=this.l(a,D.fi+" <1..>|"+D.Wb,
"loop at generation",b,c,d,f,e);d=this.l(a,D.oi+" <1..>|"+D.Wb,"stop at generation",b,c,d,f,e);d=this.l(a,D.Wr+" <1..>","play to generation on load",b,c,d,f,e);d=this.l(a,D.jm+" <"+G.zg+".."+G.PH+">","set steps per second",b,c,d,f,e);d=this.l(a,D.Hm+" <"+G.Ug+".."+a.Ff+">","set generations per step",b,c,d,f,e);(a.g.ja||a.g.s)&&a.g.Bb&&(d=this.l(a,D.Px,"set initial playback to Reverse",b,c,d,f,e));d=this.l(a,D.Gu,"always use hard reset",b,c,d,f,e);d=this.l(a,D.Kq,"identify pattern automatically",b,
c,d,f,e);d=this.l(a,D.zq,"disable playback",b,c,d,f,e);d=this.l(a,D.rw,"disable step back",b,c,d,f,e);d=this.l(a,D.tw,"disable stop messages",b,c,d,f,e);d=this.l(a,D.sw,"disable performance warning",b,c,d,f,e);d=this.l(a,D.vw,"disable playback throttling",b,c,d,f,e);d=this.l(a,D.ru,"starting playback pauses others",b,c,d,f,e);d=this.l(a,D.Ru,"ignore other pause requests",b,c,d,f,e);d=this.l(a,D.nx,"show playback duration",b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);a.B[g]=[a.u,"Camera"];g+=1;d=this.l(a,
"","Camera:",b,c,d,f,e);d=this.l(a,D.Ik+" <0..359>","set camera angle",b,c,d,f,e);d=this.l(a,D.pl+" <0.0..5.0>","set camera tilt",b,c,d,f,e);d=this.l(a,D.gf+" <-"+(a.g.ea>>1)+".."+(a.g.ea>>1)+">","set camera x position",b,c,d,f,e);d=this.l(a,D.jf+" <-"+(a.g.ea>>1)+".."+(a.g.ea>>1)+">","set camera y position",b,c,d,f,e);d=this.l(a,D.qe+" <"+Number(-1/G.Ab).toFixed(1)+".."+G.Pb.toFixed(1)+">","set camera zoom",b,c,d,f,e);d=this.l(a,D.xt,"same as "+D.qe,b,c,d,f,e);d=this.l(a,D.Jq+" ("+D.Wb+")","fit pattern to display",
b,c,d,f,e);d=this.l(a,D.Nu+" ("+D.Wb+")","autofit uses pattern history",b,c,d,f,e);d=this.l(a,D.by+" ("+D.Wb+")","autofit only uses state 1",b,c,d,f,e);d=this.l(a,D.wq+" X Y","camera tracking",b,c,d,f,e);d=this.l(a," X ","horizontal speed cells/gen",b,c,d,f,e);d=this.l(a," Y ","vertical speed cells/gen",b,c,d,f,e);d=this.l(a,D.Lm+" E S W N","camera box tracking",b,c,d,f,e);d=this.l(a," E ","east edge speed cells/gen",b,c,d,f,e);d=this.l(a," S ","south edge speed cells/gen",b,c,d,f,e);d=this.l(a," W ",
"west edge speed cells/gen",b,c,d,f,e);d=this.l(a," N ","north edge speed cells/gen",b,c,d,f,e);d=this.l(a,D.vq+" P X Y","camera tracking with loop",b,c,d,f,e);d=this.l(a," P ","period",b,c,d,f,e);d=this.l(a," X ","horizontal speed cells/gen",b,c,d,f,e);d=this.l(a," Y ","vertical speed cells/gen",b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);a.B[g]=[a.u,"Waypoints"];g+=1;d=this.l(a,"","Waypoints:",b,c,d,f,e);d=this.l(a,D.oq+" <0..>","waypoint at generation",b,c,d,f,e);d=this.l(a,D.lx+" <0.0..>","pause for time",
b,c,d,f,e);d=this.l(a,D.Tg+" "+D.fg+"|"+D.gf+"|"+D.jf+"|"+D.qe,"linear motion",b,c,d,f,e);d=this.l(a,D.Zh+" "+D.fg+"|"+D.gf+"|"+D.jf+"|"+D.qe,"bezier motion (default)",b,c,d,f,e);d=this.l(a,D.eD,"save timing at waypoint start",b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);a.B[g]=[a.u,"POIs"];g+=1;d=this.l(a,"","Points of interest:",b,c,d,f,e);d=this.l(a,D.Gr,"define point of interest",b,c,d,f,e);d=this.l(a,D.Fr+" <0..>","start POI at generation",b,c,d,f,e);d=this.l(a,D.eq,"reset generation at POI",b,c,d,
f,e);d=this.l(a,D.Qo,"start playback at POI",b,c,d,f,e);d=this.l(a,D.Ro,"stop playback at POI",b,c,d,f,e);d=this.l(a,D.fq+" <"+Va.IC+".."+Va.HC+">","set POI transition speed",b,c,d,f,e);d=this.l(a,"<command>|ALL "+D.zc,"use initial value for POI",b,c,d,f,e);d=this.l(a,D.Ld+"<string>"+D.Ld,"define message",b,c,d,f,e);d=this.l(a,D.px,"add Labels as POIs",b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);a.B[g]=[a.u,"Annotations"];g+=1;d=this.l(a,"","Annotations:",b,c,d,f,e);d=this.l(a,D.Tp+" X Y ZOOM","define label at position",
b,c,d,f,e);d=this.l(a," ("+D.ce+") "+D.Ld+"<string>"+D.Ld,"... fix position, label text ",b,c,d,f,e);d=this.l(a,D.lv+" <"+G.MB+".."+G.GB+">","define label font size",b,c,d,f,e);d=this.l(a," ("+D.ce+")","... optionally fix size",b,c,d,f,e);d=this.l(a,D.fv+" <0.0..1.0>","define label font alpha",b,c,d,f,e);d=this.l(a,D.mv+" <0..> <0..> <0..>","generation range / fade",b,c,d,f,e);d=this.l(a,D.gv+" <0..359>","label angle",b,c,d,f,e);d=this.l(a," ("+D.ce+")","... optionally fix angle",b,c,d,f,e);d=this.l(a,
D.ov+" D|"+D.Wb,"label view distance",b,c,d,f,e);d=this.l(a,D.pv+" MINZOOM MAXZOOM|"+D.Wb,"label zoom visibility",b,c,d,f,e);d=this.l(a,D.nv+" DX DY|"+D.ce,"label move per generation",b,c,d,f,e);d=this.l(a,D.kv+" ("+D.Wb+")","turn label shadow on or off",b,c,d,f,e);d=this.l(a,D.ev+" "+D.bv+"|"+D.cv+"|"+D.dv,"set label text alignment",b,c,d,f,e);d=this.l(a,D.Fp+" X1 Y1 X2 Y2 ZOOM","define arrow at position",b,c,d,f,e);d=this.l(a," ("+D.ce+")","... fix position",b,c,d,f,e);d=this.l(a,D.Gt+" <"+G.vr+
".."+G.mr+"> <0.0..1.0>","line width and head multiple",b,c,d,f,e);d=this.l(a,D.Dt+" <0.0..1.0>","define arrow alpha",b,c,d,f,e);d=this.l(a,D.Ht+" <0..> <0..> <0..>","generation range / fade",b,c,d,f,e);d=this.l(a,D.Et+" <0..359>","arrow angle",b,c,d,f,e);d=this.l(a," ("+D.ce+")","... optionally fix angle",b,c,d,f,e);d=this.l(a,D.Jt+" D|"+D.Wb,"arrow view distance",b,c,d,f,e);d=this.l(a,D.Kt+" MINZOOM MAXZOOM|"+D.Wb,"arrow zoom visibility",b,c,d,f,e);d=this.l(a,D.It+" DX DY|"+D.ce,"arrow move per generation",
b,c,d,f,e);d=this.l(a,D.Ft+" ("+D.Wb+")","turn arrow shadow on or off",b,c,d,f,e);d=this.l(a,D.tx+" X1 Y1 X2 Y2 .. ZOOM","define outline polygon",b,c,d,f,e);d=this.l(a," ("+D.ce+")","... fix position",b,c,d,f,e);d=this.l(a,D.Hr+" X1 Y1 X2 Y2 .. ZOOM","define filled polygon",b,c,d,f,e);d=this.l(a," ("+D.ce+")","... fix position",b,c,d,f,e);d=this.l(a,D.vx+" <"+G.vr+".."+G.mr+">","line width",b,c,d,f,e);d=this.l(a,D.qx+" <0.0..1.0>","define polygon alpha",b,c,d,f,e);d=this.l(a,D.wx+" <0..> <0..> <0..>",
"generation range / fade",b,c,d,f,e);d=this.l(a,D.sx+" <0..359>","polygon angle",b,c,d,f,e);d=this.l(a," ("+D.ce+")","... optionally fix angle",b,c,d,f,e);d=this.l(a,D.yx+" D|"+D.Wb,"polygon view distance",b,c,d,f,e);d=this.l(a,D.zx+" MINZOOM MAXZOOM|"+D.Wb,"polygon zoom visilibility",b,c,d,f,e);d=this.l(a,D.xx+" DX DY|"+D.ce,"polygon move per generation",b,c,d,f,e);d=this.l(a,D.ux+" ("+D.Wb+")","turn polygon shadow on or off",b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);a.B[g]=[a.u,"Display"];g+=1;d=this.l(a,
"","Display:",b,c,d,f,e);d=this.l(a,D.mp+" <"+G.jd+".."+a.Cc+">","set LifeViewer width",b,c,d,f,e);d=this.l(a,D.lo+" <"+G.Uh+".."+G.Wp+">","set LifeViewer height",b,c,d,f,e);d=this.l(a,D.hq+" <"+G.jd+".."+a.Cc+">","set popup width",b,c,d,f,e);d=this.l(a,D.gq+" <"+G.Uh+".."+G.Wp+">","set popup height",b,c,d,f,e);d=this.l(a,D.hp+" "+D.Ld+"<string>"+D.Ld,"set popup window title",b,c,d,f,e);d=this.l(a,D.qm+" <"+G.ur+".."+G.lr+">","set number of layers",b,c,d,f,e);d=this.l(a,D.dm+" <"+G.tr.toFixed(1)+
".."+G.FB.toFixed(1)+">","set layer depth",b,c,d,f,e);d=this.l(a,D.Pp+" ("+D.Wb+")","display gridlines",b,c,d,f,e);d=this.l(a,D.Op+" <0..16>","set major grid line interval",b,c,d,f,e);d=this.l(a,D.Ep+" <0.."+(2<a.g.i?1:63)+">","number of age states to draw",b,c,d,f,e);d=this.l(a,D.mo+" <0.."+(2<a.g.i?1:63)+">","number of history states to draw",b,c,d,f,e);d=this.l(a,D.mq+" ("+D.Wb+")","display stars",b,c,d,f,e);a.g.ha?(d=this.l(a,D.Iu,"hexagonal cells for grid",b,c,d,f,e),d=this.l(a,D.Tr,"offset square cells for grid",
b,c,d,f,e)):a.g.Z&&(d=this.l(a,D.Hy,"triangular cells for grid",b,c,d,f,e),d=this.l(a,D.Tr,"rectangular cells for grid",b,c,d,f,e));d=this.l(a,D.Pt,"display cell borders",b,c,d,f,e);d=this.l(a,D.Oy,"display cells as icons",b,c,d,f,e);d=this.l(a,D.qw,"disable menus and hotkeys",b,c,d,f,e);d=this.l(a,D.Lu,"hide menus during playback",b,c,d,f,e);d=this.l(a,D.Zx,"show timing information",b,c,d,f,e);d=this.l(a,D.su,"extended timing information",b,c,d,f,e);d=this.l(a,D.Xx,"show generation statistics",b,
c,d,f,e);d=this.l(a,D.Yx,"show information bar",b,c,d,f,e);d=this.l(a,D.Wx+" shader","set the cell shader",b,c,d,f,e);d=this.l(a," "+D.Gp,"use alive and dead colours",b,c,d,f,e);d=this.l(a," "+D.iq,"use rainbow colours",b,c,d,f,e);d=this.l(a," "+D.Ho,"use neighbour count colours",b,c,d,f,e);d=this.l(a," "+D.$p,"same as "+D.Ho,b,c,d,f,e);d=this.l(a,D.Ex,"use high quality rendering",b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);a.B[g]=[a.u,"Thumb"];g+=1;d=this.l(a,"","Thumbnails:",b,c,d,f,e);d=this.l(a,D.oy+
" ("+D.Wb+")","start at 1/"+a.Xb+" size",b,c,d,f,e);d=this.l(a,D.ly+" <"+G.PB+".."+G.JB+">","set thumbnail divisor",b,c,d,f,e);d=this.l(a,D.ky+" ("+D.Wb+")","thumbnail launches viewer",b,c,d,f,e);d=this.l(a,D.ny+" <"+Number(-1/G.Ab).toFixed(1)+".."+G.Pb.toFixed(1)+">","set thumbnail zoom",b,c,d,f,e);d=this.l(a,D.my,"start playback on thumbnail expand",b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);a.B[g]=[a.u,"Graph"];g+=1;d=this.l(a,"","Population Graph:",b,c,d,f,e);d=this.l(a,D.br,"display population graph",
b,c,d,f,e);d=this.l(a,D.Cu+" <0.0..1.0>","population graph opacity",b,c,d,f,e);d=this.l(a,D.Du,"population graph use points",b,c,d,f,e);d=this.l(a,D.Ar,"disable population graph",b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);a.B[g]=[a.u,"Colours"];g+=1;d=this.l(a,"","Colours:",b,c,d,f,e);a.g.u||a.g.G||a.g.D||a.g.la?d=this.l(a,D.yb+" "+D.cp+" R G B","set background color",b,c,d,f,e):(d=this.l(a,D.$j+" <0.."+(a.g.Mb-1)+">|name","set theme",b,c,d,f,e),d=this.l(a," name = "+D.ep,"set custom theme",b,c,d,f,e),
d=this.l(a,D.yb+" "+D.cp+" R G B","set theme background",b,c,d,f,e),a.g.s||(d=this.l(a,D.yb+" "+D.bp+" R G B","set theme alive color",b,c,d,f,e),2>=a.g.i&&(d=this.l(a,D.yb+" "+D.qq+" R G B","set theme alive ramp",b,c,d,f,e))),d=this.l(a,D.yb+" "+D.gp+" R G B","set theme dead color",b,c,d,f,e),d=this.l(a,D.yb+" "+D.fp+" R G B","set theme dead ramp",b,c,d,f,e),!a.g.s&&2<a.g.i&&(d=this.l(a,D.yb+" "+D.sq+" R G B","set theme dying color",b,c,d,f,e),d=this.l(a,D.yb+" "+D.rq+" R G B","set theme dying ramp",
b,c,d,f,e)));d=this.l(a,D.yb+" "+D.hA+" R G B","set boundary color",b,c,d,f,e);d=this.l(a,D.yb+" <0.."+(-1===a.g.i?a.g.O?"6":"1":String(a.g.i-1))+"> R G B","set state color",b,c,d,f,e);a.g.O&&(d=this.l(a,D.yb+" "+D.yw+" R G B","set [R]History state color "+G.zI,b,c,d,f,e),d=this.l(a,D.yb+" "+D.Bw+" R G B","set [R]History state color "+G.AI,b,c,d,f,e),d=this.l(a,D.yb+" "+D.Mu+" R G B","set [R]History state color "+G.mH,b,c,d,f,e),d=this.l(a,D.yb+" "+D.uv+" R G B","set [R]History state color "+G.AB,
b,c,d,f,e),d=this.l(a,D.yb+" "+D.wv+" R G B","set [R]History state color "+G.CB,b,c,d,f,e),d=this.l(a,D.yb+" "+D.vv+" R G B","set [R]History state color "+G.BB,b,c,d,f,e),d=this.l(a,D.yb+" "+D.Yu+" R G B","set [R]History state color "+G.sB,b,c,d,f,e));a.g.s&&(d=this.l(a,D.yb+" N*E*S*W* R G B","set PCA state color",b,c,d,f,e));if(a.g.D)for(k=0;k<a.df.length;k+=1)if(void 0!==a.df[k]){var l=a.df[k];var p=a.Iz(l);if(0<=a.jt(l)||a.Wz(l)||a.yH(l)||a.Yz(l)||a.Uz(l))l='"'+l+'"';d=this.l(a,D.yb+" "+l+" R G B",
"set state "+p+" color ",b,c,d,f,e)}d=this.l(a,D.yb+" "+D.Qt+" R G B","set bounded color",b,c,d,f,e);d=this.l(a,D.yb+" "+D.UC+" R G B","set select color",b,c,d,f,e);d=this.l(a,D.yb+" "+D.pj+" R G B","set paste color",b,c,d,f,e);d=this.l(a,D.yb+" "+D.VC+" R G B","set selected cells color",b,c,d,f,e);d=this.l(a,D.yb+" "+D.Pp+" R G B","set grid color",b,c,d,f,e);d=this.l(a,D.yb+" "+D.Op+" R G B","set grid major color",b,c,d,f,e);d=this.l(a,D.yb+" "+D.mq+" R G B","set star color",b,c,d,f,e);d=this.l(a,
D.yb+" "+D.iy+" R G B","set waypoint message color",b,c,d,f,e);d=this.l(a,D.yb+" "+D.pu+" R G B","set error message color",b,c,d,f,e);d=this.l(a,D.yb+" "+D.Hu+" R G B","set help message color",b,c,d,f,e);d=this.l(a,D.yb+" "+D.gB+" R G B","set graph background color",b,c,d,f,e);d=this.l(a,D.yb+" "+D.fB+" R G B","set graph axis color",b,c,d,f,e);d=this.l(a,D.yb+" "+D.eB+" R G B","set graph alive color",b,c,d,f,e);d=this.l(a,D.yb+" "+D.hB+" R G B","set graph birth color",b,c,d,f,e);d=this.l(a,D.yb+" "+
D.iB+" R G B","set graph death color",b,c,d,f,e);d=this.l(a,D.yb+" "+D.Tp+" R G B","set label text color",b,c,d,f,e);d=this.l(a,D.yb+" "+D.Fp+" R G B","set arrow line color",b,c,d,f,e);d=this.l(a,D.yb+" "+D.LC+" R G B","set polygon color",b,c,d,f,e);d=this.l(a,D.yb+" "+D.kD+" R G B","set UI foreground color",b,c,d,f,e);d=this.l(a,D.yb+" "+D.iD+" R G B","set UI background color",b,c,d,f,e);d=this.l(a,D.yb+" "+D.lD+" R G B","set UI highlight text color",b,c,d,f,e);d=this.l(a,D.yb+" "+D.nD+" R G B",
"set UI selected color",b,c,d,f,e);d=this.l(a,D.yb+" "+D.mD+" R G B","set UI locked color",b,c,d,f,e);d=this.l(a,D.yb+" "+D.jD+" R G B","set UI border color",b,c,d,f,e);d=this.l(a,D.Xt,"same as "+D.yb,b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);a.B[g]=[a.u,"Pattern"];g+=1;d=this.l(a,"","Pattern:",b,c,d,f,e);d=this.l(a,D.ws+" <-"+(a.g.ea>>1)+".."+(a.g.ea>>1)+">","set pattern x offset",b,c,d,f,e);d=this.l(a,D.xs+" <-"+(a.g.ea>>1)+".."+(a.g.ea>>1)+">","set pattern y offset",b,c,d,f,e);d=this.l(a,D.ju+" <"+
G.KB+".."+G.EB+">","set boundary delete range",b,c,d,f,e);d=this.l(a,D.pw,"disable pattern source copy",b,c,d,f,e);d=this.l(a,D.uw,"hide pattern source",b,c,d,f,e);d=this.l(a,D.kr+" <"+G.LB+".."+G.xv+">","set maximum grid size 2^n",b,c,d,f,e);d=this.l(a,D.Uo+" name X Y (<1..>)+","create a named recipe",b,c,d,f,e);d=this.l(a,D.Em+" name rle|"+D.Xh+" W H","create a named set of cells",b,c,d,f,e);d=this.l(a," (X Y) (TRANS)","... X Y and transformation",b,c,d,f,e);d=this.l(a," "+D.Cy,"identity",b,c,d,
f,e);d=this.l(a," "+D.zy,"flip",b,c,d,f,e);d=this.l(a," "+D.Ay,"flip X",b,c,d,f,e);d=this.l(a," "+D.By,"flip Y",b,c,d,f,e);d=this.l(a," "+D.Fy,"swap X and Y",b,c,d,f,e);d=this.l(a," "+D.Gy,"swap X and Y and flip",b,c,d,f,e);d=this.l(a," "+D.Ey,"rotate clockwise",b,c,d,f,e);d=this.l(a," "+D.Dy,"rotate counter-clockwise",b,c,d,f,e);d=this.l(a,D.pj+" name|rle|"+D.Xh+" W H (X Y)","paste cells at optional X Y",b,c,d,f,e);d=this.l(a," (TRANS)","... optional transformation",b,c,d,f,e);d=this.l(a," (XT|YT dp1 dt1 dp2 dt2 ... dpn dtn)",
"... optional slow salvo definition",b,c,d,f,e);d=this.l(a,D.bq+" <0..>","set paste generation",b,c,d,f,e);d=this.l(a," (recipe|<1..>+)*","... optional delta list",b,c,d,f,e);d=this.l(a,D.bq+" "+D.Jp+" <1..>","set paste interval",b,c,d,f,e);d=this.l(a," (<0..> (<1..>))","... optional start and end",b,c,d,f,e);d=this.l(a,D.Cw+" X Y","set position delta for "+D.bq+" "+D.Jp,b,c,d,f,e);d=this.l(a,D.Yw+" <0..15>|mode","set paste mode",b,c,d,f,e);d=this.l(a," 0   0000  "+D.jx,"",b,c,d,f,e);d=this.l(a," 1   0001  "+
D.Lw,"",b,c,d,f,e);d=this.l(a," 2   0010  "+D.Ew,"",b,c,d,f,e);d=this.l(a," 3   0011  "+D.bx+"|"+D.Mw,"",b,c,d,f,e);d=this.l(a," 4   0100  "+D.Gw,"",b,c,d,f,e);d=this.l(a," 5   0101  "+D.hx,"",b,c,d,f,e);d=this.l(a," 6   0110  "+D.ex,"",b,c,d,f,e);d=this.l(a," 7   0111  "+D.Xw,"",b,c,d,f,e);d=this.l(a," 8   1000  "+D.Qw,"",b,c,d,f,e);d=this.l(a," 9   1001  "+D.ax,"",b,c,d,f,e);d=this.l(a," 10  1010  "+D.Uw,"",b,c,d,f,e);d=this.l(a," 11  1011  "+D.Iw,"",b,c,d,f,e);d=this.l(a," 12  1100  "+D.Sw,"",
b,c,d,f,e);d=this.l(a," 13  1101  "+D.Kw,"",b,c,d,f,e);d=this.l(a," 14  1110  "+D.Ow,"",b,c,d,f,e);d=this.l(a," 15  1111  "+D.Ww,"",b,c,d,f,e);d=this.l(a,D.Zu,"suppress escaping gliders",b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);a.B[g]=[a.u,"Randomize"];d=this.l(a,"","Randomize:",b,c,d,f,e);d=this.l(a,D.Nx,"create random pattern",b,c,d,f,e);d=this.l(a,D.Mx,"create 2-state random pattern",b,c,d,f,e);d=this.l(a,D.Jx+" <string>","set random seed",b,c,d,f,e);d=this.l(a,D.Lx+" <"+G.Yp+".."+G.rr+">","set random pattern width",
b,c,d,f,e);d=this.l(a,D.Hx+" <"+G.Av+".."+G.qr+">","set random pattern height",b,c,d,f,e);d=this.l(a,D.Gx+" <"+G.wr+".."+G.pr+">","set random pattern fill percentage",b,c,d,f,e);d=this.l(a,D.Jr+" "+D.ce,"keep rule fixed",b,c,d,f,e);a.g.ja||a.g.s?(d=this.l(a,D.Ix,"only generate reversible rules",b,c,d,f,e),this.l(a,D.Kx,"only generate fixed population rules",b,c,d,f,e)):a.g.Da||-1!==a.g.Sd||(d=this.l(a,D.Jr+" <item> <0..100>","set percentage chance for <item>",b,c,d,f,e),d=this.l(a," "+D.fg,"all conditions",
b,c,d,f,e),d=this.l(a," "+D.Ir,"all birth conditions",b,c,d,f,e),d=this.l(a," "+D.Lr,"all survival conditions",b,c,d,f,e),d=this.l(a," "+D.Ir+"<0..n>","specified birth condition",b,c,d,f,e),this.l(a," "+D.Lr+"<0..n>","specified survival condition",b,c,d,f,e))},bJ:function(a,b,c,d,f,e){var g,k,l=0,p=0,n=W.$c.length,q=a.g.pa[a.g.qb],m=0,r=a.h.s;a.u=1;a.ic=!1;a.B=[];a.j[0]=128;a.j[1]=210;a.j[2]=270;a.j[3]=330;a.j[4]=430;a.B[m]=[a.u,"Top"];m+=1;d=this.l(a,"","Information",b,c,d,f,e);d=this.l(a,"","",
b,c,d,f,e);a.B[m]=[a.u,"Display"];m+=1;d=this.l(a,"","Display:",b,c,d,f,e);d=this.l(a,"Size",a.displayWidth+" x "+a.displayHeight,b,c,d,f,e);d=this.l(a,"Scale",a.h.s.toFixed(2),b,c,d,f,e);d=this.l(a,"Pixel Ratio",a.rj.toFixed(2),b,c,d,f,e);d=this.l(a,"Window Zoom",a.De.toFixed(2),b,c,d,f,e);d=this.l(a,"Refresh",W.tc+"Hz ("+W.wu.toFixed(1)+"ms)",b,c,d,f,e);Ea.Up&&(d=this.l(a,"Limit Width",a.Cc,b,c,d,f,e));var u=a.g.da;1>u&&(u=-1/u);d=this.l(a,"View","X "+-(a.g.width/2-(a.g.ma+a.g.Ka)|0)+"  Y "+-(a.g.height/
2-(a.g.ka+a.g.za)|0)+"  Z "+u.toFixed(2)+"  ANGLE "+a.g.angle.toFixed(0),b,c,d,f,e);u=a.ck;1>u&&(u=1/u);d=this.l(a,"Saved View","X "+-(a.g.width/2-a.ya|0)+"  Y "+-(a.g.height/2-a.Jb|0)+"  Z "+u.toFixed(2)+"  ANGLE "+a.Rs.toFixed(0),b,c,d,f,e);d=this.l(a,"Origin","X "+a.g.Ka.toFixed(2)+"  Y "+a.g.za.toFixed(2)+"  Z "+a.g.cb.toFixed(3),b,c,d,f,e);var t=a.I?a.Sa?"Multi-State Viewer":"Viewer":a.g.O?"History Player":"Player";t=a.Ad?t+" (PopUp)":t+" (InLine)";d=this.l(a,"Type",t,b,c,d,f,e);t=a.g.ha?"Hexagonal":
a.g.Z?"Triangular":"Square";d=this.l(a,"Mode",t,b,c,d,f,e);t="Rectangular";a.g.ha&&!a.g.Fa?t="Hexagonal":a.g.Z&&!a.g.Fa&&(t="Triangular");d=this.l(a,"Cells",t,b,c,d,f,e);d=this.l(a,"Quality",a.g.Vc?"High":"Standard",b,c,d,f,e);a.le&&(d=this.l(a,"Thumbnail","1/"+a.Xb,b,c,d,f,e));d=this.l(a,"","",b,c,d,f,e);a.B[m]=[a.u,"Pattern"];m+=1;d=this.l(a,"","Pattern:",b,c,d,f,e);""!==a.Xe&&(d=this.l(a,"Name",a.Xe,b,c,d,f,e));""!==a.og&&(d=this.l(a,"Originator",a.og,b,c,d,f,e));d=this.l(a,"Actual Size",a.S+" x "+
a.V,b,c,d,f,e);-999999!==a.xd&&-999999!==a.wd&&(d=this.l(a,"Specified",a.xd+" x "+a.wd,b,c,d,f,e));0<a.Vc.length&&(d=this.l(a,"Pastes",a.Vc.length,b,c,d,f,e),d=this.l(a,"Paste Size",a.kg-a.cg+1+" x "+(a.lg-a.bg+1)+" from ("+a.cg+", "+a.bg+") to ("+a.kg+", "+a.lg+")",b,c,d,f,e),d=this.l(a,"Paste Max T",a.Yd+(a.Cl?" + "+D.Jp:""),b,c,d,f,e));0<a.Sd.length&&(d=this.l(a,"RLEs",a.Sd.length,b,c,d,f,e));0<a.fe.length&&(d=this.l(a,"Recipes",a.fe.length,b,c,d,f,e));d=this.l(a,"Offset","X "+a.aa+"  Y "+a.ba,
b,c,d,f,e);a.sk&&(d=this.l(a,"CXRLE Gen",a.Ha,b,c,d,f,e));a.mc&&(d=this.l(a,"CXRLE Pos","X "+a.bc+"  Y "+a.qc,b,c,d,f,e));a.To&&(d=this.l(a,"Clipped",(0===a.g.ba?"Inf":a.g.ba)+" x "+(0===a.g.$?"Inf":a.g.$)+" "+a.X.Xb(a.g.S),b,c,d,f,e));a.ob?t=a.$:(t=a.$,""===t&&(t="(none)"));if("MAP"===t.substring(0,3)&&89===t.length)for(d=this.l(a,"Rule","MAP",b,c,d,f,e),u=3;89>u;)d=this.l(a,"  "+(u-3),t.substring(u,u+16),b,c,d,f,e),u+=16;else a.ic=!0,d=this.l(a,"Rule",t,b,c,d,f,e),a.ic=!1;""!==a.Ka&&(d=this.l(a,
"Alias",a.Ka,b,c,d,f,e));a.g.D&&(t=null===a.g.vb?"@TREE ["+a.g.Yj+"]":"@TABLE ["+a.g.Fc+(0<a.g.ih?" / "+a.g.ih:"")+"]",t=null===a.g.ua&&null===a.g.Yd||!a.g.Cb||-1!==a.g.pb?t+" using standard lookup":t+" using fast lookup",d=this.l(a,"Type",t,b,c,d,f,e),a.g.ag()&&a.ob&&(t="",-1===a.g.pb?(u=null===a.g.Yd?a.g.ua.length:4*a.g.Yd.length,t=(1048576<=u?t+((u>>20)+"Mb"):1024<=u?t+((u>>10)+"Kb"):t+(u+" bytes"))+(" fast lookup created in "+(a.g.Cf/1E3).toFixed(1)+" seconds")):(u=a.g.i,t+="Creating fast lookup ("+
(100*a.g.pb/(u*u*u*u*u)|0)+"%)"),d=this.l(a,"Lookup",t,b,c,d,f,e)));d=this.l(a,"N'hood",a.ht(),b,c,d,f,e);if(a.g.Da)switch(a.g.ca.type){case 15:u=2*a.g.ca.s+1;for(g=0;g<u;g+=1)t=a.g.ca.V.length>u*u?" "+a.g.ca.V.substring(g*u*2,(g+1)*u*2):" "+a.g.ca.V.substring(g*u,(g+1)*u),d=this.l(a,t,"",b,c,d,f,e);break;case 10:for(u=2*a.g.ca.s+1,g=0;g<u;g+=1){t=" ";for(k=0;k<u;k+=1)t=g===u>>1&&k===u>>1?t+"0":t+(a.g.ca.um[u-1-g][u-1-k]?"1":"0");d=this.l(a,t,"",b,c,d,f,e)}}t=String(a.fj);2<a.fj&&a.en!==a.fj&&(t=
a.en+" of "+t);d=this.l(a,"States",t,b,c,d,f,e);if(a.ej)for(g=1;g<a.fj;g+=1)a.ej[g]&&(d=this.l(a,"State "+g,a.ej[g]+"\t"+a.jh(g),b,c,d,f,e));if(a.g.Mc)if(a.j[1]=200,a.j[2]=280,a.j[3]=360,a.j[4]=440,a.g.Mc[0].Mq!==Da.Or)d=this.l(a,"Icons",Da.vJ[a.g.Mc[0].Mq],b,c,d,f,e);else{d=this.l(a,"Icons","Size\tNumber\tColours\tGrayScale",b,c,d,f,e);for(k=0;k<a.g.Mc.length;k+=1)l=a.g.Mc[k].width,p=a.g.Mc[k].height,t=l+"x"+l+"\t"+p/l+"\t"+a.g.Mc[k].xw+"\t"+(a.g.Mc[k].cr?"Yes":"No"),d=this.l(a," ",t,b,c,d,f,e);
for(k=0;k<p/l;k+=1)this.aJ(a,k,a.g.Ud.width,b,c+a.j[0]*r,d,f,e),t=a.jh(k+1),d=this.l(a,"Icon "+String(k+1),"      "+t,b,c,d,f,e)}d=this.l(a,"Decoder",a.tk,b,c,d,f,e);-1!==a.op&&(d=this.l(a,"Last Bench","gens: "+a.Vu+"  time: "+a.op.toFixed(1)+"s  gps: "+(a.Vu/a.op).toFixed(1),b,c,d,f,e));d=this.l(a,"","",b,c,d,f,e);if("none"!==a.zb&&"Empty"!==a.zb){a.B[m]=[a.u,"Identify"];m+=1;d=this.l(a,"","Identify:",b,c,d,f,e);d=this.l(a,"Type",a.zb,b,c,d,f,e);d=this.l(a,"Cells",a.Qi,b,c,d,f,e);""!==a.g.yh&&(d=
this.l(a,"  T Min/Max",a.g.yh,b,c,d,f,e));"Oscillator"===a.zb&&(d=this.l(a,"Active",a.pp,b,c,d,f,e));d=this.l(a,"Bounding",a.Fl,b,c,d,f,e);""!==a.g.xh&&(d=this.l(a,"  T Min/Max",a.g.xh,b,c,d,f,e));"Oscillator"===a.zb?(d=this.l(a,"Period",a.Si,b,c,d,f,e),d=this.l(a,"Mod",a.Ri,b,c,d,f,e)):"Still Life"!==a.zb&&(d=this.l(a,"Direction",a.Gl,b,c,d,f,e),d=this.l(a,"Period",a.Si,b,c,d,f,e),d=this.l(a,"Mod",a.Ri,b,c,d,f,e),d=this.l(a,"Slope",a.Il,b,c,d,f,e),d=this.l(a,"Speed",a.Vi,b,c,d,f,e));"Still Life"!==
a.zb&&-1===a.g.S&&(d=this.l(a,"Heat",a.pi,b,c,d,f,e));if("Oscillator"===a.zb)if(-1===a.g.S&&(d=this.l(a,"Temperature",a.Wm,b,c,d,f,e)),""===a.Bh)d=this.l(a,"Volatility",a.Ch+" | N/A",b,c,d,f,e);else{d=this.l(a,"Volatility",a.Ch+" | "+a.Bh,b,c,d,f,e);a.j[1]=235;a.j[2]=310;a.j[3]=390;a.j[4]=430;a.j[5]=470;a.j[6]=510;a.j[7]=600;d=this.l(a,"  Period","    Count\t% Total\t% Rotor\tColour",b,c,d,f,e);for(g=a.g.ab.length-1;0<g;--g)u=a.g.ab[g],0<u&&(this.gb(a,a.g.Pc[g]>>16,a.g.Pc[g]>>8&255,a.g.Pc[g]&255,
b,c+a.j[0]*r,d,f,e),l=this.Eb(a.g.Pc[g]>>16,a.g.Pc[g]>>8&255,a.g.Pc[g]&255).trim(),d=1<g?this.l(a,"  "+g,"    "+u+"\t"+(Math.floor(1E4*u/a.g.Mg)/100).toFixed(2)+"%\t"+(Math.floor(1E4*u/a.g.Ri)/100).toFixed(2)+"%\t"+l,b,c,d,f,e):this.l(a,"  "+g,"    "+u+"\t"+(Math.floor(1E4*u/a.g.Mg)/100).toFixed(2)+"%\t\t"+l,b,c,d,f,e));d=this.l(a,"  Frequency","    Count\t% Total\t\tColour",b,c,d,f,e);for(g=a.g.rj-1;0<=g;--g)u=a.g.Kf[g],this.gb(a,a.g.dd[g]>>16,a.g.dd[g]>>8&255,a.g.dd[g]&255,b,c+a.j[0]*r,d,f,e),l=
this.Eb(a.g.dd[g]>>16,a.g.dd[g]>>8&255,a.g.dd[g]&255).trim(),k=a.g.ff[g],d=this.l(a,"  "+u,"    "+k+"\t"+(100*k/a.g.ki).toFixed(2)+"%\t\t"+l,b,c,d,f,e);a.g.Jb&&(this.gb(a,96,96,96,b,c+a.j[0]*r,d,f,e),d=a.g.G?this.l(a,"  State3","    "+a.g.Jb+"\t\t\t"+this.Eb(96,96,96).trim(),b,c,d,f,e):this.l(a,"  State6","    "+a.g.Jb+"\t\t\t"+this.Eb(96,96,96).trim(),b,c,d,f,e));this.gb(a,0,0,0,b,c+a.j[0]*r,d,f,e);a.g.Bk||(d=this.l(a,"  Back","\t\t\t"+this.Eb(0,0,0).trim(),b,c,d,f,e));-1!==a.g.S&&(this.gb(a,128,
128,128,b,c+a.j[0]*r,d,f,e),d=this.l(a,"  Bounded","\t\t\t"+this.Eb(128,128,128).trim(),b,c,d,f,e));this.gb(a,80,80,80,b,c+a.j[0]*r,d,f,e);d=this.l(a,"  Grid","\t\t\t"+this.Eb(80,80,80).trim(),b,c,d,f,e)}"Still Life"===a.zb&&(d=this.l(a,"Density",a.qp,b,c,d,f,e));d=this.l(a,"Generation",a.Vm,b,c,d,f,e);d=this.l(a,"Time","Period: "+a.g.Ck.toFixed(1)+" seconds   Total: "+a.g.Dk.toFixed(1)+" seconds",b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e)}a.B[m]=[a.u,"Grid"];m+=1;d=this.l(a,"","Grid:",b,c,d,f,e);d=this.l(a,
"Size",a.g.width+" x "+a.g.height,b,c,d,f,e);d=this.l(a,"Maximum",a.g.ea+" x "+a.g.ea,b,c,d,f,e);d=this.l(a,"Area",this.UF(a),b,c,d,f,e);d=a.g.D||a.g.G?0!==(a.g.counter&1)?this.l(a,"Tiles",a.g.Kd(a.g.H)+" / "+a.g.Kd(a.g.m),b,c,d,f,e):this.l(a,"Tiles",a.g.Kd(a.g.j)+" / "+a.g.Kd(a.g.m),b,c,d,f,e):0!==(a.g.counter&1)?this.l(a,"Tiles",a.g.Kd(a.g.H)+" / "+a.g.Kd(a.g.wa)+" / "+a.g.Kd(a.g.m),b,c,d,f,e):this.l(a,"Tiles",a.g.Kd(a.g.j)+" / "+a.g.Kd(a.g.wa)+" / "+a.g.Kd(a.g.m),b,c,d,f,e);a.g.td&&(d=this.l(a,
"State6",a.g.Kd(a.g.td),b,c,d,f,e));d=this.l(a,"Tile Size","16 x 16",b,c,d,f,e);d=this.l(a,"Generation",a.g.counter,b,c,d,f,e);0!==a.Ha&&(d=this.l(a,"AbsoluteGen",a.g.counter+a.Ha,b,c,d,f,e));a.g.ja&&(d=this.l(a,"MargolusGen",a.g.Xb+a.Ha,b,c,d,f,e));a.g.s&&(d=this.l(a,"PCAGen",a.g.Xb+a.Ha,b,c,d,f,e));(a.g.ja||a.g.s)&&a.g.Bb&&(k=a.g.tb,a.g.Tb&&(k=!k),d=this.l(a,"Direction",k?"Reverse":"Forward",b,c,d,f,e));d=this.l(a,"DeleteRange",a.g.bf,b,c,d,f,e);a.g.qd&&(d=this.l(a,"KillGliders",a.g.Gg,b,c,d,f,
e));d=this.l(a,"","",b,c,d,f,e);-1!==a.g.S&&(a.B[m]=[a.u,"Bounded"],m+=1,d=this.l(a,"","Bounded grid:",b,c,d,f,e),d=this.l(a,"Type",a.X.Xb(a.g.S),b,c,d,f,e),d=0===a.g.ba?this.l(a,"Width","Infinite",b,c,d,f,e):this.l(a,"Width",a.g.ba,b,c,d,f,e),4!==a.g.S?(d=0===a.g.$?this.l(a,"Height","Infinite",b,c,d,f,e):this.l(a,"Height",a.g.$,b,c,d,f,e),2===a.g.S&&(d=a.g.ng?this.l(a,"Twist","Horizontal",b,c,d,f,e):this.l(a,"Twist","Vertical",b,c,d,f,e)),0!==a.g.he&&(d=this.l(a,"H'Shift",a.g.he,b,c,d,f,e)),0!==
a.g.ie&&(d=this.l(a,"V'Shift",a.g.ie,b,c,d,f,e))):d=a.g.og?this.l(a,"Axis","Top Left",b,c,d,f,e):this.l(a,"Axis","Top Right",b,c,d,f,e),d=this.l(a,"","",b,c,d,f,e));a.B[m]=[a.u,"AutoFit"];m+=1;d=this.l(a,"","AutoFit:",b,c,d,f,e);d=this.l(a,"Enabled",a.ia?"On":"Off",b,c,d,f,e);d=this.l(a,"Mode",this.XF(a),b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);a.B[m]=[a.u,"Track"];m+=1;d=this.l(a,"","Track:",b,c,d,f,e);d=this.l(a,"Enabled",a.nb&&!a.Mb?"On":"Off",b,c,d,f,e);a.nb&&(a.di?(d=this.l(a,"Mode","Track Box",
b,c,d,f,e),d=this.l(a,"Definition","E "+a.Jg.toFixed(3)+"  S "+a.Kg.toFixed(3)+"  W "+a.ji.toFixed(3)+"  N "+a.gi.toFixed(3),b,c,d,f,e)):(d=this.l(a,"Mode","Track",b,c,d,f,e),d=this.l(a,"Definition","X "+a.Jg.toFixed(3)+"  Y "+a.Kg.toFixed(3),b,c,d,f,e)));d=this.l(a,"Current","E "+a.Cn.toFixed(3)+"  S "+a.Gn.toFixed(3)+"  W "+a.In.toFixed(3)+"  N "+a.En.toFixed(3),b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);a.B[m]=[a.u,"Undo/Redo"];m+=1;d=this.l(a,"","Undo/Redo:",b,c,d,f,e);d=this.l(a,"Enabled",a.rb?"Off":
"On",b,c,d,f,e);if(!a.rb)for(d=this.l(a,"Snapshots",a.g.Xc.aa()+"/"+a.g.Xc.j.length,b,c,d,f,e),d=this.l(a,"Buffer",(a.g.Xc.V()>>10)+"K",b,c,d,f,e),d=this.l(a,"Next Gen",a.g.Bf,b,c,d,f,e),d=this.l(a,"Undo",a.ma,b,c,d,f,e),d=this.l(a,"Redo",a.Dh-a.ma,b,c,d,f,e),g=0;g<G.nj;g+=1)null!==a.cb[g]&&(d=this.l(a,"Clip "+g+(g===a.Bb?"*":""),a.cb[g].width+" x "+a.cb[g].height,b,c,d,f,e));d=this.l(a,"","",b,c,d,f,e);a.B[m]=[a.u,"Engine"];m+=1;d=this.l(a,"","Engine:",b,c,d,f,e);d=this.l(a,"Name",G.fo,b,c,d,f,e);
d=this.l(a,"Edition",W.R?G.Bx:G.$C,b,c,d,f,e);d=this.l(a,"Build",G.Zr,b,c,d,f,e);W.R&&(d=this.l(a,"WASM",a.i?"On":"Off",b,c,d,f,e));d=this.l(a,"Author",G.rD,b,c,d,f,e);d=this.l(a,"Decoders","RLE, Life 1.06, Life 1.05, Cells",b,c,d,f,e);d=this.l(a,"N'hoods","Moore, Hexagonal, von Neumann, Triangular, 1D,",b,c,d,f,e);d=this.l(a," ","Circular, Cross, L2, Saltire, Star, Checkerboard,",b,c,d,f,e);d=this.l(a," ","Aligned Checkerboard, Hash, Tripod, Asterisk,",b,c,d,f,e);d=this.l(a," ","Far Corners/Edges, Custom (CoordCA),",
b,c,d,f,e);d=this.l(a," ","Gaussian and Weighted",b,c,d,f,e);d=this.l(a,"Rules","Wolfram, Totalistic, Generations, Margolus,",b,c,d,f,e);d=this.l(a," ","Isotropic Non-Totalistic (Hensel, Callahan),",b,c,d,f,e);d=this.l(a," ","Alternating, MAP, Larger than Life (LtL),",b,c,d,f,e);d=this.l(a," ","Higher-range outer-totalistic (HROT),",b,c,d,f,e);d=this.l(a," ","Partitioned cellular automata (PCA),",b,c,d,f,e);d=this.l(a," ","[R]History, [R]Super, [R]Investigator",b,c,d,f,e);d=this.l(a," ","and Non-Deterministic",
b,c,d,f,e);d=this.l(a,"Repository","RuleTable (@TABLE, @TREE, @COLORS,",b,c,d,f,e);d=this.l(a," ","@ICONS and @NAMES)",b,c,d,f,e);d=this.l(a,"BoundedGrid","Plane, Torus, Klein, Cross-surface and Sphere",b,c,d,f,e);d=this.l(a,"Viewers",n,b,c,d,f,e);d=this.l(a,"Playing",W.eK(),b,c,d,f,e);if(Ea.ub){u=W.ze.length;d=this.l(a,"Universe","Multi ("+(a.Va+1)+" of "+u+")",b,c,d,f,e);a.ic=!0;for(g=0;g<u;g+=1)d=this.l(a,String(g+1)+(g===a.Va?"*":""),W.ze[g].name,b,c,d,f,e),d=this.l(a," ",W.ze[g].pJ,b,c,d,f,e),
d=this.l(a," ",W.ze[g].width+" x "+W.ze[g].height,b,c,d,f,e);a.ic=!1}else d=this.l(a,"Universe","Single",b,c,d,f,e);d=this.l(a,"Exclusive",a.ao?"Yes":"No",b,c,d,f,e);d=this.l(a,"IgnorePause",a.Rp?"Yes":"No",b,c,d,f,e);d=this.l(a,"Endian",La.jc?"Little":"Big",b,c,d,f,e);d=this.l(a,"ArrayFill",La.Bt?"Yes":"No",b,c,d,f,e);d=this.l(a,"ArraySlice",La.Ct?"Yes":"No",b,c,d,f,e);d=this.l(a,"CopyWithin",La.copyWithin?"Yes":"No",b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);a.j[1]=300;a.j[2]=380;a.j[3]=460;a.B[m]=
[a.u,"Rule Cache"];m+=1;d=this.l(a,"","Rule Cache:",b,c,d,f,e);d=this.l(a,"Entries",Za.rules.length,b,c,d,f,e);if(0<Za.rules.length)for(d=this.l(a,"Entry","Name\tSize Kb\tFetch\tDecode",b,c,d,f,e),g=0;g<Za.rules.length;g+=1)t=Za.rules[g].name,17<t.length&&(t=t.substring(0,17)+"*"),d=this.l(a,String(g),t+"\t"+(Za.sr[g].size>>10)+"\t"+Za.sr[g].fetch+"ms\t"+Za.sr[g].decode+"ms",b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);a.j[1]=210;a.j[2]=270;a.j[3]=330;a.g.D||a.g.G||a.g.u||a.g.la||(a.B[m]=[a.u,"Theme"],
m+=1,d=this.l(a,"","Theme:",b,c,d,f,e),d=this.l(a,"Name",a.g.pa[a.g.qb].name,b,c,d,f,e),d=this.l(a,"History",a.qa,b,c,d,f,e),2>=a.g.i&&(d=this.l(a,"Age",a.Ce,b,c,d,f,e)),d=this.l(a,"","",b,c,d,f,e));a.B[m]=[a.u,"Cells"];m+=1;d=this.l(a,"","Cells:",b,c,d,f,e);switch(a.g.$a){case y.ig:t=a.g.pa[a.g.qb].H(a.g.O,a)?"Cell Age":"Basic";break;case y.tf:t="Rainbow";break;case y.jg:t="Neighbour Count";break;case y.If:t="Basic";break;default:t="Unknown"}d=this.l(a,"Shader",t,b,c,d,f,e);this.gb(a,a.g.sa[0],a.g.ra[0],
a.g.qa[0],b,c+a.j[0]*r,d,f,e);d=this.l(a,"Background",this.Eb(a.g.sa[0],a.g.ra[0],a.g.qa[0]),b,c,d,f,e);if(a.g.la||a.g.D)for(g=1;g<a.g.i;g+=1)this.gb(a,a.g.sa[g],a.g.ra[g],a.g.qa[g],b,c+a.j[0]*r,d,f,e),d=this.l(a,"State "+g,this.Eb(a.g.sa[g],a.g.ra[g],a.g.qa[g]),b,c,d,f,e);else if(a.g.s){for(g=1;16>g;g+=1)k=g+a.qa,this.gb(a,a.g.sa[k],a.g.ra[k],a.g.qa[k],b,c+a.j[0]*r,d,f,e),t="",g&1&&(t+="N"),g&2&&(t+="E"),g&4&&(t+="S"),g&8&&(t+="W"),d=this.l(a,t,this.Eb(a.g.sa[k],a.g.ra[k],a.g.qa[k]),b,c,d,f,e);0<
a.qa&&(k=a.qa,this.gb(a,a.g.sa[k],a.g.ra[k],a.g.qa[k],b,c+a.j[0]*r,d,f,e),d=this.l(a,"Dead",this.Eb(a.g.sa[k],a.g.ra[k],a.g.qa[k]),b,c,d,f,e),1<a.qa&&(k=1,q.h.h.h!==q.h.i.h||q.h.h.j!==q.h.i.j||q.h.h.i!==q.h.i.i?(this.gb(a,a.g.sa[k],a.g.ra[k],a.g.qa[k],b,c+a.j[0]*r,d,f,e),d=this.l(a,"DeadRamp",this.Eb(a.g.sa[k],a.g.ra[k],a.g.qa[k]),b,c,d,f,e)):d=this.l(a,"DeadRamp","    (none)",b,c,d,f,e)))}else if(2<a.g.i)if(a.g.u||a.g.G)for(g=1;g<a.g.i;g+=1)this.gb(a,a.g.sa[g],a.g.ra[g],a.g.qa[g],b,c+a.j[0]*r,d,
f,e),d=a.g.u?this.l(a,this.OJ(g),this.Eb(a.g.sa[g],a.g.ra[g],a.g.qa[g]),b,c,d,f,e):this.l(a,this.BG(g),this.Eb(a.g.sa[g],a.g.ra[g],a.g.qa[g]),b,c,d,f,e);else{k=a.g.i+a.qa-1;this.gb(a,a.g.sa[k],a.g.ra[k],a.g.qa[k],b,c+a.j[0]*r,d,f,e);d=this.l(a,"Alive",this.Eb(a.g.sa[k],a.g.ra[k],a.g.qa[k]),b,c,d,f,e);for(g=1;g<a.g.i-1;g+=1)k=a.g.i-g+a.qa-1,this.gb(a,a.g.sa[k],a.g.ra[k],a.g.qa[k],b,c+a.j[0]*r,d,f,e),d=this.l(a,"Dying "+g,this.Eb(a.g.sa[k],a.g.ra[k],a.g.qa[k]),b,c,d,f,e);0<a.qa&&(k=a.qa,this.gb(a,a.g.sa[k],
a.g.ra[k],a.g.qa[k],b,c+a.j[0]*r,d,f,e),d=this.l(a,"Dead",this.Eb(a.g.sa[k],a.g.ra[k],a.g.qa[k]),b,c,d,f,e),1<a.qa&&(k=1,q.h.h.h!==q.h.i.h||q.h.h.j!==q.h.i.j||q.h.h.i!==q.h.i.i?(this.gb(a,a.g.sa[k],a.g.ra[k],a.g.qa[k],b,c+a.j[0]*r,d,f,e),d=this.l(a,"DeadRamp",this.Eb(a.g.sa[k],a.g.ra[k],a.g.qa[k]),b,c,d,f,e)):d=this.l(a,"DeadRamp","    (none)",b,c,d,f,e)))}else 12===a.g.qb&&a.g.Da?(q=a.g.pa[11],this.gb(a,q.i.h.h,q.i.h.j,q.i.h.i,b,c+a.j[0]*r,d,f,e),d=this.l(a,"Alive",this.oe(q.i.h),b,c,d,f,e),q=a.g.pa[a.g.qb]):
(this.gb(a,q.i.h.h,q.i.h.j,q.i.h.i,b,c+a.j[0]*r,d,f,e),d=this.l(a,"Alive",this.oe(q.i.h),b,c,d,f,e),0<a.Ce&&a.g.pa[a.g.qb].H(a.g.O,a)&&a.g.$a!==y.If&&(q.i.h.h!==q.i.i.h||q.i.h.j!==q.i.i.j||q.i.h.i!==q.i.i.i?(this.gb(a,q.i.i.h,q.i.i.j,q.i.i.i,b,c+a.j[0]*r,d,f,e),d=this.l(a,"AliveRamp",this.oe(q.i.i),b,c,d,f,e)):d=this.l(a,"AliveRamp","    (none)",b,c,d,f,e))),0<a.qa&&a.g.pa[a.g.qb].H(a.g.O,a)&&a.g.$a!==y.If&&(this.gb(a,q.h.i.h,q.h.i.j,q.h.i.i,b,c+a.j[0]*r,d,f,e),d=this.l(a,"Dead",this.oe(q.h.i),b,
c,d,f,e),1<a.qa&&(q.h.h.h!==q.h.i.h||q.h.h.j!==q.h.i.j||q.h.h.i!==q.h.i.i?(this.gb(a,q.h.h.h,q.h.h.j,q.h.h.i,b,c+a.j[0]*r,d,f,e),d=this.l(a,"DeadRamp",this.oe(q.h.h),b,c,d,f,e)):d=this.l(a,"DeadRamp","    (none)",b,c,d,f,e)));if(a.g.O)for(g=3;6>=g;g+=1)u=128+G.sb[g],l=this.Eb(a.g.sa[u],a.g.ra[u],a.g.qa[u]),t=G.df[g],this.gb(a,a.g.sa[u],a.g.ra[u],a.g.qa[u],b,c+a.j[0]*r,d,f,e),d=this.l(a,t,l,b,c,d,f,e);-1!==a.g.S&&(256>a.g.i+a.g.v?(this.gb(a,a.Df[0],a.Df[1],a.Df[2],b,c+a.j[0]*r,d,f,e),d=this.l(a,"Bounded",
this.Eb(a.Df[0],a.Df[1],a.Df[2]),b,c,d,f,e)):(this.gb(a,a.g.sa[2],a.g.ra[2],a.g.qa[2],b,c+a.j[0]*r,d,f,e),d=this.l(a,"Bounded*",this.Eb(a.g.sa[2],a.g.ra[2],a.g.qa[2]),b,c,d,f,e)));this.gb(a,a.Dd[0],a.Dd[1],a.Dd[2],b,c+a.j[0]*r,d,f,e);d=this.l(a,"Boundary",this.Eb(a.Dd[0],a.Dd[1],a.Dd[2]),b,c,d,f,e);d=this.l(a,"Borders",a.g.jb?"On":"Off",b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);a.B[m]=[a.u,"Gridlines"];m+=1;d=this.l(a,"","Gridlines:",b,c,d,f,e);t=a.g.Ya?"On":"Off";a.g.Ya&&!a.g.je()&&(t+=" (Hidden)");
d=this.l(a,"Enabled",t,b,c,d,f,e);1!==a.g.lb&&(this.gb(a,a.g.Lb>>16,a.g.Lb>>8&255,a.g.Lb&255,b,c+a.j[0]*r,d,f,e),d=this.l(a,"Line Color",this.Eb(a.g.Lb>>16,a.g.Lb>>8&255,a.g.Lb&255),b,c,d,f,e));0<a.g.lb&&(this.gb(a,a.g.xc>>16,a.g.xc>>8&255,a.g.xc&255,b,c+a.j[0]*r,d,f,e),d=this.l(a,"Major Color",this.Eb(a.g.xc>>16,a.g.xc>>8&255,a.g.xc&255),b,c,d,f,e));t=0<a.g.lb&&a.g.yc?String(a.g.lb):"Off";d=this.l(a,"Interval",t,b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);a.B[m]=[a.u,"UI"];d=this.l(a,"","UI:",b,c,d,f,
e);m+=1;u=a.ta[G.Tq];-1===u&&(u=16777215);this.gb(a,u>>16,u>>8&255,u&255,b,c+a.j[0]*r,d,f,e);d=this.l(a,"Foreground",this.Eb(u>>16,u>>8&255,u&255),b,c,d,f,e);u=a.ta[G.Rq];-1===u&&(u=0);this.gb(a,u>>16,u>>8&255,u&255,b,c+a.j[0]*r,d,f,e);d=this.l(a,"Background",this.Eb(u>>16,u>>8&255,u&255),b,c,d,f,e);u=a.ta[G.Uq];-1===u&&(u=61472);this.gb(a,u>>16,u>>8&255,u&255,b,c+a.j[0]*r,d,f,e);d=this.l(a,"Highlight",this.Eb(u>>16,u>>8&255,u&255),b,c,d,f,e);u=a.ta[G.Wq];-1===u&&(u=255);this.gb(a,u>>16,u>>8&255,
u&255,b,c+a.j[0]*r,d,f,e);d=this.l(a,"Selected",this.Eb(u>>16,u>>8&255,u&255),b,c,d,f,e);u=a.ta[G.Vq];-1===u&&(u=8421504);this.gb(a,u>>16,u>>8&255,u&255,b,c+a.j[0]*r,d,f,e);d=this.l(a,"Locked",this.Eb(u>>16,u>>8&255,u&255),b,c,d,f,e);u=a.ta[G.Sq];-1===u&&(u=16777215);this.gb(a,u>>16,u>>8&255,u&255,b,c+a.j[0]*r,d,f,e);d=this.l(a,"Border",this.Eb(u>>16,u>>8&255,u&255),b,c,d,f,e);a.Sc?(this.gb(a,a.Sc[0],a.Sc[1],a.Sc[2],b,c+a.j[0]*r,d,f,e),d=this.l(a,"Text*",this.Eb(a.Sc[0],a.Sc[1],a.Sc[2]),b,c,d,f,e)):
(this.gb(a,255,255,255,b,c+a.j[0]*r,d,f,e),d=this.l(a,"Text",this.Eb(255,255,255),b,c,d,f,e));a.Rc?(this.gb(a,a.Rc[0],a.Rc[1],a.Rc[2],b,c+a.j[0]*r,d,f,e),d=this.l(a,"Error*",this.Eb(a.Rc[0],a.Rc[1],a.Rc[2]),b,c,d,f,e)):(this.gb(a,255,48,48,b,c+a.j[0]*r,d,f,e),d=this.l(a,"Error",this.Eb(255,96,96),b,c,d,f,e));a.Ge?(this.gb(a,a.Ge[0],a.Ge[1],a.Ge[2],b,c+a.j[0]*r,d,f,e),d=this.l(a,"Help*",this.Eb(a.Ge[0],a.Ge[1],a.Ge[2]),b,c,d,f,e)):(this.gb(a,32,255,255,b,c+a.j[0]*r,d,f,e),d=this.l(a,"Help",this.Eb(32,
255,255),b,c,d,f,e));d=this.l(a,"","",b,c,d,f,e);a.B[m]=[a.u,"Selection"];m+=1;d=this.l(a,"","Selection Boxes:",b,c,d,f,e);this.gb(a,a.Nf[0],a.Nf[1],a.Nf[2],b,c+a.j[0]*r,d,f,e);d=this.l(a,"Selection",this.Eb(a.Nf[0],a.Nf[1],a.Nf[2]),b,c,d,f,e);this.gb(a,a.Mf[0],a.Mf[1],a.Mf[2],b,c+a.j[0]*r,d,f,e);d=this.l(a,"Paste Box",this.Eb(a.Mf[0],a.Mf[1],a.Mf[2]),b,c,d,f,e);this.gb(a,a.Of[0],a.Of[1],a.Of[2],b,c+a.j[0]*r,d,f,e);d=this.l(a,"Paste Cell",this.Eb(a.Of[0],a.Of[1],a.Of[2]),b,c,d,f,e);d=this.l(a,"",
"",b,c,d,f,e);a.B[m]=[a.u,"Graph"];m+=1;d=this.l(a,"","Population Graph:",b,c,d,f,e);d=this.l(a,"Enabled",a.Ca?"On":"Off",b,c,d,f,e);d=this.l(a,"Disabled",a.$b?"On":"Off",b,c,d,f,e);d=this.l(a,"Mode",a.qd?"Lines":"Points",b,c,d,f,e);-1===a.g.S?(n="",a.mh&&(n="Population"),a.kh&&(n=""===n?"Births":n+", Births"),a.lh&&(n=""===n?"Deaths":n+", Deaths"),""===n&&(n="<none>")):n="Population";d=this.l(a,"Data",n,b,c,d,f,e);d=this.l(a,"Opacity",a.eb.toFixed(2),b,c,d,f,e);this.gb(a,a.g.Dd[0],a.g.Dd[1],a.g.Dd[2],
b,c+a.j[0]*r,d,f,e);d=this.l(a,"Bg Color",this.Eb(a.g.Dd[0],a.g.Dd[1],a.g.Dd[2]),b,c,d,f,e);this.gb(a,a.g.Cd[0],a.g.Cd[1],a.g.Cd[2],b,c+a.j[0]*r,d,f,e);d=this.l(a,"Axis Color",this.Eb(a.g.Cd[0],a.g.Cd[1],a.g.Cd[2]),b,c,d,f,e);this.gb(a,a.g.Bd[0],a.g.Bd[1],a.g.Bd[2],b,c+a.j[0]*r,d,f,e);d=this.l(a,"Alive Color",this.Eb(a.g.Bd[0],a.g.Bd[1],a.g.Bd[2]),b,c,d,f,e);this.gb(a,a.g.Ed[0],a.g.Ed[1],a.g.Ed[2],b,c+a.j[0]*r,d,f,e);d=this.l(a,"Birth Color",this.Eb(a.g.Ed[0],a.g.Ed[1],a.g.Ed[2]),b,c,d,f,e);this.gb(a,
a.g.Fd[0],a.g.Fd[1],a.g.Fd[2],b,c+a.j[0]*r,d,f,e);d=this.l(a,"Death Color",this.Eb(a.g.Fd[0],a.g.Fd[1],a.g.Fd[2]),b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);a.B[m]=[a.u,"Stars"];m+=1;d=this.l(a,"","Stars:",b,c,d,f,e);d=this.l(a,"Enabled",a.Jc?"On":"Off",b,c,d,f,e);this.gb(a,a.Td.h.h,a.Td.h.j,a.Td.h.i,b,c+a.j[0]*r,d,f,e);d=this.l(a,"Color",this.oe(a.Td.h),b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);a.B[m]=[a.u,"Randomize"];m+=1;d=this.l(a,"","Randomize:",b,c,d,f,e);d=this.l(a,"Pattern",a.om?"On":"Off",b,c,
d,f,e);d=this.l(a,"States",a.lm?"2":"All",b,c,d,f,e);d=this.l(a,"Custom Seed",a.Is?"On":"Off",b,c,d,f,e);d=this.l(a,"Seed",a.qj,b,c,d,f,e);d=this.l(a,"Width",a.im,b,c,d,f,e);d=this.l(a,"Height",a.em,b,c,d,f,e);d=this.l(a,"Fill",a.oj+"%",b,c,d,f,e);d=this.l(a,"Rule Fixed",a.hm?"Yes":"No",b,c,d,f,e);if(!a.hm)if(a.g.ja||a.g.s)d=this.l(a,"Reversible",a.pn?"Only":"Any",b,c,d,f,e),d=this.l(a,"FixedPop",a.rn?"Yes":"No",b,c,d,f,e);else if(!a.g.Da&&-1===a.g.Sd){if(-1===a.$e&&-1===a.pg){d=this.l(a,"Chance ALL"+
(-1===a.Ze?"*":""),-1===a.Ze?"50%":a.Ze+"%",b,c,d,f,e);k=!1;for(g=0;g<a.Xc.length;g+=2)0===a.Xc[g]&&(k=!0);k||(d=this.l(a,"Chance B0*","25%",b,c,d,f,e))}else d=this.l(a,"Chance B"+(-1===a.$e?"*":""),-1===a.$e?"50%":a.$e+"%",b,c,d,f,e),d=this.l(a,"Chance S"+(-1===a.pg?"*":""),-1===a.pg?"50%":a.pg+"%",b,c,d,f,e);for(g=0;g<a.Xc.length;g+=2)d=this.l(a,"Chance B"+a.Xc[g],a.Xc[g+1]+"%",b,c,d,f,e);for(g=0;g<a.Rd.length;g+=2)d=this.l(a,"Chance S"+a.Rd[g],a.Rd[g+1]+"%",b,c,d,f,e)}d=this.l(a,"","",b,c,d,f,
e);a.B[m]=[a.u,"Script"];m+=1;d=this.l(a,"","Script:",b,c,d,f,e);d=this.l(a,"Commands",a.Eh,b,c,d,f,e);d=this.l(a,"Errors",a.Qx,b,c,d,f,e);if(a.za)for(d=this.l(a,"","",b,c,d,f,e),a.B[m]=[a.u,"Waypoints"],m+=1,d=this.l(a,"","Waypoints:",b,c,d,f,e),d=this.l(a,"Enabled",a.pb?"Off":"On",b,c,d,f,e),d=this.l(a,"Number",a.s.h.length,b,c,d,f,e),g=0;g<a.s.h.length;g+=1)t=String(g),g===a.s.v&&(t=a.s.V(a.elapsedTime)?t+">":t+"*"),d=this.l(a,t,a.s.jb(g,D.Ld),b,c,d,f,e);if(a.s.i.length)for(d=this.l(a,"","",b,
c,d,f,e),a.B[m]=[a.u,"POIs"],d=this.l(a,"","Points of interest:",b,c,d,f,e),d=this.l(a,"Number",a.s.i.length,b,c,d,f,e),g=0;g<a.s.i.length;g+=1)t=String(g+1),g===a.Gc&&(t+="*"),g===a.gh&&(t+=" INITIAL"),k=!1,n=a.s.Ha(g),""!==n&&(d=this.l(a,k?" ":t,(k?"  ":"")+n,b,c,d,f,e),k=!0),n=a.s.Pa(g),""!==n&&(d=this.l(a,k?" ":t,(k?"  ":"")+n,b,c,d,f,e),k=!0),n=a.s.Ia(g),""!==n&&(d=this.l(a,k?" ":t,(k?"  ":"")+n,b,c,d,f,e),k=!0),n=a.s.Fa(g),""!==n&&(d=this.l(a,k?" ":t,(k?"  ":"")+n,b,c,d,f,e),k=!0),n=a.s.Na(g),
""!==n&&(d=this.l(a,k?" ":t,(k?"  ":"")+n,b,c,d,f,e),k=!0),n=a.s.Ka(g,D.Ld),""!==n&&(d=this.l(a,k?" ":t,(k?"  ":"")+n,b,c,d,f,e))},hJ:function(a,b,c,d,f,e){var g,k,l=0,p=a.h.s;a.u=1;a.ic=!1;a.B=[];a.j[0]=130;a.j[1]=200;a.j[2]=250;a.j[3]=300;a.j[4]=390;a.B[l]=[a.u,"Top"];l+=1;d=this.l(a,"","Themes",b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);d=this.l(a,"","Themes are used to provide a visual representation of",b,c,d,f,e);d=this.l(a,"","cell history and longevity and also define grid colours",b,c,d,f,e);
d=this.l(a,"","",b,c,d,f,e);d=this.l(a,"","Grid:",b,c,d,f,e);d=this.l(a,"GRID","grid line colour",b,c,d,f,e);d=this.l(a,"GRIDMAJOR","major grid line colour and interval",b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);if(2>=a.g.i)for(d=this.l(a,"","Two-state Themes:",b,c,d,f,e),d=this.l(a,"BACKGROUND","cell never occupied",b,c,d,f,e),d=this.l(a,"ALIVE","cell just born",b,c,d,f,e),d=this.l(a,"ALIVERAMP","cell alive for several generations",b,c,d,f,e),d=this.l(a,"DEAD","cell just died",b,c,d,f,e),d=this.l(a,
"DEADRAMP","cell dead for several generations",b,c,d,f,e),d=this.l(a,"","",b,c,d,f,e),d=this.l(a,"",a.Ce+" ("+D.Ep+") states from ALIVE to ALIVERAMP",b,c,d,f,e),d=this.l(a,"",a.qa+" ("+D.mo+") states from DEAD to DEADRAMP",b,c,d,f,e),g=0;g<a.g.pa.length-1;g+=1){d=this.l(a,"","",b,c,d,f,e);var n=a.g.pa[g];a.B[l]=[a.u,n.name];l+=1;d=this.l(a,"Name"+(g===a.g.qb&&2>=a.g.i?"*":""),n.name,b,c,d,f,e);this.gb(a,n.v.h,n.v.j,n.v.i,b,c+a.j[0]*p,d,f,e);d=this.l(a,"BACKGROUND",this.oe(n.v),b,c,d,f,e);if(12===
g&&a.g.Da)n=a.g.pa[11],this.gb(a,n.i.h.h,n.i.h.j,n.i.h.i,b,c+a.j[0]*p,d,f,e),d=this.l(a,"ALIVE",this.oe(n.i.h),b,c,d,f,e),n=a.g.pa[g];else if(this.gb(a,n.i.h.h,n.i.h.j,n.i.h.i,b,c+a.j[0]*p,d,f,e),d=this.l(a,"ALIVE",this.oe(n.i.h),b,c,d,f,e),n.i.h.h!==n.i.i.h||n.i.h.j!==n.i.i.j||n.i.h.i!==n.i.i.i)this.gb(a,n.i.i.h,n.i.i.j,n.i.i.i,b,c+a.j[0]*p,d,f,e),d=this.l(a,"ALIVERAMP",this.oe(n.i.i),b,c,d,f,e);this.gb(a,n.h.i.h,n.h.i.j,n.h.i.i,b,c+a.j[0]*p,d,f,e);d=this.l(a,"DEAD",this.oe(n.h.i),b,c,d,f,e);if(n.h.h.h!==
n.h.i.h||n.h.h.j!==n.h.i.j||n.h.h.i!==n.h.i.i)this.gb(a,n.h.h.h,n.h.h.j,n.h.h.i,b,c+a.j[0]*p,d,f,e),d=this.l(a,"DEADRAMP",this.oe(n.h.h),b,c,d,f,e);this.gb(a,n.s>>16,n.s>>8&255,n.s&255,b,c+a.j[0]*p,d,f,e);d=this.l(a,"GRID",this.Eb(n.s>>16,n.s>>8&255,n.s&255),b,c,d,f,e);0<n.B&&(this.gb(a,n.u>>16,n.u>>8&255,n.u&255,b,c+a.j[0]*p,d,f,e),d=this.l(a,"GRIDMAJOR",this.Eb(n.u>>16,n.u>>8&255,n.u&255),b,c,d,f,e));d=a.g.ja&&0<n.B?this.l(a,"GRIDMAJOR",2,b,c,d,f,e):this.l(a,"GRIDMAJOR",n.B,b,c,d,f,e)}else if(a.g.s)for(d=
this.l(a,"","PCA Themes:",b,c,d,f,e),d=this.l(a,"BACKGROUND","cell never occupied",b,c,d,f,e),d=this.l(a,"DEAD","cell just died",b,c,d,f,e),d=this.l(a,"DEADRAMP","cell dead for several generations",b,c,d,f,e),d=this.l(a,"","",b,c,d,f,e),d=this.l(a,"",a.qa+" ("+D.mo+") states from DEAD to DEADRAMP",b,c,d,f,e),g=0;g<a.g.pa.length-1;g+=1){d=this.l(a,"","",b,c,d,f,e);n=a.g.pa[g];a.B[l]=[a.u,n.name];l+=1;d=this.l(a,"Name"+(g===a.g.qb?"*":""),n.name,b,c,d,f,e);this.gb(a,n.v.h,n.v.j,n.v.i,b,c+a.j[0]*p,d,
f,e);d=this.l(a,"BACKGROUND",this.oe(n.v),b,c,d,f,e);for(k=1;16>k;k+=1){this.gb(a,n.D[k-1].h,n.D[k-1].j,n.D[k-1].i,b,c+a.j[0]*p,d,f,e);var q="";k&1&&(q+="N");k&2&&(q+="E");k&4&&(q+="S");k&8&&(q+="W");d=this.l(a,q,this.Eb(n.D[k-1].h,n.D[k-1].j,n.D[k-1].i),b,c,d,f,e)}this.gb(a,n.j.i.h,n.j.i.j,n.j.i.i,b,c+a.j[0]*p,d,f,e);d=this.l(a,"DEAD",this.oe(n.j.i),b,c,d,f,e);if(n.j.h.h!==n.j.i.h||n.j.h.j!==n.j.i.j||n.j.h.i!==n.j.i.i)this.gb(a,n.j.h.h,n.j.h.j,n.j.h.i,b,c+a.j[0]*p,d,f,e),d=this.l(a,"DEADRAMP",this.oe(n.j.h),
b,c,d,f,e);this.gb(a,n.s>>16,n.s>>8&255,n.s&255,b,c+a.j[0]*p,d,f,e);d=this.l(a,"GRID",this.Eb(n.s>>16,n.s>>8&255,n.s&255),b,c,d,f,e);0<n.B&&(this.gb(a,n.u>>16,n.u>>8&255,n.u&255,b,c+a.j[0]*p,d,f,e),d=this.l(a,"GRIDMAJOR",this.Eb(n.u>>16,n.u>>8&255,n.u&255),b,c,d,f,e));d=this.l(a,"GRIDMAJOR",n.B,b,c,d,f,e)}else for(d=this.l(a,"","Multi-state Themes:",b,c,d,f,e),d=this.l(a,"BACKGROUND","cell never occupied",b,c,d,f,e),d=this.l(a,"ALIVE","cell alive",b,c,d,f,e),d=this.l(a,"DYING","cell just starting dying",
b,c,d,f,e),d=this.l(a,"DYINGRAMP","cell about to die",b,c,d,f,e),d=this.l(a,"DEAD","cell just died",b,c,d,f,e),d=this.l(a,"DEADRAMP","cell dead for several generations",b,c,d,f,e),d=this.l(a,"","",b,c,d,f,e),d=this.l(a,"","Rule defines "+(2>a.g.i?"":String(a.g.i-1)+" ")+"states from DYING to DYINGRAMP",b,c,d,f,e),d=this.l(a,"",a.qa+" (HISTORYSTATES) states from DEAD to DEADRAMP",b,c,d,f,e),g=0;g<a.g.pa.length-1;g+=1)d=this.l(a,"","",b,c,d,f,e),n=a.g.pa[g],a.B[l]=[a.u,n.name],l+=1,d=this.l(a,"Name"+
(g===a.g.qb&&2<a.g.i?"*":""),n.name,b,c,d,f,e),this.gb(a,n.F.h,n.F.j,n.F.i,b,c+a.j[0]*p,d,f,e),d=this.l(a,"BACKGROUND",this.oe(n.F),b,c,d,f,e),12===g&&a.g.Da&&(n=a.g.pa[11]),this.gb(a,n.A.h,n.A.j,n.A.i,b,c+a.j[0]*p,d,f,e),d=this.l(a,"ALIVE",this.oe(n.A),b,c,d,f,e),3===a.g.i?(this.gb(a,n.m.h.h,n.m.h.j,n.m.h.i,b,c+a.j[0]*p,d,f,e),d=this.l(a,"DYING",this.oe(n.m.h),b,c,d,f,e)):(this.gb(a,n.m.i.h,n.m.i.j,n.m.i.i,b,c+a.j[0]*p,d,f,e),d=this.l(a,"DYING",this.oe(n.m.i),b,c,d,f,e),3<a.g.i&&(n.m.h.h!==n.m.i.h||
n.m.h.j!==n.m.i.j||n.m.h.i!==n.m.i.i)&&(this.gb(a,n.m.h.h,n.m.h.j,n.m.h.i,b,c+a.j[0]*p,d,f,e),d=this.l(a,"DYINGRAMP",this.oe(n.m.h),b,c,d,f,e))),12===g&&a.g.Da&&(n=a.g.pa[12]),255>a.g.i&&(this.gb(a,n.j.i.h,n.j.i.j,n.j.i.i,b,c+a.j[0]*p,d,f,e),d=this.l(a,"DEAD",this.oe(n.j.i),b,c,d,f,e)),256>a.g.i&&(n.j.h.h!==n.j.i.h||n.j.h.j!==n.j.i.j||n.j.h.i!==n.j.i.i)&&(this.gb(a,n.j.h.h,n.j.h.j,n.j.h.i,b,c+a.j[0]*p,d,f,e),d=this.l(a,"DEADRAMP",this.oe(n.j.h),b,c,d,f,e)),this.gb(a,n.s>>16,n.s>>8&255,n.s&255,b,c+
a.j[0]*p,d,f,e),d=this.l(a,"GRID",this.Eb(n.s>>16,n.s>>8&255,n.s&255),b,c,d,f,e),0<n.B&&(this.gb(a,n.u>>16,n.u>>8&255,n.u&255,b,c+a.j[0]*p,d,f,e),d=this.l(a,"GRIDMAJOR",this.Eb(n.u>>16,n.u>>8&255,n.u&255),b,c,d,f,e)),d=this.l(a,"GRIDMAJOR",n.B,b,c,d,f,e);this.l(a,"","",b,c,d,f,e)},VI:function(a,b,c,d,f,e){var g,k=hb.nf,l=Object.keys(k),p=a.h.s;a.u=1;a.ic=!1;a.B=[];a.j[0]=260;a.j[1]=330;a.j[2]=380;a.j[3]=430;a.j[4]=a.displayWidth;a.B[0]=[a.u,"Top"];d=this.l(a,"","Colours",b,c,d,f,e);d=this.l(a,"",
"",b,c,d,f,e);d=this.l(a,"","The following names can be used in place of R G B or hex specification",b,c,d,f,e);d=this.l(a,"","for example [[ COLOUR ALIVE Green ]]",b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);for(g=0;g<l.length;g+=1){var n=k[l[g]];this.gb(a,n[1],n[2],n[3],b,c+a.j[0]*p,d,f,e);d=this.l(a,n[0],this.Eb(n[1],n[2],n[3]),b,c,d,f,e)}},TI:function(a,b,c,d,f,e){var g,k=0,l=db.hd,p=db.Vx;a.u=1;a.ic=!1;a.B=[];a.j[0]=260;a.B[k]=[a.u,"Top"];k+=1;d=this.l(a,"","Aliases",b,c,d,f,e);d=this.l(a,"","",b,
c,d,f,e);d=this.l(a,"","Alias names can be used as rule names in RLE",b,c,d,f,e);d=this.l(a,"","for example 'rule = HighLife'",b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);d=this.l(a,"","* denotes duplicate definition",b,c,d,f,e);d=this.l(a,"","+ denotes duplicate alias name",b,c,d,f,e);a.ic=!0;for(g=0;g<l.length;g+=1)""===l[g][1]?(d=this.l(a,"","",b,c,d,f,e),a.B[k]=[a.u,p[k-1]],k+=1,d=this.l(a,"",l[g][0]+" Aliases:",b,c,d,f,e)):""!==l[g][0]&&(d=this.l(a,l[g][0]+" "+(l[g][2]?"*":"")+(l[g][3]?"+":""),l[g][1],
b,c,d,f,e))},WI:function(a,b,c,d,f,e){var g=0,k,l=a.wB;a.u=1;a.ic=!1;a.B=[];a.j[0]=128;d=this.l(a,"","Pattern Comments",b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);""!==a.Xe&&(d=this.l(a,"Name",a.Xe,b,c,d,f,e));""!==a.og&&(d=this.l(a,"Originator",a.og,b,c,d,f,e));if(""!==a.Xe||""!==a.og)d=this.l(a,"","",b,c,d,f,e);if(""===l)this.l(a,"None","",b,c,d,f,e);else{b.font=a.oh;var p=b.measureText("M").width;var n=a.displayWidth/p|0;n-=5;for(p=l.indexOf("\n",g);-1!==p;){for(;p-g>n;){for(k=n;" "!==l.charAt(g+k)&&
0<k;)--k;0===k?(d=this.l(a,l.substring(g,g+n),"",b,c,d,f,e),g+=n):(d=this.l(a,l.substring(g,g+k),"",b,c,d,f,e),g+=k+1)}d=this.l(a,l.substring(g,p),"",b,c,d,f,e);g=p+1;p=l.indexOf("\n",g)}}},dJ:function(a,b,c,d,f,e){var g,k=0,l=W.$c.length,p=0,n=0,q=0,m=0,r;a.u=1;a.ic=!1;a.B=[];a.j[0]=128;a.j[1]=200;a.j[2]=290;a.j[3]=530;a.B[k]=[a.u,"Top"];k+=1;d=this.l(a,"","Memory usage",b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);if(1<l){a.B[k]=[a.u,"All"];k+=1;d=this.l(a,"","Memory (all "+l+" LifeViewers):",b,c,d,f,
e);for(g=0;g<l;g+=1)if(r=W.NG(g))p+=r.g.T.s,q+=r.g.T.j>>10,n+=r.g.T.u,m+=r.g.T.m>>10;d=this.l(a,"In Use",p-n+"\t"+((q>>10)-(m>>10))+"M",b,c,d,f,e);d=this.l(a,"Allocations",p+"\t"+(q>>10)+"M",b,c,d,f,e);d=this.l(a,"Frees",n+"\t"+(m>>10)+"M",b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e)}a.B[k]=[a.u,"Current"];d=this.l(a,"","Memory (this LifeViewer):",b,c,d,f,e);d=this.l(a,"In Use",a.g.T.s-a.g.T.u+"\t"+this.Lt(a.g.T.j-a.g.T.m)+"M\t"+(a.g.T.j-a.g.T.m),b,c,d,f,e);d=this.l(a,"Allocations",a.g.T.s+"\t"+this.Lt(a.g.T.j)+
"M\t"+a.g.T.j,b,c,d,f,e);d=this.l(a,"Frees",a.g.T.u+"\t"+this.Lt(a.g.T.m)+"M\t"+a.g.T.m,b,c,d,f,e);d=this.l(a,this.sC("Bytes",10),"Type\tElements\tName\tCount",b,c,d,f,e);for(g=0;g<a.g.T.i.length;g+=1)d=this.l(a,this.sC(String(a.g.T.i[g].size),10),a.g.T.G(g),b,c,d,f,e);this.l(a,"","",b,c,d,f,e)},UA:function(a){var b=a.la,c=a.h.s,d=a.h.B,f=19*d;a.Ba=(a.displayHeight/f|0)-6;b.fillStyle=a.C.dc;b.globalAlpha=.7;b.fillRect(0,0,b.canvas.width,b.canvas.height);b.globalAlpha=1;b.fillStyle=a.C.dc;this.li=
2;$a.PC(a,b,6*c,14*d,f,a.v|0);b.fillStyle=a.ai;this.li=0;$a.PC(a,b,6*c,14*d,f,a.v|0)},XI:function(a,b,c,d,f,e,g,k,l,p){var n=k,q=a.h.s,m=this.li*q,r=this.li*a.h.s,u=0,t=!1,v=a.u;e.fillStyle===a.C.Wa&&(t=!0);v>=p&&v<=p+a.Ba&&(e.font=a.oh,t||(e.fillStyle=1<(a.da|0)?a.$h:a.C.da),e.fillText(b,g+m,k+r),t||(e.fillStyle=a.$h),e.fillText(c,g+m+e.measureText(b).width,k+r),t||(e.fillStyle=(a.da|0)<a.Tb.length-a.Ba+1?a.$h:a.C.da),e.fillText(d,g+m+e.measureText(b+c).width,k+r),a.j[0]&&(u=a.j[0]*q),t||(e.fillStyle=
a.$h),e.font=a.Uf,e.fillText(f,g+m+u,k+r),n+=l);return n},Mr:function(a,b,c,d,f,e,g,k){var l=e,p=a.h.s,n=0,q=a.u;q>=k&&q<=k+a.Ba&&(b.length&&(d.font=a.oh,d.fillText(b,f,e),n=d.measureText(b+" ").width),a.j[0]&&(n=a.j[0]*p),d.font=a.Uf,d.fillText(c,f+n,e),l+=g);a.u+=1;return l},OC:function(a,b,c,d,f,e){var g,k=a.Tb,l=d;a.u=1;a.j[0]=0;b.font=a.Uf;d=this.Mr(a,"",G.zJ,b,c,d,f,e);for(g=0;g<k.length;g+=1)d=this.Mr(a,k[g][0],k[g][1],b,c,d,f,e);a.ka||(a.j[0]=120,a.u=1,d=l+f*(a.Ba+2),d=this.XI(a,"Up"," / ",
"Down","scroll errors",b,c,d,f,0),d=this.Mr(a,"Esc","clear messages",b,c,d,f,0),this.Mr(a,"H  ","help",b,c,d,f,0))},uG:function(a){var b=a.la,c=a.h.s,d=a.h.B,f=19*d,e=7;a.ka&&(e=1);a.Ba=(a.displayHeight/f|0)-e;b.fillStyle=a.C.dc;b.globalAlpha=.7;b.fillRect(0,0,b.canvas.width,b.canvas.height);b.globalAlpha=1;b.fillStyle=a.C.dc;this.OC(a,b,6*c,14*d,f,a.da|0);b.fillStyle=a.$h;this.OC(a,b,4*c,12*d,f,a.da|0)}},D={Ld:'"',jl:"[[",Fm:"]]",nC:"NOSNOW",Ex:"QUALITY",eD:"TIME",nx:"PLAYTIME",hy:"SUPPRESS",Fr:"POIT",
zc:"INITIAL",Wb:"OFF",by:"STATE1FIT",eq:"POIRESET",Qo:"POIPLAY",Ro:"POISTOP",fq:"POITRANS",px:"POIADDLABELS",Gu:"HARDRESET",wq:"TRACK",Lm:"TRACKBOX",vq:"TRACKLOOP",tw:"NOREPORT",br:"GRAPH",Ar:"NOGRAPH",Cu:"GRAPHOPACITY",Du:"GRAPHPOINTS",sw:"NOPERFWARNING",Lu:"AUTOHIDEGUI",fg:"ALL",Tg:"LINEAR",Zh:"BEZIER",Hy:"TRIANGULARCELLS",Iu:"HEXCELLS",Tr:"SQUARECELLS",Oy:"ICONS",Pt:"CELLBORDERS",Xh:"RANDCELLS",Nx:"RANDOMIZE",Mx:"RANDOMIZE2",Jx:"RANDSEED",Lx:"RANDWIDTH",Hx:"RANDHEIGHT",Gx:"RANDFILL",Ix:"RANDREVERSIBLE",
Kx:"RANDFIXEDPOP",Jr:"RANDCHANCE",Ir:"B",Lr:"S",ju:"DELETERANGE",Zx:"SHOWTIMING",su:"EXTENDEDTIMING",Xx:"SHOWGENSTATS",Yx:"SHOWINFOBAR",uw:"NOSOURCE",Gr:"POI",hp:"TITLE",LC:"POLY",ux:"POLYSHADOW",Hr:"POLYFILL",tx:"POLYLINE",qx:"POLYALPHA",vx:"POLYSIZE",wx:"POLYT",sx:"POLYANGLE",zx:"POLYZOOMRANGE",xx:"POLYTRACK",yx:"POLYVIEWDIST",Fp:"ARROW",Ft:"ARROWSHADOW",Dt:"ARROWALPHA",Gt:"ARROWSIZE",Ht:"ARROWT",Et:"ARROWANGLE",Kt:"ARROWZOOMRANGE",It:"ARROWTRACK",Jt:"ARROWVIEWDIST",Tp:"LABEL",kv:"LABELSHADOW",
fv:"LABELALPHA",lv:"LABELSIZE",mv:"LABELT",gv:"LABELANGLE",pv:"LABELZOOMRANGE",nv:"LABELTRACK",ov:"LABELVIEWDIST",ev:"LABELALIGN",cv:"LEFT",dv:"RIGHT",bv:"CENTER",ce:"FIXED",kr:"MAXGRIDSIZE",mq:"STARS",ep:"CUSTOM",ws:"XOFFSET",xs:"YOFFSET",cp:"BACKGROUND",bp:"ALIVE",qq:"ALIVERAMP",gp:"DEAD",fp:"DEADRAMP",sq:"DYING",rq:"DYINGRAMP",kD:"UIFOREGROUND",SK:"UIFOREGROUNDA",iD:"UIBACKGROUND",QK:"UIBACKGROUNDA",lD:"UIHIGHLIGHT",TK:"UIHIGHTLIGHTA",nD:"UISELECT",VK:"UISELECTA",mD:"UILOCKED",UK:"UILOCKEDA",jD:"UIBORDER",
RK:"UIBORDERA",hA:"BOUNDARY",Qt:"BOUNDED",UC:"SELECT",VC:"SELECTED",Jq:"AUTOFIT",Nu:"HISTORYFIT",mo:"HISTORYSTATES",Ep:"AGESTATES",Hm:"STEP",rw:"NOSTEPBACK",oq:"T",lx:"PAUSE",Pp:"GRID",Op:"GRIDMAJOR",iy:"TEXT",pu:"ERROR",Hu:"HELP",yw:"OFF",Bw:"ON",Mu:"HISTORY",uv:"MARK1",wv:"MARKOFF",vv:"MARK2",Yu:"KILL",gB:"GRAPHBG",fB:"GRAPHAXIS",eB:"GRAPHALIVE",hB:"GRAPHBIRTH",iB:"GRAPHDEATH",yb:"COLOR",Xt:"COLOUR",pl:"TILT",zq:"VIEWONLY",qw:"NOGUI",pw:"NOCOPY",oy:"THUMBNAIL",ly:"THUMBSIZE",ky:"THUMBLAUNCH",my:"THUMBSTART",
ru:"EXCLUSIVEPLAY",Ru:"IGNOREEXCLUSIVE",$j:"THEME",Wx:"SHADER",iq:"RAINBOW",$p:"NEIGHBOUR",Ho:"NEIGHBOR",Gp:"BASIC",Wr:"STARTFROM",Lq:"AUTOSTART",Kq:"AUTOIDENTIFY",fi:"LOOP",oi:"STOP",Ik:"ANGLE",qm:"LAYERS",dm:"DEPTH",jm:"GPS",qe:"ZOOM",xt:"Z",gf:"X",jf:"Y",mp:"WIDTH",lo:"HEIGHT",hq:"POPUPWIDTH",gq:"POPUPHEIGHT",ny:"THUMBZOOM",vw:"NOTHROTTLE",Px:"REVERSESTART",Zu:"KILLGLIDERS",XA:"FASTLOOKUP",Uo:"RECIPE",Em:"RLE",pj:"PASTE",bq:"PASTET",Cw:"PASTEDELTA",Jp:"EVERY",Yw:"PASTEMODE",jx:"ZERO",Lw:"AND",
Ew:"0010",bx:"X",Gw:"DIFF",hx:"Y",ex:"XOR",Xw:"OR",Qw:"NOR",ax:"XNOR",Uw:"NOTY",Iw:"1011",Sw:"NOTX",Kw:"1101",Ow:"NAND",Ww:"ONE",Mw:"COPY",Cy:"IDENTITY",zy:"FLIP",Ay:"FLIPX",By:"FLIPY",Fy:"SWAPXY",Gy:"SWAPXYFLIP",Ey:"RCW",Dy:"RCCW",kx:"XT",CC:"YT",ee:"#"},Qb={NI:function(a,b,c){var d=!0,f=c.shiftKey,e=c.altKey,g=c.metaKey;if(c.ctrlKey||g||e)b=-1;switch(b){case 84:f?a.C.j=!a.C.j:a.Mg([!a.C.G],!0,a);break;case 27:W.ym=!1;a.C.ka(a.h);break;default:d=!1}return d},KI:function(a,b,c){var d=!0,f=c.shiftKey,
e=c.altKey,g=c.metaKey;if(c.ctrlKey||g||e)b=-1;switch(b){case 84:f?a.C.j=!a.C.j:a.Mg([!a.C.G],!0,a);break;case 27:a.Qm(a,!0,!1);break;default:d=!1}return d},MI:function(a,b,c){var d=!0,f=c.shiftKey,e=c.ctrlKey,g=c.metaKey;c=c.altKey;if(!c||192!==b&&223!==b){if(e||g||c)b=-1;switch(b){case 84:f?a.C.j=!a.C.j:a.Mg([!a.C.G],!0,a);break;case 27:case 117:a.gl(a);break;default:d=!1}}else W.R&&(a.Dl.current=a.Wu([!a.i],!0,a),a.C.notification.notify("WASM "+(a.i?"On":"Off"),15,40,15,!0));return d},ak:function(a,
b){a.Fd===G.Ng?a.xc(b,a):a.Fd===b&&a.xc(G.Ng,a)},LI:function(a,b,c){var d=!0,f=c.shiftKey,e=c.metaKey,g=c.altKey;if(c.ctrlKey||e||g)b=-1;switch(b){case 84:f?a.C.j=!a.C.j:a.Mg([!a.C.G],!0,a);break;default:d=!1}return d},JI:function(a,b,c){var d=!0,f=c.shiftKey,e=c.ctrlKey,g=c.altKey,k="";c.metaKey&&(e=!0);if(a.Na)!a.Zm&&85===b&&f&&(a.Na=!a.Na,a.h.M=a.Na,a.C.ea=a.Na);else{e&&!g&&37<=b&&40>=b&&(37===b?b=33:38===b?b=36:39===b?b=34:40===b&&(b=35));if(g&&!e){if(48<=b&&57>=b)b-=48,a.vc||0===a.s.i.length?
a.Bb===b?a.na?a.Vy(a,b):a.tB(a):a.Dk.current=a.mA(b,!0,a):(--b,0<=b&&b<a.s.i.length&&(a.Gc=b,a.Ts(a,a.Gc)));else switch(b){case 37:a.eg(a,-1,0);break;case 38:a.eg(a,0,-1);break;case 39:a.eg(a,1,0);break;case 40:a.eg(a,0,1);break;case 46:if(a.g.O||a.g.u)a.kn(a,!0,!0),a.g.O?a.C.notification.notify("Cleared [R]History marked cells",15,120,15,!0):a.C.notification.notify("Cleared [R]Super marked cells",15,120,15,!0);break;case 65:a.eh.current=a.Bu([!a.Xd],!0,a);a.C.notification.notify("Auto-Shrink Selection "+
(a.Xd?"On":"Off"),15,40,15,!0);break;case 66:a.Dj.current=a.gA([!a.g.jb],!0,a);a.C.notification.notify("Cell Borders "+(a.g.jb?"On":"Off"),15,40,15,!0);break;case 67:a.Sa||!a.sd||a.sd.locked||(a.sg(a.Sn,a.g.Pe,a),a.g.la||a.ke||a.C.notification.notify(a.eo(a.g.qb)+" Theme",15,40,15,!0));break;case 68:a.g.ja&&2===a.g.lb&&(a.Vd.current=a.aA([!a.g.xd],!0,a),a.C.notification.notify("Alternating Gridlines "+(a.g.xd?"On":"Off"),15,40,15,!0));break;case 69:"Oscillator"===a.zb&&null!==a.g.Nd&&(a.Uc+=1,a.Uc>
G.nB&&(a.Uc=G.Tj),a.Ne.current=a.yl(a.Uc,!0,a));break;case 71:a.g.O||-1===a.g.i?a.ZF(a):a.g.u?a.C.notification.notify("Rule is already [R]Super",15,120,15,!0):a.C.notification.notify("Unsupported rule for [R]Super",15,120,15,!0);break;case 72:-1===a.g.i&&!a.g.O||a.g.u?a.ND(a):a.g.O?a.C.notification.notify("Rule is already [R]History",15,120,15,!0):a.C.notification.notify("Unsupported rule for [R]History",15,120,15,!0);break;case 73:a.Vf.locked||(a.Vf.current=a.tv([!a.td],!0,a),a.C.notification.notify("Icons "+
(a.td?"On":"Off"),15,40,15,!0));break;case 74:a.g.O||a.g.u?a.RF(a):-1===a.g.i?a.C.notification.notify("Rule is already [R]Standard",15,120,15,!0):a.C.notification.notify("Unsupported rule for [R]Standard",15,120,15,!0);break;case 75:a.sD(a);break;case 76:0<a.s.B()&&(a.Yf.current=a.rB([!a.ie],!0,a),a.C.notification.notify("Annotations "+(a.ie?"On":"Off"),15,40,15,!0));break;case 77:a.Fk.locked||a.gz(a);break;case 78:a.VA(a);break;case 79:a.$a&&(a.nc=!a.nc,a.Og.current=[a.nc],a.C.notification.notify("AutoStart "+
(a.nc?"Off":"On"),15,40,15,!0));break;case 80:-1!==a.uc&&(a.Lb=!a.Lb,a.Fg.current=[a.Lb],a.C.notification.notify("Stop "+(a.Lb?"Off":"On"),15,40,15,!0));break;case 82:a.ED(a);break;case 83:a.mk.current=a.Pu([!a.Yb],!0,a);a.C.notification.notify("Sync Clipboard "+(a.Yb?"On":"Off"),15,40,15,!0);break;case 84:a.Gg.current=a.Ut([!a.Af],!0,a);a.C.notification.notify("Throttling "+(a.Af?"On":"Off"),15,40,15,!0);break;case 85:a.Cj.current=a.dA([!a.md],!0,a);a.C.notification.notify("AutoHide UI "+(a.md?"On":
"Off"),15,80,15,!0);break;case 87:if(!(2<a.g.i||a.g.Da||a.g.s||a.g.O||a.g.u||a.g.G||a.g.D)){a.g.$a+=1;a.g.$a>y.jg&&(a.g.$a=y.If);switch(a.g.$a){case y.ig:k="Cell Age";break;case y.jg:k="Neighbour Count";break;case y.tf:k="Rainbow";break;case y.If:k="Basic"}a.qg.current=a.Aw(a.g.$a,!0,a);a.C.notification.notify(k+" Shader",15,80,15,!0)}break;case 88:a.$s(a);break;case 89:a.ct(a);break;case 90:a.mm.locked||a.gm(a,!1);break;case 188:b=a.sa.current[0];b-=45;0>b&&(b+=360);a.sa.current=a.Lg([b,b],!0,a);
break;case 190:b=a.sa.current[0];b+=45;360<=b&&(b-=360);a.sa.current=a.Lg([b,b],!0,a);break;case 191:a.xz(a);break;case 192:case 223:W.R&&(a.Dl.current=a.Wu([!a.i],!0,a),a.C.notification.notify("WASM "+(a.i?"On":"Off"),15,40,15,!0))}b=-2}switch(b){case 191:f?a.g.ha?(a.Gd.current=a.av([!a.g.Fa],!0,a),a.C.notification.notify("Hexagonal display uses "+(a.g.Fa?"Rectangles":"Hexagons"),15,120,15,!0)):a.g.Z&&(a.Gd.current=a.av([!a.g.Fa],!0,a),a.C.notification.notify("Triangular display uses "+(a.g.Fa?"Rectangles":
"Triangles"),15,120,15,!0)):a.fb.locked||(b=a.fb.current[0],.47<b&&.53>b?b=.46:(b-=.02,0>b&&(b=0)),a.fb.current=a.Oj([b,b],!0,a));break;case 192:f?a.fb.locked||(a.fb.current=a.Oj([.5,0],!0,a)):a.fb.locked||(b=a.fb.current[0],.47<b&&.53>b?b=.54:(b+=.02,1<b&&(b=1)),a.fb.current=a.Oj([b,b],!0,a));break;case 8:0!==a.v?a.Fd!==G.Ng?a.xc(G.Ng,a):(a.v=0,a.gd.current=a.kf([0!==a.v],!0,a),a.C.m=!0):a.ga.current[0]?(a.xk(a),a.C.m=!0):a.I||a.fc.m[1]||(b=a.O,a.O=1,a.fc.current=a.Md(G.Eo,!0,a),a.O=b);break;case 66:e?
a.iz(a):f?(a.Se.current=[!a.Se.current[0]],a.C.m=!0):a.I||a.fc.m[1]||(b=a.O,a.O=1,a.fc.current=a.Md(G.Eo,!0,a),a.O=b);break;case 13:a.na?a.rK(a):a.I||(a.fc.current===G.lj?a.fc.current=a.Md(G.lj,!0,a):a.jb&&a.C.ja||(a.fc.current=a.Md(G.lj,!0,a)));break;case 9:a.I||(a.Ob?a.fc.current=a.Md(G.se,!0,a):f?(a.g.ja||a.g.s)&&null!==a.g.Bb?a.fc.current=a.Md(G.Eo,!0,a):0<a.g.counter&&(a.Um(a.g.counter-a.O)?a.to(a):a.jq(a.g.counter-a.O)):(a.pd=!0,a.Z("")));break;case 32:a.I||(a.Ob?a.fc.current=a.Md(G.se,!0,a):
e||f?a.Ys(a,f):(a.pd=!0,a.Xs=!0,a.Z("")));break;case 87:f?(a.tg.current=a.Bs([!a.Kd],!0,a),a.C.notification.notify("Performance Warning "+(a.Kd?"On":"Off"),15,40,15,!0)):a.nb?(a.Mc.current=a.lu([a.Mb],!0,a),-1!==a.Sb?a.C.notification.notify("Track and Loop "+(a.Mb?"Off":"On"),15,40,15,!0):a.C.notification.notify("Track "+(a.Mb?"Off":"On"),15,40,15,!0)):a.za&&(a.Mc.current=a.lu([a.pb],!0,a),-1!==a.Sb?a.C.notification.notify("Waypoints and Loop "+(a.pb?"Off":"On"),15,40,15,!0):a.C.notification.notify("Waypoints "+
(a.pb?"Off":"On"),15,40,15,!0));break;case 68:e?(a.lk.current=a.Ot([!a.ug],!0,a),a.C.notification.notify("States Display "+(a.ug?"On":"Off"),15,80,15,!0)):a.qh.locked||a.Cz(a);break;case 69:0===a.v||a.g.la||a.g.u||a.g.G||a.g.D?f?(a.wi.current=a.Tu([!a.Ed],!0,a),a.C.notification.notify("Using "+(a.Ed?"saved":"standard")+" default speed",15,80,15,!0)):e?(a.KD(a),a.C.notification.notify("Default speed saved as "+a.ca*a.O+"gps",15,120,15,!0)):"Oscillator"===a.zb&&null!==a.g.Nd&&(a.Rb+=1,a.Rb>G.Qp&&(a.Rb=
G.Sh),a.Id.current=a.Mj(a.Rb,!0,a)):this.ak(a,G.jy);break;case 90:e?(g&&(a.pm.locked||a.gm(a,!0)),f?a.Js(a):a.Nd.locked||a.to(a)):f?(b=W.cD(),0===b?a.C.notification.notify("No LifeViewers playing",15,100,15,!0):1<b&&a.C.notification.notify("Paused all LifeViewers",15,100,15,!0)):(b=W.gy(a),0<b&&(1<b?a.C.notification.notify("Paused "+b+" other LifeViewers",15,100,15,!0):a.C.notification.notify("Paused "+b+" other LifeViewer",15,100,15,!0)));break;case 88:e?a.lC(a,f,g):f?a.od.locked||(a.od.current=
a.uB([!a.g.yc],!0,a),0<a.g.lb&&(a.C.notification.notify("Major Grid Lines "+(a.g.yc?"On":"Off"),15,40,15,!0),a.yq())):a.P||a.na?a.$s(a):(a.g.Ya=!a.g.Ya,a.ed.current=a.Lj([a.g.Ya],!0,a),a.C.notification.notify("Grid Lines "+(a.g.Ya?"On":"Off"),15,40,15,!0));break;case 89:0!==a.v?this.ak(a,G.zv):e?a.Js(a):a.$b?a.C.notification.notify("Graph Disabled",15,40,15,!0):f?(a.qd=!a.qd,a.Wi.current=a.Pz([a.qd],!0,a),a.C.notification.notify("Graph "+(a.qd?"Lines":"Points"),15,40,15,!0)):a.P||a.na?a.ct(a):(a.Ca=
!a.Ca,a.Me.current=a.xo([a.Ca],!0,a),a.C.notification.notify("Population Graph "+(a.Ca?"On":"Off"),15,40,15,!0));break;case 75:0!==a.v?this.ak(a,G.Xu):e?g?(a.kn(a,!1,!1),b=a.pf,2<a.g.i&&!(a.g.la||a.g.s||a.g.D||a.g.u||a.g.G)&&0<b&&(b=a.g.i-b),a.g.D?a.C.notification.notify("Cleared state "+b+" cells",15,120,15,!0):a.C.notification.notify("Cleared "+a.jh(b)+" cells",15,120,15,!0)):a.rm(a):f?(a.wn(a,!0),a.C.notification.notify("Copied view to clipboard",15,180,15,!0)):(a.wn(a,!1),a.C.notification.notify("Copied position to clipboard",
15,180,15,!0));break;case 80:e?(a.Tl.current=a.Rz([!a.gj],!0,a),a.C.notification.notify("Pause while drawing "+(a.gj?"On":"Off"),15,80,15,!0)):f?-1!==a.Sb&&(a.wa=!a.wa,a.$f.current=[a.wa],a.C.notification.notify("Loop "+(a.wa?"Off":"On"),15,40,15,!0)):a.Sa||a.Fa.locked||(a.Fa.current=.99>=a.Fa.current[0]?a.mf([a.Fa.current[0]+.01,a.Fa.current[1]],!0,a):a.mf([1,a.Fa.current[1]],!0,a));break;case 76:0!==a.v?this.ak(a,G.Yt):e?a.Pe.locked||(a.g.qd=!a.g.qd,a.C.notification.notify("Kill Gliders "+(a.g.qd?
"On":"Off"),15,40,15,!0)):f?a.TJ(a):a.Sa||a.Fa.locked||(a.Fa.current=.01<=a.Fa.current[0]?a.mf([a.Fa.current[0]-.01,a.Fa.current[1]],!0,a):a.mf([0,a.Fa.current[1]],!0,a));break;case 81:e?(a.am.current=a.xB([!a.g.Vc],!0,a),a.C.notification.notify((a.g.Vc?"High":"Standard")+" Quality Rendering",15,80,15,!0)):!a.Sa&&!a.lb.locked&&a.lb.current[0]<G.lr&&(a.lb.current=a.Bl([a.g.Aa+1,a.lb.current[1]],!0,a));break;case 65:0!==a.v?this.ak(a,G.wt):f?a.P&&a.wk(a):e?a.ra.m[G.cl]||a.dz(a):!a.Sa&&!a.lb.locked&&
a.lb.current[0]>G.ur&&(a.lb.current=a.Bl([a.g.Aa-1,a.lb.current[1]],!0,a));break;case 82:f?W.QC():a.fc.current=a.Md(G.Hv,!0,a);break;case 83:0!==a.v?this.ak(a,G.Ux):e?a.xm.locked||a.MD(a):f?a.g.O&&(a.rd=!a.rd,a.C.notification.notify("AutoFit State 1 Mode "+(a.rd?"On":"Off"),15,40,15,!0)):(a.hk.current=a.GC([!a.Jc],!0,a),a.C.notification.notify("Stars "+(a.Jc?"On":"Off"),15,40,15,!0));break;case 78:0!==a.v?0<a.s.B()&&this.ak(a,G.At):f?a.I||a.Kz(a):a.le&&(a.ka?a.ft():(a.it(),a.v&&(a.v=0)));break;case 86:e?
a.cj.locked||a.ln(a,f,!1):f?(a.Ls(a),a.C.notification.notify("Saved camera position",15,100,15,!0)):a.ab||a.kc.locked||(a.MC(a),a.C.notification.notify("Restored camera position",15,100,15,!0),a.Ob||(a.hc=!0));break;case 221:a.ab||a.kc.locked||(f?a.uk(a.kc.current[0],Math.log(a.g.zoom*a.g.cb*2/G.Ab)/Math.log(G.Pb/G.Ab)-a.kc.current[0]):a.uk(a.kc.current[0],.01));break;case 219:a.ab||a.kc.locked||(f?a.uk(a.kc.current[0],Math.log(a.g.zoom*a.g.cb/2/G.Ab)/Math.log(G.Pb/G.Ab)-a.kc.current[0]):a.uk(a.kc.current[0],
-.01));break;case 53:case 101:e?f?a.g.s||a.nn(a,!0):a.Ud(5):f?a.nn(a,!1):a.sa.locked||(a.g.angle=0,a.sa.current=[a.g.angle,a.g.angle]);break;case 49:case 97:e?a.Ud(1):a.kc.locked||(f?(a.Pc(a,a.g.zoom*a.g.cb,!0),a.C.notification.notify("Integer Zoom",15,40,15,!0)):a.Pc(a,1,!1));break;case 50:case 98:e?a.Ud(2):a.kc.locked||(f?a.Pc(a,.5,!1):a.Pc(a,2,!1));break;case 51:case 99:e?a.Ud(3):a.kc.locked||(f?a.Pc(a,.03125,!1):a.Pc(a,32,!1));break;case 52:case 100:e?a.Ud(4):a.kc.locked||(f?a.Pc(a,.25,!1):a.Pc(a,
4,!1));break;case 54:case 102:e?a.Ud(6):a.kc.locked||(f?a.Pc(a,.0625,!1):a.Pc(a,16,!1));break;case 55:e?a.Ud(7):a.$b?a.C.notification.notify("Graph Disabled",15,40,15,!0):(0<a.eb&&(a.eb-=.05,0>a.eb&&(a.eb=0)),a.$i.current=a.Do([a.eb,a.eb],!1,a));break;case 56:case 104:e?a.Ud(8):a.kc.locked||(f?a.Pc(a,.125,!1):a.Pc(a,8,!1));break;case 57:e?a.Ud(9):a.$b?a.C.notification.notify("Graph Disabled",15,40,15,!0):(1>a.eb&&(a.eb+=.05,1<a.eb&&(a.eb=1)),a.$i.current=a.Do([a.eb,a.eb],!1,a));break;case 48:case 96:e?
a.Ud(0):a.ec.current=a.yc([1,1],!0,a);break;case 173:case 189:case 109:e&&189===b?d=!1:a.I||(a.O>G.Ug?f?a.O=G.Ug:(--a.O,a.O<G.Ug&&(a.O=G.Ug)):a.ca>G.zg&&(f?a.ca=G.zg:(--a.ca,a.ca<G.zg&&(a.ca=G.zg))),a.ec.current=a.yc([a.zf(),1],!0,a));break;case 186:a.JF(a);break;case 61:case 187:case 107:e&&187===b?d=!1:a.I||(a.ca<G.Yc?f?a.ca=G.Yc:(a.ca+=1,a.ca>G.Yc&&(a.ca=G.Yc)):a.O<a.Ff&&(f?a.O=a.Ff:(a.O+=1,a.O>a.Ff&&(a.O=a.Ff))),a.ec.current=a.yc([a.zf(),1],!0,a));break;case 188:f&&(a.P||a.na)?a.ZC(a):a.sa.locked||
(b=a.sa.current[0],b=f?b-90:b-1,0>b&&(b+=360),a.sa.current=a.Lg([b,b],!0,a));break;case 190:f&&(a.P||a.na)?a.gD(a):a.sa.locked||(b=a.sa.current[0],b=f?b+90:b+1,360<=b&&(b-=360),a.sa.current=a.Lg([b,b],!0,a));break;case 46:a.P?f?a.cz(a):(a.Qs(a,e),e&&(a.g.O||a.g.u)&&(a.g.O?a.C.notification.notify("Cleared [R]History cells",15,120,15,!0):a.C.notification.notify("Cleared [R]Super cells",15,120,15,!0))):e&&(b=a.kn(a,e,!1))&&(a.g.O?a.C.notification.notify("Cleared [R]History cells",15,120,15,!0):a.C.notification.notify("Cleared [R]Super cells",
15,120,15,!0));break;case 74:e&&!f?a.lz(a):e&&f?d=!1:a.s.i.length?a.ab||(f?a.QB(a):a.lB(a)):a.C.notification.notify("No POIs defined",15,80,15,!0);break;case 84:f?a.Kj.current=a.Po([!a.C.j],!0,a):a.Di.current=a.Mg([!a.C.G],!0,a);break;case 85:f?!a.Zm&&(a.Na=!a.Na,a.h.M=a.Na,a.C.ea=a.Na)&&(a.v=0,a.da=0):(a.g.ja||a.g.s)&&a.g.Bb&&a.Os(a);break;case 71:e?(a.ad=!a.ad,a.Bj.current=a.Zy([a.ad],!0,a),a.C.notification.notify("Auto Grid Lines "+(a.ad?"On":"Off"),15,40,15,!0)):f?a.sk&&(a.Yj.current=a.mC([!a.Le],
!0,a),a.C.notification.notify("Generation display "+(a.Le?"Relative":"Absolute"),15,40,15,!0)):(a.Jo([!a.Eg],!0,a),a.kb&&(a.kb.current=[a.Eg],a.C.m=!0));break;case 70:e?a.P&&(a.xb(!0,!0,G.Lp),a.C.notification.notify("Fit Selection",15,80,15,!0)):f?a.Wd.locked||(a.ia=!a.ia,a.Wd.current=a.Nz([a.ia],!0,a),a.C.notification.notify("AutoFit "+(a.ia?"On":"Off"),15,40,15,!0)):a.Sf.locked||(a.xb(!0,!0,G.gg),a.C.notification.notify("Fit Pattern",15,80,15,!0),a.Ob||(a.hc=!0));break;case 79:e?f?a.qB(a):a.fA(a):
a.he=f?2:1;break;case 37:f?a.ag(a.g.zoom,a.g.zoom):a.ag(a.g.zoom,0);break;case 38:a.v?a.Ln(a,1):a.da?a.Hn(a,1):f?a.ag(-a.g.zoom,a.g.zoom):a.ag(0,a.g.zoom);break;case 39:f?a.ag(-a.g.zoom,-a.g.zoom):a.ag(-a.g.zoom,0);break;case 40:a.v?a.Jn(a,1):a.da?a.Fn(a,1):f?a.ag(a.g.zoom,-a.g.zoom):a.ag(0,-a.g.zoom);break;case 77:e?(a.xb(!0,!0,G.tu),a.C.notification.notify("Center Pattern",15,80,15,!0)):f?a.XJ(a):!a.ga||a.ga.M||a.ga.locked||(a.ga.current=a.lf([!a.ga.current[0]],!0,a),a.C.m=!0);break;case 67:e?a.jn(a,
f,g):0!==a.v?this.ak(a,G.Zt):a.Sa||!a.sd||a.sd.locked||(f?(b=a.g.qb-1,0>b&&(b=a.ua||a.Lf?a.g.Mb:a.g.Mb-1)):(b=a.g.qb+1,a.ua||a.Lf?b>=a.g.Mb+1&&(b=0):b>=a.g.Mb&&(b=0)),a.sg(b,a.g.Pe,a),a.g.la||a.ke||a.C.notification.notify(a.eo(a.g.qb)+" Theme",15,40,15,!0));break;case 72:f?(a.Ii.current=a.mB([!a.nd],!0,a),a.C.notification.notify("AutoFit History Mode "+(a.nd?"On":"Off"),15,40,15,!0)):(a.Tb.length?a.v=a.v?0:1:a.v?a.v=0:a.ka||(a.v=1),a.gd.current=a.kf([0!==a.v],!0,a),a.C.m=!0);break;case 73:e&&f?d=
!1:e?a.Sz(a):f?a.Pi.current=a.oB([!a.Ia],!0,a):(a.v?this.ak(a,G.gr):a.ka||a.xc(G.gr,a),a.gd.current=a.kf([0!==a.v],!0,a),a.C.m=!0);break;case 27:a.Ad?a.Tb.length?(a.Tb=[],a.da=0):a.na?a.dn(a):a.$d?a.Wc.current=a.me([!1],!0,a):a.tb?a.rt(a):-1!==a.Ya?a.Qm(a,!0,!1):Wb():a.v?a.v=0:a.Tb.length?(a.Tb=[],a.da=0):a.na?a.dn(a):a.$d?a.Wc.current=a.me([!1],!0,a):a.tb?a.rt(a):-1!==a.Ya?a.Qm(a,!0,!1):a.Ob&&(a.fc.current=a.Md(G.se,!0,a));a.gd.current=a.kf([0!==a.v],!0,a);a.C.m=!0;break;case 33:a.v?f?a.$D(a):a.Ln(a,
a.Ba):a.da?a.Hn(a,a.Ba):Ea.ub?(--a.Va,0>a.Va&&(a.Va=W.ze.length-1),a.Yh(W.ze[a.Va].pattern,!1)):a.Qz(a);break;case 34:a.v?f?a.HI(a):a.Jn(a,a.Ba):a.da?a.Fn(a,a.Ba):Ea.ub?(a.Va+=1,a.Va>=W.ze.length&&(a.Va=0),a.Yh(W.ze[a.Va].pattern,!1)):a.Oz(a);break;case 36:a.v?a.v=1:a.da?a.da=1:Ea.ub?a.SA(a):a.OD(a);break;case 35:a.v?a.v=a.Yi-a.Ba:a.da?a.da=a.Tb.length-a.Ba:Ea.ub||a.LF(a);break;case 112:a.I||(a.jb=!a.jb,a.ra.current=a.we(a.jb?G.bl:G.Wh,!0,a),a.C.notification.notify((a.jb?"Draw":"Pan")+" Mode",15,
40,15,!0));break;case 113:f?(a.fk.current=a.yt([!a.Rh],!0,a),a.C.notification.notify("Smart Drawing "+(a.Rh?"On":"Off"),15,40,15,!0)):a.ra.current=a.we(G.bl,!0,a);break;case 114:f?a.Zb.current=a.Al([!a.Zb.current[0],a.Zb.current[1],a.Zb.current[2]],!0,a):a.I||(a.ra.current=a.we(G.bl,!0,a),a.$d||(a.Wc.current=a.me([!0],!0,a)));break;case 115:f?a.Zb.current=a.Al([a.Zb.current[0],!a.Zb.current[1],a.Zb.current[2]],!0,a):a.ra.m[G.cl]||(a.ra.current=a.we(G.cl,!0,a));break;case 116:f?a.Zb.current=a.Al([a.Zb.current[0],
a.Zb.current[1],!a.Zb.current[2]],!0,a):a.ra.current=a.we(G.Wh,!0,a);break;case 117:a.Ji.locked||(f?a.Az(a):a.gl(a));break;case 118:a.ih.locked||(a.ih.current=a.aB([!a.g.Cb],!0,a),a.C.notification.notify("Fast Lookup "+(a.g.Cb?"On":"Off"),15,40,15,!0));break;case 119:f?a.Pj.locked||(a.Pj.current=a.SC([!a.xe],!0,a),a.C.notification.notify("Y Direction "+(a.xe?"Up":"Down"),15,40,15,!0)):a.Mm.locked||(a.Mm.current=a.NC([!a.Dg],!0,a),a.C.notification.notify("State Numbers "+(a.Dg?"On":"Off"),15,40,15,
!0));break;case 120:f?a.Zj.locked||(a.Zj.current=a.rC([!a.af],!0,a),a.C.notification.notify("Safe Mode "+(a.af?"On":"Off"),15,40,15,!0)):W.hg&&(W.hg.F=!W.hg.F,W.hg.u(W.hg));break;case 45:a.dk=!0;break;case 122:d=!1;break;default:if(-1===b||116===b)d=!1}}return d}}}());
